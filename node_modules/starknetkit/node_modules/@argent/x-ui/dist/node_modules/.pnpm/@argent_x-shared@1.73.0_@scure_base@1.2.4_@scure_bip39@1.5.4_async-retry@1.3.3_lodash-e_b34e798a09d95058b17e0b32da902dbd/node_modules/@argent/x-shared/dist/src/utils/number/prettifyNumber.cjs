"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const S=require("../../../node_modules/.pnpm/bignumber.js@9.1.2/node_modules/bignumber.js/bignumber.cjs"),y=require("./isNumeric.cjs"),g={CURRENCY:{minDecimalPlaces:2,maxDecimalPlaces:10,minDecimalSignificantDigits:2,decimalPlacesWhenZero:2,allowLeadingZerosInDecimalPart:!0,groupSeparator:",",decimalSeparator:"."},TOKEN:{minDecimalPlaces:4,maxDecimalPlaces:16,minDecimalSignificantDigits:2,decimalPlacesWhenZero:1,allowLeadingZerosInDecimalPart:!0,groupSeparator:",",decimalSeparator:"."}},w=(i,r)=>D(i,{...g.CURRENCY}),E=(i,r)=>D(i,{...g.TOKEN,...r||{}}),R={groupSize:3,decimalSeparator:".",groupSeparator:","},D=(i,{minDecimalPlaces:r,maxDecimalPlaces:N,minDecimalSignificantDigits:h,decimalPlacesWhenZero:p,allowLeadingZerosInDecimalPart:b,groupSeparator:u,decimalSeparator:c=R.decimalSeparator,maxNrDigits:s,roundingMode:n}=g.CURRENCY)=>{if(!y.isNumeric(i))return null;const o={...R,groupSeparator:u,decimalSeparator:c},t=new S.BigNumber(typeof i=="bigint"?i.toString():i);let l;const C=`0.${"".padStart(p-1,"0")}1`;if(t.lt(new S.BigNumber(C))&&!b)l=`0.${"".padStart(p,"0")}`;else if(t.gte(1))l=r!==0?n?t.toFormat(r,n,o):t.toFormat(r,o):t.toFormat(r,S.BigNumber.ROUND_FLOOR,o);else{const a=(n?t.toFormat(N,n,o):t.toFormat(N,o)).split(c)[1].match(/^0+/),d=b&&a&&a.length?a[0].length:0,m=Math.max(d+h,r);l=n?t.toFormat(m,n,o):t.toFormat(m,o)}const[f,P]=l.split(c);let e=f;if(P){const a=P.replace(/0+$/,"");e+=a?`.${a}`:""}const x=1+l.indexOf(".")+p;if(e.length<x&&(e=l.substring(0,x)),s){const a=e.replace(new RegExp(`[${u}${c}]`,"g"),"").length;if(f.replace(new RegExp(`[${u}]`,"g"),"").length>s)e=f;else if(a>s){const d=a-s,m=e.indexOf(c);if(m!==-1){const F=Math.max(0,e.length-m-1-d);e=e.substring(0,m+1+F)}}}return e};exports.prettifyCurrencyNumber=w;exports.prettifyNumber=D;exports.prettifyNumberConfig=g;exports.prettifyTokenNumber=E;
