import { jsxs as h, Fragment as S, jsx as r } from "react/jsx-runtime";
import { prettifyCurrencyValue as C } from "../../../../../node_modules/.pnpm/@argent_x-shared@1.73.0_@scure_base@1.2.4_@scure_bip39@1.5.4_async-retry@1.3.3_lodash-e_b34e798a09d95058b17e0b32da902dbd/node_modules/@argent/x-shared/dist/src/tokens/prettifyCurrencyValue.js";
import { getCurrencySymbol as V } from "../../../../../node_modules/.pnpm/@argent_x-shared@1.73.0_@scure_base@1.2.4_@scure_bip39@1.5.4_async-retry@1.3.3_lodash-e_b34e798a09d95058b17e0b32da902dbd/node_modules/@argent/x-shared/dist/src/tokens/getCurrencySymbol.js";
import { isRejectOnChainActivity as D, isUpgradeActivity as E, isTokenActivitySummary as F } from "@argent/x-shared/simulation";
import { isEmpty as H, groupBy as U } from "lodash-es";
import { memo as q } from "react";
import { useTranslation as z } from "react-i18next";
import { useCurrency as G } from "../../../providers/CurrencyProvider.js";
import { Hideable as m } from "../Hideable.js";
import { TokenActivitySummaryText as J } from "../icon/TokenActivitySummaryText.js";
import { ActivityRowSubtitle as b } from "./ActivityRowSubtitle.js";
import { ActivityRowTitle as s } from "./ActivityRowTitle.js";
import { getAttributes as K, receiveAttributes as x } from "./getAttributes.js";
import { getSendOrReceiveAmount as l } from "./getSendOrReceiveAmount.js";
import { SendOrReceiveActivityText as u } from "./SendOrReceiveActivityText.js";
const L = ({ activity: y, networkId: c, hideComponent: a }) => {
  var p, v;
  const f = G(), { t: R } = z(), { status: A, transferSummary: o = [] } = y;
  if (H(o) || D(y) || E(y, R))
    return null;
  const n = A === "rejected" || A === "failure" || A === "cancelled" ? "line-through" : void 0;
  if (o.length === 1 && F(o[0])) {
    const t = o[0], { prefix: d, color: T } = K(t), j = (p = t.asset.fiatAmount) == null ? void 0 : p.currencyAmount, B = (f == null ? void 0 : f.symbol) || V(((v = t.asset.fiatAmount) == null ? void 0 : v.currency) || ""), g = C(j, B), O = l(o);
    return /* @__PURE__ */ h(S, { children: [
      /* @__PURE__ */ r(s, { "data-value": O, color: T, textDecoration: n, children: /* @__PURE__ */ h(m, { hideComponent: a, children: [
        d,
        /* @__PURE__ */ r(J, { summary: t, networkId: c })
      ] }) }),
      g !== void 0 && /* @__PURE__ */ r(b, { textDecoration: n, children: /* @__PURE__ */ r(m, { hideComponent: a, children: g }) })
    ] });
  }
  const { send: e, receive: i } = U(o, (t) => t.sent ? "send" : "receive");
  if (i != null && i.length && (e != null && e.length)) {
    const t = l(i), d = l(e);
    return /* @__PURE__ */ h(S, { children: [
      /* @__PURE__ */ r(s, { "data-value": t, color: x.color, textDecoration: n, children: /* @__PURE__ */ r(m, { hideComponent: a, children: /* @__PURE__ */ r(u, { summaryArray: i, networkId: c }) }) }),
      /* @__PURE__ */ r(b, { "data-value": d, textDecoration: n, children: /* @__PURE__ */ r(m, { hideComponent: a, children: /* @__PURE__ */ r(u, { summaryArray: e, networkId: c }) }) })
    ] });
  }
  if (i != null && i.length) {
    const t = l(o);
    return /* @__PURE__ */ r(s, { "data-value": t, color: x.color, textDecoration: n, children: /* @__PURE__ */ r(m, { hideComponent: a, children: /* @__PURE__ */ r(u, { summaryArray: i, networkId: c }) }) });
  }
  if (e != null && e.length) {
    const t = l(o);
    return /* @__PURE__ */ r(s, { "data-value": t, textDecoration: n, children: /* @__PURE__ */ r(m, { hideComponent: a, children: /* @__PURE__ */ r(u, { summaryArray: e, networkId: c }) }) });
  }
}, er = q(L);
export {
  er as ActivityBalanceChange
};
