"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const u=require("react/jsx-runtime"),c=require("../../../node_modules/.pnpm/@argent_x-shared@1.73.0_@scure_base@1.2.4_@scure_bip39@1.5.4_async-retry@1.3.3_lodash-e_b34e798a09d95058b17e0b32da902dbd/node_modules/@argent/x-shared/dist/src/utils/url/urlWithQuery.cjs"),a=require("react"),m=e=>{try{return new URL(e).searchParams.get("url")}catch{}},d=(e,{imageOptimizationUrl:t,width:n=1024,format:r})=>{if(!e)return;if(!t)return e;const i={url:e},s=m(e);if(s){if(s.startsWith("data"))return s;i.url=s}return n!==void 0&&(i.w=`${n}`),r&&(i.format=r),c.urlWithQuery(t,i)},o=a.createContext({}),f=()=>a.useContext(o),g=(e,t)=>{const{imageOptimizationUrl:n,getOptimizedImageUrl:r}=f();return a.useMemo(()=>{if(e)return e.startsWith("data")?e:r?r(e,t):d(e,{...t,imageOptimizationUrl:n})},[r,e,t,n])},l=({imageOptimizationUrl:e,getOptimizedImageUrl:t,children:n})=>{const r=a.useMemo(()=>({imageOptimizationUrl:e,getOptimizedImageUrl:t}),[e,t]);return u.jsx(o.Provider,{value:r,children:n})};exports.ImageOptimizationProvider=l;exports.useGetOptimizedImageUrl=g;
