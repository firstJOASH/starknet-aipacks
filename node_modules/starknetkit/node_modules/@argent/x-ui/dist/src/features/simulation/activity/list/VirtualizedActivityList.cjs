"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const a=require("react/jsx-runtime"),t=require("react"),j=require("react-virtuoso"),z=require("./ActivityListSubtitlePending.cjs"),G=require("./types.cjs"),f=require("./utils/getActivityItemData.cjs"),E=require("./utils/getGroupedItemData.cjs"),S=require("./VirtualizedActivityListItem.cjs"),T=require("./utils/getPartitionedActivities.cjs"),B=require("./utils/getGroupedActivitiesByDate.cjs"),N=(u,i,s)=>a.jsx(S.VirtualizedActivityListItem,{data:i,...s}),M=t.forwardRef(({activities:u,networkId:i,onActivityClick:s,header:d,footer:m,RowWrapper:l,SubTitleWrapper:g,hideComponent:v,rowProps:y,components:A,locales:I,...p},V)=>{const b=t.useMemo(()=>({...A,Header:()=>d,Footer:()=>m}),[A,d,m]),[e,x]=t.useMemo(()=>T.getPartitionedActivities(u),[u]),D=t.useMemo(()=>B.getGroupedActivitiesByDate(x,I),[x,I]),q=t.useMemo(()=>e.length?a.jsx(z.ActivityListSubtitlePending,{count:e.length}):null,[e]),P=t.useMemo(()=>{const n=[];let r=0,o=0;if(e.length){n.push({type:G.ITEM_TYPE.SUBTITLE_PENDING,index:o++});const L=f.getActivityItemData({activities:e,itemIndex:r});r=L.itemIndex,n.push(...L.itemData)}const c=E.getGroupedItemData({groupedActivities:D,itemIndex:r,subtitleIndex:o});return n.push(...c.itemData),r=c.itemIndex,o=c.subtitleIndex,n},[D,e]),h=t.useMemo(()=>({RowWrapper:l,SubTitleWrapper:g,networkId:i,onActivityClick:s,rowProps:y,subtitlePending:q,hideComponent:v}),[l,g,i,s,y,q,v]);return a.jsx(j.Virtuoso,{ref:V,data:P,context:h,itemContent:N,components:b,...p})});M.displayName="VirtualizedActivityList";exports.VirtualizedActivityList=M;
