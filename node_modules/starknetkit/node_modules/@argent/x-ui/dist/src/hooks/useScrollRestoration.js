import { Action as n } from "history";
import { useLayoutEffect as u } from "react";
import { useNavigationType as f } from "react-router-dom";
import { getScroll as i } from "./getScroll.js";
import { useScroll as p } from "./useScroll.js";
const m = /* @__PURE__ */ new Map(), L = (e, l = m) => {
  const o = p(), c = f();
  return u(() => {
    if (c === n.Pop) {
      const r = l.get(e);
      if (r && o.useScrollRef.current) {
        const { scrollTop: t, scrollLeft: s } = r;
        o.useScrollRef.current.scroll(s, t);
      }
    }
    return () => {
      if (o.useScrollRef.current) {
        const { scrollTop: r, scrollLeft: t } = i(o.useScrollRef.current);
        l.set(e, { scrollTop: r, scrollLeft: t });
      }
    };
  }, [c, l, e, o.useScrollRef]), o;
};
export {
  L as useScrollRestoration
};
