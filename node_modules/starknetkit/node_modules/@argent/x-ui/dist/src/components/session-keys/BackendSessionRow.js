import { jsxs as o, jsx as e } from "react/jsx-runtime";
import g from "../../features/icons/ChevronDownSecondaryIcon.js";
import k from "../../features/icons/ChevronUpSecondaryIcon.js";
import { useDappId as y } from "../../features/providers/DappProvider.js";
import { Flex as n, Button as a, Collapse as v, Box as C, Text as D, UnorderedList as j, ListItem as T } from "@chakra-ui/react";
import { useState as b } from "react";
import { useTranslation as B } from "react-i18next";
import { DappIcon as z } from "../DappIcon.js";
import "../Typography.js";
import { BackendSessionExpirationDate as F } from "./BackendSessionExpirationDate.js";
import { BackendSessionTokenInfo as H } from "./BackendSessionTokenInfo.js";
import { H5 as E, P4 as l } from "../typography.generated.js";
const Q = ({ session: p, networkId: d, onRevoke: m, initialExpanded: h = !1, ...f }) => {
  const { t: s } = B(), { metadata: r, expirationTime: x, txFees: c } = p, i = y(r.projectID), [t, u] = b(h), w = c.length > 0;
  return /* @__PURE__ */ o(n, { px: 4, rounded: "xl", w: "full", bgColor: "surface-elevated", direction: "column", ...f, children: [
    /* @__PURE__ */ e(n, { justifyContent: "space-between", alignItems: "center", py: 3.5, minHeight: 18, children: /* @__PURE__ */ o(n, { gap: 3, alignItems: "center", w: "full", children: [
      /* @__PURE__ */ e(z, { size: 8, dappId: r.projectID }),
      /* @__PURE__ */ o(n, { gap: 0.5, overflow: "hidden", direction: "column", children: [
        /* @__PURE__ */ e(E, { textOverflow: "ellipsis", overflow: "hidden", whiteSpace: "nowrap", children: (i == null ? void 0 : i.name) || r.projectID || "Unknown dapp" }),
        /* @__PURE__ */ e(F, { as: l, color: "text-secondary", expirationTime: x })
      ] }),
      /* @__PURE__ */ o(n, { gap: 1, alignItems: "center", ml: "auto", children: [
        /* @__PURE__ */ e(a, { colorScheme: "primary", size: "small", onClick: m, minHeight: 6.5, children: s("backendSessionRow.revoke") }),
        /* @__PURE__ */ e(a, { size: "auto", minHeight: "initial", colorScheme: "secondary", onClick: () => u(!t), fontSize: "2xs", w: 6.5, h: 6.5, children: t ? /* @__PURE__ */ e(k, {}) : /* @__PURE__ */ e(g, {}) })
      ] })
    ] }) }),
    w && /* @__PURE__ */ e(v, { in: t, children: /* @__PURE__ */ o(l, { as: C, pb: 4, children: [
      /* @__PURE__ */ e(D, { children: s("backendSessionRow.spentSoFar") }),
      /* @__PURE__ */ e(j, { styleType: '"â€¢  "', children: c.map((I, S) => /* @__PURE__ */ e(T, { children: /* @__PURE__ */ e(H, { txFee: I, networkId: d }) }, S)) })
    ] }) })
  ] });
};
export {
  Q as BackendSessionRow
};
