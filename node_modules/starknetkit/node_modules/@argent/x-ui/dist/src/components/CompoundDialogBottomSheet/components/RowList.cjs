"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("react/jsx-runtime"),n=require("@chakra-ui/react"),S=require("lodash-es"),m=require("react"),T=require("react-i18next"),w=require("react-virtuoso");require("../../Typography.cjs");const F=require("../../WebSearchInput/index.cjs"),x=require("../../typography.generated.cjs");function R(t){return t&&S.isObject(t[0])&&"title"in t[0]&&"rows"in t[0]}function v({rows:t,RowComponent:b,NoResultsComponent:o,loading:u,allowSearch:y=!0,searchRows:h}){const{t:d}=T.useTranslation(),g=R(t),s={},l=m.useRef([...g?t.flatMap(({title:r,rows:a},i)=>{let f=0;return i!==0&&(f=Object.keys(s).reduce((p,q)=>Number(q)+Number(p),t[i-1].rows.length)),s[f]=r,a}):t]),[c,j]=m.useState(l.current);return e.jsxs(n.Flex,{flexDirection:"column",gap:"6",children:[y&&h&&e.jsx(F.WebSearchInput,{onChange:r=>{j(h(r.target.value,l.current))},onReset:()=>j(l.current)}),e.jsxs(n.Tabs,{variant:"unstyled",position:"relative",isFitted:!0,h:{base:"full",sm:"92"},overflowY:"auto",children:[!u&&c.length===0&&e.jsxs(n.Flex,{h:"full",w:"full",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"3",py:"16",children:[o&&e.jsx(o,{}),!o&&e.jsx(x.H5,{children:d("rowList.nothingToSelect")})]}),u&&e.jsxs(n.Flex,{h:"full",w:"full",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"3",py:"16",children:[e.jsx(n.Spinner,{}),e.jsx(x.H5,{children:d("rowList.loading")})]}),!u&&c.length>0&&e.jsx(n.TabPanels,{children:e.jsx(n.TabPanel,{children:e.jsx(w.Virtuoso,{style:{height:368},data:c,itemContent:(r,a)=>{var i;return e.jsxs(e.Fragment,{children:[g&&c.length===((i=l.current)==null?void 0:i.length)&&s[r]&&e.jsx(n.Flex,{mt:r===0?"0":"4",mb:"2",children:e.jsx(x.P4,{fontWeight:"600",color:"text-secondary",mb:"2",children:s[r]})}),e.jsx(b,{...a})]})}})})})]})]})}exports.RowList=v;
