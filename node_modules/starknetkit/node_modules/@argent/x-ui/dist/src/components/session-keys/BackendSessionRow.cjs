"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const e=require("react/jsx-runtime"),I=require("../../features/icons/ChevronDownSecondaryIcon.cjs"),g=require("../../features/icons/ChevronUpSecondaryIcon.cjs"),w=require("../../features/providers/DappProvider.cjs"),n=require("@chakra-ui/react"),k=require("react"),y=require("react-i18next"),f=require("../DappIcon.cjs");require("../Typography.cjs");const q=require("./BackendSessionExpirationDate.cjs"),D=require("./BackendSessionTokenInfo.cjs"),t=require("../typography.generated.cjs"),v=({session:a,networkId:l,onRevoke:d,initialExpanded:x=!1,...p})=>{const{t:i}=y.useTranslation(),{metadata:s,expirationTime:u,txFees:c}=a,o=w.useDappId(s.projectID),[r,h]=k.useState(x),j=c.length>0;return e.jsxs(n.Flex,{px:4,rounded:"xl",w:"full",bgColor:"surface-elevated",direction:"column",...p,children:[e.jsx(n.Flex,{justifyContent:"space-between",alignItems:"center",py:3.5,minHeight:18,children:e.jsxs(n.Flex,{gap:3,alignItems:"center",w:"full",children:[e.jsx(f.DappIcon,{size:8,dappId:s.projectID}),e.jsxs(n.Flex,{gap:.5,overflow:"hidden",direction:"column",children:[e.jsx(t.H5,{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",children:(o==null?void 0:o.name)||s.projectID||"Unknown dapp"}),e.jsx(q.BackendSessionExpirationDate,{as:t.P4,color:"text-secondary",expirationTime:u})]}),e.jsxs(n.Flex,{gap:1,alignItems:"center",ml:"auto",children:[e.jsx(n.Button,{colorScheme:"primary",size:"small",onClick:d,minHeight:6.5,children:i("backendSessionRow.revoke")}),e.jsx(n.Button,{size:"auto",minHeight:"initial",colorScheme:"secondary",onClick:()=>h(!r),fontSize:"2xs",w:6.5,h:6.5,children:r?e.jsx(g,{}):e.jsx(I,{})})]})]})}),j&&e.jsx(n.Collapse,{in:r,children:e.jsxs(t.P4,{as:n.Box,pb:4,children:[e.jsx(n.Text,{children:i("backendSessionRow.spentSoFar")}),e.jsx(n.UnorderedList,{styleType:'"â€¢  "',children:c.map((m,S)=>e.jsx(n.ListItem,{children:e.jsx(D.BackendSessionTokenInfo,{txFee:m,networkId:l})},S))})]})})]})};exports.BackendSessionRow=v;
