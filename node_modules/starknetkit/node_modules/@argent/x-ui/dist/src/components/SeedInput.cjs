"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const n=require("react/jsx-runtime"),r=require("@chakra-ui/react"),j=require("@scure/bip39/wordlists/english"),i=require("react"),g=require("./generateFakeWords.cjs"),h=({length:l=12,onChange:u,value:d,...y})=>{const c=i.useRef(new Array(l).fill(null)),[f,x]=i.useState(null),[p,b]=i.useState(d?d.split(" "):[...Array(l)].map(()=>"")),m=i.useCallback(s=>{const e=typeof s=="function"?s(p):s;b(e),u==null||u(e.join(" "))},[u,p]),I=i.useMemo(()=>g.generateFakeWords(j.wordlist,l),[l]);return n.jsxs(r.SimpleGrid,{columns:4,spacing:2,spacingY:3,...y,children:[n.jsx(r.Box,{style:{position:"absolute",left:"-150vw",maxWidth:"1px",top:"-150vh",maxHeight:"1px",overflow:"hidden",userSelect:"none"},children:I.map((s,e)=>n.jsx("input",{type:"text",defaultValue:s},e))}),p.map((s,e)=>n.jsxs(r.InputGroup,{position:"relative",borderRadius:100,overflow:"hidden",children:[n.jsx(r.InputLeftAddon,{borderLeftRadius:100,bgColor:"transparent",pointerEvents:"none",minH:0,p:0,pos:"absolute",top:0,left:1,height:"100%",zIndex:1,border:"none",children:n.jsx(r.Box,{as:"span",color:"white",fontSize:"xs",fontWeight:"semibold",lineHeight:"none",p:1,bgColor:"neutrals.600",borderRadius:100,minH:"5",minW:"5",display:"inline-flex",alignItems:"center",justifyContent:"center",children:e+1})}),n.jsx(r.Input,{"data-testid":`seed-input-${e}`,variant:"filled",autoFocus:e===0,value:s,size:"pill",pl:8,autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",spellCheck:"false",onFocus:t=>{x(e),t.target.select()},onBlur:()=>x(null),type:f===e?"text":"password",fontSize:f===e?"sm":"md",onPaste:t=>{t.preventDefault();const a=t.clipboardData.getData("text").split(/\s+/).filter(S=>S);a.length===l&&m(a)},ref:t=>c.current[e]=t,onKeyDown:t=>{var o,a;t.key==="Backspace"&&s===""&&e>0&&(t.preventDefault(),(o=c.current[e-1])==null||o.focus()),(t.key===" "||t.key==="Enter")&&(t.preventDefault(),s!==""&&((a=c.current[e+1])==null||a.focus()))},onChange:t=>{m(o=>[...o.slice(0,e),t.target.value,...o.slice(e+1)])}})]},e))]})};exports.SeedInput=h;
