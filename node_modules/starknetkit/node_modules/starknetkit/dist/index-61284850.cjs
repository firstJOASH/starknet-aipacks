"use strict";var ey=Object.defineProperty;var ty=(e0,r,t0)=>r in e0?ey(e0,r,{enumerable:!0,configurable:!0,writable:!0,value:t0}):e0[r]=t0;var $g=(e0,r,t0)=>(ty(e0,typeof r!="symbol"?r+"":r,t0),t0);const starknet=require("starknet"),connector=require("./connector-391e8980.cjs");var d$2=(e0=>(e0.SUCCESS="SUCCESS",e0.NOT_CONNECTED="NOT_CONNECTED",e0.ERROR="ERROR",e0.CANCELED="CANCELED",e0.USER_INTERACTION_REQUIRED="USER_INTERACTION_REQUIRED",e0))(d$2||{});const C$3=["localhost","127.0.0.1","0.0.0.0"];function s(e0){return Array.isArray(e0)?e0:[e0]}async function b$2(e0){const r=e0.pathname.split("/");if(r.includes("starknet")){if(r.includes("mainnet"))return starknet.constants.StarknetChainId.SN_MAIN;if(r.includes("sepolia"))return starknet.constants.StarknetChainId.SN_SEPOLIA}else if(r.length>=3){const t0=r[2];if(r.includes("katana"))return starknet.shortString.encodeShortString(`WP_${t0.toUpperCase().replace(/-/g,"_")}`);if(r.includes("mainnet"))return starknet.shortString.encodeShortString(`GG_${t0.toUpperCase().replace(/-/g,"_")}`)}if(C$3.includes(e0.hostname))return await new starknet.Provider({nodeUrl:e0.toString()}).getChainId();throw new Error(`Chain ${e0.toString()} not supported`)}const Z$4="https://x.cartridge.gg",f$3="https://profile.cartridge.gg";let o$1=class Hm extends Error{constructor(){super("Not ready to connect"),Object.setPrototypeOf(this,Hm.prototype)}};const m$3={ACCOUNTS:"accounts"},E$5="0.7.13",h$2={version:E$5},Y$4="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAwIiBoZWlnaHQ9IjgwMCIgdmlld0JveD0iMCAwIDgwMCA4MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxnIGZpbHRlcj0idXJsKCNmaWx0ZXIwX2RfNTExMl83ODIpIj4KPHBhdGggZD0iTTQ2OS4yMzYgNzBDNDgyLjM5IDcwIDQ5My4wNTMgODAuNjYzIDQ5My4wNTMgOTMuODE2NFYxNDcuMTQ3TDUxNS4zMzggMTQ3LjE0N0w1MTUuNDI4IDE0Ny4xNDdMNTE1LjU1NCAxNDcuMTQ3TDUxNS44MjYgMTQ3LjE0OUM1MTYuMDE2IDE0Ny4xNTEgNTE2LjIyNSAxNDcuMTUzIDUxNi40NTEgMTQ3LjE1N0M1MTYuOTA0IDE0Ny4xNjQgNTE3LjQyOCAxNDcuMTc2IDUxOC4wMiAxNDcuMTk1QzUxOS4yMDEgMTQ3LjIzNCA1MjAuNjYgMTQ3LjMwNCA1MjIuMzYxIDE0Ny40MjRDNTI1Ljc0MSAxNDcuNjYzIDUzMC4xODUgMTQ4LjExNCA1MzUuMzYzIDE0OC45NjlDNTQ1LjAwMSAxNTAuNTYyIDU1OC41NTYgMTUzLjc4IDU3Mi45MTggMTYwLjYwM0w3MzAuNDIgMjI2LjY3MUw3MzIuMTAxIDIyNy41MDVDNzcxLjc4NyAyNDcuMTc3IDc4OS45OTMgMjg2LjI5NiA3ODkuOTkzIDMyMi4wMzZWNTg1Ljg2NUM3ODkuOTkzIDU4Ni4wNTQgNzg5Ljk5NCA1ODYuMjU0IDc4OS45OTQgNTg2LjQ2M0w3ODkuOTk2IDU4Ni45MTNDNzkwLjAzOCA1OTcuMDk2IDc5MC4xNjEgNjI2Ljk5NiA3NjQuMjMxIDY1Mi44MjNMNzE0Ljc2IDcwMi4wOTVMNzE0LjY0MSA3MDIuMjE1QzcwNC42MDEgNzEyLjI3NSA2OTIuMTIzIDcyMC42NTIgNjc2LjI4NCA3MjQuODc5QzY2NC4zOSA3MjguMDU0IDY1Mi44MjcgNzI3Ljk2NiA2NDguNjM3IDcyNy45MzRMNjQ4LjYxOSA3MjcuOTMzQzY0OC40MDkgNzI3LjkzMiA2NDguMjE5IDcyNy45MyA2NDguMDQ3IDcyNy45M0w2NDcuNzUyIDcyNy45MjlINDgwLjcyMUM0NzQuMDk0IDcyNy45MjkgNDY4LjcyMSA3MjIuNTU2IDQ2OC43MjEgNzE1LjkyOVY2NjguMzg4SDMyOC41ODZDMzI4LjU4NiA2NzIuNjI5IDMyOC41NzIgNjk4LjA1MiAzMjguNTYxIDcxNS45NDRDMzI4LjU1NyA3MjIuNTY5IDMyMy4xODYgNzI3LjkyOSAzMTYuNTYxIDcyNy45MjlIMTUyLjI0NkMxNTIuMTA0IDcyNy45MjkgMTUxLjk0MiA3MjcuOTI5IDE1MS43NjIgNzI3LjkzMUwxNTEuMzYyIDcyNy45MzRDMTQ3LjE3MiA3MjcuOTY2IDEzNS42MDkgNzI4LjA1NCAxMjMuNzE0IDcyNC44NzlDMTA3Ljg3MyA3MjAuNjUxIDk1LjM5MzggNzEyLjI3MiA4NS4zNTI5IDcwMi4yMUw4NS4yMzg2IDcwMi4wOTVMMzUuNjcgNjUyLjcyNUwzNS41NzIzIDY1Mi42MjdDOS44NjI0MiA2MjYuNzggOS45NjY3IDU5Ny4xODUgMTAuMDAzIDU4Ni44NzRDMTAuMDA0MyA1ODYuNTEzIDEwLjAwNTUgNTg2LjE3NyAxMC4wMDU1IDU4NS44NjVWMzIyLjAzNkMxMC4wMDU1IDI4Ni40MyAyOC4xNjYyIDI0Ny4xOTkgNjcuODk3NyAyMjcuNTA1TDY5LjU3OSAyMjYuNjcxTDIyNy4wODEgMTYwLjYwM0MyNDEuNDQzIDE1My43OCAyNTQuOTk4IDE1MC41NjIgMjY0LjYzNiAxNDguOTY5QzI2OS44MTQgMTQ4LjExNCAyNzQuMjU4IDE0Ny42NjMgMjc3LjYzOCAxNDcuNDI0QzI3OS4zMzggMTQ3LjMwNCAyODAuNzk4IDE0Ny4yMzQgMjgxLjk3OSAxNDcuMTk1QzI4Mi41NzEgMTQ3LjE3NiAyODMuMDk1IDE0Ny4xNjQgMjgzLjU0NyAxNDcuMTU3TDI4My45MTcgMTQ3LjE1MkwyODQuMTczIDE0Ny4xNDlMMjg0LjQ0NSAxNDcuMTQ3TDI4NC41NzEgMTQ3LjE0N0wyODQuNjYgMTQ3LjE0N0wzMDYuOTQyIDE0Ny4xNDdWOTMuODE2NEMzMDYuOTQyIDgwLjY2MyAzMTcuNjA1IDcwIDMzMC43NTggNzBINDY5LjIzNloiIGZpbGw9IiMxOTFBMUEiLz4KPHBhdGggZD0iTTM2Ni40ODMgMTI5LjU0SDQzMy41MTJWMjA2LjY4N0gzNjYuNDgzVjEyOS41NFoiIGZpbGw9IiNGQkNCNEEiLz4KPHBhdGggZD0iTTI2OS4wMSA2MDIuNDI5SDE0NC4wMDhDMTM1Ljc2OCA2MDIuNDI5IDEzNS43NjggNTk0LjE0NiAxMzUuNzY4IDU5NC4xNDZWMjgwLjg1QzEzNS43NjggMjgwLjg1IDEzNS43NjggMjcyLjY0NCAxNDQuMDA4IDI3Mi42NDRIMzY2LjQ4M0wzNjYuNDgzIDIwNi42ODdIMjg0LjY5QzI4NC42OSAyMDYuNjg3IDI2OC4xMzQgMjA2LjY4NyAyNTEuNTc5IDIxNC44OTNMOTQuMzQxNCAyODAuODVDNzcuNzg2MSAyODkuMDU3IDY5LjU0NjkgMzA1LjYyMyA2OS41NDY5IDMyMi4wMzVWNTg1Ljg2M0M2OS41NDY5IDU5NC4xNDcgNjkuNTQ2OSA2MDIuMzUzIDc3Ljc4NjEgNjEwLjYzNkwxMjcuNDUyIDY2MC4xMDRDMTM1LjY5MSA2NjguMzg3IDE0MS45MjggNjY4LjM4NyAxNTIuMjQ3IDY2OC4zODdIMjY5LjAyOUMyNjkuMDM3IDY0OC4zNCAyNjkuMDQ2IDYyNC42NTUgMjY5LjA1NCA2MDIuODg3SDUyOC4wMTNWNjY4LjM4N0g2NDcuNzUzQzY1OC4wNzEgNjY4LjM4NyA2NjQuMzA4IDY2OC4zODcgNjcyLjU0NyA2NjAuMTA0TDcyMi4yMTMgNjEwLjYzNkM3MzAuNDUzIDYwMi40MjkgNzMwLjQ1MyA1OTQuMTQ3IDczMC40NTMgNTg1Ljg2M1YzMjIuMDM1QzczMC40NTMgMzA1LjU0NiA3MjIuMjEzIDI4OS4wNTcgNzA1LjY1OCAyODAuODVMNTQ4LjQyMSAyMTQuODkzQzUzMS44NjUgMjA2LjY4NyA1MTUuMzEgMjA2LjY4NyA1MTUuMzEgMjA2LjY4N0g0MzMuNTEyTDQzMy41MTIgMjcyLjY0NEg2NTYuMDY5QzY2NC4zMDggMjcyLjY0NCA2NjQuMzA4IDI4MC44NSA2NjQuMzA4IDI4MC44NVY1OTQuMTQ2QzY2NC4zMDggNTk0LjE0NiA2NjQuMzA4IDYwMi40MjkgNjU2LjA2OSA2MDIuNDI5SDUyOC4yNjJWNTM3LjM5NkgyNjkuMDc1QzI2OS4wNzUgNTQzLjcwNyAyNjkuMDE3IDU5Ni45MTIgMjY5LjAxIDYwMi40MjlaIiBmaWxsPSIjRkJDQjRBIi8+CjxwYXRoIGQ9Ik0yNjkuMDA5IDQzNi4xNzJINTI4LjI2MlYzNzAuNjgxSDI2OS4wNzVDMjY5LjA3NSAzNzcuMzczIDI2OS4wMDkgNDM2Ljc4OCAyNjkuMDA5IDQzNi4xNzJaIiBmaWxsPSIjRkJDQjRBIi8+CjwvZz4KPGRlZnM+CjxmaWx0ZXIgaWQ9ImZpbHRlcjBfZF81MTEyXzc4MiIgeD0iLTQiIHk9IjAiIHdpZHRoPSI4MDgiIGhlaWdodD0iODA4IiBmaWx0ZXJVbml0cz0idXNlclNwYWNlT25Vc2UiIGNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycz0ic1JHQiI+CjxmZUZsb29kIGZsb29kLW9wYWNpdHk9IjAiIHJlc3VsdD0iQmFja2dyb3VuZEltYWdlRml4Ii8+CjxmZUNvbG9yTWF0cml4IGluPSJTb3VyY2VBbHBoYSIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDEyNyAwIiByZXN1bHQ9ImhhcmRBbHBoYSIvPgo8ZmVPZmZzZXQgZHk9IjQiLz4KPGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iMiIvPgo8ZmVDb21wb3NpdGUgaW4yPSJoYXJkQWxwaGEiIG9wZXJhdG9yPSJvdXQiLz4KPGZlQ29sb3JNYXRyaXggdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAuMjUgMCIvPgo8ZmVCbGVuZCBtb2RlPSJub3JtYWwiIGluMj0iQmFja2dyb3VuZEltYWdlRml4IiByZXN1bHQ9ImVmZmVjdDFfZHJvcFNoYWRvd181MTEyXzc4MiIvPgo8ZmVCbGVuZCBtb2RlPSJub3JtYWwiIGluPSJTb3VyY2VHcmFwaGljIiBpbjI9ImVmZmVjdDFfZHJvcFNoYWRvd181MTEyXzc4MiIgcmVzdWx0PSJzaGFwZSIvPgo8L2ZpbHRlcj4KPC9kZWZzPgo8L3N2Zz4K";function S$4(){}let p$4=class{constructor(){$g(this,"m_lastPromise",Promise.resolve())}async obtain(r=!1){let t0=S$4;if(r)return t0;const n0=this.m_lastPromise;return this.m_lastPromise=new Promise(r0=>t0=r0),await n0,t0}};const Q$4=new p$4;let _$6=class{constructor(){$g(this,"id","controller");$g(this,"name","Controller");$g(this,"version",h$2.version);$g(this,"icon",Y$4);$g(this,"account");$g(this,"subscriptions",[]);$g(this,"_probePromise",null);$g(this,"request",async r=>{switch(r.type){case"wallet_getPermissions":return await this.safeProbe(),this.account?[m$3.ACCOUNTS]:[];case"wallet_requestAccounts":{if(this.account)return[this.account.address];const n0=r.params&&r.params.silent_mode;return this.account=await this.safeProbe(),!this.account&&!n0&&(this.account=await this.connect()),this.account?[this.account.address]:[]}case"wallet_watchAsset":throw{code:63,message:"An unexpected error occurred",data:"wallet_watchAsset not implemented"};case"wallet_addStarknetChain":{let n0=r.params;return this.addStarknetChain(n0)}case"wallet_switchStarknetChain":{let n0=r.params;return this.switchStarknetChain(n0.chainId)}case"wallet_requestChainId":if(!this.account)throw{code:63,message:"An unexpected error occurred",data:"Account not initialized"};return await this.account.getChainId();case"wallet_deploymentData":throw{code:63,message:"An unexpected error occurred",data:"wallet_deploymentData not implemented"};case"wallet_addInvokeTransaction":if(!this.account)throw{code:63,message:"An unexpected error occurred",data:"Account not initialized"};let t0=r.params;return await this.account.execute(t0.calls.map(n0=>({contractAddress:n0.contract_address,entrypoint:n0.entry_point,calldata:n0.calldata})));case"wallet_addDeclareTransaction":throw{code:63,message:"An unexpected error occurred",data:"wallet_addDeclareTransaction not implemented"};case"wallet_signTypedData":{if(!this.account)throw{code:63,message:"An unexpected error occurred",data:"Account not initialized"};return await this.account.signMessage(r.params)}case"wallet_supportedSpecs":return[];case"wallet_supportedWalletApi":return[];default:throw{code:63,message:"An unexpected error occurred",data:`Unknown RPC call type: ${r.type}`}}});$g(this,"on",(r,t0)=>{if(r!=="accountsChanged"&&r!=="networkChanged")throw new Error(`Unknown event: ${r}`);this.subscriptions.push({type:r,handler:t0})});$g(this,"off",(r,t0)=>{if(r!=="accountsChanged"&&r!=="networkChanged")throw new Error(`Unknown event: ${r}`);const n0=this.subscriptions.findIndex(r0=>r0.type===r&&r0.handler===t0);n0>=0&&this.subscriptions.splice(n0,1)})}async safeProbe(){if(this.account)return this.account;if(this._probePromise)return this._probePromise;const r=await Q$4.obtain();return await new Promise(async t0=>{try{this._probePromise=this.probe();const n0=await this._probePromise;t0(n0)}finally{this._probePromise=null}}).finally(()=>{r()})}emitNetworkChanged(r){this.subscriptions.filter(t0=>t0.type==="networkChanged").forEach(t0=>{t0.handler(r)})}emitAccountsChanged(r){this.subscriptions.filter(t0=>t0.type==="accountsChanged").forEach(t0=>{t0.handler(r)})}};var te$3=Object.defineProperty,ne$4=(e0,r,t0)=>r in e0?te$3(e0,r,{enumerable:!0,configurable:!0,writable:!0,value:t0}):e0[r]=t0,_$5=(e0,r,t0)=>(ne$4(e0,typeof r!="symbol"?r+"":r,t0),t0),K$3=(e0,r,t0)=>{if(!r.has(e0))throw TypeError("Cannot "+t0)},N$5=(e0,r,t0)=>(K$3(e0,r,"read from private field"),t0?t0.call(e0):r.get(e0)),T$5=(e0,r,t0)=>{if(r.has(e0))throw TypeError("Cannot add the same private member more than once");r instanceof WeakSet?r.add(e0):r.set(e0,t0)},B$4=(e0,r,t0,n0)=>(K$3(e0,r,"write to private field"),n0?n0.call(e0,t0):r.set(e0,t0),t0),E$4=(e0,r,t0)=>(K$3(e0,r,"access private method"),t0);const generateUID=()=>`${Date.now()}-${Math.floor(Math.random()*8999999999999)+1e12}`,shuffle=e0=>{for(let r=e0.length-1;r>0;r--){const t0=Math.floor(Math.random()*(r+1));[e0[r],e0[t0]]=[e0[t0],e0[r]]}return e0},pipe$1=(...e0)=>r=>e0.reduce((t0,n0)=>t0.then(n0),Promise.resolve(r));function ensureKeysArray(e0){return Object.keys(e0)}const ssrSafeWindow=typeof window<"u"?window:null;function getBuilderId(){return typeof FEDERATION_BUILD_IDENTIFIER<"u"?FEDERATION_BUILD_IDENTIFIER:""}function isDebugMode$1(){return!1}function isBrowserEnv$1(){return typeof window<"u"}const LOG_CATEGORY$1="[ Federation Runtime ]";function assert$2(e0,r){e0||error(r)}function error(e0){throw e0 instanceof Error?(e0.message=`${LOG_CATEGORY$1}: ${e0.message}`,e0):new Error(`${LOG_CATEGORY$1}: ${e0}`)}function warn$1(e0){e0 instanceof Error?(e0.message=`${LOG_CATEGORY$1}: ${e0.message}`,console.warn(e0)):console.warn(`${LOG_CATEGORY$1}: ${e0}`)}function addUniqueItem(e0,r){return e0.findIndex(t0=>t0===r)===-1&&e0.push(r),e0}function getFMId(e0){return"version"in e0&&e0.version?`${e0.name}:${e0.version}`:"entry"in e0&&e0.entry?`${e0.name}:${e0.entry}`:`${e0.name}`}function isRemoteInfoWithEntry(e0){return typeof e0.entry<"u"}function isPureRemoteEntry(e0){return!e0.entry.includes(".json")&&e0.entry.includes(".js")}function safeToString$1(e0){try{return JSON.stringify(e0,null,2)}catch{return""}}function isObject$2(e0){return e0&&typeof e0=="object"}const objectToString=Object.prototype.toString;function isPlainObject(e0){return objectToString.call(e0)==="[object Object]"}function _extends$1$1(){return _extends$1$1=Object.assign||function(e0){for(var r=1;r<arguments.length;r++){var t0=arguments[r];for(var n0 in t0)Object.prototype.hasOwnProperty.call(t0,n0)&&(e0[n0]=t0[n0])}return e0},_extends$1$1.apply(this,arguments)}function _object_without_properties_loose$1(e0,r){if(e0==null)return{};var t0={},n0=Object.keys(e0),r0,i0;for(i0=0;i0<n0.length;i0++)r0=n0[i0],!(r.indexOf(r0)>=0)&&(t0[r0]=e0[r0]);return t0}const nativeGlobal=(()=>{try{return new Function("return this")()}catch{return globalThis}})(),Global=nativeGlobal;function definePropertyGlobalVal(e0,r,t0){Object.defineProperty(e0,r,{value:t0,configurable:!1,writable:!0})}function includeOwnProperty(e0,r){return Object.hasOwnProperty.call(e0,r)}includeOwnProperty(globalThis,"__GLOBAL_LOADING_REMOTE_ENTRY__")||definePropertyGlobalVal(globalThis,"__GLOBAL_LOADING_REMOTE_ENTRY__",{});const globalLoading=globalThis.__GLOBAL_LOADING_REMOTE_ENTRY__;function setGlobalDefaultVal(e0){var r,t0,n0,r0,i0,o0;includeOwnProperty(e0,"__VMOK__")&&!includeOwnProperty(e0,"__FEDERATION__")&&definePropertyGlobalVal(e0,"__FEDERATION__",e0.__VMOK__),includeOwnProperty(e0,"__FEDERATION__")||(definePropertyGlobalVal(e0,"__FEDERATION__",{__GLOBAL_PLUGIN__:[],__INSTANCES__:[],moduleInfo:{},__SHARE__:{},__MANIFEST_LOADING__:{},__PRELOADED_MAP__:new Map}),definePropertyGlobalVal(e0,"__VMOK__",e0.__FEDERATION__)),(r=e0.__FEDERATION__).__GLOBAL_PLUGIN__!=null||(r.__GLOBAL_PLUGIN__=[]),(t0=e0.__FEDERATION__).__INSTANCES__!=null||(t0.__INSTANCES__=[]),(n0=e0.__FEDERATION__).moduleInfo!=null||(n0.moduleInfo={}),(r0=e0.__FEDERATION__).__SHARE__!=null||(r0.__SHARE__={}),(i0=e0.__FEDERATION__).__MANIFEST_LOADING__!=null||(i0.__MANIFEST_LOADING__={}),(o0=e0.__FEDERATION__).__PRELOADED_MAP__!=null||(o0.__PRELOADED_MAP__=new Map)}setGlobalDefaultVal(globalThis);setGlobalDefaultVal(nativeGlobal);function getGlobalFederationInstance(e0,r){const t0=getBuilderId();return globalThis.__FEDERATION__.__INSTANCES__.find(n0=>!!(t0&&n0.options.id===getBuilderId()||n0.options.name===e0&&!n0.options.version&&!r||n0.options.name===e0&&r&&n0.options.version===r))}function setGlobalFederationInstance(e0){globalThis.__FEDERATION__.__INSTANCES__.push(e0)}function getGlobalFederationConstructor(){return globalThis.__FEDERATION__.__DEBUG_CONSTRUCTOR__}function setGlobalFederationConstructor(e0,r=isDebugMode$1()){r&&(globalThis.__FEDERATION__.__DEBUG_CONSTRUCTOR__=e0,globalThis.__FEDERATION__.__DEBUG_CONSTRUCTOR_VERSION__="0.1.2")}function getInfoWithoutType(e0,r){if(typeof r=="string"){if(e0[r])return{value:e0[r],key:r};{const t0=Object.keys(e0);for(const n0 of t0){const[r0,i0]=n0.split(":"),o0=`${r0}:${r}`,s0=e0[o0];if(s0)return{value:s0,key:o0}}return{value:void 0,key:r}}}else throw new Error("key must be string")}const getGlobalSnapshot=()=>nativeGlobal.__FEDERATION__.moduleInfo,getTargetSnapshotInfoByModuleInfo=(e0,r)=>{const t0=getFMId(e0),n0=getInfoWithoutType(r,t0).value;if(n0&&!n0.version&&"version"in e0&&e0.version&&(n0.version=e0.version),n0)return n0;if("version"in e0&&e0.version){const{version:r0}=e0,i0=_object_without_properties_loose$1(e0,["version"]),o0=getFMId(i0),s0=getInfoWithoutType(nativeGlobal.__FEDERATION__.moduleInfo,o0).value;if(s0?.version===r0)return s0}},getGlobalSnapshotInfoByModuleInfo=e0=>getTargetSnapshotInfoByModuleInfo(e0,nativeGlobal.__FEDERATION__.moduleInfo),setGlobalSnapshotInfoByModuleInfo=(e0,r)=>{const t0=getFMId(e0);return nativeGlobal.__FEDERATION__.moduleInfo[t0]=r,nativeGlobal.__FEDERATION__.moduleInfo},addGlobalSnapshot=e0=>(nativeGlobal.__FEDERATION__.moduleInfo=_extends$1$1({},nativeGlobal.__FEDERATION__.moduleInfo,e0),()=>{const r=Object.keys(e0);for(const t0 of r)delete nativeGlobal.__FEDERATION__.moduleInfo[t0]}),getRemoteEntryExports=(e0,r)=>{const t0=r||`__FEDERATION_${e0}:custom__`,n0=globalThis[t0];return{remoteEntryKey:t0,entryExports:n0}},getGlobalHostPlugins=()=>nativeGlobal.__FEDERATION__.__GLOBAL_PLUGIN__,getPreloaded=e0=>globalThis.__FEDERATION__.__PRELOADED_MAP__.get(e0),setPreloaded=e0=>globalThis.__FEDERATION__.__PRELOADED_MAP__.set(e0,!0),DEFAULT_SCOPE="default",DEFAULT_REMOTE_TYPE="global",buildIdentifier="[0-9A-Za-z-]+",build=`(?:\\+(${buildIdentifier}(?:\\.${buildIdentifier})*))`,numericIdentifier="0|[1-9]\\d*",numericIdentifierLoose="[0-9]+",nonNumericIdentifier="\\d*[a-zA-Z-][a-zA-Z0-9-]*",preReleaseIdentifierLoose=`(?:${numericIdentifierLoose}|${nonNumericIdentifier})`,preReleaseLoose=`(?:-?(${preReleaseIdentifierLoose}(?:\\.${preReleaseIdentifierLoose})*))`,preReleaseIdentifier=`(?:${numericIdentifier}|${nonNumericIdentifier})`,preRelease=`(?:-(${preReleaseIdentifier}(?:\\.${preReleaseIdentifier})*))`,xRangeIdentifier=`${numericIdentifier}|x|X|\\*`,xRangePlain=`[v=\\s]*(${xRangeIdentifier})(?:\\.(${xRangeIdentifier})(?:\\.(${xRangeIdentifier})(?:${preRelease})?${build}?)?)?`,hyphenRange=`^\\s*(${xRangePlain})\\s+-\\s+(${xRangePlain})\\s*$`,mainVersionLoose=`(${numericIdentifierLoose})\\.(${numericIdentifierLoose})\\.(${numericIdentifierLoose})`,loosePlain=`[v=\\s]*${mainVersionLoose}${preReleaseLoose}?${build}?`,gtlt="((?:<|>)?=?)",comparatorTrim=`(\\s*)${gtlt}\\s*(${loosePlain}|${xRangePlain})`,loneTilde="(?:~>?)",tildeTrim=`(\\s*)${loneTilde}\\s+`,loneCaret="(?:\\^)",caretTrim=`(\\s*)${loneCaret}\\s+`,star="(<|>)?=?\\s*\\*",caret=`^${loneCaret}${xRangePlain}$`,mainVersion=`(${numericIdentifier})\\.(${numericIdentifier})\\.(${numericIdentifier})`,fullPlain=`v?${mainVersion}${preRelease}?${build}?`,tilde=`^${loneTilde}${xRangePlain}$`,xRange=`^${gtlt}\\s*${xRangePlain}$`,comparator=`^${gtlt}\\s*(${fullPlain})$|^$`,gte0="^\\s*>=\\s*0.0.0\\s*$";function parseRegex(e0){return new RegExp(e0)}function isXVersion(e0){return!e0||e0.toLowerCase()==="x"||e0==="*"}function pipe(...e0){return r=>e0.reduce((t0,n0)=>n0(t0),r)}function extractComparator(e0){return e0.match(parseRegex(comparator))}function combineVersion(e0,r,t0,n0){const r0=`${e0}.${r}.${t0}`;return n0?`${r0}-${n0}`:r0}function parseHyphen(e0){return e0.replace(parseRegex(hyphenRange),(r,t0,n0,r0,i0,o0,s0,a0,c0,l0,u0,h0)=>(isXVersion(n0)?t0="":isXVersion(r0)?t0=`>=${n0}.0.0`:isXVersion(i0)?t0=`>=${n0}.${r0}.0`:t0=`>=${t0}`,isXVersion(c0)?a0="":isXVersion(l0)?a0=`<${Number(c0)+1}.0.0-0`:isXVersion(u0)?a0=`<${c0}.${Number(l0)+1}.0-0`:h0?a0=`<=${c0}.${l0}.${u0}-${h0}`:a0=`<=${a0}`,`${t0} ${a0}`.trim()))}function parseComparatorTrim(e0){return e0.replace(parseRegex(comparatorTrim),"$1$2$3")}function parseTildeTrim(e0){return e0.replace(parseRegex(tildeTrim),"$1~")}function parseCaretTrim(e0){return e0.replace(parseRegex(caretTrim),"$1^")}function parseCarets(e0){return e0.trim().split(/\s+/).map(r=>r.replace(parseRegex(caret),(t0,n0,r0,i0,o0)=>isXVersion(n0)?"":isXVersion(r0)?`>=${n0}.0.0 <${Number(n0)+1}.0.0-0`:isXVersion(i0)?n0==="0"?`>=${n0}.${r0}.0 <${n0}.${Number(r0)+1}.0-0`:`>=${n0}.${r0}.0 <${Number(n0)+1}.0.0-0`:o0?n0==="0"?r0==="0"?`>=${n0}.${r0}.${i0}-${o0} <${n0}.${r0}.${Number(i0)+1}-0`:`>=${n0}.${r0}.${i0}-${o0} <${n0}.${Number(r0)+1}.0-0`:`>=${n0}.${r0}.${i0}-${o0} <${Number(n0)+1}.0.0-0`:n0==="0"?r0==="0"?`>=${n0}.${r0}.${i0} <${n0}.${r0}.${Number(i0)+1}-0`:`>=${n0}.${r0}.${i0} <${n0}.${Number(r0)+1}.0-0`:`>=${n0}.${r0}.${i0} <${Number(n0)+1}.0.0-0`)).join(" ")}function parseTildes(e0){return e0.trim().split(/\s+/).map(r=>r.replace(parseRegex(tilde),(t0,n0,r0,i0,o0)=>isXVersion(n0)?"":isXVersion(r0)?`>=${n0}.0.0 <${Number(n0)+1}.0.0-0`:isXVersion(i0)?`>=${n0}.${r0}.0 <${n0}.${Number(r0)+1}.0-0`:o0?`>=${n0}.${r0}.${i0}-${o0} <${n0}.${Number(r0)+1}.0-0`:`>=${n0}.${r0}.${i0} <${n0}.${Number(r0)+1}.0-0`)).join(" ")}function parseXRanges(e0){return e0.split(/\s+/).map(r=>r.trim().replace(parseRegex(xRange),(t0,n0,r0,i0,o0,s0)=>{const a0=isXVersion(r0),c0=a0||isXVersion(i0),l0=c0||isXVersion(o0);return n0==="="&&l0&&(n0=""),s0="",a0?n0===">"||n0==="<"?"<0.0.0-0":"*":n0&&l0?(c0&&(i0=0),o0=0,n0===">"?(n0=">=",c0?(r0=Number(r0)+1,i0=0,o0=0):(i0=Number(i0)+1,o0=0)):n0==="<="&&(n0="<",c0?r0=Number(r0)+1:i0=Number(i0)+1),n0==="<"&&(s0="-0"),`${n0+r0}.${i0}.${o0}${s0}`):c0?`>=${r0}.0.0${s0} <${Number(r0)+1}.0.0-0`:l0?`>=${r0}.${i0}.0${s0} <${r0}.${Number(i0)+1}.0-0`:t0})).join(" ")}function parseStar(e0){return e0.trim().replace(parseRegex(star),"")}function parseGTE0(e0){return e0.trim().replace(parseRegex(gte0),"")}function compareAtom(e0,r){return e0=Number(e0)||e0,r=Number(r)||r,e0>r?1:e0===r?0:-1}function comparePreRelease(e0,r){const{preRelease:t0}=e0,{preRelease:n0}=r;if(t0===void 0&&n0)return 1;if(t0&&n0===void 0)return-1;if(t0===void 0&&n0===void 0)return 0;for(let r0=0,i0=t0.length;r0<=i0;r0++){const o0=t0[r0],s0=n0[r0];if(o0!==s0)return o0===void 0&&s0===void 0?0:o0?s0?compareAtom(o0,s0):-1:1}return 0}function compareVersion(e0,r){return compareAtom(e0.major,r.major)||compareAtom(e0.minor,r.minor)||compareAtom(e0.patch,r.patch)||comparePreRelease(e0,r)}function eq(e0,r){return e0.version===r.version}function compare(e0,r){switch(e0.operator){case"":case"=":return eq(e0,r);case">":return compareVersion(e0,r)<0;case">=":return eq(e0,r)||compareVersion(e0,r)<0;case"<":return compareVersion(e0,r)>0;case"<=":return eq(e0,r)||compareVersion(e0,r)>0;case void 0:return!0;default:return!1}}function parseComparatorString(e0){return pipe(parseCarets,parseTildes,parseXRanges,parseStar)(e0)}function parseRange(e0){return pipe(parseHyphen,parseComparatorTrim,parseTildeTrim,parseCaretTrim)(e0.trim()).split(/\s+/).join(" ")}function satisfy(e0,r){if(!e0)return!1;const t0=parseRange(r).split(" ").map(l0=>parseComparatorString(l0)).join(" ").split(/\s+/).map(l0=>parseGTE0(l0)),n0=extractComparator(e0);if(!n0)return!1;const[,r0,,i0,o0,s0,a0]=n0,c0={operator:r0,version:combineVersion(i0,o0,s0,a0),major:i0,minor:o0,patch:s0,preRelease:a0?.split(".")};for(const l0 of t0){const u0=extractComparator(l0);if(!u0)return!1;const[,h0,,g0,w0,m0,S0]=u0,b0={operator:h0,version:combineVersion(g0,w0,m0,S0),major:g0,minor:w0,patch:m0,preRelease:S0?.split(".")};if(!compare(b0,c0))return!1}return!0}function _extends$6(){return _extends$6=Object.assign||function(e0){for(var r=1;r<arguments.length;r++){var t0=arguments[r];for(var n0 in t0)Object.prototype.hasOwnProperty.call(t0,n0)&&(e0[n0]=t0[n0])}return e0},_extends$6.apply(this,arguments)}function formatShare(e0,r){let t0;return"get"in e0?t0=e0.get:t0=()=>Promise.resolve(e0.lib),_extends$6({deps:[],useIn:[],from:r,loading:null},e0,{shareConfig:_extends$6({requiredVersion:`^${e0.version}`,singleton:!1,eager:!1,strictVersion:!1},e0.shareConfig),get:t0,loaded:"lib"in e0?!0:void 0,scope:Array.isArray(e0.scope)?e0.scope:["default"],strategy:e0.strategy||"version-first"})}function formatShareConfigs(e0,r){return e0?Object.keys(e0).reduce((t0,n0)=>(t0[n0]=formatShare(e0[n0],r),t0),{}):{}}function versionLt(e0,r){const t0=n0=>{if(!Number.isNaN(Number(n0))){const r0=n0.split(".");let i0=n0;for(let o0=0;o0<3-r0.length;o0++)i0+=".0";return i0}return n0};return!!satisfy(t0(e0),`<=${t0(r)}`)}const findVersion=(e0,r,t0,n0)=>{const r0=e0[r][t0],i0=n0||function(o0,s0){return versionLt(o0,s0)};return Object.keys(r0).reduce((o0,s0)=>!o0||i0(o0,s0)||o0==="0"?s0:o0,0)},isLoaded=e0=>!!e0.loaded||typeof e0.lib=="function";function findSingletonVersionOrderByVersion(e0,r,t0){const n0=e0[r][t0];return findVersion(e0,r,t0,function(r0,i0){return!isLoaded(n0[r0])&&versionLt(r0,i0)})}function findSingletonVersionOrderByLoaded(e0,r,t0){const n0=e0[r][t0];return findVersion(e0,r,t0,function(r0,i0){return isLoaded(n0[i0])?isLoaded(n0[r0])?!!versionLt(r0,i0):!0:isLoaded(n0[r0])?!1:versionLt(r0,i0)})}function getFindShareFunction(e0){return e0==="loaded-first"?findSingletonVersionOrderByLoaded:findSingletonVersionOrderByVersion}function getRegisteredShare(e0,r,t0,n0){if(!e0)return;const{shareConfig:r0,scope:i0=DEFAULT_SCOPE,strategy:o0}=t0,s0=Array.isArray(i0)?i0:[i0];for(const a0 of s0)if(r0&&e0[a0]&&e0[a0][r]){const{requiredVersion:c0}=r0,l0=getFindShareFunction(o0)(e0,a0,r),u0=()=>{if(r0.singleton){if(typeof c0=="string"&&!satisfy(l0,c0)){const g0=`Version ${l0} from ${l0&&e0[a0][r][l0].from} of shared singleton module ${r} does not satisfy the requirement of ${t0.from} which needs ${c0})`;r0.strictVersion?error(g0):warn$1(g0)}return e0[a0][r][l0]}else{if(c0===!1||c0==="*"||satisfy(l0,c0))return e0[a0][r][l0];for(const[g0,w0]of Object.entries(e0[a0][r]))if(satisfy(g0,c0))return w0}},h0={shareScopeMap:e0,scope:a0,pkgName:r,version:l0,GlobalFederation:Global.__FEDERATION__,resolver:u0};return(n0.emit(h0)||h0).resolver()}}function getGlobalShareScope(){return Global.__FEDERATION__.__SHARE__}function _define_property$3(e0,r,t0){return r in e0?Object.defineProperty(e0,r,{value:t0,enumerable:!0,configurable:!0,writable:!0}):e0[r]=t0,e0}var MANIFEST_EXT=".json",BROWSER_LOG_KEY="FEDERATION_DEBUG",BROWSER_LOG_VALUE="1",NameTransformSymbol={AT:"@",HYPHEN:"-",SLASH:"/"},_obj,NameTransformMap=(_obj={},_define_property$3(_obj,NameTransformSymbol.AT,"scope_"),_define_property$3(_obj,NameTransformSymbol.HYPHEN,"_"),_define_property$3(_obj,NameTransformSymbol.SLASH,"__"),_obj),_obj1;_obj1={},_define_property$3(_obj1,NameTransformMap[NameTransformSymbol.AT],NameTransformSymbol.AT),_define_property$3(_obj1,NameTransformMap[NameTransformSymbol.HYPHEN],NameTransformSymbol.HYPHEN),_define_property$3(_obj1,NameTransformMap[NameTransformSymbol.SLASH],NameTransformSymbol.SLASH);var SEPARATOR$1=":";function isBrowserEnv(){return typeof window<"u"}function isDebugMode(){return typeof process<"u"&&process.env&&process.env.FEDERATION_DEBUG?!!process.env.FEDERATION_DEBUG:typeof FEDERATION_DEBUG<"u"&&!!FEDERATION_DEBUG}function _array_like_to_array$2(e0,r){(r==null||r>e0.length)&&(r=e0.length);for(var t0=0,n0=new Array(r);t0<r;t0++)n0[t0]=e0[t0];return n0}function _array_without_holes(e0){if(Array.isArray(e0))return _array_like_to_array$2(e0)}function _class_call_check(e0,r){if(!(e0 instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e0,r){for(var t0=0;t0<r.length;t0++){var n0=r[t0];n0.enumerable=n0.enumerable||!1,n0.configurable=!0,"value"in n0&&(n0.writable=!0),Object.defineProperty(e0,n0.key,n0)}}function _create_class(e0,r,t0){return r&&_defineProperties(e0.prototype,r),t0&&_defineProperties(e0,t0),e0}function _define_property$2(e0,r,t0){return r in e0?Object.defineProperty(e0,r,{value:t0,enumerable:!0,configurable:!0,writable:!0}):e0[r]=t0,e0}function _iterable_to_array$1(e0){if(typeof Symbol<"u"&&e0[Symbol.iterator]!=null||e0["@@iterator"]!=null)return Array.from(e0)}function _non_iterable_spread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _to_consumable_array(e0){return _array_without_holes(e0)||_iterable_to_array$1(e0)||_unsupported_iterable_to_array$2(e0)||_non_iterable_spread()}function _unsupported_iterable_to_array$2(e0,r){if(e0){if(typeof e0=="string")return _array_like_to_array$2(e0,r);var t0=Object.prototype.toString.call(e0).slice(8,-1);if(t0==="Object"&&e0.constructor&&(t0=e0.constructor.name),t0==="Map"||t0==="Set")return Array.from(t0);if(t0==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t0))return _array_like_to_array$2(e0,r)}}function safeToString(e0){try{return JSON.stringify(e0,null,2)}catch{return""}}var DEBUG_LOG="[ FEDERATION DEBUG ]";function safeGetLocalStorageItem(){try{if(typeof window<"u"&&window.localStorage)return localStorage.getItem(BROWSER_LOG_KEY)===BROWSER_LOG_VALUE}catch{return typeof document<"u"}return!1}var Logger=function(){function e0(r){_class_call_check(this,e0),_define_property$2(this,"enable",!1),_define_property$2(this,"identifier",void 0),this.identifier=r||DEBUG_LOG,isBrowserEnv()&&safeGetLocalStorageItem()?this.enable=!0:isDebugMode()&&(this.enable=!0)}return _create_class(e0,[{key:"info",value:function(r,t0){if(this.enable){var n0=safeToString(t0)||"";isBrowserEnv()?console.info("%c ".concat(this.identifier,": ").concat(r," ").concat(n0),"color:#3300CC"):console.info("\x1B[34m%s","".concat(this.identifier,": ").concat(r," ").concat(n0?`
`.concat(n0):""))}}},{key:"logOriginalInfo",value:function(){for(var r=arguments.length,t0=new Array(r),n0=0;n0<r;n0++)t0[n0]=arguments[n0];if(this.enable)if(isBrowserEnv()){var r0;console.info("%c ".concat(this.identifier,": OriginalInfo"),"color:#3300CC"),(r0=console).log.apply(r0,_to_consumable_array(t0))}else{var i0;console.info("%c ".concat(this.identifier,": OriginalInfo"),"color:#3300CC"),(i0=console).log.apply(i0,_to_consumable_array(t0))}}}]),e0}(),LOG_CATEGORY="[ Federation Runtime ]";new Logger;var composeKeyWithSeparator=function(){for(var e0=arguments.length,r=new Array(e0),t0=0;t0<e0;t0++)r[t0]=arguments[t0];return r.length?r.reduce(function(n0,r0){return r0?n0?"".concat(n0).concat(SEPARATOR$1).concat(r0):r0:n0},""):""},getResourceUrl=function(e0,r){if("getPublicPath"in e0){var t0=new Function(e0.getPublicPath)();return"".concat(t0).concat(r)}else return"publicPath"in e0?"".concat(e0.publicPath).concat(r):(console.warn("Can not get resource url, if in debug mode, please ignore",e0,r),"")},warn=function(e0){console.warn("".concat(LOG_CATEGORY,": ").concat(e0))};function _define_property$1(e0,r,t0){return r in e0?Object.defineProperty(e0,r,{value:t0,enumerable:!0,configurable:!0,writable:!0}):e0[r]=t0,e0}function _object_spread$1(e0){for(var r=1;r<arguments.length;r++){var t0=arguments[r]!=null?arguments[r]:{},n0=Object.keys(t0);typeof Object.getOwnPropertySymbols=="function"&&(n0=n0.concat(Object.getOwnPropertySymbols(t0).filter(function(r0){return Object.getOwnPropertyDescriptor(t0,r0).enumerable}))),n0.forEach(function(r0){_define_property$1(e0,r0,t0[r0])})}return e0}function ownKeys(e0,r){var t0=Object.keys(e0);if(Object.getOwnPropertySymbols){var n0=Object.getOwnPropertySymbols(e0);r&&(n0=n0.filter(function(r0){return Object.getOwnPropertyDescriptor(e0,r0).enumerable})),t0.push.apply(t0,n0)}return t0}function _object_spread_props(e0,r){return r=r??{},Object.getOwnPropertyDescriptors?Object.defineProperties(e0,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t0){Object.defineProperty(e0,t0,Object.getOwnPropertyDescriptor(r,t0))}),e0}var simpleJoinRemoteEntry=function(e0,r){if(!e0)return r;var t0=function(r0){if(r0===".")return"";if(r0.startsWith("./"))return r0.replace("./","");if(r0.startsWith("/")){var i0=r0.slice(1);return i0.endsWith("/")?i0.slice(0,-1):i0}return r0},n0=t0(e0);return n0?n0.endsWith("/")?"".concat(n0).concat(r):"".concat(n0,"/").concat(r):r};function generateSnapshotFromManifest(e0){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t0,n0,r0=r.remotes,i0=r0===void 0?{}:r0,o0=r.overrides,s0=o0===void 0?{}:o0,a0=r.version,c0,l0=function(){return"publicPath"in e0.metaData?e0.metaData.publicPath:e0.metaData.getPublicPath},u0=Object.keys(s0),h0={};if(!Object.keys(i0).length){var g0;h0=((g0=e0.remotes)===null||g0===void 0?void 0:g0.reduce(function(O0,f0){var p0,A0=f0.federationContainerName;return u0.includes(A0)?p0=s0[A0]:"version"in f0?p0=f0.version:p0=f0.entry,O0[A0]={matchedVersion:p0},O0},{}))||{}}Object.keys(i0).forEach(function(O0){return h0[O0]={matchedVersion:u0.includes(O0)?s0[O0]:i0[O0]}});var w0=e0.metaData,m0=w0.remoteEntry,S0=m0.path,b0=m0.name,T0=m0.type,N0=w0.types,x0=w0.buildInfo.buildVersion,k0=w0.globalName,B0=e0.exposes,H0={version:a0||"",buildVersion:x0,globalName:k0,remoteEntry:simpleJoinRemoteEntry(S0,b0),remoteEntryType:T0,remoteTypes:simpleJoinRemoteEntry(N0.path,N0.name),remoteTypesZip:N0.zip||"",remoteTypesAPI:N0.api||"",remotesInfo:h0,shared:e0?.shared.map(function(O0){return{assets:O0.assets,sharedName:O0.name}}),modules:B0?.map(function(O0){return{moduleName:O0.name,modulePath:O0.path,assets:O0.assets}})};if(!((t0=e0.metaData)===null||t0===void 0)&&t0.prefetchInterface){var G0=e0.metaData.prefetchInterface;H0=_object_spread_props(_object_spread$1({},H0),{prefetchInterface:G0})}if(!((n0=e0.metaData)===null||n0===void 0)&&n0.prefetchEntry){var V0=e0.metaData.prefetchEntry,K0=V0.path,W0=V0.name,F0=V0.type;H0=_object_spread_props(_object_spread$1({},H0),{prefetchEntry:simpleJoinRemoteEntry(K0,W0),prefetchEntryType:F0})}return"publicPath"in e0.metaData?c0=_object_spread_props(_object_spread$1({},H0),{publicPath:l0()}):c0=_object_spread_props(_object_spread$1({},H0),{getPublicPath:l0()}),c0}function isManifestProvider(e0){return!!("remoteEntry"in e0&&e0.remoteEntry.includes(MANIFEST_EXT))}function asyncGeneratorStep$1(e0,r,t0,n0,r0,i0,o0){try{var s0=e0[i0](o0),a0=s0.value}catch(c0){t0(c0);return}s0.done?r(a0):Promise.resolve(a0).then(n0,r0)}function _async_to_generator$1(e0){return function(){var r=this,t0=arguments;return new Promise(function(n0,r0){var i0=e0.apply(r,t0);function o0(a0){asyncGeneratorStep$1(i0,n0,r0,o0,s0,"next",a0)}function s0(a0){asyncGeneratorStep$1(i0,n0,r0,o0,s0,"throw",a0)}o0(void 0)})}}function _instanceof(e0,r){return r!=null&&typeof Symbol<"u"&&r[Symbol.hasInstance]?!!r[Symbol.hasInstance](e0):e0 instanceof r}function _ts_generator$1(e0,r){var t0,n0,r0,i0,o0={label:0,sent:function(){if(r0[0]&1)throw r0[1];return r0[1]},trys:[],ops:[]};return i0={next:s0(0),throw:s0(1),return:s0(2)},typeof Symbol=="function"&&(i0[Symbol.iterator]=function(){return this}),i0;function s0(c0){return function(l0){return a0([c0,l0])}}function a0(c0){if(t0)throw new TypeError("Generator is already executing.");for(;o0;)try{if(t0=1,n0&&(r0=c0[0]&2?n0.return:c0[0]?n0.throw||((r0=n0.return)&&r0.call(n0),0):n0.next)&&!(r0=r0.call(n0,c0[1])).done)return r0;switch(n0=0,r0&&(c0=[c0[0]&2,r0.value]),c0[0]){case 0:case 1:r0=c0;break;case 4:return o0.label++,{value:c0[1],done:!1};case 5:o0.label++,n0=c0[1],c0=[0];continue;case 7:c0=o0.ops.pop(),o0.trys.pop();continue;default:if(r0=o0.trys,!(r0=r0.length>0&&r0[r0.length-1])&&(c0[0]===6||c0[0]===2)){o0=0;continue}if(c0[0]===3&&(!r0||c0[1]>r0[0]&&c0[1]<r0[3])){o0.label=c0[1];break}if(c0[0]===6&&o0.label<r0[1]){o0.label=r0[1],r0=c0;break}if(r0&&o0.label<r0[2]){o0.label=r0[2],o0.ops.push(c0);break}r0[2]&&o0.ops.pop(),o0.trys.pop();continue}c0=r.call(e0,o0)}catch(l0){c0=[6,l0],n0=0}finally{t0=r0=0}if(c0[0]&5)throw c0[1];return{value:c0[0]?c0[1]:void 0,done:!0}}}function safeWrapper(e0,r){return _safeWrapper.apply(this,arguments)}function _safeWrapper(){return _safeWrapper=_async_to_generator$1(function(e0,r){var t0,n0;return _ts_generator$1(this,function(r0){switch(r0.label){case 0:return r0.trys.push([0,2,,3]),[4,e0()];case 1:return t0=r0.sent(),[2,t0];case 2:return n0=r0.sent(),!r&&warn(n0),[2];case 3:return[2]}})}),_safeWrapper.apply(this,arguments)}function isStaticResourcesEqual(e0,r){var t0=/^(https?:)?\/\//i,n0=e0.replace(t0,"").replace(/\/$/,""),r0=r.replace(t0,"").replace(/\/$/,"");return n0===r0}function createScript(e0,r,t0,n0){for(var r0=null,i0=!0,o0=document.getElementsByTagName("script"),s0=0;s0<o0.length;s0++){var a0=o0[s0],c0=a0.getAttribute("src");if(c0&&isStaticResourcesEqual(c0,e0)){r0=a0,i0=!1;break}}if(!r0&&(r0=document.createElement("script"),r0.type="text/javascript",r0.src=e0,n0)){var l0=n0(e0);_instanceof(l0,HTMLScriptElement)&&(r0=l0)}t0&&Object.keys(t0).forEach(function(h0){r0&&(h0==="async"||h0==="defer"?r0[h0]=t0[h0]:r0.setAttribute(h0,t0[h0]))});var u0=function(h0,g0){if(r0&&(r0.onerror=null,r0.onload=null,safeWrapper(function(){r0!=null&&r0.parentNode&&r0.parentNode.removeChild(r0)}),h0)){var w0=h0(g0);return r(),w0}r()};return r0.onerror=u0.bind(null,r0.onerror),r0.onload=u0.bind(null,r0.onload),{script:r0,needAttach:i0}}function createLink(e0,r){for(var t0=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n0=arguments.length>3?arguments[3]:void 0,r0=null,i0=!0,o0=document.getElementsByTagName("link"),s0=0;s0<o0.length;s0++){var a0=o0[s0],c0=a0.getAttribute("href"),l0=a0.getAttribute("ref");if(c0&&isStaticResourcesEqual(c0,e0)&&l0===t0.ref){r0=a0,i0=!1;break}}if(!r0&&(r0=document.createElement("link"),r0.setAttribute("href",e0),n0)){var u0=n0(e0);_instanceof(u0,HTMLLinkElement)&&(r0=u0)}t0&&Object.keys(t0).forEach(function(g0){r0&&r0.setAttribute(g0,t0[g0])});var h0=function(g0,w0){if(r0&&(r0.onerror=null,r0.onload=null,safeWrapper(function(){r0!=null&&r0.parentNode&&r0.parentNode.removeChild(r0)}),g0)){var m0=g0(w0);return r(),m0}r()};return r0.onerror=h0.bind(null,r0.onerror),r0.onload=h0.bind(null,r0.onload),{link:r0,needAttach:i0}}function loadScript(e0,r){var t0=r.attrs,n0=r.createScriptHook;return new Promise(function(r0,i0){var o0=createScript(e0,r0,t0,n0),s0=o0.script,a0=o0.needAttach;a0&&document.getElementsByTagName("head")[0].appendChild(s0)})}function _array_like_to_array(e0,r){(r==null||r>e0.length)&&(r=e0.length);for(var t0=0,n0=new Array(r);t0<r;t0++)n0[t0]=e0[t0];return n0}function _array_with_holes(e0){if(Array.isArray(e0))return e0}function asyncGeneratorStep(e0,r,t0,n0,r0,i0,o0){try{var s0=e0[i0](o0),a0=s0.value}catch(c0){t0(c0);return}s0.done?r(a0):Promise.resolve(a0).then(n0,r0)}function _async_to_generator(e0){return function(){var r=this,t0=arguments;return new Promise(function(n0,r0){var i0=e0.apply(r,t0);function o0(a0){asyncGeneratorStep(i0,n0,r0,o0,s0,"next",a0)}function s0(a0){asyncGeneratorStep(i0,n0,r0,o0,s0,"throw",a0)}o0(void 0)})}}function _iterable_to_array_limit(e0,r){var t0=e0==null?null:typeof Symbol<"u"&&e0[Symbol.iterator]||e0["@@iterator"];if(t0!=null){var n0=[],r0=!0,i0=!1,o0,s0;try{for(t0=t0.call(e0);!(r0=(o0=t0.next()).done)&&(n0.push(o0.value),!(r&&n0.length===r));r0=!0);}catch(a0){i0=!0,s0=a0}finally{try{!r0&&t0.return!=null&&t0.return()}finally{if(i0)throw s0}}return n0}}function _non_iterable_rest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _sliced_to_array(e0,r){return _array_with_holes(e0)||_iterable_to_array_limit(e0,r)||_unsupported_iterable_to_array(e0,r)||_non_iterable_rest()}function _unsupported_iterable_to_array(e0,r){if(e0){if(typeof e0=="string")return _array_like_to_array(e0,r);var t0=Object.prototype.toString.call(e0).slice(8,-1);if(t0==="Object"&&e0.constructor&&(t0=e0.constructor.name),t0==="Map"||t0==="Set")return Array.from(t0);if(t0==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t0))return _array_like_to_array(e0,r)}}function _ts_generator(e0,r){var t0,n0,r0,i0,o0={label:0,sent:function(){if(r0[0]&1)throw r0[1];return r0[1]},trys:[],ops:[]};return i0={next:s0(0),throw:s0(1),return:s0(2)},typeof Symbol=="function"&&(i0[Symbol.iterator]=function(){return this}),i0;function s0(c0){return function(l0){return a0([c0,l0])}}function a0(c0){if(t0)throw new TypeError("Generator is already executing.");for(;o0;)try{if(t0=1,n0&&(r0=c0[0]&2?n0.return:c0[0]?n0.throw||((r0=n0.return)&&r0.call(n0),0):n0.next)&&!(r0=r0.call(n0,c0[1])).done)return r0;switch(n0=0,r0&&(c0=[c0[0]&2,r0.value]),c0[0]){case 0:case 1:r0=c0;break;case 4:return o0.label++,{value:c0[1],done:!1};case 5:o0.label++,n0=c0[1],c0=[0];continue;case 7:c0=o0.ops.pop(),o0.trys.pop();continue;default:if(r0=o0.trys,!(r0=r0.length>0&&r0[r0.length-1])&&(c0[0]===6||c0[0]===2)){o0=0;continue}if(c0[0]===3&&(!r0||c0[1]>r0[0]&&c0[1]<r0[3])){o0.label=c0[1];break}if(c0[0]===6&&o0.label<r0[1]){o0.label=r0[1],r0=c0;break}if(r0&&o0.label<r0[2]){o0.label=r0[2],o0.ops.push(c0);break}r0[2]&&o0.ops.pop(),o0.trys.pop();continue}c0=r.call(e0,o0)}catch(l0){c0=[6,l0],n0=0}finally{t0=r0=0}if(c0[0]&5)throw c0[1];return{value:c0[0]?c0[1]:void 0,done:!0}}}function importNodeModule(e0){if(!e0)throw new Error("import specifier is required");var r=new Function("name","return import(name)");return r(e0).then(function(t0){return t0.default}).catch(function(t0){throw console.error("Error importing module ".concat(e0,":"),t0),t0})}function createScriptNode(url,cb,attrs,createScriptHook){if(createScriptHook){var hookResult=createScriptHook(url);hookResult&&typeof hookResult=="object"&&"url"in hookResult&&(url=hookResult.url)}var urlObj;try{urlObj=new URL(url)}catch(e0){console.error("Error constructing URL:",e0),cb(new Error("Invalid URL: ".concat(e0)));return}var getFetch=function(){var e0=_async_to_generator(function(){var r;return _ts_generator(this,function(t0){switch(t0.label){case 0:return typeof fetch>"u"?[4,importNodeModule("node-fetch")]:[3,2];case 1:return r=t0.sent(),[2,r?.default||r];case 2:return[2,fetch];case 3:return[2]}})});return function(){return e0.apply(this,arguments)}}();console.log("fetching",urlObj.href),getFetch().then(function(f){f(urlObj.href).then(function(e0){return e0.text()}).then(function(){var _ref=_async_to_generator(function(data){var _ref,path,vm,scriptContext,urlDirname,filename,script,exportedInterface,container;return _ts_generator(this,function(_state){switch(_state.label){case 0:return[4,Promise.all([importNodeModule("path"),importNodeModule("vm")])];case 1:_ref=_sliced_to_array.apply(void 0,[_state.sent(),2]),path=_ref[0],vm=_ref[1],scriptContext={exports:{},module:{exports:{}}},urlDirname=urlObj.pathname.split("/").slice(0,-1).join("/"),filename=path.basename(urlObj.pathname);try{if(script=new vm.Script("(function(exports, module, require, __dirname, __filename) {".concat(data,`
})`),filename),script.runInThisContext()(scriptContext.exports,scriptContext.module,eval("require"),urlDirname,filename),exportedInterface=scriptContext.module.exports||scriptContext.exports,attrs&&exportedInterface&&attrs.globalName)return container=exportedInterface[attrs.globalName]||exportedInterface,cb(void 0,container),[2];cb(void 0,exportedInterface)}catch(e0){cb(new Error("Script execution error: ".concat(e0)))}return[2]}})});return function(e0){return _ref.apply(this,arguments)}}()).catch(function(e0){cb(e0)})})}function loadScriptNode(e0,r){return new Promise(function(t0,n0){createScriptNode(e0,function(r0,i0){if(r0)n0(r0);else{var o0,s0,a0=(r==null||(o0=r.attrs)===null||o0===void 0?void 0:o0.globalName)||"__FEDERATION_".concat(r==null||(s0=r.attrs)===null||s0===void 0?void 0:s0.name,":custom__"),c0=globalThis[a0]=i0;t0(c0)}},r.attrs,r.createScriptHook)})}function matchRemoteWithNameAndExpose(e0,r){for(const t0 of e0){const n0=r.startsWith(t0.name);let r0=r.replace(t0.name,"");if(n0){if(r0.startsWith("/")){const s0=t0.name;return r0=`.${r0}`,{pkgNameOrAlias:s0,expose:r0,remote:t0}}else if(r0==="")return{pkgNameOrAlias:t0.name,expose:".",remote:t0}}const i0=t0.alias&&r.startsWith(t0.alias);let o0=t0.alias&&r.replace(t0.alias,"");if(t0.alias&&i0){if(o0&&o0.startsWith("/")){const s0=t0.alias;return o0=`.${o0}`,{pkgNameOrAlias:s0,expose:o0,remote:t0}}else if(o0==="")return{pkgNameOrAlias:t0.alias,expose:".",remote:t0}}}}function matchRemote(e0,r){for(const t0 of e0)if(r===t0.name||t0.alias&&r===t0.alias)return t0}function registerPlugins(e0,r){const t0=getGlobalHostPlugins();t0.length>0&&t0.forEach(n0=>{e0!=null&&e0.find(r0=>r0.name!==n0.name)&&e0.push(n0)}),e0&&e0.length>0&&e0.forEach(n0=>{r.forEach(r0=>{r0.applyPlugin(n0)})})}function _extends$5(){return _extends$5=Object.assign||function(e0){for(var r=1;r<arguments.length;r++){var t0=arguments[r];for(var n0 in t0)Object.prototype.hasOwnProperty.call(t0,n0)&&(e0[n0]=t0[n0])}return e0},_extends$5.apply(this,arguments)}async function loadEsmEntry({entry:e0,remoteEntryExports:r}){return new Promise((t0,n0)=>{try{r?t0(r):new Function("callbacks",`import("${e0}").then(callbacks[0]).catch(callbacks[1])`)([t0,n0])}catch(r0){n0(r0)}})}async function loadEntryScript({name:e0,globalName:r,entry:t0,createScriptHook:n0}){const{entryExports:r0}=getRemoteEntryExports(e0,r);return r0||(typeof document>"u"?loadScriptNode(t0,{attrs:{name:e0,globalName:r},createScriptHook:n0}).then(()=>{const{remoteEntryKey:i0,entryExports:o0}=getRemoteEntryExports(e0,r);return assert$2(o0,`
        Unable to use the ${e0}'s '${t0}' URL with ${i0}'s globalName to get remoteEntry exports.
        Possible reasons could be:

        1. '${t0}' is not the correct URL, or the remoteEntry resource or name is incorrect.

        2. ${i0} cannot be used to get remoteEntry exports in the window object.
      `),o0}).catch(i0=>i0):loadScript(t0,{attrs:{},createScriptHook:n0}).then(()=>{const{remoteEntryKey:i0,entryExports:o0}=getRemoteEntryExports(e0,r);return assert$2(o0,`
      Unable to use the ${e0}'s '${t0}' URL with ${i0}'s globalName to get remoteEntry exports.
      Possible reasons could be:

      1. '${t0}' is not the correct URL, or the remoteEntry resource or name is incorrect.

      2. ${i0} cannot be used to get remoteEntry exports in the window object.
    `),o0}).catch(i0=>i0))}function getRemoteEntryUniqueKey(e0){const{entry:r,name:t0}=e0;return composeKeyWithSeparator(t0,r)}async function getRemoteEntry({remoteEntryExports:e0,remoteInfo:r,createScriptHook:t0}){const{entry:n0,name:r0,type:i0,entryGlobalName:o0}=r,s0=getRemoteEntryUniqueKey(r);return e0||(globalLoading[s0]||(i0==="esm"?globalLoading[s0]=loadEsmEntry({entry:n0,remoteEntryExports:e0}):globalLoading[s0]=loadEntryScript({name:r0,globalName:o0,entry:n0,createScriptHook:t0})),globalLoading[s0])}function getRemoteInfo(e0){return _extends$5({},e0,{entry:"entry"in e0?e0.entry:"",type:e0.type||DEFAULT_REMOTE_TYPE,entryGlobalName:e0.entryGlobalName||e0.name,shareScope:e0.shareScope||DEFAULT_SCOPE})}function _extends$4(){return _extends$4=Object.assign||function(e0){for(var r=1;r<arguments.length;r++){var t0=arguments[r];for(var n0 in t0)Object.prototype.hasOwnProperty.call(t0,n0)&&(e0[n0]=t0[n0])}return e0},_extends$4.apply(this,arguments)}let Module=class{async getEntry(){if(this.remoteEntryExports)return this.remoteEntryExports;const e0=await getRemoteEntry({remoteInfo:this.remoteInfo,remoteEntryExports:this.remoteEntryExports,createScriptHook:r=>{const t0=this.host.loaderHook.lifecycle.createScript.emit({url:r});if(typeof document>"u"||t0 instanceof HTMLScriptElement)return t0}});return assert$2(e0,`remoteEntryExports is undefined 
 ${safeToString$1(this.remoteInfo)}`),this.remoteEntryExports=e0,this.remoteEntryExports}async get(e0,r){const{loadFactory:t0=!0}=r||{loadFactory:!0},n0=await this.getEntry();if(!this.inited){const i0=this.host.shareScopeMap,o0=this.remoteInfo.shareScope||"default";i0[o0]||(i0[o0]={});const s0=i0[o0],a0=[],c0={version:this.remoteInfo.version||""};Object.defineProperty(c0,"hostId",{value:this.host.options.id||this.host.name,enumerable:!1});const l0=await this.host.hooks.lifecycle.beforeInitContainer.emit({shareScope:s0,remoteEntryInitOptions:c0,initScope:a0,remoteInfo:this.remoteInfo,origin:this.host});await n0.init(l0.shareScope,l0.initScope,l0.remoteEntryInitOptions),await this.host.hooks.lifecycle.initContainer.emit(_extends$4({},l0,{remoteEntryExports:n0}))}this.lib=n0,this.inited=!0;const r0=await n0.get(e0);return assert$2(r0,`${getFMId(this.remoteInfo)} remote don't export ${e0}.`),t0?await r0():r0}constructor({remoteInfo:e0,host:r}){this.inited=!1,this.lib=void 0,this.remoteInfo=e0,this.host=r}};class SyncHook{on(r){typeof r=="function"&&this.listeners.add(r)}once(r){const t0=this;this.on(function n0(...r0){return t0.remove(n0),r.apply(null,r0)})}emit(...r){let t0;return this.listeners.size>0&&this.listeners.forEach(n0=>{t0=n0(...r)}),t0}remove(r){this.listeners.delete(r)}removeAll(){this.listeners.clear()}constructor(r){this.type="",this.listeners=new Set,r&&(this.type=r)}}class AsyncHook extends SyncHook{emit(...r){let t0;const n0=Array.from(this.listeners);if(n0.length>0){let r0=0;const i0=o0=>o0===!1?!1:r0<n0.length?Promise.resolve(n0[r0++].apply(null,r)).then(i0):o0;t0=i0()}return Promise.resolve(t0)}}function checkReturnData(e0,r){if(!isObject$2(r))return!1;if(e0!==r){for(const t0 in e0)if(!(t0 in r))return!1}return!0}class SyncWaterfallHook extends SyncHook{emit(r){isObject$2(r)||error(`The data for the "${this.type}" hook should be an object.`);for(const t0 of this.listeners)try{const n0=t0(r);if(checkReturnData(r,n0))r=n0;else{this.onerror(`A plugin returned an unacceptable value for the "${this.type}" type.`);break}}catch(n0){warn$1(n0),this.onerror(n0)}return r}constructor(r){super(),this.onerror=error,this.type=r}}class AsyncWaterfallHook extends SyncHook{emit(r){isObject$2(r)||error(`The response data for the "${this.type}" hook must be an object.`);const t0=Array.from(this.listeners);if(t0.length>0){let n0=0;const r0=o0=>(warn$1(o0),this.onerror(o0),r),i0=o0=>{if(checkReturnData(r,o0)){if(r=o0,n0<t0.length)try{return Promise.resolve(t0[n0++](r)).then(i0,r0)}catch(s0){return r0(s0)}}else this.onerror(`A plugin returned an incorrect value for the "${this.type}" type.`);return r};return Promise.resolve(i0(r))}return Promise.resolve(r)}constructor(r){super(),this.onerror=error,this.type=r}}class PluginSystem{applyPlugin(r){assert$2(isPlainObject(r),"Plugin configuration is invalid.");const t0=r.name;assert$2(t0,"A name must be provided by the plugin."),this.registerPlugins[t0]||(this.registerPlugins[t0]=r,Object.keys(this.lifecycle).forEach(n0=>{const r0=r[n0];r0&&this.lifecycle[n0].on(r0)}))}removePlugin(r){assert$2(r,"A name is required.");const t0=this.registerPlugins[r];assert$2(t0,`The plugin "${r}" is not registered.`),Object.keys(t0).forEach(n0=>{n0!=="name"&&this.lifecycle[n0].remove(t0[n0])})}inherit({lifecycle:r,registerPlugins:t0}){Object.keys(r).forEach(n0=>{assert$2(!this.lifecycle[n0],`The hook "${n0}" has a conflict and cannot be inherited.`),this.lifecycle[n0]=r[n0]}),Object.keys(t0).forEach(n0=>{assert$2(!this.registerPlugins[n0],`The plugin "${n0}" has a conflict and cannot be inherited.`),this.applyPlugin(t0[n0])})}constructor(r){this.registerPlugins={},this.lifecycle=r,this.lifecycleKeys=Object.keys(r)}}function _extends$3(){return _extends$3=Object.assign||function(e0){for(var r=1;r<arguments.length;r++){var t0=arguments[r];for(var n0 in t0)Object.prototype.hasOwnProperty.call(t0,n0)&&(e0[n0]=t0[n0])}return e0},_extends$3.apply(this,arguments)}function defaultPreloadArgs(e0){return _extends$3({resourceCategory:"sync",share:!0,depsRemote:!0,prefetchInterface:!1},e0)}function formatPreloadArgs(e0,r){return r.map(t0=>{const n0=matchRemote(e0,t0.nameOrAlias);return assert$2(n0,`Unable to preload ${t0.nameOrAlias} as it is not included in ${!n0&&safeToString$1({remoteInfo:n0,remotes:e0})}`),{remote:n0,preloadConfig:defaultPreloadArgs(t0)}})}function normalizePreloadExposes(e0){return e0?e0.map(r=>r==="."?r:r.startsWith("./")?r.replace("./",""):r):[]}function preloadAssets(e0,r,t0){const{cssAssets:n0,jsAssetsWithoutEntry:r0,entryAssets:i0}=t0;if(r.options.inBrowser){i0.forEach(s0=>{const{moduleInfo:a0}=s0,c0=r.moduleCache.get(e0.name);getRemoteEntry(c0?{remoteInfo:a0,remoteEntryExports:c0.remoteEntryExports,createScriptHook:l0=>{const u0=r.loaderHook.lifecycle.createScript.emit({url:l0});if(u0 instanceof HTMLScriptElement)return u0}}:{remoteInfo:a0,remoteEntryExports:void 0,createScriptHook:l0=>{const u0=r.loaderHook.lifecycle.createScript.emit({url:l0});if(u0 instanceof HTMLScriptElement)return u0}})});const o0=document.createDocumentFragment();n0.forEach(s0=>{const{link:a0,needAttach:c0}=createLink(s0,()=>{},{rel:"preload",as:"style"},l0=>{const u0=r.loaderHook.lifecycle.createLink.emit({url:l0});if(u0 instanceof HTMLLinkElement)return u0});c0&&o0.appendChild(a0)}),r0.forEach(s0=>{const{link:a0,needAttach:c0}=createLink(s0,()=>{},{rel:"preload",as:"script"},l0=>{const u0=r.loaderHook.lifecycle.createLink.emit({url:l0});if(u0 instanceof HTMLLinkElement)return u0});c0&&document.head.appendChild(a0)}),document.head.appendChild(o0)}}function _extends$2(){return _extends$2=Object.assign||function(e0){for(var r=1;r<arguments.length;r++){var t0=arguments[r];for(var n0 in t0)Object.prototype.hasOwnProperty.call(t0,n0)&&(e0[n0]=t0[n0])}return e0},_extends$2.apply(this,arguments)}function assignRemoteInfo(e0,r){(!("remoteEntry"in r)||!r.remoteEntry)&&error(`The attribute remoteEntry of ${name} must not be undefined.`);const{remoteEntry:t0}=r,n0=getResourceUrl(r,t0);e0.type=r.remoteEntryType,e0.entryGlobalName=r.globalName,e0.entry=n0,e0.version=r.version,e0.buildVersion=r.buildVersion}function snapshotPlugin(){return{name:"snapshot-plugin",async afterResolve(e0){const{remote:r,pkgNameOrAlias:t0,expose:n0,origin:r0,remoteInfo:i0}=e0;if(!isRemoteInfoWithEntry(r)||!isPureRemoteEntry(r)){const{remoteSnapshot:o0,globalSnapshot:s0}=await r0.snapshotHandler.loadRemoteSnapshotInfo(r);assignRemoteInfo(i0,o0);const a0={remote:r,preloadConfig:{nameOrAlias:t0,exposes:[n0],resourceCategory:"sync",share:!1,depsRemote:!1}},c0=await r0.hooks.lifecycle.generatePreloadAssets.emit({origin:r0,preloadOptions:a0,remoteInfo:i0,remote:r,remoteSnapshot:o0,globalSnapshot:s0});return c0&&preloadAssets(i0,r0,c0),_extends$2({},e0,{remoteSnapshot:o0})}return e0}}}function splitId(e0){const r=e0.split(":");return r.length===1?{name:r[0],version:void 0}:r.length===2?{name:r[0],version:r[1]}:{name:r[1],version:r[2]}}function traverseModuleInfo(e0,r,t0,n0,r0={},i0){const o0=getFMId(r),{value:s0}=getInfoWithoutType(e0,o0),a0=i0||s0;if(a0&&!isManifestProvider(a0)&&(t0(a0,r,n0),a0.remotesInfo)){const c0=Object.keys(a0.remotesInfo);for(const l0 of c0){if(r0[l0])continue;r0[l0]=!0;const u0=splitId(l0),h0=a0.remotesInfo[l0];traverseModuleInfo(e0,{name:u0.name,version:h0.matchedVersion},t0,!1,r0,void 0)}}}function generatePreloadAssets(e0,r,t0,n0,r0){const i0=[],o0=[],s0=[],a0=new Set,c0=new Set,{options:l0}=e0,{preloadConfig:u0}=r,{depsRemote:h0}=u0;traverseModuleInfo(n0,t0,(w0,m0,S0)=>{let b0;if(S0)b0=u0;else if(Array.isArray(h0)){const H0=h0.find(G0=>G0.nameOrAlias===m0.name||G0.nameOrAlias===m0.alias);if(!H0)return;b0=defaultPreloadArgs(H0)}else if(h0===!0)b0=u0;else return;const T0=getResourceUrl(w0,"remoteEntry"in w0?w0.remoteEntry:"");T0&&s0.push({name:m0.name,moduleInfo:{name:m0.name,entry:T0,type:"remoteEntryType"in w0?w0.remoteEntryType:"global",entryGlobalName:"globalName"in w0?w0.globalName:m0.name,shareScope:"",version:"version"in w0?w0.version:void 0},url:T0});let N0="modules"in w0?w0.modules:[];const x0=normalizePreloadExposes(b0.exposes);if(x0.length&&"modules"in w0){var k0;N0=w0==null||(k0=w0.modules)==null?void 0:k0.reduce((H0,G0)=>(x0?.indexOf(G0.moduleName)!==-1&&H0.push(G0),H0),[])}function B0(H0){const G0=H0.map(V0=>getResourceUrl(w0,V0));return b0.filter?G0.filter(b0.filter):G0}if(N0){const H0=N0.length;for(let G0=0;G0<H0;G0++){const V0=N0[G0],K0=`${m0.name}/${V0.moduleName}`;e0.hooks.lifecycle.handlePreloadModule.emit({id:V0.moduleName==="."?m0.name:K0,name:m0.name,remoteSnapshot:w0,preloadConfig:b0,remote:m0,origin:e0}),!getPreloaded(K0)&&(b0.resourceCategory==="all"?(i0.push(...B0(V0.assets.css.async)),i0.push(...B0(V0.assets.css.sync)),o0.push(...B0(V0.assets.js.async)),o0.push(...B0(V0.assets.js.sync))):(b0.resourceCategory="sync")&&(i0.push(...B0(V0.assets.css.sync)),o0.push(...B0(V0.assets.js.sync))),setPreloaded(K0))}}},!0,{},r0),r0.shared&&r0.shared.forEach(w0=>{var m0;const S0=(m0=l0.shared)==null?void 0:m0[w0.sharedName];if(!S0)return;const b0=getRegisteredShare(e0.shareScopeMap,w0.sharedName,S0,e0.hooks.lifecycle.resolveShare);b0&&typeof b0.lib=="function"&&(w0.assets.js.sync.forEach(T0=>{a0.add(T0)}),w0.assets.css.sync.forEach(T0=>{c0.add(T0)}))});const g0=o0.filter(w0=>!a0.has(w0));return{cssAssets:i0.filter(w0=>!c0.has(w0)),jsAssetsWithoutEntry:g0,entryAssets:s0}}const generatePreloadAssetsPlugin=function(){return{name:"generate-preload-assets-plugin",async generatePreloadAssets(e0){const{origin:r,preloadOptions:t0,remoteInfo:n0,remote:r0,globalSnapshot:i0,remoteSnapshot:o0}=e0;return isRemoteInfoWithEntry(r0)&&isPureRemoteEntry(r0)?{cssAssets:[],jsAssetsWithoutEntry:[],entryAssets:[{name:r0.name,url:r0.entry,moduleInfo:{name:n0.name,entry:r0.entry,type:"global",entryGlobalName:"",shareScope:""}}]}:(assignRemoteInfo(n0,o0),generatePreloadAssets(r,t0,n0,i0,o0))}}};function _extends$1(){return _extends$1=Object.assign||function(e0){for(var r=1;r<arguments.length;r++){var t0=arguments[r];for(var n0 in t0)Object.prototype.hasOwnProperty.call(t0,n0)&&(e0[n0]=t0[n0])}return e0},_extends$1.apply(this,arguments)}class SnapshotHandler{async loadSnapshot(r){const{options:t0}=this.HostInstance,{hostGlobalSnapshot:n0,remoteSnapshot:r0,globalSnapshot:i0}=this.getGlobalRemoteInfo(r),{remoteSnapshot:o0,globalSnapshot:s0}=await this.hooks.lifecycle.loadSnapshot.emit({options:t0,moduleInfo:r,hostGlobalSnapshot:n0,remoteSnapshot:r0,globalSnapshot:i0});return{remoteSnapshot:o0,globalSnapshot:s0}}async loadRemoteSnapshotInfo(r){const{options:t0}=this.HostInstance;await this.hooks.lifecycle.beforeLoadRemoteSnapshot.emit({options:t0,moduleInfo:r});let n0=getGlobalSnapshotInfoByModuleInfo({name:this.HostInstance.options.name,version:this.HostInstance.options.version});n0||(n0={version:this.HostInstance.options.version||"",remoteEntry:"",remotesInfo:{}},addGlobalSnapshot({[this.HostInstance.options.name]:n0})),n0&&"remotesInfo"in n0&&!getInfoWithoutType(n0.remotesInfo,r.name).value&&("version"in r||"entry"in r)&&(n0.remotesInfo=_extends$1({},n0?.remotesInfo,{[r.name]:{matchedVersion:"version"in r?r.version:r.entry}}));const{hostGlobalSnapshot:r0,remoteSnapshot:i0,globalSnapshot:o0}=this.getGlobalRemoteInfo(r),{remoteSnapshot:s0,globalSnapshot:a0}=await this.hooks.lifecycle.loadSnapshot.emit({options:t0,moduleInfo:r,hostGlobalSnapshot:r0,remoteSnapshot:i0,globalSnapshot:o0});if(s0)if(isManifestProvider(s0)){const c0=await this.getManifestJson(s0.remoteEntry,r,{}),l0=setGlobalSnapshotInfoByModuleInfo(_extends$1({},r,{entry:s0.remoteEntry}),c0);return{remoteSnapshot:c0,globalSnapshot:l0}}else{const{remoteSnapshot:c0}=await this.hooks.lifecycle.loadRemoteSnapshot.emit({options:this.HostInstance.options,moduleInfo:r,remoteSnapshot:s0,from:"global"});return{remoteSnapshot:c0,globalSnapshot:a0}}else if(isRemoteInfoWithEntry(r)){const c0=await this.getManifestJson(r.entry,r,{}),l0=setGlobalSnapshotInfoByModuleInfo(r,c0),{remoteSnapshot:u0}=await this.hooks.lifecycle.loadRemoteSnapshot.emit({options:this.HostInstance.options,moduleInfo:r,remoteSnapshot:c0,from:"global"});return{remoteSnapshot:u0,globalSnapshot:l0}}else error(`
          Cannot get remoteSnapshot with the name: '${r.name}', version: '${r.version}' from __FEDERATION__.moduleInfo. The following reasons may be causing the problem:

          1. The Deploy platform did not deliver the correct data. You can use __FEDERATION__.moduleInfo to check the remoteInfo.

          2. The remote '${r.name}' version '${r.version}' is not released.

          The transformed module info: ${JSON.stringify(a0)}
        `)}getGlobalRemoteInfo(r){const t0=getGlobalSnapshotInfoByModuleInfo({name:this.HostInstance.options.name,version:this.HostInstance.options.version}),n0=t0&&"remotesInfo"in t0&&t0.remotesInfo&&getInfoWithoutType(t0.remotesInfo,r.name).value;return n0&&n0.matchedVersion?{hostGlobalSnapshot:t0,globalSnapshot:getGlobalSnapshot(),remoteSnapshot:getGlobalSnapshotInfoByModuleInfo({name:r.name,version:n0.matchedVersion})}:{hostGlobalSnapshot:void 0,globalSnapshot:getGlobalSnapshot(),remoteSnapshot:getGlobalSnapshotInfoByModuleInfo({name:r.name,version:"version"in r?r.version:void 0})}}async getManifestJson(r,t0,n0){const r0=async()=>{let o0=this.manifestCache.get(r);if(o0)return o0;try{let s0=await this.loaderHook.lifecycle.fetch.emit(r,{});return(!s0||!(s0 instanceof Response))&&(s0=await fetch(r,{})),o0=await s0.json(),assert$2(o0.metaData&&o0.exposes&&o0.shared,`${r} is not a federation manifest`),this.manifestCache.set(r,o0),o0}catch(s0){error(`Failed to get manifestJson for ${t0.name}. The manifest URL is ${r}. Please ensure that the manifestUrl is accessible.
          
 Error message:
          
 ${s0}`)}},i0=async()=>{const o0=await r0(),s0=generateSnapshotFromManifest(o0,{version:r}),{remoteSnapshot:a0}=await this.hooks.lifecycle.loadRemoteSnapshot.emit({options:this.HostInstance.options,moduleInfo:t0,manifestJson:o0,remoteSnapshot:s0,manifestUrl:r,from:"manifest"});return a0};return this.manifestLoading[r]||(this.manifestLoading[r]=i0().then(o0=>o0)),this.manifestLoading[r]}constructor(r){this.loadingHostSnapshot=null,this.manifestCache=new Map,this.hooks=new PluginSystem({beforeLoadRemoteSnapshot:new AsyncHook("beforeLoadRemoteSnapshot"),loadSnapshot:new AsyncWaterfallHook("loadGlobalSnapshot"),loadRemoteSnapshot:new AsyncWaterfallHook("loadRemoteSnapshot")}),this.manifestLoading=Global.__FEDERATION__.__MANIFEST_LOADING__,this.HostInstance=r,this.loaderHook=r.loaderHook}}function _extends(){return _extends=Object.assign||function(e0){for(var r=1;r<arguments.length;r++){var t0=arguments[r];for(var n0 in t0)Object.prototype.hasOwnProperty.call(t0,n0)&&(e0[n0]=t0[n0])}return e0},_extends.apply(this,arguments)}function _object_without_properties_loose(e0,r){if(e0==null)return{};var t0={},n0=Object.keys(e0),r0,i0;for(i0=0;i0<n0.length;i0++)r0=n0[i0],!(r.indexOf(r0)>=0)&&(t0[r0]=e0[r0]);return t0}class FederationHost{_setGlobalShareScopeMap(){const r=getGlobalShareScope(),t0=this.options.id||this.options.name;t0&&!r[t0]&&(r[t0]=this.shareScopeMap)}initOptions(r){this.registerPlugins(r.plugins);const t0=this.formatOptions(this.options,r);return this.options=t0,t0}async loadShare(r,t0){var n0;const r0=Object.assign({},(n0=this.options.shared)==null?void 0:n0[r],t0);r0!=null&&r0.scope&&await Promise.all(r0.scope.map(async c0=>{await Promise.all(this.initializeSharing(c0,r0.strategy))}));const i0=await this.hooks.lifecycle.beforeLoadShare.emit({pkgName:r,shareInfo:r0,shared:this.options.shared,origin:this}),{shareInfo:o0}=i0;assert$2(o0,`Cannot find ${r} Share in the ${this.options.name}. Please ensure that the ${r} Share parameters have been injected`);const s0=getRegisteredShare(this.shareScopeMap,r,o0,this.hooks.lifecycle.resolveShare),a0=c0=>{c0.useIn||(c0.useIn=[]),addUniqueItem(c0.useIn,this.options.name)};if(s0&&s0.lib)return a0(s0),s0.lib;if(s0&&s0.loading&&!s0.loaded){const c0=await s0.loading;return s0.loaded=!0,s0.lib||(s0.lib=c0),a0(s0),c0}else if(s0){const c0=(async()=>{const l0=await s0.get();o0.lib=l0,o0.loaded=!0,a0(o0);const u0=getRegisteredShare(this.shareScopeMap,r,o0,this.hooks.lifecycle.resolveShare);return u0&&(u0.lib=l0,u0.loaded=!0),l0})();return this.setShared({pkgName:r,loaded:!1,shared:s0,from:this.options.name,lib:null,loading:c0}),c0}else{if(t0)return!1;const c0=(async()=>{const l0=await o0.get();o0.lib=l0,o0.loaded=!0,a0(o0);const u0=getRegisteredShare(this.shareScopeMap,r,o0,this.hooks.lifecycle.resolveShare);return u0&&(u0.lib=l0,u0.loaded=!0),l0})();return this.setShared({pkgName:r,loaded:!1,shared:o0,from:this.options.name,lib:null,loading:c0}),c0}}loadShareSync(r,t0){var n0;const r0=Object.assign({},(n0=this.options.shared)==null?void 0:n0[r],t0);r0!=null&&r0.scope&&r0.scope.forEach(s0=>{this.initializeSharing(s0,r0.strategy)});const i0=getRegisteredShare(this.shareScopeMap,r,r0,this.hooks.lifecycle.resolveShare),o0=s0=>{s0.useIn||(s0.useIn=[]),addUniqueItem(s0.useIn,this.options.name)};if(i0){if(typeof i0.lib=="function")return o0(i0),i0.loaded||(i0.loaded=!0,i0.from===this.options.name&&(r0.loaded=!0)),i0.lib;if(typeof i0.get=="function"){const s0=i0.get();if(!(s0 instanceof Promise))return o0(i0),this.setShared({pkgName:r,loaded:!0,from:this.options.name,lib:s0,shared:i0}),s0}}if(r0.lib)return r0.loaded||(r0.loaded=!0),r0.lib;if(r0.get){const s0=r0.get();if(s0 instanceof Promise)throw new Error(`
        The loadShareSync function was unable to load ${r}. The ${r} could not be found in ${this.options.name}.
        Possible reasons for failure: 

        1. The ${r} share was registered with the 'get' attribute, but loadShare was not used beforehand.

        2. The ${r} share was not registered with the 'lib' attribute.

      `);return r0.lib=s0,this.setShared({pkgName:r,loaded:!0,from:this.options.name,lib:r0.lib,shared:r0}),r0.lib}throw new Error(`
        The loadShareSync function was unable to load ${r}. The ${r} could not be found in ${this.options.name}.
        Possible reasons for failure: 

        1. The ${r} share was registered with the 'get' attribute, but loadShare was not used beforehand.

        2. The ${r} share was not registered with the 'lib' attribute.

      `)}initRawContainer(r,t0,n0){const r0=getRemoteInfo({name:r,entry:t0}),i0=new Module({host:this,remoteInfo:r0});return i0.remoteEntryExports=n0,this.moduleCache.set(r,i0),i0}async _getRemoteModuleAndOptions(r){const t0=await this.hooks.lifecycle.beforeRequest.emit({id:r,options:this.options,origin:this}),{id:n0}=t0,r0=matchRemoteWithNameAndExpose(this.options.remotes,n0);assert$2(r0,`
        Unable to locate ${n0} in ${this.options.name}. Potential reasons for failure include:

        1. ${n0} was not included in the 'remotes' parameter of ${this.options.name||"the host"}.

        2. ${n0} could not be found in the 'remotes' of ${this.options.name} with either 'name' or 'alias' attributes.
        3. ${n0} is not online, injected, or loaded.
        4. ${n0}  cannot be accessed on the expected.
        5. The 'beforeRequest' hook was provided but did not return the correct 'remoteInfo' when attempting to load ${n0}.
      `);const{remote:i0}=r0,o0=getRemoteInfo(i0),s0=await this.hooks.lifecycle.afterResolve.emit(_extends({id:n0},r0,{options:this.options,origin:this,remoteInfo:o0})),{remote:a0,expose:c0}=s0;assert$2(a0&&c0,`The 'beforeRequest' hook was executed, but it failed to return the correct 'remote' and 'expose' values while loading ${n0}.`);let l0=this.moduleCache.get(a0.name);const u0={host:this,remoteInfo:o0};return l0||(l0=new Module(u0),this.moduleCache.set(a0.name,l0)),{module:l0,moduleOptions:u0,remoteMatchInfo:s0}}async loadRemote(r,t0){try{const{loadFactory:n0=!0}=t0||{loadFactory:!0},{module:r0,moduleOptions:i0,remoteMatchInfo:o0}=await this._getRemoteModuleAndOptions(r),{pkgNameOrAlias:s0,remote:a0,expose:c0,id:l0}=o0,u0=await r0.get(c0,t0),h0=await this.hooks.lifecycle.onLoad.emit({id:l0,pkgNameOrAlias:s0,expose:c0,exposeModule:n0?u0:void 0,exposeModuleFactory:n0?void 0:u0,remote:a0,options:i0,moduleInstance:r0,origin:this});return typeof h0=="function"?h0:u0}catch(n0){const{from:r0="runtime"}=t0||{from:"runtime"},i0=await this.hooks.lifecycle.errorLoadRemote.emit({id:r,error:n0,from:r0,origin:this});if(!i0)throw n0;return i0}}async preloadRemote(r){await this.hooks.lifecycle.beforePreloadRemote.emit({preloadOptions:r,options:this.options,origin:this});const t0=formatPreloadArgs(this.options.remotes,r);await Promise.all(t0.map(async n0=>{const{remote:r0}=n0,i0=getRemoteInfo(r0),{globalSnapshot:o0,remoteSnapshot:s0}=await this.snapshotHandler.loadRemoteSnapshotInfo(r0),a0=await this.hooks.lifecycle.generatePreloadAssets.emit({origin:this,preloadOptions:n0,remote:r0,remoteInfo:i0,globalSnapshot:o0,remoteSnapshot:s0});!a0||preloadAssets(i0,this,a0)}))}initializeSharing(r=DEFAULT_SCOPE,t0){const n0=this.shareScopeMap,r0=this.options.name;n0[r]||(n0[r]={});const i0=n0[r],o0=(l0,u0)=>{var h0;const{version:g0,eager:w0}=u0;i0[l0]=i0[l0]||{};const m0=i0[l0],S0=m0[g0],b0=!!(S0&&(S0.eager||(h0=S0.shareConfig)!=null&&h0.eager));(!S0||S0.strategy!=="loaded-first"&&!S0.loaded&&(!w0!=!b0?w0:r0>S0.from))&&(m0[g0]=u0)},s0=[],a0=l0=>l0&&l0.init&&l0.init(n0[r]),c0=async l0=>{const{module:u0}=await this._getRemoteModuleAndOptions(l0);if(u0.getEntry){const h0=await u0.getEntry();u0.inited||(a0(h0),u0.inited=!0)}};return Object.keys(this.options.shared).forEach(l0=>{const u0=this.options.shared[l0];u0.scope.includes(r)&&o0(l0,u0)}),t0==="version-first"&&this.options.remotes.forEach(l0=>{l0.shareScope===r&&s0.push(c0(l0.name))}),s0}initShareScopeMap(r,t0){this.shareScopeMap[r]=t0,this.hooks.lifecycle.initContainerShareScopeMap.emit({shareScope:t0,options:this.options,origin:this})}formatOptions(r,t0){const n0=formatShareConfigs(t0.shared||{},t0.name),r0=_extends({},r.shared,n0),{userOptions:i0,options:o0}=this.hooks.lifecycle.beforeInit.emit({origin:this,userOptions:t0,options:r,shareInfo:r0}),s0=(i0.remotes||[]).reduce((l0,u0)=>(this.registerRemote(u0,l0,{force:!1}),l0),o0.remotes);Object.keys(n0).forEach(l0=>{const u0=n0[l0];!getRegisteredShare(this.shareScopeMap,l0,u0,this.hooks.lifecycle.resolveShare)&&u0&&u0.lib&&this.setShared({pkgName:l0,lib:u0.lib,get:u0.get,loaded:!0,shared:u0,from:t0.name})});const a0=[...o0.plugins];i0.plugins&&i0.plugins.forEach(l0=>{a0.includes(l0)||a0.push(l0)});const c0=_extends({},r,t0,{plugins:a0,remotes:s0,shared:r0});return this.hooks.lifecycle.init.emit({origin:this,options:c0}),c0}registerPlugins(r){registerPlugins(r,[this.hooks,this.snapshotHandler.hooks,this.loaderHook])}setShared({pkgName:r,shared:t0,from:n0,lib:r0,loading:i0,loaded:o0,get:s0}){const{version:a0,scope:c0="default"}=t0,l0=_object_without_properties_loose(t0,["version","scope"]);(Array.isArray(c0)?c0:[c0]).forEach(u0=>{this.shareScopeMap[u0]||(this.shareScopeMap[u0]={}),this.shareScopeMap[u0][r]||(this.shareScopeMap[u0][r]={}),!this.shareScopeMap[u0][r][a0]&&(this.shareScopeMap[u0][r][a0]=_extends({version:a0,scope:["default"]},l0,{lib:r0,loaded:o0,loading:i0}),s0&&(this.shareScopeMap[u0][r][a0].get=s0))})}removeRemote(r){const{name:t0}=r,n0=this.options.remotes.findIndex(i0=>i0.name===t0);n0!==-1&&this.options.remotes.splice(n0,1);const r0=this.moduleCache.get(r.name);if(r0){const i0=r0.remoteInfo.entryGlobalName;globalThis[i0]&&delete globalThis[i0];const o0=getRemoteEntryUniqueKey(r0.remoteInfo);globalLoading[o0]&&delete globalLoading[o0],this.moduleCache.delete(r.name)}}registerRemote(r,t0,n0){const r0=()=>{if(r.alias){const o0=t0.find(s0=>{var a0;return r.alias&&(s0.name.startsWith(r.alias)||((a0=s0.alias)==null?void 0:a0.startsWith(r.alias)))});assert$2(!o0,`The alias ${r.alias} of remote ${r.name} is not allowed to be the prefix of ${o0&&o0.name} name or alias`)}"entry"in r&&isBrowserEnv$1()&&!r.entry.startsWith("http")&&(r.entry=new URL(r.entry,window.location.origin).href),r.shareScope||(r.shareScope=DEFAULT_SCOPE),r.type||(r.type=DEFAULT_REMOTE_TYPE)},i0=t0.find(o0=>o0.name===r.name);if(!i0)r0(),t0.push(r);else{const o0=[`The remote "${r.name}" is already registered.`,n0!=null&&n0.force?"Hope you have known that OVERRIDE it may have some unexpected errors":'If you want to merge the remote, you can set "force: true".'];n0!=null&&n0.force&&(this.removeRemote(i0),r0(),t0.push(r)),warn$1(o0.join(" "))}}registerRemotes(r,t0){r.forEach(n0=>{this.registerRemote(n0,this.options.remotes,{force:t0?.force})})}constructor(r){this.hooks=new PluginSystem({beforeInit:new SyncWaterfallHook("beforeInit"),init:new SyncHook,beforeRequest:new AsyncWaterfallHook("beforeRequest"),afterResolve:new AsyncWaterfallHook("afterResolve"),beforeInitContainer:new AsyncWaterfallHook("beforeInitContainer"),initContainerShareScopeMap:new AsyncWaterfallHook("initContainer"),initContainer:new AsyncWaterfallHook("initContainer"),onLoad:new AsyncHook("onLoad"),handlePreloadModule:new SyncHook("handlePreloadModule"),errorLoadRemote:new AsyncHook("errorLoadRemote"),beforeLoadShare:new AsyncWaterfallHook("beforeLoadShare"),loadShare:new AsyncHook,resolveShare:new SyncWaterfallHook("resolveShare"),beforePreloadRemote:new AsyncHook,generatePreloadAssets:new AsyncHook("generatePreloadAssets"),afterPreloadRemote:new AsyncHook}),this.version="0.1.2",this.moduleCache=new Map,this.loaderHook=new PluginSystem({getModuleInfo:new SyncHook,createScript:new SyncHook,createLink:new SyncHook,fetch:new AsyncHook("fetch")});const t0={id:getBuilderId(),name:r.name,plugins:[snapshotPlugin(),generatePreloadAssetsPlugin()],remotes:[],shared:{},inBrowser:isBrowserEnv$1()};this.name=r.name,this.options=t0,this.shareScopeMap={},this._setGlobalShareScopeMap(),this.snapshotHandler=new SnapshotHandler(this),this.registerPlugins([...t0.plugins,...r.plugins||[]]),this.options=this.formatOptions(t0,r)}}let FederationInstance=null;function init(e0){const r=getGlobalFederationInstance(e0.name,e0.version);if(r)return r.initOptions(e0),FederationInstance||(FederationInstance=r),r;{const t0=getGlobalFederationConstructor()||FederationHost;return FederationInstance=new t0(e0),setGlobalFederationInstance(FederationInstance),FederationInstance}}function loadRemote(...e0){return assert$2(FederationInstance,"Please call init first"),FederationInstance.loadRemote.apply(FederationInstance,e0)}setGlobalFederationConstructor(FederationHost);function __awaiter(e0,r,t0,n0){function r0(i0){return i0 instanceof t0?i0:new t0(function(o0){o0(i0)})}return new(t0||(t0=Promise))(function(i0,o0){function s0(l0){try{c0(n0.next(l0))}catch(u0){o0(u0)}}function a0(l0){try{c0(n0.throw(l0))}catch(u0){o0(u0)}}function c0(l0){l0.done?i0(l0.value):r0(l0.value).then(s0,a0)}c0((n0=n0.apply(e0,r||[])).next())})}function __generator(e0,r){var t0={label:0,sent:function(){if(i0[0]&1)throw i0[1];return i0[1]},trys:[],ops:[]},n0,r0,i0,o0;return o0={next:s0(0),throw:s0(1),return:s0(2)},typeof Symbol=="function"&&(o0[Symbol.iterator]=function(){return this}),o0;function s0(c0){return function(l0){return a0([c0,l0])}}function a0(c0){if(n0)throw new TypeError("Generator is already executing.");for(;t0;)try{if(n0=1,r0&&(i0=c0[0]&2?r0.return:c0[0]?r0.throw||((i0=r0.return)&&i0.call(r0),0):r0.next)&&!(i0=i0.call(r0,c0[1])).done)return i0;switch(r0=0,i0&&(c0=[c0[0]&2,i0.value]),c0[0]){case 0:case 1:i0=c0;break;case 4:return t0.label++,{value:c0[1],done:!1};case 5:t0.label++,r0=c0[1],c0=[0];continue;case 7:c0=t0.ops.pop(),t0.trys.pop();continue;default:if(i0=t0.trys,!(i0=i0.length>0&&i0[i0.length-1])&&(c0[0]===6||c0[0]===2)){t0=0;continue}if(c0[0]===3&&(!i0||c0[1]>i0[0]&&c0[1]<i0[3])){t0.label=c0[1];break}if(c0[0]===6&&t0.label<i0[1]){t0.label=i0[1],i0=c0;break}if(i0&&t0.label<i0[2]){t0.label=i0[2],t0.ops.push(c0);break}i0[2]&&t0.ops.pop(),t0.trys.pop();continue}c0=r.call(e0,t0)}catch(l0){c0=[6,l0],r0=0}finally{n0=i0=0}if(c0[0]&5)throw c0[1];return{value:c0[0]?c0[1]:void 0,done:!0}}}var E_CANCELED=new Error("request for lock canceled"),Semaphore=function(){function e0(r,t0){t0===void 0&&(t0=E_CANCELED),this._value=r,this._cancelError=t0,this._queue=[],this._weightedWaiters=[]}return e0.prototype.acquire=function(r,t0){var n0=this;if(r===void 0&&(r=1),t0===void 0&&(t0=0),r<=0)throw new Error("invalid weight ".concat(r,": must be positive"));return new Promise(function(r0,i0){var o0={resolve:r0,reject:i0,weight:r,priority:t0},s0=findIndexFromEnd(n0._queue,function(a0){return t0<=a0.priority});s0===-1&&r<=n0._value?n0._dispatchItem(o0):n0._queue.splice(s0+1,0,o0)})},e0.prototype.runExclusive=function(r){return __awaiter(this,arguments,void 0,function(t0,n0,r0){var i0,o0,s0;return n0===void 0&&(n0=1),r0===void 0&&(r0=0),__generator(this,function(a0){switch(a0.label){case 0:return[4,this.acquire(n0,r0)];case 1:i0=a0.sent(),o0=i0[0],s0=i0[1],a0.label=2;case 2:return a0.trys.push([2,,4,5]),[4,t0(o0)];case 3:return[2,a0.sent()];case 4:return s0(),[7];case 5:return[2]}})})},e0.prototype.waitForUnlock=function(r,t0){var n0=this;if(r===void 0&&(r=1),t0===void 0&&(t0=0),r<=0)throw new Error("invalid weight ".concat(r,": must be positive"));return this._couldLockImmediately(r,t0)?Promise.resolve():new Promise(function(r0){n0._weightedWaiters[r-1]||(n0._weightedWaiters[r-1]=[]),insertSorted(n0._weightedWaiters[r-1],{resolve:r0,priority:t0})})},e0.prototype.isLocked=function(){return this._value<=0},e0.prototype.getValue=function(){return this._value},e0.prototype.setValue=function(r){this._value=r,this._dispatchQueue()},e0.prototype.release=function(r){if(r===void 0&&(r=1),r<=0)throw new Error("invalid weight ".concat(r,": must be positive"));this._value+=r,this._dispatchQueue()},e0.prototype.cancel=function(){var r=this;this._queue.forEach(function(t0){return t0.reject(r._cancelError)}),this._queue=[]},e0.prototype._dispatchQueue=function(){for(this._drainUnlockWaiters();this._queue.length>0&&this._queue[0].weight<=this._value;)this._dispatchItem(this._queue.shift()),this._drainUnlockWaiters()},e0.prototype._dispatchItem=function(r){var t0=this._value;this._value-=r.weight,r.resolve([t0,this._newReleaser(r.weight)])},e0.prototype._newReleaser=function(r){var t0=this,n0=!1;return function(){n0||(n0=!0,t0.release(r))}},e0.prototype._drainUnlockWaiters=function(){if(this._queue.length===0)for(var r=this._value;r>0;r--){var t0=this._weightedWaiters[r-1];!t0||(t0.forEach(function(i0){return i0.resolve()}),this._weightedWaiters[r-1]=[])}else for(var n0=this._queue[0].priority,r=this._value;r>0;r--){var t0=this._weightedWaiters[r-1];if(t0){var r0=t0.findIndex(function(s0){return s0.priority<=n0});(r0===-1?t0:t0.splice(0,r0)).forEach(function(s0){return s0.resolve()})}}},e0.prototype._couldLockImmediately=function(r,t0){return(this._queue.length===0||this._queue[0].priority<t0)&&r<=this._value},e0}();function insertSorted(e0,r){var t0=findIndexFromEnd(e0,function(n0){return r.priority<=n0.priority});e0.splice(t0+1,0,r)}function findIndexFromEnd(e0,r){for(var t0=e0.length-1;t0>=0;t0--)if(r(e0[t0]))return t0;return-1}var Mutex=function(){function e0(r){this._semaphore=new Semaphore(1,r)}return e0.prototype.acquire=function(){return __awaiter(this,arguments,void 0,function(r){var t0,n0;return r===void 0&&(r=0),__generator(this,function(r0){switch(r0.label){case 0:return[4,this._semaphore.acquire(1,r)];case 1:return t0=r0.sent(),n0=t0[1],[2,n0]}})})},e0.prototype.runExclusive=function(r,t0){return t0===void 0&&(t0=0),this._semaphore.runExclusive(function(){return r()},1,t0)},e0.prototype.isLocked=function(){return this._semaphore.isLocked()},e0.prototype.waitForUnlock=function(r){return r===void 0&&(r=0),this._semaphore.waitForUnlock(1,r)},e0.prototype.release=function(){this._semaphore.isLocked()&&this._semaphore.release()},e0.prototype.cancel=function(){return this._semaphore.cancel()},e0}();function isMetaMaskProvider(e0){return e0!==null&&typeof e0=="object"&&e0.hasOwnProperty("isMetaMask")&&e0.hasOwnProperty("request")}function detectMetaMaskProvider(e0,{timeout:r=3e3}={}){let t0=!1;return new Promise(n0=>{const r0=i0=>{const{info:o0,provider:s0}=i0.detail;(o0.rdns==="io.metamask"||o0.rdns==="io.metamask.flask")&&isMetaMaskProvider(s0)&&(n0(s0),t0=!0)};typeof e0.addEventListener=="function"&&e0.addEventListener("eip6963:announceProvider",r0),setTimeout(()=>{t0||n0(null)},r),typeof e0.dispatchEvent=="function"&&e0.dispatchEvent(new Event("eip6963:requestProvider"))})}async function waitForMetaMaskProvider(e0,r={}){const{timeout:t0=3e3,retries:n0=0}=r;let r0=null;try{r0=await detectMetaMaskProvider(e0,{timeout:t0})}catch{}return r0||(n0===0?null:(r0=await waitForMetaMaskProvider({timeout:t0,retries:n0-1}),r0))}async function detectMetamaskSupport(e0){return await waitForMetaMaskProvider(e0,{retries:3})}var Q$3,q$5,C$2,G$2,Y$3,J$4;class MetaMaskVirtualWallet{constructor(){T$5(this,Q$3),T$5(this,C$2),T$5(this,Y$3),_$5(this,"id","metamask"),_$5(this,"name","MetaMask"),_$5(this,"icon","data:image/svg+xml;utf8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMTIiIGhlaWdodD0iMTg5IiB2aWV3Qm94PSIwIDAgMjEyIDE4OSI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48cG9seWdvbiBmaWxsPSIjQ0RCREIyIiBwb2ludHM9IjYwLjc1IDE3My4yNSA4OC4zMTMgMTgwLjU2MyA4OC4zMTMgMTcxIDkwLjU2MyAxNjguNzUgMTA2LjMxMyAxNjguNzUgMTA2LjMxMyAxODAgMTA2LjMxMyAxODcuODc1IDg5LjQzOCAxODcuODc1IDY4LjYyNSAxNzguODc1Ii8+PHBvbHlnb24gZmlsbD0iI0NEQkRCMiIgcG9pbnRzPSIxMDUuNzUgMTczLjI1IDEzMi43NSAxODAuNTYzIDEzMi43NSAxNzEgMTM1IDE2OC43NSAxNTAuNzUgMTY4Ljc1IDE1MC43NSAxODAgMTUwLjc1IDE4Ny44NzUgMTMzLjg3NSAxODcuODc1IDExMy4wNjMgMTc4Ljg3NSIgdHJhbnNmb3JtPSJtYXRyaXgoLTEgMCAwIDEgMjU2LjUgMCkiLz48cG9seWdvbiBmaWxsPSIjMzkzOTM5IiBwb2ludHM9IjkwLjU2MyAxNTIuNDM4IDg4LjMxMyAxNzEgOTEuMTI1IDE2OC43NSAxMjAuMzc1IDE2OC43NSAxMjMuNzUgMTcxIDEyMS41IDE1Mi40MzggMTE3IDE0OS42MjUgOTQuNSAxNTAuMTg4Ii8+PHBvbHlnb24gZmlsbD0iI0Y4OUMzNSIgcG9pbnRzPSI3NS4zNzUgMjcgODguODc1IDU4LjUgOTUuMDYzIDE1MC4xODggMTE3IDE1MC4xODggMTIzLjc1IDU4LjUgMTM2LjEyNSAyNyIvPjxwb2x5Z29uIGZpbGw9IiNGODlEMzUiIHBvaW50cz0iMTYuMzEzIDk2LjE4OCAuNTYzIDE0MS43NSAzOS45MzggMTM5LjUgNjUuMjUgMTM5LjUgNjUuMjUgMTE5LjgxMyA2NC4xMjUgNzkuMzEzIDU4LjUgODMuODEzIi8+PHBvbHlnb24gZmlsbD0iI0Q4N0MzMCIgcG9pbnRzPSI0Ni4xMjUgMTAxLjI1IDkyLjI1IDEwMi4zNzUgODcuMTg4IDEyNiA2NS4yNSAxMjAuMzc1Ii8+PHBvbHlnb24gZmlsbD0iI0VBOEQzQSIgcG9pbnRzPSI0Ni4xMjUgMTAxLjgxMyA2NS4yNSAxMTkuODEzIDY1LjI1IDEzNy44MTMiLz48cG9seWdvbiBmaWxsPSIjRjg5RDM1IiBwb2ludHM9IjY1LjI1IDEyMC4zNzUgODcuNzUgMTI2IDk1LjA2MyAxNTAuMTg4IDkwIDE1MyA2NS4yNSAxMzguMzc1Ii8+PHBvbHlnb24gZmlsbD0iI0VCOEYzNSIgcG9pbnRzPSI2NS4yNSAxMzguMzc1IDYwLjc1IDE3My4yNSA5MC41NjMgMTUyLjQzOCIvPjxwb2x5Z29uIGZpbGw9IiNFQThFM0EiIHBvaW50cz0iOTIuMjUgMTAyLjM3NSA5NS4wNjMgMTUwLjE4OCA4Ni42MjUgMTI1LjcxOSIvPjxwb2x5Z29uIGZpbGw9IiNEODdDMzAiIHBvaW50cz0iMzkuMzc1IDEzOC45MzggNjUuMjUgMTM4LjM3NSA2MC43NSAxNzMuMjUiLz48cG9seWdvbiBmaWxsPSIjRUI4RjM1IiBwb2ludHM9IjEyLjkzOCAxODguNDM4IDYwLjc1IDE3My4yNSAzOS4zNzUgMTM4LjkzOCAuNTYzIDE0MS43NSIvPjxwb2x5Z29uIGZpbGw9IiNFODgyMUUiIHBvaW50cz0iODguODc1IDU4LjUgNjQuNjg4IDc4Ljc1IDQ2LjEyNSAxMDEuMjUgOTIuMjUgMTAyLjkzOCIvPjxwb2x5Z29uIGZpbGw9IiNERkNFQzMiIHBvaW50cz0iNjAuNzUgMTczLjI1IDkwLjU2MyAxNTIuNDM4IDg4LjMxMyAxNzAuNDM4IDg4LjMxMyAxODAuNTYzIDY4LjA2MyAxNzYuNjI1Ii8+PHBvbHlnb24gZmlsbD0iI0RGQ0VDMyIgcG9pbnRzPSIxMjEuNSAxNzMuMjUgMTUwLjc1IDE1Mi40MzggMTQ4LjUgMTcwLjQzOCAxNDguNSAxODAuNTYzIDEyOC4yNSAxNzYuNjI1IiB0cmFuc2Zvcm09Im1hdHJpeCgtMSAwIDAgMSAyNzIuMjUgMCkiLz48cG9seWdvbiBmaWxsPSIjMzkzOTM5IiBwb2ludHM9IjcwLjMxMyAxMTIuNSA2NC4xMjUgMTI1LjQzOCA4Ni4wNjMgMTE5LjgxMyIgdHJhbnNmb3JtPSJtYXRyaXgoLTEgMCAwIDEgMTUwLjE4OCAwKSIvPjxwb2x5Z29uIGZpbGw9IiNFODhGMzUiIHBvaW50cz0iMTIuMzc1IC41NjMgODguODc1IDU4LjUgNzUuOTM4IDI3Ii8+PHBhdGggZmlsbD0iIzhFNUEzMCIgZD0iTTEyLjM3NTAwMDIsMC41NjI1MDAwMDggTDIuMjUwMDAwMDMsMzEuNTAwMDAwNSBMNy44NzUwMDAxMiw2NS4yNTAwMDEgTDMuOTM3NTAwMDYsNjcuNTAwMDAxIEw5LjU2MjUwMDE0LDcyLjU2MjUgTDUuMDYyNTAwMDgsNzYuNTAwMDAxMSBMMTEuMjUsODIuMTI1MDAxMiBMNy4zMTI1MDAxMSw4NS41MDAwMDEzIEwxNi4zMTI1MDAyLDk2Ljc1MDAwMTQgTDU4LjUwMDAwMDksODMuODEyNTAxMiBDNzkuMTI1MDAxMiw2Ny4zMTI1MDA0IDg5LjI1MDAwMTMsNTguODc1MDAwMyA4OC44NzUwMDEzLDU4LjUwMDAwMDkgQzg4LjUwMDAwMTMsNTguMTI1MDAwOSA2My4wMDAwMDA5LDM4LjgxMjUwMDYgMTIuMzc1MDAwMiwwLjU2MjUwMDAwOCBaIi8+PGcgdHJhbnNmb3JtPSJtYXRyaXgoLTEgMCAwIDEgMjExLjUgMCkiPjxwb2x5Z29uIGZpbGw9IiNGODlEMzUiIHBvaW50cz0iMTYuMzEzIDk2LjE4OCAuNTYzIDE0MS43NSAzOS45MzggMTM5LjUgNjUuMjUgMTM5LjUgNjUuMjUgMTE5LjgxMyA2NC4xMjUgNzkuMzEzIDU4LjUgODMuODEzIi8+PHBvbHlnb24gZmlsbD0iI0Q4N0MzMCIgcG9pbnRzPSI0Ni4xMjUgMTAxLjI1IDkyLjI1IDEwMi4zNzUgODcuMTg4IDEyNiA2NS4yNSAxMjAuMzc1Ii8+PHBvbHlnb24gZmlsbD0iI0VBOEQzQSIgcG9pbnRzPSI0Ni4xMjUgMTAxLjgxMyA2NS4yNSAxMTkuODEzIDY1LjI1IDEzNy44MTMiLz48cG9seWdvbiBmaWxsPSIjRjg5RDM1IiBwb2ludHM9IjY1LjI1IDEyMC4zNzUgODcuNzUgMTI2IDk1LjA2MyAxNTAuMTg4IDkwIDE1MyA2NS4yNSAxMzguMzc1Ii8+PHBvbHlnb24gZmlsbD0iI0VCOEYzNSIgcG9pbnRzPSI2NS4yNSAxMzguMzc1IDYwLjc1IDE3My4yNSA5MCAxNTMiLz48cG9seWdvbiBmaWxsPSIjRUE4RTNBIiBwb2ludHM9IjkyLjI1IDEwMi4zNzUgOTUuMDYzIDE1MC4xODggODYuNjI1IDEyNS43MTkiLz48cG9seWdvbiBmaWxsPSIjRDg3QzMwIiBwb2ludHM9IjM5LjM3NSAxMzguOTM4IDY1LjI1IDEzOC4zNzUgNjAuNzUgMTczLjI1Ii8+PHBvbHlnb24gZmlsbD0iI0VCOEYzNSIgcG9pbnRzPSIxMi45MzggMTg4LjQzOCA2MC43NSAxNzMuMjUgMzkuMzc1IDEzOC45MzggLjU2MyAxNDEuNzUiLz48cG9seWdvbiBmaWxsPSIjRTg4MjFFIiBwb2ludHM9Ijg4Ljg3NSA1OC41IDY0LjY4OCA3OC43NSA0Ni4xMjUgMTAxLjI1IDkyLjI1IDEwMi45MzgiLz48cG9seWdvbiBmaWxsPSIjMzkzOTM5IiBwb2ludHM9IjcwLjMxMyAxMTIuNSA2NC4xMjUgMTI1LjQzOCA4Ni4wNjMgMTE5LjgxMyIgdHJhbnNmb3JtPSJtYXRyaXgoLTEgMCAwIDEgMTUwLjE4OCAwKSIvPjxwb2x5Z29uIGZpbGw9IiNFODhGMzUiIHBvaW50cz0iMTIuMzc1IC41NjMgODguODc1IDU4LjUgNzUuOTM4IDI3Ii8+PHBhdGggZmlsbD0iIzhFNUEzMCIgZD0iTTEyLjM3NTAwMDIsMC41NjI1MDAwMDggTDIuMjUwMDAwMDMsMzEuNTAwMDAwNSBMNy44NzUwMDAxMiw2NS4yNTAwMDEgTDMuOTM3NTAwMDYsNjcuNTAwMDAxIEw5LjU2MjUwMDE0LDcyLjU2MjUgTDUuMDYyNTAwMDgsNzYuNTAwMDAxMSBMMTEuMjUsODIuMTI1MDAxMiBMNy4zMTI1MDAxMSw4NS41MDAwMDEzIEwxNi4zMTI1MDAyLDk2Ljc1MDAwMTQgTDU4LjUwMDAwMDksODMuODEyNTAxMiBDNzkuMTI1MDAxMiw2Ny4zMTI1MDA0IDg5LjI1MDAwMTMsNTguODc1MDAwMyA4OC44NzUwMDEzLDU4LjUwMDAwMDkgQzg4LjUwMDAwMTMsNTguMTI1MDAwOSA2My4wMDAwMDA5LDM4LjgxMjUwMDYgMTIuMzc1MDAwMiwwLjU2MjUwMDAwOCBaIi8+PC9nPjwvZz48L3N2Zz4="),_$5(this,"windowKey","starknet_metamask"),_$5(this,"provider",null),_$5(this,"swo",null),_$5(this,"lock"),_$5(this,"version","v2.0.0"),this.lock=new Mutex}async loadWallet(r){return await E$4(this,C$2,G$2).call(this,r),this}async hasSupport(r){return this.provider=await detectMetamaskSupport(r),this.provider!==null}async request(r){return E$4(this,C$2,G$2).call(this).then(t0=>t0.request(r))}on(r,t0){E$4(this,C$2,G$2).call(this).then(n0=>n0.on(r,t0))}off(r,t0){E$4(this,C$2,G$2).call(this).then(n0=>n0.off(r,t0))}}Q$3=new WeakSet,q$5=async function(e0){this.provider||(this.provider=await detectMetamaskSupport(e0)),await init({name:"MetaMaskStarknetSnapWallet",remotes:[{name:"MetaMaskStarknetSnapWallet",alias:"MetaMaskStarknetSnapWallet",entry:`https://snaps.consensys.io/starknet/get-starknet/v1/remoteEntry.js?ts=${Date.now()}`}]});const r=await loadRemote("MetaMaskStarknetSnapWallet/index");if(!r)throw new Error("Failed to load MetaMask Wallet");return new r.MetaMaskSnapWallet(this.provider,"*")},C$2=new WeakSet,G$2=async function(e0=window){return this.lock.runExclusive(async()=>(this.swo||(this.swo=await E$4(this,Q$3,q$5).call(this,e0),E$4(this,Y$3,J$4).call(this)),this.swo))},Y$3=new WeakSet,J$4=function(){this.swo&&(this.version=this.swo.version,this.name=this.swo.name,this.id=this.swo.id,this.icon=this.swo.icon)};const metaMaskVirtualWallet=new MetaMaskVirtualWallet;var X$4,Z$3;const wallets=[{id:"argentX",name:"Argent X",icon:"data:image/svg+xml;base64,Cjxzdmcgd2lkdGg9IjQwIiBoZWlnaHQ9IjM2IiB2aWV3Qm94PSIwIDAgNDAgMzYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0yNC43NTgyIC0zLjk3MzY0ZS0wN0gxNC42MjM4QzE0LjI4NTEgLTMuOTczNjRlLTA3IDE0LjAxMzggMC4yODExNzggMTQuMDA2NCAwLjYzMDY4M0MxMy44MDE3IDEwLjQ1NDkgOC44MjIzNCAxOS43NzkyIDAuMjUxODkzIDI2LjM4MzdDLTAuMDIwMjA0NiAyNi41OTMzIC0wLjA4MjE5NDYgMjYuOTg3MiAwLjExNjczNCAyNy4yNzA5TDYuMDQ2MjMgMzUuNzM0QzYuMjQ3OTYgMzYuMDIyIDYuNjQwOTkgMzYuMDg3IDYuOTE3NjYgMzUuODc1NEMxMi4yNzY1IDMxLjc3MjggMTYuNTg2OSAyNi44MjM2IDE5LjY5MSAyMS4zMzhDMjIuNzk1MSAyNi44MjM2IDI3LjEwNTcgMzEuNzcyOCAzMi40NjQ2IDM1Ljg3NTRDMzIuNzQxIDM2LjA4NyAzMy4xMzQxIDM2LjAyMiAzMy4zMzYxIDM1LjczNEwzOS4yNjU2IDI3LjI3MDlDMzkuNDY0MiAyNi45ODcyIDM5LjQwMjIgMjYuNTkzMyAzOS4xMzA0IDI2LjM4MzdDMzAuNTU5NyAxOS43NzkyIDI1LjU4MDQgMTAuNDU0OSAyNS4zNzU5IDAuNjMwNjgzQzI1LjM2ODUgMC4yODExNzggMjUuMDk2OSAtMy45NzM2NGUtMDcgMjQuNzU4MiAtMy45NzM2NGUtMDdaIiBmaWxsPSIjRkY4NzVCIi8+Cjwvc3ZnPgo=",downloads:{chrome:"https://chrome.google.com/webstore/detail/argent-x-starknet-wallet/dlcobpjiigpikoobohmabehhmhfoodbb",firefox:"https://addons.mozilla.org/en-US/firefox/addon/argent-x",edge:"https://microsoftedge.microsoft.com/addons/detail/argent-x/ajcicjlkibolbeaaagejfhnofogocgcj"}},{id:"braavos",name:"Braavos",icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwIiBoZWlnaHQ9IjEwMCIgdmlld0JveD0iMCAwIDEwMCAxMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8cGF0aAogICAgICAgIGQ9Ik02Mi43MDUgMTMuOTExNkM2Mi44MzU5IDE0LjEzMzMgNjIuNjYyMSAxNC40MDcgNjIuNDAzOSAxNC40MDdDNTcuMTgwNyAxNC40MDcgNTIuOTM0OCAxOC41NDI3IDUyLjgzNTEgMjMuNjgxN0M1MS4wNDY1IDIzLjM0NzcgNDkuMTkzMyAyMy4zMjI2IDQ3LjM2MjYgMjMuNjMxMUM0Ny4yMzYxIDE4LjUxNTYgNDMuMDAwOSAxNC40MDcgMzcuNzk0OCAxNC40MDdDMzcuNTM2NSAxNC40MDcgMzcuMzYyNSAxNC4xMzMxIDM3LjQ5MzUgMTMuOTExMkM0MC4wMjE3IDkuNjI4MDkgNDQuNzIwNCA2Ljc1IDUwLjA5OTEgNi43NUM1NS40NzgxIDYuNzUgNjAuMTc2OSA5LjYyODI2IDYyLjcwNSAxMy45MTE2WiIKICAgICAgICBmaWxsPSJ1cmwoI3BhaW50MF9saW5lYXJfMzcyXzQwMjU5KSIgLz4KICAgIDxwYXRoCiAgICAgICAgZD0iTTc4Ljc2MDYgNDUuODcxOEM4MC4yNzI1IDQ2LjMyOTcgODEuNzAyNSA0NS4wMDU1IDgxLjE3MTQgNDMuNTIyMkM3Ni40MTM3IDMwLjIzMzQgNjEuMzkxMSAyNC44MDM5IDUwLjAyNzcgMjQuODAzOUMzOC42NDQyIDI0LjgwMzkgMjMuMjg2OCAzMC40MDcgMTguODc1NCA0My41OTEyQzE4LjM4MjQgNDUuMDY0NSAxOS44MDgzIDQ2LjM0NDYgMjEuMjk3OCA0NS44ODgxTDQ4Ljg3MiAzNy40MzgxQzQ5LjUzMzEgMzcuMjM1NSA1MC4yMzk5IDM3LjIzNDQgNTAuOTAxNyAzNy40MzQ4TDc4Ljc2MDYgNDUuODcxOFoiCiAgICAgICAgZmlsbD0idXJsKCNwYWludDFfbGluZWFyXzM3Ml80MDI1OSkiIC8+CiAgICA8cGF0aAogICAgICAgIGQ9Ik0xOC44MTMyIDQ4LjE3MDdMNDguODkzNSAzOS4wNDcyQzQ5LjU1MDYgMzguODQ3OCA1MC4yNTI0IDM4Ljg0NzMgNTAuOTA5OCAzOS4wNDU2TDgxLjE3ODEgNDguMTc1MkM4My42OTEyIDQ4LjkzMzIgODUuNDExIDUxLjI0ODMgODUuNDExIDUzLjg3MzVWODEuMjIzM0M4NS4yOTQ0IDg3Ljg5OTEgNzkuMjk3NyA5My4yNSA3Mi42MjQ1IDkzLjI1SDYxLjU0MDZDNjAuNDQ0OSA5My4yNSA1OS41NTc3IDkyLjM2MzcgNTkuNTU3NyA5MS4yNjhWODEuNjc4OUM1OS41NTc3IDc3LjkwMzEgNjEuNzkyMSA3NC40ODU1IDY1LjI0OTggNzIuOTcyOUM2OS44ODQ5IDcwLjk0NTQgNzUuMzY4MSA2OC4yMDI4IDc2LjM5OTQgNjIuNjk5MkM3Ni43MzIzIDYwLjkyMjkgNzUuNTc0MSA1OS4yMDk0IDczLjgwMjQgNTguODU3M0M2OS4zMjI2IDU3Ljk2NjcgNjQuMzU2MiA1OC4zMTA3IDYwLjE1NjQgNjAuMTg5M0M1NS4zODg3IDYyLjMyMTkgNTQuMTQxNSA2NS44Njk0IDUzLjY3OTcgNzAuNjMzN0w1My4xMjAxIDc1Ljc2NjJDNTIuOTQ5MSA3Ny4zMzQ5IDUxLjQ3ODUgNzguNTM2NiA0OS45MDE0IDc4LjUzNjZDNDguMjY5OSA3OC41MzY2IDQ3LjA0NjUgNzcuMjk0IDQ2Ljg2OTYgNzUuNjcxMkw0Ni4zMjA0IDcwLjYzMzdDNDUuOTI0OSA2Ni41NTI5IDQ1LjIwNzkgNjIuNTg4NyA0MC45ODk1IDYwLjcwMThDMzYuMTc3NiA1OC41NDk0IDMxLjM0MTkgNTcuODM0NyAyNi4xOTc2IDU4Ljg1NzNDMjQuNDI2IDU5LjIwOTQgMjMuMjY3OCA2MC45MjI5IDIzLjYwMDcgNjIuNjk5MkMyNC42NDEgNjguMjUwNyAzMC4wODEyIDcwLjkzMDUgMzQuNzUwMyA3Mi45NzI5QzM4LjIwOCA3NC40ODU1IDQwLjQ0MjQgNzcuOTAzMSA0MC40NDI0IDgxLjY3ODlWOTEuMjY2M0M0MC40NDI0IDkyLjM2MiAzOS41NTU1IDkzLjI1IDM4LjQ1OTkgOTMuMjVIMjcuMzc1NkMyMC43MDI0IDkzLjI1IDE0LjcwNTcgODcuODk5MSAxNC41ODkxIDgxLjIyMzNWNTMuODY2M0MxNC41ODkxIDUxLjI0NDYgMTYuMzA0NSA0OC45MzE2IDE4LjgxMzIgNDguMTcwN1oiCiAgICAgICAgZmlsbD0idXJsKCNwYWludDJfbGluZWFyXzM3Ml80MDI1OSkiIC8+CiAgICA8ZGVmcz4KICAgICAgICA8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MF9saW5lYXJfMzcyXzQwMjU5IiB4MT0iNDkuMzA1NyIgeTE9IjIuMDc5IiB4Mj0iODAuMzYyNyIgeTI9IjkzLjY1OTciCiAgICAgICAgICAgIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0Y1RDQ1RSIgLz4KICAgICAgICAgICAgPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjRkY5NjAwIiAvPgogICAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICAgICAgPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDFfbGluZWFyXzM3Ml80MDI1OSIgeDE9IjQ5LjMwNTciIHkxPSIyLjA3OSIgeDI9IjgwLjM2MjciIHkyPSI5My42NTk3IgogICAgICAgICAgICBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGNUQ0NUUiIC8+CiAgICAgICAgICAgIDxzdG9wIG9mZnNldD0iMSIgc3RvcC1jb2xvcj0iI0ZGOTYwMCIgLz4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgICAgIDxsaW5lYXJHcmFkaWVudCBpZD0icGFpbnQyX2xpbmVhcl8zNzJfNDAyNTkiIHgxPSI0OS4zMDU3IiB5MT0iMi4wNzkiIHgyPSI4MC4zNjI3IiB5Mj0iOTMuNjU5NyIKICAgICAgICAgICAgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRjVENDVFIiAvPgogICAgICAgICAgICA8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNGRjk2MDAiIC8+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDwvZGVmcz4KPC9zdmc+",downloads:{chrome:"https://chrome.google.com/webstore/detail/braavos-wallet/jnlgamecbpmbajjfhmmmlhejkemejdma",firefox:"https://addons.mozilla.org/en-US/firefox/addon/braavos-wallet",edge:"https://microsoftedge.microsoft.com/addons/detail/braavos-wallet/hkkpjehhcnhgefhbdcgfkeegglpjchdc",ios:`https://link.braavos.app/dapp/${(X$4=ssrSafeWindow?.location)==null?void 0:X$4.host}`,android:`https://link.braavos.app/dapp/${(Z$3=ssrSafeWindow?.location)==null?void 0:Z$3.host}`}},{id:metaMaskVirtualWallet.id,name:metaMaskVirtualWallet.name,icon:metaMaskVirtualWallet.icon,downloads:{chrome:"https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn",firefox:"https://addons.mozilla.org/en-US/firefox/addon/ether-metamask/",edge:"https://microsoftedge.microsoft.com/addons/detail/metamask/ejbalbakoplchlghecdalmeeeajnimhm?hl=en-US"}},{id:"okxwallet",name:"OKX Wallet",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJDSURBVHgB7Zq9jtpAEMfHlhEgQLiioXEkoAGECwoKxMcTRHmC5E3IoyRPkPAEkI7unJYmTgEFTYwA8a3NTKScLnCHN6c9r1e3P2llWQy7M/s1Gv1twCP0ej37dDq9x+Zut1t3t9vZjDEHIiSRSPg4ZpDL5fxkMvn1cDh8m0wmfugfO53OoFQq/crn8wxfY9EymQyrVCqMfHvScZx1p9ls3pFxXBy/bKlUipGPrVbLuQqAfsCliq3zl0H84zwtjQrOw4Mt1W63P5LvBm2d+Xz+YzqdgkqUy+WgWCy+Mc/nc282m4FqLBYL+3g8fjDxenq72WxANZbLJeA13zDX67UDioL5ybXwafMYu64Ltn3bdDweQ5R97fd7GyhBQMipx4POeEDHIu2LfDdBIGGz+hJ9CQ1ABjoA2egAZPM6AgiCAEQhsi/C4jHyPA/6/f5NG3Ks2+3CYDC4aTccDrn6ojG54MnEvG00GoVmWLIRNZ7wTCwDHYBsdACy0QHIhiuRETxlICWpMMhGZHmqS8qH6JLyGegAZKMDkI0uKf8X4SWlaZo+Pp1bRrwlJU8ZKLIvUjKh0WiQ3sRUbNVq9c5Ebew7KEo2m/1p4jJ4qAmDaqDQBzj5XyiAT4VCQezJigAU+IDU+z8vJFnGWeC+bKQV/5VZ71FV6L7PA3gg3tXrdQ+DgLhC+75Wq3no69P3MC0NFQpx2lL04Ql9gHK1bRDjsSBIvScBnDTk1WrlGIZBorIDEYJj+rhdgnQ67VmWRe0zlplXl81vcyEt0rSoYDUAAAAASUVORK5CYII=",downloads:{chrome:"https://chrome.google.com/webstore/detail/mcohilncbfahbmgdjkbpemcciiolgcge",firefox:"https://addons.mozilla.org/en-US/firefox/addon/okexwallet",edge:"https://microsoftedge.microsoft.com/addons/detail/%E6%AC%A7%E6%98%93-web3-%E9%92%B1%E5%8C%85/pbpjkcldjiffchgbbndmhojiacbgflha",safari:"https://apps.apple.com/us/app/okx-wallet/id6463797825"}},{id:"keplr",name:"Keplr",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAACPfSURBVHgBzV0L0B9VdT9nvy/vB6nVOg4GEx/VER3A1iqo9aMzFgWtoOhgsYaHYNV2lNEqxAdfmKHTakuDTge1FJK2tqOtGqoWFWti8TFSxGDriFSbIK+qgB95h+Tb09397+49r3t3/99/LT0zm//e9917fud3zr27SRB+EbKd1gAcOhFg/kSYmjoBiJ4JhMsB6LHFJetS+wfoAowOQOKnumGVUfSX+23Ba0uRfFaGsh6pNKDqP2PzQN5TbNxqjAeqi2CuWLuvAuU74eT1O+AXIAhDSaX0g+fBFL6ymHShfFhT5RvdknNLzsTIb+cChmzb2OJqJY8aQG9gaAUXaXLbOH0gL4mXmXHC/HYUv1thEWyDk9bPwQAyOQC2H1wHGb29uNtQdLcmFJBv2AsFAPVQJDQPlFBYFACpso7+kFm17g/9sUgr3QFWNI3VtQWO0KaCGXbDBLJwAFSKz2cLjtvglhNFGmr6NomgxEQdT1kYK8N0uzBwH3bosHJo3EKkD1ZG0X6ctAFEW6cAAiwYCAsDwM2HL4e8tHpa45a7NN2UUaxBmFAPmpdt+rGDq0zdrpP2I6yRig06ANHNHuAwjxlzFp67fhOMKeMBoLT6Kby+GHMGmklySVosJAO+ajK9LX6Uxl51eyqZp/tYvVcPbRklynQ7au913aaeBwLRz+6CDU4dhw2yvhVh++EzIcPvBOXXc+SXJz3LMVYeEblOYxKZMx/kF4V70aZPv+q+7ceUmaivHTu0hDSWqzwRWa4rAsTtcOuuM6Gn9APAzYfeVszsM8UAazoVCgDj1DELneqrBgrq/ilyKUFwFE2R8cX8UABD1OmaOx87pkw137gxoP9ssq91xfUZ+Pddl0MP6QbAVwt/Pw+boY+MCQzsquNY6VhCHUoGNeY4fUKjVLR9JdIC8IkxkTrqkerVPsNsHxCk17RUPtFstJw6tE2RfNAPl35Cs7XrSHcGhWPHADBWIJj25XJ8ipbJcUmlZR01Fs+bh0vg+eujBhwHQOnzoaD9pFAi25ZhD2XzPKmHNAAQyC/zHbCelFNGicBPpxP8jZFA0El37xyaHA8oqm8uBGfB89Zv84p8AJTRPuD24m4dpKSLAdhPPGKv8wx4+1l8dO/vtVWL1PvQKMIIxOtFo3VKKy9y4JNmkboflef2N5K5gglO8nYHfgxAhfJHwQQkL9EmXgfHqNcnLkBSwWAPEUFfrG3Xs6k8b+dg66N6RpS7DNMvAp+vwTXrB2Lt7dqugWm4HhyxANhe+P2U5fcBQy0mYh+nntOmL0BcoMREK8vNr8uiCgnKkAEixIO5Zo41IOKKrgPNWFvw1liuVDWHvNi+f/NHs6BErmdJ/Tnugt5Clhl5mVPdUnCkLnMhfVwC8hUz5c69qifm4vYBLrWT285Jq7aUdAOM4ut02ycAkLECilgGb1+1naNcugLJAPPF1iFlid7FxmjH6VO3R99d2zdOwa2k+gNpNVGGcObc5vPRExZvKFwxjahLil1olGf7qd0DgWIXjM+5Hbusg2syxMvVU9RSWv/R/tbvWyUflMZoQ9YwE6vfhxHK1ensy3HC6FlypG56ixZnBDJ1bf/2OwPeU8Qyeh6n5kDrGxZoGSA7CrMiqPEubjFdF5tTnzbGkrkoy+L5HgslGSbyPG4QR85YTp7PABi10sbqTTBIym8T2jnpvsV8EEwQ6EhG8Ha+ZtXHHHjk8M+hr1D7R1TQK1ftumIAtI1Nuo+Vpw+GAHod8rR5qXSqX5mOWzixcpanrIM8RhL9yP6UzM0fLljg1PVzIwY4cujMTovuQBVQD2tnc+zy2ynG6NoGdjJBbO5QWxdoa4aoj9fHwl46jIMBX6Tqt8+j/DwEixcswNsTJNYSwxVkzaIlcF55UwEAc9wwFgA8ZUQnYOt2AcN1b4mybvCh7IN6UH8zLx2ggVcnnY66BqpnxdcILDCaZ3Dn3/RK/nNJAGN7EUy9slkTwBsPeXZhJE3JuoicNn47jJhllwvoVe5RuaJ5Mz7avgCHTZutnBqzy0U0eXblKGIlRuaOHMnXT8ONB2d6Bo+9JeaeTJ2By9pyXslbQ8RRAUU6oI68sdOlpkikkSQIRxoPL4dadmgUSqHzURH5ukaOiqQS1kxPw4nTWfkFL/WDTEr6xR5xBY6v9NGqoFeJEu08BdcrHoDLFr7KQ9np2Glv/EKRSAYoCJQED0GDX2Q5wOYKajAuoW55N5UXAKA8m1mI+jvbUL+6CwGEKFdKQlHDmYRrNWBAgYMzAbZWG5IIZIASGpGTZ+eFdXEPGsf6yZs1wEUnTBeJYzrbmZyOwWgMBRZy7YlL4A1rp2Eh8m8PzsNp39yfrOMqE5i76FK0l1d0+tHjV8Hrj10KQ8h39x2Bk2/5WRisZCQ2HrXKU7GCmKDM6SpCmC9cQA7rus25n3TFEgMNY8U8mErEXIK2UOZvEdK0vvEpKwZT/l2H5uGc2x8S7KDHQzFPaDOC21LlvDCqF1xTmt06sX1JAMk0h8nqDAaICOOgp2BWiB20GZvfZU9bARufuhyGkFL5p9/6INx9KHdezTb7EwfhdQxAKV9LXqaQddOdf3Uu0ndKMIEet58eYIsKBeuIWT7P8sow0UazxGW/unw45R8slP/tB+HHxW87mAoMUbOBmZ4T/Y4h0ykAjSPj+Pxx23aOrQOvUmKgAMdVeaxXBwicJc5duwQ2Pm0Y5T98lODlheXfUyi/sXxyqF9s/2KULgJhgLRPlDKNOSxIJqJ/VGUTMIDxgaQsGsaZq7Q03u7Zx0zDNSesgiGkVP4ZtxSWfyAHHnsYP68WBhNl4NQEVZMzc3M3PZSv71O3nYAecxIXULdHM5Zfry1DVpHS8z5u+RR8/uTOzVJvOffbP4fv7Tka37K2WU5+m9Of+jFxNz3pKeBCqX9S2hd9eXSfGqu1NpTbKrS3xy2fhs+dshqOWTTMjN/63T3w9QcfsSwIvrI9RWOPOn3FBoEdgj0QM57SaTIwELjbz9Y1CDfgLzKKotFN2efaFVPwuResLkDQ/2/QpWTj9/bCP9x9UG4x7UwgrsT+9E88Va0DgbfJmx4jXpAt3WETZThem7HEYYCkwgnc7TLPO2YxwudeOJzy//TO/fDRXQeqIcLcmoHNDE0ZueWx9s7alm8BHYabyAXELDpeFmk3qRsa0wWkqLdRzmdfdMxgyv/AD/bDBwsA8LDDzmYhjFDXEeBN1FUgL2V6nMVfqL+vymI0HWPDvlK6gJx3qG4JBPLdOSj5y+euLKL+KRhCKuXfsb+eQ+phVZlQFgoqT0vsYcnNMjFAWslxIupL8UNbP+/DuoDE+CY+GMm7j18Gr3vSYhhCPvajg/Bn39+/YIvXRI9Obuvr2fOknILGz1guIAkOitdDb2ToZpQ+gqxrFJEPq2OsyVJ++QDvKpT/rmcugyHkE3cdgvfdvq+w/BBUsgFHWzyMW7ws8IHbMoMoGy+oFgzQ2/r1AkdamMlBhDUmdQEx9xJJe2UXP31pBYAh5BsPHIG33bqX+fwI9VcgAIguQKVQC4aktH0mK7V3CwsCo0EXQ2sPl4A0iebNsGYMce9F/rWc8+QlcOVJwxzxfm9uHs7/+sMOKBNb0Ja71cKaJrVyqWMr1rms4el7BoHUL6p3wJqyxDZvoF2ATuvAS4OgzH72L0/Blc8ZxvLv3p/Dq3fMwd4jsfUKGvLjIzU5cpuCH9WS2vz3k+4gMNKZmx1jBow9sGy3YMnB3eM2/jIGwrUrM9j6opWweoBTvlL5Z29/GPYeptbvV2M5oAuTJVtu6tQZ3ikOF17f61MUBul2AWQjUlccJccUjBEqXpDUMYAOsqIgqBf3uJUIn3nJquK0b/K9fqn813zlYbh3/zx7nsaeO/bwVRWKzlvWg3jMYILM2GgouhrvbWDKr8diRHTyqudldDEBA3Dl60+/YiA4rrD8T79k5WDKf+2/KuXrSL2OzsEtr6HClIuReiEvZjYUtf5Yi44YgEwSI/Vic9KBHjpbtElZoF1bh/Kb8Zo6q4sj3utnVlT0P6nsKXz9a7/8MNyzb/RaF1Nb3fYolsRcRb0u6mfZsnM1mhc7RCTxMigR+EWsWhUn66EpmEB4n6RcDFusMvtDL1wOz3rM5Kd8lfJvKix/b171G+iVfV6uwc7+hORxjZ/y2k26hNYFJIIC36ezQxVj3Y5FMCsQljuBYP1dBbbjgutTr3j+MnjpcYtgCLlo+174/oPz7nd8Md9vlOvRvicC1F3BHiWTuotpo8y+lBz17baOuCWHIYaIATzLZ+l3PGcpXHT8EhhC3vn1/fCt+4+MLF8xdgAitidzdcpnBU37VP+BDnNG1lNm9tAea1MwQI/V96iM2j9kFTYzTET/VXpCy9f9mMOeOv8dv7a0AsAQcsUtB+BT/3UYmtM9d0wBCt/3G8OJWQ7PoQ7r9PrukM6DID53t8wJUPSzSLTKv7SZ6r+XlG35OQDJeV307MUVAIaQq79zELb85yFBx9jhkxF4XT5pv36b79I7hngnsRGId2wXeox3AayOg2jZ3qe9NOoXLsiBxeZ52vpFsOmUYU75rr7tYAWACtA84FV/d6/ZiiaftfmXP7hleOuRUmaXtWtdu9ba4xzAt/IIgiMTEqDRwdoA4sUAzyqOeDfPDKf8D912cOTzXcrn/5SL3RLz8wkNDLHArnVTXNkOQHoDopZ+L4NUoOi5q0AK4UmNFXj5zQNOIDoGWLsqg2tftgJWL5mcYq7/j8Pw4VsPyrknAk7sEfwhv0kCo+4PIK3sCbbWvT8KxWYkPQEFDr5Ioh6SzUfmRhYq5ZB5mFep/E+eWZzyrZpc+Z/6wSNw5TcOmICPK5UrQdO8LjfH5R7tq/VzrR57Wjp248EFAEZHBp+2sQuNZA5kmroY67OntBZZXE88plD+WYXyV0+u/HKPf+lX9tf/hg60IBBKM0qH5FYU2bt6Ga+Q7ENXaOqxcUU+RMSNA6TEXYBAIEVHCdbAKK8pY/my7uhmcjXV/RYgXr0U4dozVgym/Ndv2xuOqVvF1kzAx3Zjgjgz+FtVBxie23DcgJOMZzq69oNAdFpRpLhRpqH80BxVQ5zAZxmprf+q314Gxz9u8vP98mj39z69F/YVr3UzV3HsX/5Cct2BOYl0QCHSAO62D2MKj+QDqDFNphX/HIBsD+gkRgMpCxeKl44sgITES5pJdwOXzyyF054y+RHvvXtq5R+i4JoSikT2Sdc4ls/7AkgDw+tL5IsOrIi+HVExgKVx25NUZJXWflDeKP9PJg8mAMDJa6eqa1Iplf+GT+2F+/bkYlGxy7qhiQ9AKCpm+e5a6TYAFgiNLaWAwCcVEV083ee7PI9SxL+pKw291a4J/PjHJej3+2hIpfx/rJWP2u+Dq1hUAPHKYuWectHz95ohmnyAxOt3nQFJSW4DvUFa6zZ5jdhPoMVJnWEFGuxAaCGyp/D1Gz7JLF9t9bjiW4tnrBVYQIqXj2OUJ9Ns/FT9UC+OgvRBkLZstRuwL3sUMJyI37iDR1v5nyiUP1e/0/don8Ac77b1HIYw7Vm5Trf16zw3Jqg7cllAVJaCrJ5fOJL4OUCkN49iWlZwJsb/QUSJ9kS88X8k77nxAPzgJ/PGvyOApG6eX2Y0ZcyHx2IFnQaQykHzKhj6uwMAP45ICgpg9NoGJg9/qP3D+RKHVD0Ir0b5xB8FFii/3r3jf45WZwiefxfWD5D09a2ylQFYJkD/lbhj+bFX596HIcbae4Oh/MeiSwCoC+ehOl4dXaq83raN8qm6qkWkum19VS9F2nqhHa/flj8KAFhVvCfY8rpVcOzqrJpDVs8nq+fE58fvm3q6LMtZ+ypd/8PMObtYm0zUleNnTV7RJiN5NX1lug/TNugCKX6FD0I0XLR/Nwl1IoaqTPh6aJnC97OPAgIKObY4Ov7wq1bCBX8/2vsLyua/nrU7ZdzCOXUbt8AeV7AF4Ni7gSrfNXXGEInlzaqOaut1Lb2x3PaqmYFknbYNYw3OAMgYAdu6MGIEePTk6Y+fgut+d1X15jBlKfwKLIDqitfNTFsYWXRj2YRifQwLGUu2rICCLSRDGJZoruiDardQKT0ovqH7AJYRMCTdw0jBRKG+6P/R3QI2UoLg2nNXVZ+Me/Ru6D8HV+GZqhdLY94oXbqczOmrAUqj6Ky9wKX+Biyesl2AejGAVToJpQsrdhTfx+pFjPD/BARXnb0y6ddDmVQAt9A4CLiF2jqZUlxbt7LuiDUbhTuxQtclqZ7EFVN6UHRQPHDFp6zeAwUsXO64fx6+f/88DCG//qRpmH3FingQSMFydVnMelv3kPt1Mt13zkDCrTfX1uwFh77VZ6kL60geGmW2SrRKh1ZxdX2+EMzqgS2Asfq2HiubgAH2FMHbH358P9z78xyGkFecsBhmf2eFQ//oAEJZsirLcnQZRLKDVbi2+Ma6W4t2ACKAwi8OQkIDnGgMwJXeBnQ0UiJnAREcEsn8PFg9VzaqsknjgPsemofzrt07GAheXoDg8lesgNjauL7U/MYBwxnFA4Z2N0gWSJnDKC1QuILreIFfgrmiMYB4QMkQyJQIudoViLYUKJ9NPjBFzQiTSN3vfQ/lcP6AIDjjxMXwxt9c5isuB0PPoUzuCDKKW73IF+5EKY8snTcMk+UIOr7IHHCaqwEEKL/fXto1kKN4kooP9yRcBOigESQoJpEqfqjHvv/BHC74WHG2PxAI3jizFN744hoE4ARtpC8UytTKDb4bbKDYKLTD/4vtn1Kmr/AI9bcuIMEAMuADq/hcKr5hA7sbgPb8AEw+THwQxK3y/oIJLhwQBBcWILhwZpmlaQDDbD6FB+WiVm4uleqCh7T/t0wQ+mt2DfJswmOFpAuoJj8PMuBzjoa14jkbiLgh4iJaMMEE4ix6yQSX/M0+2Nvvf8PrlAsKEJRXbHdQLS4gWKrnQZhVbuMyLBMEV4COq8hUfCAOkhQr6CNhuwtw6B+aq6Z/swVkwDCgYFRv3EDbnkLw1/Q7gQj3U4995z1H4eKP7B0MBOefurS6hPVQ3OJH1tVY97juAMUOQlpveMfgsgCrZ+g+V+8mmnMA7xI+us3jAJFlwbrDwZBemPZUkEAywaQAaINNuRO5896j8KZr9gwGgvMKAJw3sxQs7aNRBDr5zfsDz2K5xWdkAWb8PmmLtkfBaOo4l97zy32+WlhB7aBiAgpRPXGrp+BCCMwZwKT/VFz7QiaXTNMo6M575+GqGw7AULLht5bC2ScvERQe/LwCgYkDwFV8AIV1IXrHIGMIeXCURRSOFGeF6DeB3jvm8L6awLwbbxO1IpDi79Rrv88/rVqwKOtqxuFf4Hz+lsNV3vvPWQFDyFtOXwb7DxLcdNsjclwIz1jFBM380CsPec1bRPkmEsX3EqFMfQdQj1Gl1bcCqdiqKRt9ENIRhYlPt7gy63RYeFIgYACpG9h8GMAFKCWwqxnjXwoQlD75vQOB4I9evbwa98u3HbEgYArwlOoqGqSSuUq08k1Z8wdZVXaotvx7ARRVgPtRaGPFlYRTPPcLWoKAFNbOWsGEboDCLyI4ChldJRM84ZcyuPC0Yf7W8DvPXl6A6iB8+duP+B+PAgchGoYSytfMIfItSMI9CmPUdUDUtyVj/YcRozIydc1XsvyvSCtAhIVijDCJ/gmES0GS8x39/f2Qvu4Lo7/pe8FAIHjTy5fCrvvmYdf981bxag58vaq/VAJ6DR2GwKBgzRyhTp0v1hE7rb8sN+8C+Nl+CN5U9C+2exBe9DSBIIA5OWy2Z+L7AD7egoVE0Kd3MPyVdpN3/Y0H4fovHoQhZMVShD+5eAU85QlTIZKv14ef3aMO3kgHfF4gh87BUNgpiLMBE+SpMckPDjPgR778DEAp0L4QIrGft9E/2F0EA5moN4FUFuPswVGN1cydg2DLF4YDwR9ftAKe3IIAROQtlQRW+Y1CnQMgpLB70DsFAYhcbTnNhe6VgTr4QXbxMv5CSCyuOCCSdTWrCOXzwyeYQJwxtNXJvADaLQUItt44EAiWIVx5cQCBVnQzPn9LGBSrLdwHiGYC8W0Ce2bzIanaRsqTQHVUKA6EnPyWEbhbiB3wcErWboIrblIhClSfx6xf543qlwD44i2PwBBSguDSDcvgV4pAs6F1CQKb1m8BAzBip4XOsS8HRf1hiKdwvRajgyClcO9wJ5z1M0bglt+Ape2HjJsQ4NBtJwSBfDAC8ckZgXNULK8P/N0++NJAICiVf8XvL69+o0xAMYrW1oxuHXtSKNmAuxOPETgzRF4Hg/kuwGUEQanE3AUYyvfoH5irmESQHMYhAP1No11gaOf7wb/dBzd9azgQbHrzcni8AAE6vtuCI+4KGDu0v5HXx8S/J9Ag0i6gUaa6+CLqKF+k2Y7A+9QLybbnjDGY8sm3LB6feGXBHQB85J/2w3/fM8z3hY8rlH/5m2NM4LgCBxwyKPR3ArZfZweQg/92MHd2AeaNoFIoGAVDS/tim9fSv1YEmLyJ4wBHuT4o1GtrVbb/AMG7rt4zHAgeg/D+N6fdgWUCT9mJdC4BYdmAMYL7QQhJWnQ/BqnuLUBQvDACNx7gfr/px7y9m1AaBRrQUowVKFJGcKAAwaWbhwXBe9/CQeBTsssE0AUGSCievx2044W3gWLhyFI8W9SUu/B//X5MX0NI2SfUDwksluFj1L8tG2hg1HXKFz1Xfmwv/OShHIaQEgTveesyWLlMWXvzbsADI3QEgDCqk0HcDRhXQDYYzbQC2rNzT8kqyPKULH99cBhWmEQobukcCLbMAUEe8n76QA7v+Ys98NMHhwHBYwsQXFaAoDw0atY46grAugV7VuDFDd5BkWQY831g6xdzbalkYwLQ0T65jBC7tCsRY00g2DGmPgrWtN+CEzgQAH5WgOC9m4cDwXHHZnDpHywdgUAoawSKkVVbKpdWa1nD21FkAhTy7IAbo38OIBTmpzllBn9PCTYg8W2gYJIJpH351GHt0IJPPhN/Bg2KBgTvK5jgZwOC4N0tCOxcpc9mbAGS8vl2L27pum/rCvxPwtj+3rNYewIYgjmP8mOAGWQXQBHaB3DB5oOEDGB4+oECBO+/au9gIFhbgOCcVy1ulZUBRIErlaqVz+YLUMcUGJgEAngyVSfUjVI+WMv3joUTlwSBBdEg7wIgNhc+jlIsOCAweSSA8ECh/A9cs6/aJQwhp/zGFJx/7hJB+RiNA/wj5fBMXf4fAWPvBLQFxZSoF9ZjBzfqhyYPJO3za0JxT/rEAkllgqNgrvSYm7jr7nnYVDDBUCA4+XlTsOHcxc6cOX2jejaUVk/xj0hjShduwQv8YoEaZwYc81fcK2VMJFx5RBBnJRJj6zwNertLGN2XILjiz/fCUFKC4DWvXhQUCRbEbkxAUvkcIPotoa3DyooH3u1ZPTp5niLdxQa58CiYILKrmFTacSnQOTgWLhSsqB+00lUf9f2PCxB8dMtwXxqfOjMNp58+zeicWzFjBYi4AbIuhFt9iAVQX7vLfyZubqTRkbDP/UIe+xYJeT7VeaoMdV/8vv58zC1boAhKbC8KH03Vcxt9ikWj7/NI1eV56PTJ84o/bv7GI1X64vOH+V/HGwB88fPzzazDuoJe28AEIVXfI69X35G/xsVT7y6Cw/nbMWL1bcPmXm8RAaJM4ZWjYgnk/S9YSLKO+vXdQqQNYxFxD4xB2P3XChB8/JPDfFBSyssKELz0jGlh8dbaI+cCAGaL6AWGgiHy/OGseKW406VwABsQ6bRSZnpRWT1w6i5QAm0z5bDf0RheGdk0gOMinGdjc/7STYdh22cPw1Dy0tOnAgj0BZHL1LUHQ55rAMId0zngzoyU1slShvnyl6Vj4rkCYBNvZM/+HO776Xy0fUr27a8nQe0foAiwnjuNbuqfoHRFp8hA1bqFhIso/rjhnw9V9y84ZbEaPS6YSD/1aRncRPVXxsjmRz71hzz2J/rz4HmLpvKduG5m15psesmuIr3Gq9Tmad+CctHMwOoX0VlkZGlWnqGth6pepTjeDmsKFG0w5LM8Xcek2X1m8oMSwj3KOl66XYtYHQBQ9SUArLLl3yaSoOe/tsZINl2TYbZ7x/q5Auw7Y9G/jgOi9B6heoz1BX7fyPLRqR/GIvC3dqB2IHo8SrsCfWYAcm7YsQayL5AuVdM58XroUH1sO4c9KV+eBag2O8o5jf5PJMpvcM8DYLSlEucAwO75r8oX5wcQ+gvbNCetFRgBA0/LQyevPjlgIqU4smNqcLC2QnnqXgNDKpqxB0HEv7vKkuWij0h9J1+u7fzWFgB5fmRLkTmnAxyMKMSz+CgLEFtQ3Z/pvwnmNIiYYsAfpwGDzzAeOLwzgcAC4OQZxUMcCEbJntJArrWsLykf1TomlQ8g3IB3wdKpbdAAYOQG8q3tbBxlcaoW9M7y3bYAUQWio0itqFGaAiM5fcrfUE8zhQUPBwaFcfXYoMbQz9z2EQGCkzdqg37dpr+YwgEiSsZ2HVNXcQC0ZXYzzpV12/9mK4fpzRA5yxcW2Ty5dgcgT/hSCtMg8KzaWnejFP4iSS2+AA654IjRLweB159v5WT6cEHi5MVo35ajVTQHQ9sO3efyrnmETc10WgDs3vGE3QUMtoIW9RDIHyhxL3wmB4UBiV3wuHWrcYAilg2tQtH0TfLZmOW3z8jrseqBtkkCBdSCewpI5ZEcW5eDUqqpp0ACrL1mkuJ4ecvsR3B380ziP9qbh/lZ5LEAG7BdDAUE9PIBXEsWymFWaRgF4sxh5iP6CGNxANq5BK0KyoUwL48BWrCQbMfn4wJB5RlWaMvQdRVCycz6gXwlx/sAODIVrL8UAYAiFthdLObVYmYeGNRDg14MDwzk1ImAJSjOWSmlKM/ivb5QK1gwB5m6fLymHJ3n5n256+PVB3BZIZRhWDOSoNd169rmAgDDMDnRJm79AMqgGnnqi+/eXjSYMf9tCWvRDtKkEUUdrMsWknYPfrC2glRdVi+L5MfSmXfAg/WHGTwPMHIwNHrDljoQAq8viNeXOwFO8+weffp39LZ7419l61URuP/X6jQePb/4Ea6glZYOQ3r0GywWDa3ruvIXY1Zt6vboUyccJmiExwg8NhCflEFiTvwZmoS2fgLr35Xlo1fGWFNavQoKHRfguITdeARPBUdcANxRuALK6Hyehx4Q2H0zIVB5DTVDT1Dwh5V9gPXtjrjBHuhFjIHYWg9XgrwnoTTpEqxitSEZZXvP0tZBoVT3eVQ7nl/M9JLLtkjqbyT6vy3/aMdx24jwEr3OGEO/p8iExQswgO3Tt2w2XlUWwKTHG6XJmQdZVmjmq8qE8kDuNjQQBUCbbK1wXYc/k2KF6DMDuFs/DyB15U0b/xq3QUSS/932D29+4uZiDTeBY/3Jew8kGkg8EWMHSPQtWIHMYsu+nc7IB2mUaUi2bccin/lilg9OHjplmkUA4pauJew0aNNl107NQkI6/7/1H35t7SyWINCKid0n8jymAFL5dabew7t9eQN6IHRcDjptkfz+uFW7lqyUjo5yXZ9f5aFsCw6LJIwHI78EdMll16WVX0onAEq5swBBcUpwVtHtbnM6qBYee1ovn2y8rnr6SD+h3BschOLCHC3di04pbX1cXJB6Fh5bm4iSfdqHliF0//XvHOV41sbrpjZDD+kFgFLuvHn9tmxq/tQRCEA+gHgKiitIC7N+jNVXykqCBqQ7kP6QlKJ5G9uXl5e8F2mPUfw2xuJTcwMHyBwQ5SveHE/auCXu87v67yXPeOFds8XG+fK2E2STQp7HPoRo6tS/sX08r8t/Rx9moO3D1BmN2/ccoK0H3pkAqnbe3r9Jh7Lmr3G19I7+fj9jtXg5APoflMTv54qA9+rLtnRTvpbeDMDljq89qQDA/PoCclurjJTlQsQ3R9jBixMMPZtxpBWhx0LuL7kW6QpnmQgbua5Al3fWw7Y8ZZ2BBXDLI4QnLUT5vJ8FyzNmdq3DPJstrOaVxZzX8M/DpNWjYgeInvjpOpmyWvAYAsPiZq61g3P6J63bsoG1/Axi+d5p3uhhsohFC+aA0IanQbSDJrf8imvrPGSbZyP7+74yMQAaKb8tXA5TZxYdbiiumapzAQAIx8WuYiDqBlpqb8vRAoClFwYApSg256BYHwCZUOSkAJC/DAAFzcPO4u6Go5BtKRQ/BwPIYADQ8qyZXTMZZCcW+4UXF6OsyZDWFQ+8DqKKWTgAMhcI4wHAKLatE+wuCoC6LK5cDwCoACbKdxd9FgrGncUrnNtHv9M7h1I6l/8FAVO2ym5DPSIAAAAASUVORK5CYII=",downloads:{chrome:"https://chrome.google.com/webstore/detail/keplr/dmkamcknogkgcdfhhbddcghachkejeap",firefox:"https://addons.mozilla.org/en-US/firefox/addon/keplr",edge:"https://microsoftedge.microsoft.com/addons/detail/keplr/ocodgmmffbkkeecmadcijjhkmeohinei"}},{id:"fordefi",name:"Fordefi",icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzEzNDk0XzY2MjU0KSI+CjxwYXRoIGQ9Ik0xMC44NzY5IDE1LjYzNzhIMS41VjE4LjM5OUMxLjUgMTkuODAxMyAyLjYzNDQ3IDIwLjkzOCA0LjAzMzkyIDIwLjkzOEg4LjI0OTkyTDEwLjg3NjkgMTUuNjM3OFoiIGZpbGw9IiM3OTk0RkYiLz4KPHBhdGggZD0iTTEuNSA5Ljc3NTUxSDE5LjA1MTZMMTcuMDEzOSAxMy44NzExSDEuNVY5Ljc3NTUxWiIgZmlsbD0iIzQ4NkRGRiIvPgo8cGF0aCBkPSJNNy42NTk5NiAzSDEuNTI0NDFWOC4wMDcwNEgyMi40NjEyVjNIMTYuMzI1NlY2LjczOTQ0SDE1LjA2MDZWM0g4LjkyNTAyVjYuNzM5NDRINy42NTk5NlYzWiIgZmlsbD0iIzVDRDFGQSIvPgo8L2c+CjxkZWZzPgo8Y2xpcFBhdGggaWQ9ImNsaXAwXzEzNDk0XzY2MjU0Ij4KPHJlY3Qgd2lkdGg9IjIxIiBoZWlnaHQ9IjE4IiBmaWxsPSJ3aGl0ZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMS41IDMpIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg==",downloads:{chrome:"https://chrome.google.com/webstore/detail/fordefi/hcmehenccjdmfbojapcbcofkgdpbnlle"}}];var z$3,j$4,P$3,V$4,ee$3,k$2,F$5;class LocalStorageWrapper{constructor(r){T$5(this,V$4),T$5(this,k$2),T$5(this,z$3,!1),T$5(this,j$4,void 0),T$5(this,P$3,void 0),_$5(this,"value"),B$4(this,P$3,r),E$4(this,k$2,F$5).call(this)}set(r){return!N$5(this,z$3)&&!E$4(this,k$2,F$5).call(this)?!1:(this.delete(),this.value=r,r&&(B$4(this,j$4,`${N$5(this,P$3)}-${generateUID()}`),localStorage.setItem(N$5(this,j$4),r)),!0)}get(){return E$4(this,V$4,ee$3).call(this),this.value}delete(){return!N$5(this,z$3)&&!E$4(this,k$2,F$5).call(this)?!1:(this.value=null,N$5(this,j$4)&&localStorage.removeItem(N$5(this,j$4)),!0)}}z$3=new WeakMap,j$4=new WeakMap,P$3=new WeakMap,V$4=new WeakSet,ee$3=function(){this.value&&this.set(this.value)},k$2=new WeakSet,F$5=function(){try{!N$5(this,z$3)&&typeof window<"u"&&(B$4(this,j$4,Object.keys(localStorage).find(e0=>e0.startsWith(N$5(this,P$3)))),B$4(this,z$3,!0),N$5(this,j$4)&&this.set(localStorage.getItem(N$5(this,j$4))))}catch(e0){console.warn(e0)}return N$5(this,z$3)};const Permission={ACCOUNTS:"accounts"};function filterBy(e0,r){var t0,n0;if((t0=r?.include)!=null&&t0.length){const r0=new Set(r.include);return e0.filter(i0=>r0.has(i0.id))}if((n0=r?.exclude)!=null&&n0.length){const r0=new Set(r.exclude);return e0.filter(i0=>!r0.has(i0.id))}return e0}const filterByAuthorized=async e0=>{const r=await Promise.all(e0.map(async t0=>{try{return(await t0.request({type:"wallet_getPermissions"})).includes(Permission.ACCOUNTS)}catch{return!1}}));return e0.filter((t0,n0)=>r[n0])},virtualWalletKeys=ensureKeysArray({id:!0,name:!0,icon:!0,windowKey:!0,loadWallet:!0,hasSupport:!0}),fullWalletKeys=ensureKeysArray({id:!0,name:!0,version:!0,icon:!0,request:!0,on:!0,off:!0});function createWalletGuard(e0){return function(r){return r!==null&&typeof r=="object"&&e0.every(t0=>t0 in r)}}const isFullWallet=createWalletGuard(fullWalletKeys),isVirtualWallet=createWalletGuard(virtualWalletKeys);function isWalletObject(e0){try{return isFullWallet(e0)||isVirtualWallet(e0)}catch{}return!1}function scanObjectForWallets(e0,r){return Object.values(Object.getOwnPropertyNames(e0).reduce((t0,n0)=>{if(n0.startsWith("starknet")){const r0=e0[n0];r(r0)&&!t0[r0.id]&&(t0[r0.id]=r0)}return t0},{}))}const sortBy=(e0,r)=>{if(r&&Array.isArray(r)){e0.sort((n0,r0)=>r.indexOf(n0.id)-r.indexOf(r0.id));const t0=e0.length-r.length;return[...e0.slice(t0),...shuffle(e0.slice(0,t0))]}else return shuffle(e0)},virtualWallets=[metaMaskVirtualWallet];function initiateVirtualWallets(e0){virtualWallets.forEach(async r=>{r.windowKey in e0||await r.hasSupport(e0)&&(e0[r.windowKey]=r)})}const virtualWalletsMap={};async function resolveVirtualWallet(e0,r){let t0=virtualWalletsMap[r.id];return t0||(t0=await r.loadWallet(e0),virtualWalletsMap[r.id]=t0),t0}const defaultOptions={windowObject:ssrSafeWindow??{},isWalletObject,storageFactoryImplementation:e0=>new LocalStorageWrapper(e0)};function getStarknet(e0={}){const{storageFactoryImplementation:r,windowObject:t0,isWalletObject:n0}={...defaultOptions,...e0},r0=r("gsw-last");return initiateVirtualWallets(t0),{getAvailableWallets:async(i0={})=>{const o0=scanObjectForWallets(t0,n0);return pipe$1(s0=>filterBy(s0,i0),s0=>sortBy(s0,i0.sort))(o0)},getAuthorizedWallets:async(i0={})=>{const o0=scanObjectForWallets(t0,n0);return pipe$1(s0=>filterByAuthorized(s0),s0=>filterBy(s0,i0),s0=>sortBy(s0,i0.sort))(o0)},getDiscoveryWallets:async(i0={})=>pipe$1(o0=>filterBy(o0,i0),o0=>sortBy(o0,i0.sort))(wallets),getLastConnectedWallet:async()=>{const i0=r0.get(),o0=scanObjectForWallets(t0,n0).find(a0=>a0.id===i0),[s0]=await filterByAuthorized(o0?[o0]:[]);return s0||(r0.delete(),null)},discoverVirtualWallets:async(i0=[])=>{const o0=new Set(i0),s0=o0.size>0?virtualWallets.filter(a0=>o0.has(a0.name)||o0.has(a0.id)):virtualWallets;await Promise.all(s0.map(async a0=>{await a0.hasSupport(t0)&&(t0[a0.windowKey]=a0)}))},enable:async(i0,o0)=>{let s0;if(isVirtualWallet(i0))s0=await resolveVirtualWallet(t0,i0);else if(isFullWallet(i0))s0=i0;else throw new Error("Invalid wallet object");await s0.request({type:"wallet_requestAccounts",params:{silent_mode:o0?.silent_mode}});const a0=await s0.request({type:"wallet_getPermissions"});if(!(a0!=null&&a0.includes(Permission.ACCOUNTS)))throw new Error("Failed to connect to wallet");return r0.set(s0.id),s0},disconnect:async({clearLastWallet:i0}={})=>{i0&&r0.delete()}}}const main=getStarknet();var x$2=Object.defineProperty,O$5=(e0,r,t0)=>r in e0?x$2(e0,r,{enumerable:!0,configurable:!0,writable:!0,value:t0}):e0[r]=t0,m$2=(e0,r,t0)=>(O$5(e0,typeof r!="symbol"?r+"":r,t0),t0),A$2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function L$5(e0){return e0&&e0.__esModule&&Object.prototype.hasOwnProperty.call(e0,"default")?e0.default:e0}function S$3(e0){if(e0.__esModule)return e0;var r=e0.default;if(typeof r=="function"){var t0=function n0(){return this instanceof n0?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};t0.prototype=r.prototype}else t0={};return Object.defineProperty(t0,"__esModule",{value:!0}),Object.keys(e0).forEach(function(n0){var r0=Object.getOwnPropertyDescriptor(e0,n0);Object.defineProperty(t0,n0,r0.get?r0:{enumerable:!0,get:function(){return e0[n0]}})}),t0}var E$3={exports:{}};(function(e0){var r=Object.prototype.hasOwnProperty,t0="~";function n0(){}Object.create&&(n0.prototype=Object.create(null),new n0().__proto__||(t0=!1));function r0(a0,c0,l0){this.fn=a0,this.context=c0,this.once=l0||!1}function i0(a0,c0,l0,u0,h0){if(typeof l0!="function")throw new TypeError("The listener must be a function");var g0=new r0(l0,u0||a0,h0),w0=t0?t0+c0:c0;return a0._events[w0]?a0._events[w0].fn?a0._events[w0]=[a0._events[w0],g0]:a0._events[w0].push(g0):(a0._events[w0]=g0,a0._eventsCount++),a0}function o0(a0,c0){--a0._eventsCount===0?a0._events=new n0:delete a0._events[c0]}function s0(){this._events=new n0,this._eventsCount=0}s0.prototype.eventNames=function(){var a0=[],c0,l0;if(this._eventsCount===0)return a0;for(l0 in c0=this._events)r.call(c0,l0)&&a0.push(t0?l0.slice(1):l0);return Object.getOwnPropertySymbols?a0.concat(Object.getOwnPropertySymbols(c0)):a0},s0.prototype.listeners=function(a0){var c0=t0?t0+a0:a0,l0=this._events[c0];if(!l0)return[];if(l0.fn)return[l0.fn];for(var u0=0,h0=l0.length,g0=new Array(h0);u0<h0;u0++)g0[u0]=l0[u0].fn;return g0},s0.prototype.listenerCount=function(a0){var c0=t0?t0+a0:a0,l0=this._events[c0];return l0?l0.fn?1:l0.length:0},s0.prototype.emit=function(a0,c0,l0,u0,h0,g0){var w0=t0?t0+a0:a0;if(!this._events[w0])return!1;var m0=this._events[w0],S0=arguments.length,b0,T0;if(m0.fn){switch(m0.once&&this.removeListener(a0,m0.fn,void 0,!0),S0){case 1:return m0.fn.call(m0.context),!0;case 2:return m0.fn.call(m0.context,c0),!0;case 3:return m0.fn.call(m0.context,c0,l0),!0;case 4:return m0.fn.call(m0.context,c0,l0,u0),!0;case 5:return m0.fn.call(m0.context,c0,l0,u0,h0),!0;case 6:return m0.fn.call(m0.context,c0,l0,u0,h0,g0),!0}for(T0=1,b0=new Array(S0-1);T0<S0;T0++)b0[T0-1]=arguments[T0];m0.fn.apply(m0.context,b0)}else{var N0=m0.length,x0;for(T0=0;T0<N0;T0++)switch(m0[T0].once&&this.removeListener(a0,m0[T0].fn,void 0,!0),S0){case 1:m0[T0].fn.call(m0[T0].context);break;case 2:m0[T0].fn.call(m0[T0].context,c0);break;case 3:m0[T0].fn.call(m0[T0].context,c0,l0);break;case 4:m0[T0].fn.call(m0[T0].context,c0,l0,u0);break;default:if(!b0)for(x0=1,b0=new Array(S0-1);x0<S0;x0++)b0[x0-1]=arguments[x0];m0[T0].fn.apply(m0[T0].context,b0)}}return!0},s0.prototype.on=function(a0,c0,l0){return i0(this,a0,c0,l0,!1)},s0.prototype.once=function(a0,c0,l0){return i0(this,a0,c0,l0,!0)},s0.prototype.removeListener=function(a0,c0,l0,u0){var h0=t0?t0+a0:a0;if(!this._events[h0])return this;if(!c0)return o0(this,h0),this;var g0=this._events[h0];if(g0.fn)g0.fn===c0&&(!u0||g0.once)&&(!l0||g0.context===l0)&&o0(this,h0);else{for(var w0=0,m0=[],S0=g0.length;w0<S0;w0++)(g0[w0].fn!==c0||u0&&!g0[w0].once||l0&&g0[w0].context!==l0)&&m0.push(g0[w0]);m0.length?this._events[h0]=m0.length===1?m0[0]:m0:o0(this,h0)}return this},s0.prototype.removeAllListeners=function(a0){var c0;return a0?(c0=t0?t0+a0:a0,this._events[c0]&&o0(this,c0)):(this._events=new n0,this._eventsCount=0),this},s0.prototype.off=s0.prototype.removeListener,s0.prototype.addListener=s0.prototype.on,s0.prefixed=t0,s0.EventEmitter=s0,e0.exports=s0})(E$3);var j$3=E$3.exports;const P$2=L$5(j$3);let R$3=class extends P$2{};const T$4={ACCOUNTS:"accounts"};let U$6=class extends Error{constructor(){super(...arguments),m$2(this,"name","ConnectorNotConnectedError"),m$2(this,"message","Connector not connected")}},W$4=class extends Error{constructor(){super(...arguments),m$2(this,"name","ConnectorNotFoundError"),m$2(this,"message","Connector not found")}},q$4=class extends Error{constructor(){super(...arguments),m$2(this,"name","UserRejectedRequestError"),m$2(this,"message","User rejected request")}};const F$4=e0=>{localStorage.setItem("starknetLastConnectedWallet",e0)},M$3=()=>{localStorage.removeItem("starknetLastConnectedWallet")},S$2=e0=>e0===starknet.constants.StarknetChainId.SN_MAIN?starknet.constants.StarknetChainId.SN_MAIN:starknet.constants.StarknetChainId.SN_SEPOLIA;var On$1=Object.defineProperty,Sn$1=(e0,r,t0)=>r in e0?On$1(e0,r,{enumerable:!0,configurable:!0,writable:!0,value:t0}):e0[r]=t0,Te$1=(e0,r,t0)=>(Sn$1(e0,typeof r!="symbol"?r+"":r,t0),t0);const Tr$1="https://web.argent.xyz",rr$1=`<svg
    width="32"
    height="28"
    viewBox="0 0 18 14"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      fill-rule="evenodd"
      clip-rule="evenodd"
      d="M1.5 0.4375C0.982233 0.4375 0.5625 0.857233 0.5625 1.375V12C0.5625 12.4144 0.72712 12.8118 1.02015 13.1049C1.31317 13.3979 1.7106 13.5625 2.125 13.5625H15.875C16.2894 13.5625 16.6868 13.3979 16.9799 13.1049C17.2729 12.8118 17.4375 12.4144 17.4375 12V1.375C17.4375 0.857233 17.0178 0.4375 16.5 0.4375H1.5ZM2.4375 3.50616V11.6875H15.5625V3.50616L9.63349 8.94108C9.27507 9.26964 8.72493 9.26964 8.36651 8.94108L2.4375 3.50616ZM14.0899 2.3125H3.91013L9 6.97822L14.0899 2.3125Z"
      fill="currentColor"
    />
  </svg>`,In$1="https://static.hydrogen.argent47.net/webwallet/iframe_whitelist_testnet.json",jn$1="https://static.argent.net/webwallet/iframe_whitelist_mainnet.json";let Ln$1=class extends Error{constructor(r,t0){super(r),Te$1(this,"code"),this.name="ConnectAndSignSessionError",this.code=t0}},$n$1=class extends Error{constructor(r,t0){super(r),Te$1(this,"code"),this.name="WebwalletError",this.code=t0}};const Q$2=starknet.constants.NetworkName,Mn$1=Q$2.SN_SEPOLIA;function Dn$1(e0){try{const{origin:r}=new URL(e0);if(r.includes("localhost")||r.includes("127.0.0.1"))return Mn$1;if(r.includes("hydrogen")||r.includes("sepolia-web.staging"))return Q$2.SN_SEPOLIA;if(r.includes("staging"))return Q$2.SN_MAIN;if(r.includes("dev")||r.includes("sepolia-web.argent.xyz"))return Q$2.SN_SEPOLIA;if(r.includes("argent.xyz"))return Q$2.SN_MAIN}catch{console.warn("Could not determine network from target URL, defaulting to mainnet-alpha")}return Q$2.SN_MAIN}const Zn$1=385,Un$1=775,Wn$1=385,qn$1=440,zn$1=420,Bn$1=438;function Vn$1(e0){return e0}function Fn$1(e0){return e0.length===0?Vn$1:e0.length===1?e0[0]:function(r){return e0.reduce((t0,n0)=>n0(t0),r)}}function Hn$1(e0){return typeof e0=="object"&&e0!==null&&"subscribe"in e0}function nt$3(e0){const r={subscribe(t0){let n0=null,r0=!1,i0=!1,o0=!1;function s0(){if(n0===null){o0=!0;return}i0||(i0=!0,typeof n0=="function"?n0():n0&&n0.unsubscribe())}return n0=e0({next(a0){r0||t0.next?.(a0)},error(a0){r0||(r0=!0,t0.error?.(a0),s0())},complete(){r0||(r0=!0,t0.complete?.(),s0())}}),o0&&s0(),{unsubscribe:s0}},pipe(...t0){return Fn$1(t0)(r)}};return r}function Er$1(e0){return r=>{let t0=0,n0=null;const r0=[];function i0(){n0||(n0=r.subscribe({next(s0){for(const a0 of r0)a0.next?.(s0)},error(s0){for(const a0 of r0)a0.error?.(s0)},complete(){for(const s0 of r0)s0.complete?.()}}))}function o0(){if(t0===0&&n0){const s0=n0;n0=null,s0.unsubscribe()}}return{subscribe(s0){return t0++,r0.push(s0),i0(),{unsubscribe(){t0--,o0();const a0=r0.findIndex(c0=>c0===s0);a0>-1&&r0.splice(a0,1)}}}}}}function Gn$1(e0){return r=>({subscribe(t0){let n0=0;return r.subscribe({next(r0){t0.next?.(e0(r0,n0++))},error(r0){t0.error?.(r0)},complete(){t0.complete?.()}})}})}function Cr$1(e0){return r=>({subscribe(t0){return r.subscribe({next(n0){e0.next?.(n0),t0.next?.(n0)},error(n0){e0.error?.(n0),t0.error?.(n0)},complete(){e0.complete?.(),t0.complete?.()}})}})}let Jn$1=class Km extends Error{constructor(r){super(r),this.name="ObservableAbortError",Object.setPrototypeOf(this,Km.prototype)}};function Or$1(e0){let r;return{promise:new Promise((t0,n0)=>{let r0=!1;function i0(){r0||(r0=!0,n0(new Jn$1("This operation was aborted.")),o0.unsubscribe())}const o0=e0.subscribe({next(s0){r0=!0,t0(s0),i0()},error(s0){r0=!0,n0(s0),i0()},complete(){r0=!0,i0()}});r=i0}),abort:r}}const Yn$1=Object.freeze(Object.defineProperty({__proto__:null,isObservable:Hn$1,map:Gn$1,observable:nt$3,observableToPromise:Or$1,share:Er$1,tap:Cr$1},Symbol.toStringTag,{value:"Module"}));function Sr$1(e0){return nt$3(r=>{function t0(n0=0,r0=e0.op){const i0=e0.links[n0];if(!i0)throw new Error("No more links to execute - did you forget to add an ending link?");return i0({op:r0,next(o0){return t0(n0+1,o0)}})}return t0().subscribe(r)})}function nr$1(e0){return Array.isArray(e0)?e0:[e0]}function Xn$1(e0){return r=>{const t0=nr$1(e0.true).map(r0=>r0(r)),n0=nr$1(e0.false).map(r0=>r0(r));return r0=>nt$3(i0=>{const o0=e0.condition(r0.op)?t0:n0;return Sr$1({op:r0.op,links:o0}).subscribe(i0)})}}function Pr$1(e0){const r=Object.create(null);for(const t0 in e0){const n0=e0[t0];r[n0]=t0}return r}const st$3={PARSE_ERROR:-32700,BAD_REQUEST:-32600,INTERNAL_SERVER_ERROR:-32603,NOT_IMPLEMENTED:-32603,UNAUTHORIZED:-32001,FORBIDDEN:-32003,NOT_FOUND:-32004,METHOD_NOT_SUPPORTED:-32005,TIMEOUT:-32008,CONFLICT:-32009,PRECONDITION_FAILED:-32012,PAYLOAD_TOO_LARGE:-32013,UNPROCESSABLE_CONTENT:-32022,TOO_MANY_REQUESTS:-32029,CLIENT_CLOSED_REQUEST:-32099};Pr$1(st$3);Pr$1(st$3);const Qn$1={PARSE_ERROR:400,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,FORBIDDEN:403,METHOD_NOT_SUPPORTED:405,TIMEOUT:408,CONFLICT:409,PRECONDITION_FAILED:412,PAYLOAD_TOO_LARGE:413,UNPROCESSABLE_CONTENT:422,TOO_MANY_REQUESTS:429,CLIENT_CLOSED_REQUEST:499,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501};function Kn$1(e0){return Qn$1[e0]??500}function Ar$1(e0){return Kn$1(e0.code)}const Nr$1=()=>{};function Ir$1(e0,r){return new Proxy(Nr$1,{get(t0,n0){if(!(typeof n0!="string"||n0==="then"))return Ir$1(e0,[...r,n0])},apply(t0,n0,r0){const i0=r[r.length-1]==="apply";return e0({args:i0?r0.length>=2?r0[1]:[]:r0,path:i0?r.slice(0,-1):r})}})}const Zt$1=e0=>Ir$1(e0,[]),Ut$2=e0=>new Proxy(Nr$1,{get(r,t0){if(!(typeof t0!="string"||t0==="then"))return e0(t0)}});function es$1(e0){const{path:r,error:t0,config:n0}=e0,{code:r0}=e0.error,i0={message:t0.message,code:st$3[r0],data:{code:r0,httpStatus:Ar$1(t0)}};return n0.isDev&&typeof e0.error.stack=="string"&&(i0.data.stack=e0.error.stack),typeof r=="string"&&(i0.data.path=r),n0.errorFormatter({...e0,shape:i0})}function sr$1(e0,r){return"error"in r?{...r,error:e0.transformer.output.serialize(r.error)}:"data"in r.result?{...r,result:{...r.result,data:e0.transformer.output.serialize(r.result.data)}}:r}function ts$1(e0,r){return Array.isArray(r)?r.map(t0=>sr$1(e0,t0)):sr$1(e0,r)}function rs$1(e0){return!!e0&&!Array.isArray(e0)&&typeof e0=="object"}let ns$1=class extends Error{};function Wt$3(e0){if(e0 instanceof Error)return e0;const r=typeof e0;if(!(r==="undefined"||r==="function"||e0===null)){if(r!=="object")return new Error(String(e0));if(rs$1(e0)){const t0=new ns$1;for(const n0 in e0)t0[n0]=e0[n0];return t0}}}const ss$1=Object.freeze(Object.defineProperty({__proto__:null,createFlatProxy:Ut$2,createRecursiveProxy:Zt$1,getCauseFromUnknown:Wt$3,getErrorShape:es$1,transformTRPCResponse:ts$1},Symbol.toStringTag,{value:"Module"}));function ar$1(e0){return!!e0&&!Array.isArray(e0)&&typeof e0=="object"}function as$1(e0){return e0 instanceof jr$1||e0 instanceof Error&&e0.name==="TRPCClientError"}function is$2(e0){return ar$1(e0)&&ar$1(e0.error)&&typeof e0.error.code=="number"&&typeof e0.error.message=="string"}let jr$1=class nm extends Error{static from(r,t0={}){const n0=r;return as$1(n0)?(t0.meta&&(n0.meta={...n0.meta,...t0.meta}),n0):is$2(n0)?new nm(n0.error.message,{...t0,result:n0}):n0 instanceof Error?new nm(n0.message,{...t0,cause:Wt$3(n0)}):new nm("Unknown error",{...t0,cause:n0})}constructor(r,t0){const n0=t0?.cause;super(r,{cause:n0}),this.meta=t0?.meta,this.cause=n0,this.shape=t0?.result?.error,this.data=t0?.result?.error.data,this.name="TRPCClientError",Object.setPrototypeOf(this,nm.prototype)}};function os$1(e0){return typeof FormData>"u"?!1:e0 instanceof FormData}const mt$3={css:{query:["72e3ff","3fb0d8"],mutation:["c5a3fc","904dfc"],subscription:["ff49e1","d83fbe"]},ansi:{regular:{query:["\x1B[30;46m","\x1B[97;46m"],mutation:["\x1B[30;45m","\x1B[97;45m"],subscription:["\x1B[30;42m","\x1B[97;42m"]},bold:{query:["\x1B[1;30;46m","\x1B[1;97;46m"],mutation:["\x1B[1;30;45m","\x1B[1;97;45m"],subscription:["\x1B[1;30;42m","\x1B[1;97;42m"]}}};function cs$1(e0){const{direction:r,type:t0,path:n0,id:r0,input:i0}=e0,o0=[],s0=[];if(e0.colorMode==="ansi"){const[u0,h0]=mt$3.ansi.regular[t0],[g0,w0]=mt$3.ansi.bold[t0],m0="\x1B[0m";return o0.push(r==="up"?u0:h0,r==="up"?">>":"<<",t0,r==="up"?g0:w0,`#${r0}`,n0,m0),r==="up"?s0.push({input:e0.input}):s0.push({input:e0.input,result:"result"in e0.result?e0.result.result:e0.result,elapsedMs:e0.elapsedMs}),{parts:o0,args:s0}}const[a0,c0]=mt$3.css[t0],l0=`
    background-color: #${r==="up"?a0:c0}; 
    color: ${r==="up"?"black":"white"};
    padding: 2px;
  `;return o0.push("%c",r==="up"?">>":"<<",t0,`#${r0}`,`%c${n0}%c`,"%O"),s0.push(l0,`${l0}; font-weight: bold;`,`${l0}; font-weight: normal;`),r==="up"?s0.push({input:i0,context:e0.context}):s0.push({input:i0,result:e0.result,elapsedMs:e0.elapsedMs,context:e0.context}),{parts:o0,args:s0}}const us$1=({c:e0=console,colorMode:r="css"})=>t0=>{const n0=t0.input,r0=os$1(n0)?Object.fromEntries(n0):n0,{parts:i0,args:o0}=cs$1({...t0,colorMode:r,input:r0}),s0=t0.direction==="down"&&t0.result&&(t0.result instanceof Error||"error"in t0.result.result)?"error":"log";e0[s0].apply(null,[i0.join(" ")].concat(o0))};function ls$1(e0={}){const{enabled:r=()=>!0}=e0,t0=e0.colorMode??(typeof window>"u"?"ansi":"css"),{logger:n0=us$1({c:e0.console,colorMode:t0})}=e0;return()=>({op:r0,next:i0})=>nt$3(o0=>{r({...r0,direction:"up"})&&n0({...r0,direction:"up"});const s0=Date.now();function a0(c0){const l0=Date.now()-s0;r({...r0,direction:"down",result:c0})&&n0({...r0,direction:"down",elapsedMs:l0,result:c0})}return i0(r0).pipe(Cr$1({next(c0){a0(c0)},error(c0){a0(c0)}})).subscribe(o0)})}let ds$1=class{$request({type:r,input:t0,path:n0,context:r0={}}){return Sr$1({links:this.links,op:{id:++this.requestId,type:r,path:n0,input:t0,context:r0}}).pipe(Er$1())}requestAsPromise(r){const t0=this.$request(r),{promise:n0,abort:r0}=Or$1(t0);return new Promise((i0,o0)=>{r.signal?.addEventListener("abort",r0),n0.then(s0=>{i0(s0.result.data)}).catch(s0=>{o0(jr$1.from(s0))})})}query(r,t0,n0){return this.requestAsPromise({type:"query",path:r,input:t0,context:n0?.context,signal:n0?.signal})}mutation(r,t0,n0){return this.requestAsPromise({type:"mutation",path:r,input:t0,context:n0?.context,signal:n0?.signal})}subscription(r,t0,n0){return this.$request({type:"subscription",path:r,input:t0,context:n0?.context}).subscribe({next(r0){r0.result.type==="started"?n0.onStarted?.():r0.result.type==="stopped"?n0.onStopped?.():n0.onData?.(r0.result.data)},error(r0){n0.onError?.(r0)},complete(){n0.onComplete?.()}})}constructor(r){this.requestId=0;const t0=(()=>{const n0=r.transformer;return n0?"input"in n0?r.transformer:{input:n0,output:n0}:{input:{serialize:r0=>r0,deserialize:r0=>r0},output:{serialize:r0=>r0,deserialize:r0=>r0}}})();this.runtime={transformer:{serialize:n0=>t0.input.serialize(n0),deserialize:n0=>t0.output.deserialize(n0)},combinedTransformer:t0},this.links=r.links.map(n0=>n0(this.runtime))}};const fs$1={query:"query",mutate:"mutation",subscribe:"subscription"},ps$1=e0=>fs$1[e0];function hs$1(e0){return Ut$2(r=>e0.hasOwnProperty(r)?e0[r]:r==="__untypedClient"?e0:Zt$1(({path:t0,args:n0})=>{const r0=[r,...t0],i0=ps$1(r0.pop()),o0=r0.join(".");return e0[i0](o0,...n0)}))}function ms$2(e0){const r=new ds$1(e0);return hs$1(r)}function ys$1(e0){if(e0 instanceof ye$3||e0 instanceof Error&&e0.name==="TRPCError")return e0;const r=new ye$3({code:"INTERNAL_SERVER_ERROR",cause:e0});return e0 instanceof Error&&e0.stack&&(r.stack=e0.stack),r}let ye$3=class extends Error{constructor(r){const t0=Wt$3(r.cause),n0=r.message??t0?.message??r.code;super(n0,{cause:t0}),this.code=r.code,this.name="TRPCError",this.cause||(this.cause=t0)}};function gs$1(e0){return"input"in e0?e0:{input:e0,output:e0}}const Se$2={_default:!0,input:{serialize:e0=>e0,deserialize:e0=>e0},output:{serialize:e0=>e0,deserialize:e0=>e0}},Pe$2=({shape:e0})=>e0;function _s$1(e0){return Object.assign(Object.create(null),e0)}const vs$1=["query","mutation","subscription"];function bs$1(e0){return"router"in e0._def}const ws$1={_ctx:null,_errorShape:null,_meta:null,queries:{},mutations:{},subscriptions:{},errorFormatter:Pe$2,transformer:Se$2},xs$1=["then"];function Lr$1(e0){return function(r){const t0=new Set(Object.keys(r).filter(s0=>xs$1.includes(s0)));if(t0.size>0)throw new Error("Reserved words used in `router({})` call: "+Array.from(t0).join(", "));const n0=_s$1({});function r0(s0,a0=""){for(const[c0,l0]of Object.entries(s0??{})){const u0=`${a0}${c0}`;if(bs$1(l0)){r0(l0._def.procedures,`${u0}.`);continue}if(n0[u0])throw new Error(`Duplicate key: ${u0}`);n0[u0]=l0}}r0(r);const i0={_config:e0,router:!0,procedures:n0,...ws$1,record:r,queries:Object.entries(n0).filter(s0=>s0[1]._def.query).reduce((s0,[a0,c0])=>({...s0,[a0]:c0}),{}),mutations:Object.entries(n0).filter(s0=>s0[1]._def.mutation).reduce((s0,[a0,c0])=>({...s0,[a0]:c0}),{}),subscriptions:Object.entries(n0).filter(s0=>s0[1]._def.subscription).reduce((s0,[a0,c0])=>({...s0,[a0]:c0}),{})},o0={...r,_def:i0,createCaller(s0){return $r$1()(o0)(s0)},getErrorShape(s0){const{path:a0,error:c0}=s0,{code:l0}=s0.error,u0={message:c0.message,code:st$3[l0],data:{code:l0,httpStatus:Ar$1(c0)}};return e0.isDev&&typeof s0.error.stack=="string"&&(u0.data.stack=s0.error.stack),typeof a0=="string"&&(u0.data.path=a0),this._def._config.errorFormatter({...s0,shape:u0})}};return o0}}function ks$1(e0){const{type:r,path:t0}=e0;if(!(t0 in e0.procedures)||!e0.procedures[t0]?._def[r])throw new ye$3({code:"NOT_FOUND",message:`No "${r}"-procedure on path "${t0}"`});const n0=e0.procedures[t0];return n0(e0)}function $r$1(){return function(e0){const r=e0._def;return function(t0){return Zt$1(({path:n0,args:r0})=>{if(n0.length===1&&vs$1.includes(n0[0]))return ks$1({procedures:r.procedures,path:r0[0],rawInput:r0[1],ctx:t0,type:n0[0]});const i0=n0.join("."),o0=r.procedures[i0];let s0="query";return o0._def.mutation?s0="mutation":o0._def.subscription&&(s0="subscription"),o0({path:i0,rawInput:r0[0],ctx:t0,type:s0})})}}}const ir$1=typeof window>"u"||"Deno"in window||globalThis.process?.env?.NODE_ENV==="test"||!!globalThis.process?.env?.JEST_WORKER_ID||!!globalThis.process?.env?.VITEST_WORKER_ID;function or$1(e0){const r=e0;if(typeof r=="function")return r;if(typeof r.parseAsync=="function")return r.parseAsync.bind(r);if(typeof r.parse=="function")return r.parse.bind(r);if(typeof r.validateSync=="function")return r.validateSync.bind(r);if(typeof r.create=="function")return r.create.bind(r);if(typeof r.assert=="function")return t0=>(r.assert(t0),t0);throw new Error("Could not find a validator fn")}function Mr$1(e0,...r){const t0=Object.assign(Object.create(null),e0);for(const n0 of r)for(const r0 in n0){if(r0 in t0&&t0[r0]!==n0[r0])throw new Error(`Duplicate key ${r0}`);t0[r0]=n0[r0]}return t0}function Ts$1(){function e0(t0){return{_middlewares:t0,unstable_pipe(n0){const r0="_middlewares"in n0?n0._middlewares:[n0];return e0([...t0,...r0])}}}function r(t0){return e0([t0])}return r}function cr$1(e0){return e0&&typeof e0=="object"&&!Array.isArray(e0)}function Es$1(e0){const r=async({next:t0,rawInput:n0,input:r0})=>{let i0;try{i0=await e0(n0)}catch(s0){throw new ye$3({code:"BAD_REQUEST",cause:s0})}const o0=cr$1(r0)&&cr$1(i0)?{...r0,...i0}:i0;return t0({input:o0})};return r._type="input",r}function Cs$1(e0){const r=async({next:t0})=>{const n0=await t0();if(!n0.ok)return n0;try{const r0=await e0(n0.data);return{...n0,data:r0}}catch(r0){throw new ye$3({message:"Output validation failed",code:"INTERNAL_SERVER_ERROR",cause:r0})}};return r._type="output",r}const Dr$1="middlewareMarker";function fe$3(e0,r){const{middlewares:t0=[],inputs:n0,meta:r0,...i0}=r;return Zr$1({...Mr$1(e0,i0),inputs:[...e0.inputs,...n0??[]],middlewares:[...e0.middlewares,...t0],meta:e0.meta&&r0?{...e0.meta,...r0}:r0??e0.meta})}function Zr$1(e0={}){const r={inputs:[],middlewares:[],...e0};return{_def:r,input(t0){const n0=or$1(t0);return fe$3(r,{inputs:[t0],middlewares:[Es$1(n0)]})},output(t0){const n0=or$1(t0);return fe$3(r,{output:t0,middlewares:[Cs$1(n0)]})},meta(t0){return fe$3(r,{meta:t0})},unstable_concat(t0){return fe$3(r,t0._def)},use(t0){const n0="_middlewares"in t0?t0._middlewares:[t0];return fe$3(r,{middlewares:n0})},query(t0){return yt$3({...r,query:!0},t0)},mutation(t0){return yt$3({...r,mutation:!0},t0)},subscription(t0){return yt$3({...r,subscription:!0},t0)}}}function yt$3(e0,r){const t0=fe$3(e0,{resolver:r,middlewares:[async function(n0){const r0=await r(n0);return{marker:Dr$1,ok:!0,data:r0,ctx:n0.ctx}}]});return Os$1(t0._def)}const Rs$1=`
This is a client-only function.
If you want to call this function on the server, see https://trpc.io/docs/server/server-side-calls
`.trim();function Os$1(e0){const r=async function(t0){if(!t0||!("rawInput"in t0))throw new Error(Rs$1);const n0=async(i0={index:0,ctx:t0.ctx})=>{try{const o0=e0.middlewares[i0.index];return await o0({ctx:i0.ctx,type:t0.type,path:t0.path,rawInput:i0.rawInput??t0.rawInput,meta:e0.meta,input:i0.input,next(s0){const a0=s0;return n0({index:i0.index+1,ctx:a0&&"ctx"in a0?{...i0.ctx,...a0.ctx}:i0.ctx,input:a0&&"input"in a0?a0.input:i0.input,rawInput:a0&&"rawInput"in a0?a0.rawInput:i0.rawInput})}})}catch(o0){return{ok:!1,error:ys$1(o0),marker:Dr$1}}},r0=await n0();if(!r0)throw new ye$3({code:"INTERNAL_SERVER_ERROR",message:"No result from middlewares - did you forget to `return next()`?"});if(!r0.ok)throw r0.error;return r0.data};return r._def=e0,r.meta=e0.meta,r}function Ss$1(...e0){const r=Mr$1({},...e0.map(r0=>r0._def.record)),t0=e0.reduce((r0,i0)=>{if(i0._def._config.errorFormatter&&i0._def._config.errorFormatter!==Pe$2){if(r0!==Pe$2&&r0!==i0._def._config.errorFormatter)throw new Error("You seem to have several error formatters");return i0._def._config.errorFormatter}return r0},Pe$2),n0=e0.reduce((r0,i0)=>{if(i0._def._config.transformer&&i0._def._config.transformer!==Se$2){if(r0!==Se$2&&r0!==i0._def._config.transformer)throw new Error("You seem to have several transformers");return i0._def._config.transformer}return r0},Se$2);return Lr$1({errorFormatter:t0,transformer:n0,isDev:e0.some(r0=>r0._def._config.isDev),allowOutsideOfServer:e0.some(r0=>r0._def._config.allowOutsideOfServer),isServer:e0.some(r0=>r0._def._config.isServer),$types:e0[0]?._def._config.$types})(r)}let Je$3=class Mm{context(){return new Mm}meta(){return new Mm}create(r){return As$1()(r)}};const Ps$1=new Je$3;function As$1(){return function(e0){const r=e0?.errorFormatter??Pe$2,t0={transformer:gs$1(e0?.transformer??Se$2),isDev:e0?.isDev??globalThis.process?.env?.NODE_ENV!=="production",allowOutsideOfServer:e0?.allowOutsideOfServer??!1,errorFormatter:r,isServer:e0?.isServer??ir$1,$types:Ut$2(n0=>{throw new Error(`Tried to access "$types.${n0}" which is not available at runtime`)})};if(!(e0?.isServer??ir$1)&&e0?.allowOutsideOfServer!==!0)throw new Error("You're trying to use @trpc/server in a non-server environment. This is not supported by default.");return{_config:t0,procedure:Zr$1({meta:e0?.defaultMeta}),middleware:Ts$1(),router:Lr$1(t0),mergeRouters:Ss$1,createCallerFactory:$r$1()}}}var Rt$3={},at$3={},be$3={},S$1={};const we$2=S$3(Yn$1);var qt$2={},Ur$1=we$2;function Wr$1(e0){return Ur$1.observable(r=>{function t0(n0=0,r0=e0.op){const i0=e0.links[n0];if(!i0)throw new Error("No more links to execute - did you forget to add an ending link?");return i0({op:r0,next(o0){return t0(n0+1,o0)}})}return t0().subscribe(r)})}function ur$1(e0){return Array.isArray(e0)?e0:[e0]}function Ns$1(e0){return r=>{const t0=ur$1(e0.true).map(r0=>r0(r)),n0=ur$1(e0.false).map(r0=>r0(r));return r0=>Ur$1.observable(i0=>{const o0=e0.condition(r0.op)?t0:n0;return Wr$1({op:r0.op,links:o0}).subscribe(i0)})}}qt$2.createChain=Wr$1;qt$2.splitLink=Ns$1;var xe$3={};const qr$1=S$3(ss$1);var ke$3={};function Ot$3(e0){return!!e0&&!Array.isArray(e0)&&typeof e0=="object"}function Is$1(e0,r){if("error"in e0){const t0=r.transformer.deserialize(e0.error);return{ok:!1,error:{...e0,error:t0}}}return{ok:!0,result:{...e0.result,...(!e0.result.type||e0.result.type==="data")&&{type:"data",data:r.transformer.deserialize(e0.result.data)}}}}let gt$3=class extends Error{constructor(){super("Unable to transform response from server")}};function js$1(e0,r){let t0;try{t0=Is$1(e0,r)}catch{throw new gt$3}if(!t0.ok&&(!Ot$3(t0.error.error)||typeof t0.error.error.code!="number"))throw new gt$3;if(t0.ok&&!Ot$3(t0.result))throw new gt$3;return t0}ke$3.isObject=Ot$3;ke$3.transformResult=js$1;var Ls$1=qr$1,lr$1=ke$3;function $s$1(e0){return e0 instanceof zr$1||e0 instanceof Error&&e0.name==="TRPCClientError"}function Ms$1(e0){return lr$1.isObject(e0)&&lr$1.isObject(e0.error)&&typeof e0.error.code=="number"&&typeof e0.error.message=="string"}let zr$1=class rm extends Error{static from(r,t0={}){const n0=r;return $s$1(n0)?(t0.meta&&(n0.meta={...n0.meta,...t0.meta}),n0):Ms$1(n0)?new rm(n0.error.message,{...t0,result:n0}):n0 instanceof Error?new rm(n0.message,{...t0,cause:Ls$1.getCauseFromUnknown(n0)}):new rm("Unknown error",{...t0,cause:n0})}constructor(r,t0){const n0=t0?.cause;super(r,{cause:n0}),this.meta=t0?.meta,this.cause=n0,this.shape=t0?.result?.error,this.data=t0?.result?.error.data,this.name="TRPCClientError",Object.setPrototypeOf(this,rm.prototype)}};xe$3.TRPCClientError=zr$1;var F$3={},Ds$1=xe$3;const dr$1=e0=>typeof e0=="function";function Br$1(e0){if(e0)return e0;if(typeof window<"u"&&dr$1(window.fetch))return window.fetch;if(typeof globalThis<"u"&&dr$1(globalThis.fetch))return globalThis.fetch;throw new Error("No fetch implementation found")}function Zs$1(e0){return e0||(typeof window<"u"&&window.AbortController?window.AbortController:typeof globalThis<"u"&&globalThis.AbortController?globalThis.AbortController:null)}function Us$1(e0){return{url:e0.url.toString().replace(/\/$/,""),fetch:e0.fetch,AbortController:Zs$1(e0.AbortController)}}function Ws$1(e0){const r={};for(let t0=0;t0<e0.length;t0++){const n0=e0[t0];r[t0]=n0}return r}const qs$1={query:"GET",mutation:"POST"};function Vr$1(e0){return"input"in e0?e0.runtime.transformer.serialize(e0.input):Ws$1(e0.inputs.map(r=>e0.runtime.transformer.serialize(r)))}const Fr$1=e0=>{let r=e0.url+"/"+e0.path;const t0=[];if("inputs"in e0&&t0.push("batch=1"),e0.type==="query"){const n0=Vr$1(e0);n0!==void 0&&t0.push(`input=${encodeURIComponent(JSON.stringify(n0))}`)}return t0.length&&(r+="?"+t0.join("&")),r},Hr$1=e0=>{if(e0.type==="query")return;const r=Vr$1(e0);return r!==void 0?JSON.stringify(r):void 0},zs$1=e0=>Jr$1({...e0,contentTypeHeader:"application/json",getUrl:Fr$1,getBody:Hr$1});async function Gr$1(e0,r){const t0=e0.getUrl(e0),n0=e0.getBody(e0),{type:r0}=e0,i0=await e0.headers();/* istanbul ignore if -- @preserve */if(r0==="subscription")throw new Error("Subscriptions should use wsLink");const o0={...e0.contentTypeHeader?{"content-type":e0.contentTypeHeader}:{},...e0.batchModeHeader?{"trpc-batch-mode":e0.batchModeHeader}:{},...i0};return Br$1(e0.fetch)(t0,{method:qs$1[r0],signal:r?.signal,body:n0,headers:o0})}function Jr$1(e0){const r=e0.AbortController?new e0.AbortController:null,t0={};let n0=!1;return{promise:new Promise((r0,i0)=>{Gr$1(e0,r).then(o0=>(t0.response=o0,n0=!0,o0.json())).then(o0=>{t0.responseJSON=o0,r0({json:o0,meta:t0})}).catch(o0=>{n0=!0,i0(Ds$1.TRPCClientError.from(o0,{meta:t0}))})}),cancel:()=>{n0||r?.abort()}}}F$3.fetchHTTPResponse=Gr$1;F$3.getBody=Hr$1;F$3.getFetch=Br$1;F$3.getUrl=Fr$1;F$3.httpRequest=Jr$1;F$3.jsonHttpRequester=zs$1;F$3.resolveHTTPLinkOptions=Us$1;var zt$3={},Bs$1=we$2,Vs$1=ke$3,fr$1=xe$3,St$3=F$3;const _t$2=()=>{throw new Error("Something went wrong. Please submit an issue at https://github.com/trpc/trpc/issues/new")};function vt$3(e0){let r=null,t0=null;const n0=()=>{clearTimeout(t0),t0=null,r=null};function r0(s0){const a0=[[]];let c0=0;for(;;){const l0=s0[c0];if(!l0)break;const u0=a0[a0.length-1];if(l0.aborted){l0.reject?.(new Error("Aborted")),c0++;continue}if(e0.validate(u0.concat(l0).map(h0=>h0.key))){u0.push(l0),c0++;continue}if(u0.length===0){l0.reject?.(new Error("Input is too big for a single dispatch")),c0++;continue}a0.push([])}return a0}function i0(){const s0=r0(r);n0();for(const a0 of s0){if(!a0.length)continue;const c0={items:a0,cancel:_t$2};for(const g0 of a0)g0.batch=c0;const l0=(g0,w0)=>{const m0=c0.items[g0];m0.resolve?.(w0),m0.batch=null,m0.reject=null,m0.resolve=null},{promise:u0,cancel:h0}=e0.fetch(c0.items.map(g0=>g0.key),l0);c0.cancel=h0,u0.then(g0=>{for(let w0=0;w0<g0.length;w0++){const m0=g0[w0];l0(w0,m0)}for(const w0 of c0.items)w0.reject?.(new Error("Missing result")),w0.batch=null}).catch(g0=>{for(const w0 of c0.items)w0.reject?.(g0),w0.batch=null})}}function o0(s0){const a0={aborted:!1,key:s0,batch:null,resolve:_t$2,reject:_t$2},c0=new Promise((l0,u0)=>{a0.reject=u0,a0.resolve=l0,r||(r=[]),r.push(a0)});return t0||(t0=setTimeout(i0)),{promise:c0,cancel:()=>{a0.aborted=!0,a0.batch?.items.every(l0=>l0.aborted)&&(a0.batch.cancel(),a0.batch=null)}}}return{load:o0}}function Yr$1(e0){return function(r){const t0=St$3.resolveHTTPLinkOptions(r),n0=r.maxURLLength??1/0;return r0=>{const i0=l0=>{const u0=g0=>{if(n0===1/0)return!0;const w0=g0.map(S0=>S0.path).join(","),m0=g0.map(S0=>S0.input);return St$3.getUrl({...t0,runtime:r0,type:l0,path:w0,inputs:m0}).length<=n0},h0=e0({...t0,runtime:r0,type:l0,opts:r});return{validate:u0,fetch:h0}},o0=vt$3(i0("query")),s0=vt$3(i0("mutation")),a0=vt$3(i0("subscription")),c0={query:o0,subscription:a0,mutation:s0};return({op:l0})=>Bs$1.observable(u0=>{const h0=c0[l0.type],{promise:g0,cancel:w0}=h0.load(l0);let m0;return g0.then(S0=>{m0=S0;const b0=Vs$1.transformResult(S0.json,r0);if(!b0.ok){u0.error(fr$1.TRPCClientError.from(b0.error,{meta:S0.meta}));return}u0.next({context:S0.meta,result:b0.result}),u0.complete()}).catch(S0=>{u0.error(fr$1.TRPCClientError.from(S0,{meta:m0?.meta}))}),()=>{w0()}})}}}const Fs$1=e0=>r=>{const t0=r.map(o0=>o0.path).join(","),n0=r.map(o0=>o0.input),{promise:r0,cancel:i0}=St$3.jsonHttpRequester({...e0,path:t0,inputs:n0,headers(){return e0.opts.headers?typeof e0.opts.headers=="function"?e0.opts.headers({opList:r}):e0.opts.headers:{}}});return{promise:r0.then(o0=>(Array.isArray(o0.json)?o0.json:r.map(()=>o0.json)).map(s0=>({meta:o0.meta,json:s0}))),cancel:i0}},Hs$1=Yr$1(Fs$1);zt$3.createHTTPBatchLink=Yr$1;zt$3.httpBatchLink=Hs$1;var it$3={};Object.defineProperty(it$3,"__esModule",{value:!0});var Gs$1=we$2,Js$1=ke$3,pr$1=xe$3,Xr$1=F$3;function Qr$1(e0){return r=>{const t0=Xr$1.resolveHTTPLinkOptions(r);return n0=>({op:r0})=>Gs$1.observable(i0=>{const{path:o0,input:s0,type:a0}=r0,{promise:c0,cancel:l0}=e0.requester({...t0,runtime:n0,type:a0,path:o0,input:s0,headers(){return r.headers?typeof r.headers=="function"?r.headers({op:r0}):r.headers:{}}});let u0;return c0.then(h0=>{u0=h0.meta;const g0=Js$1.transformResult(h0.json,n0);if(!g0.ok){i0.error(pr$1.TRPCClientError.from(g0.error,{meta:u0}));return}i0.next({context:h0.meta,result:g0.result}),i0.complete()}).catch(h0=>{i0.error(pr$1.TRPCClientError.from(h0,{meta:u0}))}),()=>{l0()}})}}const Ys$1=Qr$1({requester:Xr$1.jsonHttpRequester});it$3.httpLink=Ys$1;it$3.httpLinkFactory=Qr$1;var Bt$3={};Object.defineProperty(Bt$3,"__esModule",{value:!0});var hr$1=we$2;function Xs$1(e0){return typeof FormData>"u"?!1:e0 instanceof FormData}const bt$3={css:{query:["72e3ff","3fb0d8"],mutation:["c5a3fc","904dfc"],subscription:["ff49e1","d83fbe"]},ansi:{regular:{query:["\x1B[30;46m","\x1B[97;46m"],mutation:["\x1B[30;45m","\x1B[97;45m"],subscription:["\x1B[30;42m","\x1B[97;42m"]},bold:{query:["\x1B[1;30;46m","\x1B[1;97;46m"],mutation:["\x1B[1;30;45m","\x1B[1;97;45m"],subscription:["\x1B[1;30;42m","\x1B[1;97;42m"]}}};function Qs$1(e0){const{direction:r,type:t0,path:n0,id:r0,input:i0}=e0,o0=[],s0=[];if(e0.colorMode==="ansi"){const[u0,h0]=bt$3.ansi.regular[t0],[g0,w0]=bt$3.ansi.bold[t0],m0="\x1B[0m";return o0.push(r==="up"?u0:h0,r==="up"?">>":"<<",t0,r==="up"?g0:w0,`#${r0}`,n0,m0),r==="up"?s0.push({input:e0.input}):s0.push({input:e0.input,result:"result"in e0.result?e0.result.result:e0.result,elapsedMs:e0.elapsedMs}),{parts:o0,args:s0}}const[a0,c0]=bt$3.css[t0],l0=`
    background-color: #${r==="up"?a0:c0}; 
    color: ${r==="up"?"black":"white"};
    padding: 2px;
  `;return o0.push("%c",r==="up"?">>":"<<",t0,`#${r0}`,`%c${n0}%c`,"%O"),s0.push(l0,`${l0}; font-weight: bold;`,`${l0}; font-weight: normal;`),r==="up"?s0.push({input:i0,context:e0.context}):s0.push({input:i0,result:e0.result,elapsedMs:e0.elapsedMs,context:e0.context}),{parts:o0,args:s0}}const Ks$1=({c:e0=console,colorMode:r="css"})=>t0=>{const n0=t0.input,r0=Xs$1(n0)?Object.fromEntries(n0):n0,{parts:i0,args:o0}=Qs$1({...t0,colorMode:r,input:r0}),s0=t0.direction==="down"&&t0.result&&(t0.result instanceof Error||"error"in t0.result.result)?"error":"log";e0[s0].apply(null,[i0.join(" ")].concat(o0))};function ea$1(e0={}){const{enabled:r=()=>!0}=e0,t0=e0.colorMode??(typeof window>"u"?"ansi":"css"),{logger:n0=Ks$1({c:e0.console,colorMode:t0})}=e0;return()=>({op:r0,next:i0})=>hr$1.observable(o0=>{r({...r0,direction:"up"})&&n0({...r0,direction:"up"});const s0=Date.now();function a0(c0){const l0=Date.now()-s0;r({...r0,direction:"down",result:c0})&&n0({...r0,direction:"down",elapsedMs:l0,result:c0})}return i0(r0).pipe(hr$1.tap({next(c0){a0(c0)},error(c0){a0(c0)}})).subscribe(o0)})}Bt$3.loggerLink=ea$1;var ot$3={};Object.defineProperty(ot$3,"__esModule",{value:!0});var ta$1=we$2,ra$1=ke$3,Kr$1=xe$3;/* istanbul ignore next -- @preserve */const na$1=e0=>e0===0?0:Math.min(1e3*2**e0,3e4);function sa$1(e0){const{url:r,WebSocket:t0=WebSocket,retryDelayMs:n0=na$1,onOpen:r0,onClose:i0}=e0;/* istanbul ignore next -- @preserve */if(!t0)throw new Error("No WebSocket implementation found - you probably don't want to use this on the server, but if you do you need to pass a `WebSocket`-ponyfill");let o0=[];const s0=Object.create(null);let a0=0,c0=null,l0=null,u0=x0(),h0="connecting";function g0(){h0!=="open"||c0||(c0=setTimeout(()=>{c0=null,o0.length===1?u0.send(JSON.stringify(o0.pop())):u0.send(JSON.stringify(o0)),o0=[]}))}function w0(){if(l0!==null||h0==="closed")return;const B0=n0(a0++);S0(B0)}function m0(){h0="connecting";const B0=u0;u0=x0(),b0(B0)}function S0(B0){l0||(h0="connecting",l0=setTimeout(m0,B0))}function b0(B0){Object.values(s0).some(H0=>H0.ws===B0)||B0.close()}function T0(){Object.values(s0).forEach(B0=>{B0.type==="subscription"&&B0.callbacks.complete()})}function N0(B0){o0.some(H0=>H0.id===B0.op.id)||k0(B0.op,B0.callbacks)}function x0(){const B0=typeof r=="function"?r():r,H0=new t0(B0);clearTimeout(l0),l0=null,H0.addEventListener("open",()=>{/* istanbul ignore next -- @preserve */H0===u0&&(a0=0,h0="open",r0?.(),g0())}),H0.addEventListener("error",()=>{H0===u0&&w0()});const G0=K0=>{if(K0.method==="reconnect"&&H0===u0){h0==="open"&&i0?.(),m0();for(const W0 of Object.values(s0))W0.type==="subscription"&&N0(W0)}},V0=K0=>{const W0=K0.id!==null&&s0[K0.id];if(W0){if(W0.callbacks.next?.(K0),W0.ws!==u0&&H0===u0){const F0=W0.ws;W0.ws=u0,b0(F0)}"result"in K0&&K0.result.type==="stopped"&&H0===u0&&W0.callbacks.complete()}};return H0.addEventListener("message",({data:K0})=>{const W0=JSON.parse(K0);"method"in W0?G0(W0):V0(W0),(H0!==u0||h0==="closed")&&b0(H0)}),H0.addEventListener("close",({code:K0})=>{h0==="open"&&i0?.({code:K0}),u0===H0&&w0();for(const[W0,F0]of Object.entries(s0))if(F0.ws===H0){if(h0==="closed"){delete s0[W0],F0.callbacks.complete?.();continue}F0.type==="subscription"?N0(F0):(delete s0[W0],F0.callbacks.error?.(Kr$1.TRPCClientError.from(new Vt$2("WebSocket closed prematurely"))))}}),H0}function k0(B0,H0){const{type:G0,input:V0,path:K0,id:W0}=B0,F0={id:W0,method:G0,params:{input:V0,path:K0}};return s0[W0]={ws:u0,type:G0,callbacks:H0,op:B0},o0.push(F0),g0(),()=>{const O0=s0[W0]?.callbacks;delete s0[W0],o0=o0.filter(f0=>f0.id!==W0),O0?.complete?.(),u0.readyState===t0.OPEN&&B0.type==="subscription"&&(o0.push({id:W0,method:"subscription.stop"}),g0())}}return{close:()=>{h0="closed",i0?.(),T0(),b0(u0),clearTimeout(l0),l0=null},request:k0,getConnection(){return u0}}}let Vt$2=class Vm extends Error{constructor(r){super(r),this.name="TRPCWebSocketClosedError",Object.setPrototypeOf(this,Vm.prototype)}};function aa$1(e0){return r=>{const{client:t0}=e0;return({op:n0})=>ta$1.observable(r0=>{const{type:i0,path:o0,id:s0,context:a0}=n0,c0=r.transformer.serialize(n0.input),l0=t0.request({type:i0,path:o0,input:c0,id:s0,context:a0},{error(u0){r0.error(u0),l0()},complete(){r0.complete()},next(u0){const h0=ra$1.transformResult(u0,r);if(!h0.ok){r0.error(Kr$1.TRPCClientError.from(h0.error));return}r0.next({result:h0.result}),n0.type!=="subscription"&&(l0(),r0.complete())}});return()=>{l0()}})}}ot$3.createWSClient=sa$1;ot$3.wsLink=aa$1;Object.defineProperty(S$1,"__esModule",{value:!0});var mr$1=we$2,en$1=qt$2,tn$1=xe$3,yr$1=qr$1,Ae$3=F$3,rn$1=zt$3,Ft$3=it$3,ia$1=Bt$3,nn$1=ot$3;let ct$3=class{$request({type:r,input:t0,path:n0,context:r0={}}){return en$1.createChain({links:this.links,op:{id:++this.requestId,type:r,path:n0,input:t0,context:r0}}).pipe(mr$1.share())}requestAsPromise(r){const t0=this.$request(r),{promise:n0,abort:r0}=mr$1.observableToPromise(t0);return new Promise((i0,o0)=>{r.signal?.addEventListener("abort",r0),n0.then(s0=>{i0(s0.result.data)}).catch(s0=>{o0(tn$1.TRPCClientError.from(s0))})})}query(r,t0,n0){return this.requestAsPromise({type:"query",path:r,input:t0,context:n0?.context,signal:n0?.signal})}mutation(r,t0,n0){return this.requestAsPromise({type:"mutation",path:r,input:t0,context:n0?.context,signal:n0?.signal})}subscription(r,t0,n0){return this.$request({type:"subscription",path:r,input:t0,context:n0?.context}).subscribe({next(r0){r0.result.type==="started"?n0.onStarted?.():r0.result.type==="stopped"?n0.onStopped?.():n0.onData?.(r0.result.data)},error(r0){n0.onError?.(r0)},complete(){n0.onComplete?.()}})}constructor(r){this.requestId=0;const t0=(()=>{const n0=r.transformer;return n0?"input"in n0?r.transformer:{input:n0,output:n0}:{input:{serialize:r0=>r0,deserialize:r0=>r0},output:{serialize:r0=>r0,deserialize:r0=>r0}}})();this.runtime={transformer:{serialize:n0=>t0.input.serialize(n0),deserialize:n0=>t0.output.deserialize(n0)},combinedTransformer:t0},this.links=r.links.map(n0=>n0(this.runtime))}};function oa$1(e0){return new ct$3(e0)}function ca$1(e0){return new ct$3(e0)}const ua$1={query:"query",mutate:"mutation",subscribe:"subscription"},sn$1=e0=>ua$1[e0];function an$2(e0){return yr$1.createFlatProxy(r=>e0.hasOwnProperty(r)?e0[r]:r==="__untypedClient"?e0:yr$1.createRecursiveProxy(({path:t0,args:n0})=>{const r0=[r,...t0],i0=sn$1(r0.pop()),o0=r0.join(".");return e0[i0](o0,...n0)}))}function la$1(e0){const r=new ct$3(e0);return an$2(r)}function da$1(e0){return e0.__untypedClient}function fa$1(e0){if(e0)return e0;if(typeof window<"u"&&window.TextDecoder)return new window.TextDecoder;if(typeof globalThis<"u"&&globalThis.TextDecoder)return new globalThis.TextDecoder;throw new Error("No TextDecoder implementation found")}async function pa$1(e0){const r=e0.parse??JSON.parse,t0=n0=>{if(e0.signal?.aborted||!n0||n0==="}")return;const r0=n0.indexOf(":"),i0=n0.substring(2,r0-1),o0=n0.substring(r0+1);e0.onSingle(Number(i0),r(o0))};await ha$1(e0.readableStream,t0,e0.textDecoder)}async function ha$1(e0,r,t0){let n0="";const r0=i0=>{const o0=t0.decode(i0).split(`
`);if(o0.length===1)n0+=o0[0];else if(o0.length>1){r(n0+o0[0]);for(let s0=1;s0<o0.length-1;s0++)r(o0[s0]);n0=o0[o0.length-1]}};"getReader"in e0?await ya$1(e0,r0):await ma$1(e0,r0),r(n0)}function ma$1(e0,r){return new Promise(t0=>{e0.on("data",r),e0.on("end",t0)})}async function ya$1(e0,r){const t0=e0.getReader();let n0=await t0.read();for(;!n0.done;)r(n0.value),n0=await t0.read()}const ga$1=(e0,r)=>{const t0=e0.AbortController?new e0.AbortController:null,n0=Ae$3.fetchHTTPResponse({...e0,contentTypeHeader:"application/json",batchModeHeader:"stream",getUrl:Ae$3.getUrl,getBody:Ae$3.getBody},t0),r0=()=>t0?.abort(),i0=n0.then(async o0=>{if(!o0.body)throw new Error("Received response without body");const s0={response:o0};return pa$1({readableStream:o0.body,onSingle:r,parse:a0=>({json:JSON.parse(a0),meta:s0}),signal:t0?.signal,textDecoder:e0.textDecoder})});return{cancel:r0,promise:i0}},_a$1=e0=>{const r=fa$1(e0.opts.textDecoder);return(t0,n0)=>{const r0=t0.map(a0=>a0.path).join(","),i0=t0.map(a0=>a0.input),{cancel:o0,promise:s0}=ga$1({...e0,textDecoder:r,path:r0,inputs:i0,headers(){return e0.opts.headers?typeof e0.opts.headers=="function"?e0.opts.headers({opList:t0}):e0.opts.headers:{}}},(a0,c0)=>{n0(a0,c0)});return{promise:s0.then(()=>[]),cancel:o0}}},va$1=rn$1.createHTTPBatchLink(_a$1),ba$1=e0=>{if("input"in e0){if(!(e0.input instanceof FormData))throw new Error("Input is not FormData");return e0.input}},wa$1=e0=>{if(e0.type!=="mutation")throw new Error("We only handle mutations with formdata");return Ae$3.httpRequest({...e0,getUrl(){return`${e0.url}/${e0.path}`},getBody:ba$1})},xa$1=Ft$3.httpLinkFactory({requester:wa$1});S$1.splitLink=en$1.splitLink;S$1.TRPCClientError=tn$1.TRPCClientError;S$1.getFetch=Ae$3.getFetch;S$1.httpBatchLink=rn$1.httpBatchLink;S$1.httpLink=Ft$3.httpLink;S$1.httpLinkFactory=Ft$3.httpLinkFactory;S$1.loggerLink=ia$1.loggerLink;S$1.createWSClient=nn$1.createWSClient;S$1.wsLink=nn$1.wsLink;S$1.TRPCUntypedClient=ct$3;S$1.clientCallTypeToProcedureType=sn$1;S$1.createTRPCClient=ca$1;S$1.createTRPCClientProxy=an$2;S$1.createTRPCProxyClient=la$1;S$1.createTRPCUntypedClient=oa$1;S$1.experimental_formDataLink=xa$1;S$1.getUntypedClient=da$1;S$1.unstable_httpBatchStreamLink=va$1;var ne$3={},Ht$2={};function ka$1(e0){return e0}function Ta$1(e0){return e0.length===0?ka$1:e0.length===1?e0[0]:function(r){return e0.reduce((t0,n0)=>n0(t0),r)}}function Ea$1(e0){return typeof e0=="object"&&e0!==null&&"subscribe"in e0}function Ca$1(e0){const r={subscribe(t0){let n0=null,r0=!1,i0=!1,o0=!1;function s0(){if(n0===null){o0=!0;return}i0||(i0=!0,typeof n0=="function"?n0():n0&&n0.unsubscribe())}return n0=e0({next(a0){r0||t0.next?.(a0)},error(a0){r0||(r0=!0,t0.error?.(a0),s0())},complete(){r0||(r0=!0,t0.complete?.(),s0())}}),o0&&s0(),{unsubscribe:s0}},pipe(...t0){return Ta$1(t0)(r)}};return r}Ht$2.isObservable=Ea$1;Ht$2.observable=Ca$1;Object.defineProperty(ne$3,"__esModule",{value:!0});var on$2=Ht$2;function Ra$1(e0){return r=>{let t0=0,n0=null;const r0=[];function i0(){n0||(n0=r.subscribe({next(s0){for(const a0 of r0)a0.next?.(s0)},error(s0){for(const a0 of r0)a0.error?.(s0)},complete(){for(const s0 of r0)s0.complete?.()}}))}function o0(){if(t0===0&&n0){const s0=n0;n0=null,s0.unsubscribe()}}return{subscribe(s0){return t0++,r0.push(s0),i0(),{unsubscribe(){t0--,o0();const a0=r0.findIndex(c0=>c0===s0);a0>-1&&r0.splice(a0,1)}}}}}}function Oa$1(e0){return r=>({subscribe(t0){let n0=0;return r.subscribe({next(r0){t0.next?.(e0(r0,n0++))},error(r0){t0.error?.(r0)},complete(){t0.complete?.()}})}})}function Sa$1(e0){return r=>({subscribe(t0){return r.subscribe({next(n0){e0.next?.(n0),t0.next?.(n0)},error(n0){e0.error?.(n0),t0.error?.(n0)},complete(){e0.complete?.(),t0.complete?.()}})}})}let Gt$1=class Wm extends Error{constructor(r){super(r),this.name="ObservableAbortError",Object.setPrototypeOf(this,Wm.prototype)}};function Pa$1(e0){let r;return{promise:new Promise((t0,n0)=>{let r0=!1;function i0(){r0||(r0=!0,n0(new Gt$1("This operation was aborted.")),o0.unsubscribe())}const o0=e0.subscribe({next(s0){r0=!0,t0(s0),i0()},error(s0){r0=!0,n0(s0),i0()},complete(){r0=!0,i0()}});r=i0}),abort:r}}ne$3.isObservable=on$2.isObservable;ne$3.observable=on$2.observable;ne$3.map=Oa$1;ne$3.observableToPromise=Pa$1;ne$3.share=Ra$1;ne$3.tap=Sa$1;var q$3={};Object.defineProperty(q$3,"__esModule",{value:!0});q$3.isTRPCRequestWithId=q$3.isTRPCRequest=q$3.isTRPCResponse=q$3.isTRPCMessage=void 0;function gr$1(e0){return typeof e0=="object"&&e0!==null&&!Array.isArray(e0)}function Aa$1(e0){return e0==null}function cn$1(e0){return!!(gr$1(e0)&&"trpc"in e0&&gr$1(e0.trpc))}q$3.isTRPCMessage=cn$1;function Jt$1(e0){return cn$1(e0)&&"id"in e0.trpc&&!Aa$1(e0.trpc.id)}function Na$1(e0){return Jt$1(e0)&&("error"in e0.trpc||"result"in e0.trpc)}q$3.isTRPCResponse=Na$1;function un$1(e0){return Jt$1(e0)&&"method"in e0.trpc}q$3.isTRPCRequest=un$1;function Ia$1(e0){return un$1(e0)&&Jt$1(e0)}q$3.isTRPCRequestWithId=Ia$1;Object.defineProperty(be$3,"__esModule",{value:!0});be$3.createBaseLink=void 0;const wt$3=S$1,ja$1=ne$3,La$1=q$3,$a$1=e0=>r=>({op:t0})=>(0,ja$1.observable)(n0=>{const r0=[],{id:i0,type:o0,path:s0}=t0;try{const a0=r.transformer.serialize(t0.input),c0=()=>{n0.error(new wt$3.TRPCClientError("Port disconnected prematurely"))};e0.addCloseListener(c0),r0.push(()=>e0.removeCloseListener(c0));const l0=u0=>{if(!(0,La$1.isTRPCResponse)(u0))return;const{trpc:h0}=u0;if(i0===h0.id){if("error"in h0)return n0.error(wt$3.TRPCClientError.from(h0));n0.next({result:Object.assign(Object.assign({},h0.result),(!h0.result.type||h0.result.type==="data")&&{type:"data",data:r.transformer.deserialize(h0.result.data)})}),(o0!=="subscription"||h0.result.type==="stopped")&&n0.complete()}};e0.addMessageListener(l0),r0.push(()=>e0.removeMessageListener(l0)),e0.postMessage({trpc:{id:i0,jsonrpc:void 0,method:o0,params:{path:s0,input:a0}}})}catch(a0){n0.error(new wt$3.TRPCClientError(a0 instanceof Error?a0.message:"Unknown error"))}return()=>{o0==="subscription"&&e0.postMessage({trpc:{id:i0,jsonrpc:void 0,method:"subscription.stop"}}),r0.forEach(a0=>a0())}});be$3.createBaseLink=$a$1;Object.defineProperty(at$3,"__esModule",{value:!0});at$3.chromeLink=void 0;const Ma$1=be$3,Da$1=e0=>(0,Ma$1.createBaseLink)({postMessage(r){e0.port.postMessage(r)},addMessageListener(r){e0.port.onMessage.addListener(r)},removeMessageListener(r){e0.port.onMessage.removeListener(r)},addCloseListener(r){e0.port.onDisconnect.addListener(r)},removeCloseListener(r){e0.port.onDisconnect.removeListener(r)}});at$3.chromeLink=Da$1;var ut$3={};Object.defineProperty(ut$3,"__esModule",{value:!0});ut$3.windowLink=void 0;const Za$1=be$3,Ua$1=e0=>{var r;const t0=new Map,n0=e0.window,r0=(r=e0.postWindow)!==null&&r!==void 0?r:n0;return(0,Za$1.createBaseLink)({postMessage(i0){r0.postMessage(i0,{targetOrigin:e0.postOrigin})},addMessageListener(i0){const o0=s0=>{i0(s0.data)};t0.set(i0,o0),n0.addEventListener("message",o0)},removeMessageListener(i0){const o0=t0.get(i0);o0&&n0.removeEventListener("message",o0)},addCloseListener(i0){n0.addEventListener("beforeunload",i0)},removeCloseListener(i0){n0.removeEventListener("beforeunload",i0)}})};ut$3.windowLink=Ua$1;var lt$3={},dt$3={};Object.defineProperty(dt$3,"__esModule",{value:!0});dt$3.TRPC_BROWSER_LOADED_EVENT=void 0;dt$3.TRPC_BROWSER_LOADED_EVENT="TRPC_BROWSER::POPUP_LOADED";Object.defineProperty(lt$3,"__esModule",{value:!0});lt$3.popupLink=void 0;const Wa$1=dt$3,qa$1=be$3,za$1=e0=>{const r=new Map,t0=new Set;let n0=null;async function r0(i0){if(!n0||n0.closed){n0=e0.createPopup(),await Promise.race([new Promise(o0=>{var s0;try{(s0=n0?.addEventListener)===null||s0===void 0||s0.call(n0,"load",o0)}catch{}}),new Promise(o0=>{i0.addEventListener("message",s0=>{s0.data===Wa$1.TRPC_BROWSER_LOADED_EVENT&&o0()})}),new Promise(o0=>{console.warn("Could not detect if popup loading succeeded after 15s timeout, continuing anyway"),setTimeout(o0,15e3)})]);try{if(!n0.addEventListener)throw new Error("popupWindow.addEventListener is not a function");n0.addEventListener("beforeunload",()=>{n0=null})}catch{const o0=setInterval(()=>{n0&&n0.closed&&(n0=null,t0.forEach(s0=>{s0()}),clearInterval(o0))},1e3)}}return n0}return(0,qa$1.createBaseLink)({async postMessage(i0){return(await r0(e0.listenWindow)).postMessage(i0,{targetOrigin:e0.postOrigin})},addMessageListener(i0){const o0=s0=>{i0(s0.data)};r.set(i0,o0),e0.listenWindow.addEventListener("message",o0)},removeMessageListener(i0){const o0=r.get(i0);o0&&e0.listenWindow.removeEventListener("message",o0)},addCloseListener(i0){e0.listenWindow.addEventListener("beforeunload",i0),t0.add(i0)},removeCloseListener(i0){e0.listenWindow.removeEventListener("beforeunload",i0),t0.delete(i0)}})};lt$3.popupLink=za$1;(function(e0){var r=A$2&&A$2.__createBinding||(Object.create?function(n0,r0,i0,o0){o0===void 0&&(o0=i0);var s0=Object.getOwnPropertyDescriptor(r0,i0);(!s0||("get"in s0?!r0.__esModule:s0.writable||s0.configurable))&&(s0={enumerable:!0,get:function(){return r0[i0]}}),Object.defineProperty(n0,o0,s0)}:function(n0,r0,i0,o0){o0===void 0&&(o0=i0),n0[o0]=r0[i0]}),t0=A$2&&A$2.__exportStar||function(n0,r0){for(var i0 in n0)i0!=="default"&&!Object.prototype.hasOwnProperty.call(r0,i0)&&r(r0,n0,i0)};Object.defineProperty(e0,"__esModule",{value:!0}),t0(at$3,e0),t0(ut$3,e0),t0(lt$3,e0)})(Rt$3);var x$1;(function(e0){e0.assertEqual=r0=>r0;function r(r0){}e0.assertIs=r;function t0(r0){throw new Error}e0.assertNever=t0,e0.arrayToEnum=r0=>{const i0={};for(const o0 of r0)i0[o0]=o0;return i0},e0.getValidEnumValues=r0=>{const i0=e0.objectKeys(r0).filter(s0=>typeof r0[r0[s0]]!="number"),o0={};for(const s0 of i0)o0[s0]=r0[s0];return e0.objectValues(o0)},e0.objectValues=r0=>e0.objectKeys(r0).map(function(i0){return r0[i0]}),e0.objectKeys=typeof Object.keys=="function"?r0=>Object.keys(r0):r0=>{const i0=[];for(const o0 in r0)Object.prototype.hasOwnProperty.call(r0,o0)&&i0.push(o0);return i0},e0.find=(r0,i0)=>{for(const o0 of r0)if(i0(o0))return o0},e0.isInteger=typeof Number.isInteger=="function"?r0=>Number.isInteger(r0):r0=>typeof r0=="number"&&isFinite(r0)&&Math.floor(r0)===r0;function n0(r0,i0=" | "){return r0.map(o0=>typeof o0=="string"?`'${o0}'`:o0).join(i0)}e0.joinValues=n0,e0.jsonStringifyReplacer=(r0,i0)=>typeof i0=="bigint"?i0.toString():i0})(x$1||(x$1={}));var Pt$3;(function(e0){e0.mergeShapes=(r,t0)=>({...r,...t0})})(Pt$3||(Pt$3={}));const m$1=x$1.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Y$2=e0=>{switch(typeof e0){case"undefined":return m$1.undefined;case"string":return m$1.string;case"number":return isNaN(e0)?m$1.nan:m$1.number;case"boolean":return m$1.boolean;case"function":return m$1.function;case"bigint":return m$1.bigint;case"symbol":return m$1.symbol;case"object":return Array.isArray(e0)?m$1.array:e0===null?m$1.null:e0.then&&typeof e0.then=="function"&&e0.catch&&typeof e0.catch=="function"?m$1.promise:typeof Map<"u"&&e0 instanceof Map?m$1.map:typeof Set<"u"&&e0 instanceof Set?m$1.set:typeof Date<"u"&&e0 instanceof Date?m$1.date:m$1.object;default:return m$1.unknown}},f$2=x$1.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Ba$1=e0=>JSON.stringify(e0,null,2).replace(/"([^"]+)":/g,"$1:");let L$4=class Gm extends Error{get errors(){return this.issues}constructor(r){super(),this.issues=[],this.addIssue=n0=>{this.issues=[...this.issues,n0]},this.addIssues=(n0=[])=>{this.issues=[...this.issues,...n0]};const t0=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t0):this.__proto__=t0,this.name="ZodError",this.issues=r}format(r){const t0=r||function(i0){return i0.message},n0={_errors:[]},r0=i0=>{for(const o0 of i0.issues)if(o0.code==="invalid_union")o0.unionErrors.map(r0);else if(o0.code==="invalid_return_type")r0(o0.returnTypeError);else if(o0.code==="invalid_arguments")r0(o0.argumentsError);else if(o0.path.length===0)n0._errors.push(t0(o0));else{let s0=n0,a0=0;for(;a0<o0.path.length;){const c0=o0.path[a0];a0===o0.path.length-1?(s0[c0]=s0[c0]||{_errors:[]},s0[c0]._errors.push(t0(o0))):s0[c0]=s0[c0]||{_errors:[]},s0=s0[c0],a0++}}};return r0(this),n0}static assert(r){if(!(r instanceof Gm))throw new Error(`Not a ZodError: ${r}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,x$1.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(r=t0=>t0.message){const t0={},n0=[];for(const r0 of this.issues)r0.path.length>0?(t0[r0.path[0]]=t0[r0.path[0]]||[],t0[r0.path[0]].push(r(r0))):n0.push(r(r0));return{formErrors:n0,fieldErrors:t0}}get formErrors(){return this.flatten()}};L$4.create=e0=>new L$4(e0);const ge$2=(e0,r)=>{let t0;switch(e0.code){case f$2.invalid_type:e0.received===m$1.undefined?t0="Required":t0=`Expected ${e0.expected}, received ${e0.received}`;break;case f$2.invalid_literal:t0=`Invalid literal value, expected ${JSON.stringify(e0.expected,x$1.jsonStringifyReplacer)}`;break;case f$2.unrecognized_keys:t0=`Unrecognized key(s) in object: ${x$1.joinValues(e0.keys,", ")}`;break;case f$2.invalid_union:t0="Invalid input";break;case f$2.invalid_union_discriminator:t0=`Invalid discriminator value. Expected ${x$1.joinValues(e0.options)}`;break;case f$2.invalid_enum_value:t0=`Invalid enum value. Expected ${x$1.joinValues(e0.options)}, received '${e0.received}'`;break;case f$2.invalid_arguments:t0="Invalid function arguments";break;case f$2.invalid_return_type:t0="Invalid function return type";break;case f$2.invalid_date:t0="Invalid date";break;case f$2.invalid_string:typeof e0.validation=="object"?"includes"in e0.validation?(t0=`Invalid input: must include "${e0.validation.includes}"`,typeof e0.validation.position=="number"&&(t0=`${t0} at one or more positions greater than or equal to ${e0.validation.position}`)):"startsWith"in e0.validation?t0=`Invalid input: must start with "${e0.validation.startsWith}"`:"endsWith"in e0.validation?t0=`Invalid input: must end with "${e0.validation.endsWith}"`:x$1.assertNever(e0.validation):e0.validation!=="regex"?t0=`Invalid ${e0.validation}`:t0="Invalid";break;case f$2.too_small:e0.type==="array"?t0=`Array must contain ${e0.exact?"exactly":e0.inclusive?"at least":"more than"} ${e0.minimum} element(s)`:e0.type==="string"?t0=`String must contain ${e0.exact?"exactly":e0.inclusive?"at least":"over"} ${e0.minimum} character(s)`:e0.type==="number"?t0=`Number must be ${e0.exact?"exactly equal to ":e0.inclusive?"greater than or equal to ":"greater than "}${e0.minimum}`:e0.type==="date"?t0=`Date must be ${e0.exact?"exactly equal to ":e0.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e0.minimum))}`:t0="Invalid input";break;case f$2.too_big:e0.type==="array"?t0=`Array must contain ${e0.exact?"exactly":e0.inclusive?"at most":"less than"} ${e0.maximum} element(s)`:e0.type==="string"?t0=`String must contain ${e0.exact?"exactly":e0.inclusive?"at most":"under"} ${e0.maximum} character(s)`:e0.type==="number"?t0=`Number must be ${e0.exact?"exactly":e0.inclusive?"less than or equal to":"less than"} ${e0.maximum}`:e0.type==="bigint"?t0=`BigInt must be ${e0.exact?"exactly":e0.inclusive?"less than or equal to":"less than"} ${e0.maximum}`:e0.type==="date"?t0=`Date must be ${e0.exact?"exactly":e0.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e0.maximum))}`:t0="Invalid input";break;case f$2.custom:t0="Invalid input";break;case f$2.invalid_intersection_types:t0="Intersection results could not be merged";break;case f$2.not_multiple_of:t0=`Number must be a multiple of ${e0.multipleOf}`;break;case f$2.not_finite:t0="Number must be finite";break;default:t0=r.defaultError,x$1.assertNever(e0)}return{message:t0}};let ln$1=ge$2;function Va$1(e0){ln$1=e0}function Ye$3(){return ln$1}const Xe$3=e0=>{const{data:r,path:t0,errorMaps:n0,issueData:r0}=e0,i0=[...t0,...r0.path||[]],o0={...r0,path:i0};if(r0.message!==void 0)return{...r0,path:i0,message:r0.message};let s0="";const a0=n0.filter(c0=>!!c0).slice().reverse();for(const c0 of a0)s0=c0(o0,{data:r,defaultError:s0}).message;return{...r0,path:i0,message:s0}},Fa$1=[];function p$3(e0,r){const t0=Ye$3(),n0=Xe$3({issueData:r,data:e0.data,path:e0.path,errorMaps:[e0.common.contextualErrorMap,e0.schemaErrorMap,t0,t0===ge$2?void 0:ge$2].filter(r0=>!!r0)});e0.common.issues.push(n0)}let N$4=class Ym{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(r,t0){const n0=[];for(const r0 of t0){if(r0.status==="aborted")return v$3;r0.status==="dirty"&&r.dirty(),n0.push(r0.value)}return{status:r.value,value:n0}}static async mergeObjectAsync(r,t0){const n0=[];for(const r0 of t0){const i0=await r0.key,o0=await r0.value;n0.push({key:i0,value:o0})}return Ym.mergeObjectSync(r,n0)}static mergeObjectSync(r,t0){const n0={};for(const r0 of t0){const{key:i0,value:o0}=r0;if(i0.status==="aborted"||o0.status==="aborted")return v$3;i0.status==="dirty"&&r.dirty(),o0.status==="dirty"&&r.dirty(),i0.value!=="__proto__"&&(typeof o0.value<"u"||r0.alwaysSet)&&(n0[i0.value]=o0.value)}return{status:r.value,value:n0}}};const v$3=Object.freeze({status:"aborted"}),he$3=e0=>({status:"dirty",value:e0}),I$3=e0=>({status:"valid",value:e0}),At$3=e0=>e0.status==="aborted",Nt$3=e0=>e0.status==="dirty",oe$2=e0=>e0.status==="valid",Ne$2=e0=>typeof Promise<"u"&&e0 instanceof Promise;function Qe$3(e0,r,t0,n0){if(t0==="a"&&!n0)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?e0!==r||!n0:!r.has(e0))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t0==="m"?n0:t0==="a"?n0.call(e0):n0?n0.value:r.get(e0)}function dn$1(e0,r,t0,n0,r0){if(n0==="m")throw new TypeError("Private method is not writable");if(n0==="a"&&!r0)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?e0!==r||!r0:!r.has(e0))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n0==="a"?r0.call(e0,t0):r0?r0.value=t0:r.set(e0,t0),t0}var g$2;(function(e0){e0.errToObj=r=>typeof r=="string"?{message:r}:r||{},e0.toString=r=>typeof r=="string"?r:r?.message})(g$2||(g$2={}));var Re$3,Oe$2;let B$3=class{constructor(r,t0,n0,r0){this._cachedPath=[],this.parent=r,this.data=t0,this._path=n0,this._key=r0}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}};const _r$1=(e0,r)=>{if(oe$2(r))return{success:!0,data:r.value};if(!e0.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t0=new L$4(e0.common.issues);return this._error=t0,this._error}}};function b$1(e0){if(!e0)return{};const{errorMap:r,invalid_type_error:t0,required_error:n0,description:r0}=e0;if(r&&(t0||n0))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return r?{errorMap:r,description:r0}:{errorMap:(i0,o0)=>{var s0,a0;const{message:c0}=e0;return i0.code==="invalid_enum_value"?{message:c0??o0.defaultError}:typeof o0.data>"u"?{message:(s0=c0??n0)!==null&&s0!==void 0?s0:o0.defaultError}:i0.code!=="invalid_type"?{message:o0.defaultError}:{message:(a0=c0??t0)!==null&&a0!==void 0?a0:o0.defaultError}},description:r0}}let w$1=class{get description(){return this._def.description}_getType(r){return Y$2(r.data)}_getOrReturnCtx(r,t0){return t0||{common:r.parent.common,data:r.data,parsedType:Y$2(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}_processInputParams(r){return{status:new N$4,ctx:{common:r.parent.common,data:r.data,parsedType:Y$2(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}}_parseSync(r){const t0=this._parse(r);if(Ne$2(t0))throw new Error("Synchronous parse encountered promise.");return t0}_parseAsync(r){const t0=this._parse(r);return Promise.resolve(t0)}parse(r,t0){const n0=this.safeParse(r,t0);if(n0.success)return n0.data;throw n0.error}safeParse(r,t0){var n0;const r0={common:{issues:[],async:(n0=t0?.async)!==null&&n0!==void 0?n0:!1,contextualErrorMap:t0?.errorMap},path:t0?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:Y$2(r)},i0=this._parseSync({data:r,path:r0.path,parent:r0});return _r$1(r0,i0)}"~validate"(r){var t0,n0;const r0={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:Y$2(r)};if(!this["~standard"].async)try{const i0=this._parseSync({data:r,path:[],parent:r0});return oe$2(i0)?{value:i0.value}:{issues:r0.common.issues}}catch(i0){!((n0=(t0=i0?.message)===null||t0===void 0?void 0:t0.toLowerCase())===null||n0===void 0)&&n0.includes("encountered")&&(this["~standard"].async=!0),r0.common={issues:[],async:!0}}return this._parseAsync({data:r,path:[],parent:r0}).then(i0=>oe$2(i0)?{value:i0.value}:{issues:r0.common.issues})}async parseAsync(r,t0){const n0=await this.safeParseAsync(r,t0);if(n0.success)return n0.data;throw n0.error}async safeParseAsync(r,t0){const n0={common:{issues:[],contextualErrorMap:t0?.errorMap,async:!0},path:t0?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:Y$2(r)},r0=this._parse({data:r,path:n0.path,parent:n0}),i0=await(Ne$2(r0)?r0:Promise.resolve(r0));return _r$1(n0,i0)}refine(r,t0){const n0=r0=>typeof t0=="string"||typeof t0>"u"?{message:t0}:typeof t0=="function"?t0(r0):t0;return this._refinement((r0,i0)=>{const o0=r(r0),s0=()=>i0.addIssue({code:f$2.custom,...n0(r0)});return typeof Promise<"u"&&o0 instanceof Promise?o0.then(a0=>a0?!0:(s0(),!1)):o0?!0:(s0(),!1)})}refinement(r,t0){return this._refinement((n0,r0)=>r(n0)?!0:(r0.addIssue(typeof t0=="function"?t0(n0,r0):t0),!1))}_refinement(r){return new W$3({schema:this,typeName:_$4.ZodEffects,effect:{type:"refinement",refinement:r}})}superRefine(r){return this._refinement(r)}constructor(r){this.spa=this.safeParseAsync,this._def=r,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t0=>this["~validate"](t0)}}optional(){return z$2.create(this,this._def)}nullable(){return re$4.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return U$5.create(this)}promise(){return ve$2.create(this,this._def)}or(r){return $e$3.create([this,r],this._def)}and(r){return Me$2.create(this,r,this._def)}transform(r){return new W$3({...b$1(this._def),schema:this,typeName:_$4.ZodEffects,effect:{type:"transform",transform:r}})}default(r){const t0=typeof r=="function"?r:()=>r;return new qe$3({...b$1(this._def),innerType:this,defaultValue:t0,typeName:_$4.ZodDefault})}brand(){return new Yt$2({typeName:_$4.ZodBranded,type:this,...b$1(this._def)})}catch(r){const t0=typeof r=="function"?r:()=>r;return new ze$1({...b$1(this._def),innerType:this,catchValue:t0,typeName:_$4.ZodCatch})}describe(r){const t0=this.constructor;return new t0({...this._def,description:r})}pipe(r){return Fe$2.create(this,r)}readonly(){return Be$2.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}};const Ha$1=/^c[^\s-]{8,}$/i,Ga$1=/^[0-9a-z]+$/,Ja$1=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Ya$1=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Xa$1=/^[a-z0-9_-]{21}$/i,Qa$1=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Ka$1=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,ei$1=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ti$1="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let xt$2;const ri$1=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ni$1=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,si$1=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ai$1=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,ii$1=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,oi$1=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,fn$1="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ci$1=new RegExp(`^${fn$1}$`);function pn$1(e0){let r="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e0.precision?r=`${r}\\.\\d{${e0.precision}}`:e0.precision==null&&(r=`${r}(\\.\\d+)?`),r}function ui$1(e0){return new RegExp(`^${pn$1(e0)}$`)}function hn$1(e0){let r=`${fn$1}T${pn$1(e0)}`;const t0=[];return t0.push(e0.local?"Z?":"Z"),e0.offset&&t0.push("([+-]\\d{2}:?\\d{2})"),r=`${r}(${t0.join("|")})`,new RegExp(`^${r}$`)}function li$1(e0,r){return!!((r==="v4"||!r)&&ri$1.test(e0)||(r==="v6"||!r)&&si$1.test(e0))}function di$1(e0,r){if(!Qa$1.test(e0))return!1;try{const[t0]=e0.split("."),n0=t0.replace(/-/g,"+").replace(/_/g,"/").padEnd(t0.length+(4-t0.length%4)%4,"="),r0=JSON.parse(atob(n0));return!(typeof r0!="object"||r0===null||!r0.typ||!r0.alg||r&&r0.alg!==r)}catch{return!1}}function fi$1(e0,r){return!!((r==="v4"||!r)&&ni$1.test(e0)||(r==="v6"||!r)&&ai$1.test(e0))}let Z$2=class im extends w$1{_parse(r){if(this._def.coerce&&(r.data=String(r.data)),this._getType(r)!==m$1.string){const r0=this._getOrReturnCtx(r);return p$3(r0,{code:f$2.invalid_type,expected:m$1.string,received:r0.parsedType}),v$3}const t0=new N$4;let n0;for(const r0 of this._def.checks)if(r0.kind==="min")r.data.length<r0.value&&(n0=this._getOrReturnCtx(r,n0),p$3(n0,{code:f$2.too_small,minimum:r0.value,type:"string",inclusive:!0,exact:!1,message:r0.message}),t0.dirty());else if(r0.kind==="max")r.data.length>r0.value&&(n0=this._getOrReturnCtx(r,n0),p$3(n0,{code:f$2.too_big,maximum:r0.value,type:"string",inclusive:!0,exact:!1,message:r0.message}),t0.dirty());else if(r0.kind==="length"){const i0=r.data.length>r0.value,o0=r.data.length<r0.value;(i0||o0)&&(n0=this._getOrReturnCtx(r,n0),i0?p$3(n0,{code:f$2.too_big,maximum:r0.value,type:"string",inclusive:!0,exact:!0,message:r0.message}):o0&&p$3(n0,{code:f$2.too_small,minimum:r0.value,type:"string",inclusive:!0,exact:!0,message:r0.message}),t0.dirty())}else if(r0.kind==="email")ei$1.test(r.data)||(n0=this._getOrReturnCtx(r,n0),p$3(n0,{validation:"email",code:f$2.invalid_string,message:r0.message}),t0.dirty());else if(r0.kind==="emoji")xt$2||(xt$2=new RegExp(ti$1,"u")),xt$2.test(r.data)||(n0=this._getOrReturnCtx(r,n0),p$3(n0,{validation:"emoji",code:f$2.invalid_string,message:r0.message}),t0.dirty());else if(r0.kind==="uuid")Ya$1.test(r.data)||(n0=this._getOrReturnCtx(r,n0),p$3(n0,{validation:"uuid",code:f$2.invalid_string,message:r0.message}),t0.dirty());else if(r0.kind==="nanoid")Xa$1.test(r.data)||(n0=this._getOrReturnCtx(r,n0),p$3(n0,{validation:"nanoid",code:f$2.invalid_string,message:r0.message}),t0.dirty());else if(r0.kind==="cuid")Ha$1.test(r.data)||(n0=this._getOrReturnCtx(r,n0),p$3(n0,{validation:"cuid",code:f$2.invalid_string,message:r0.message}),t0.dirty());else if(r0.kind==="cuid2")Ga$1.test(r.data)||(n0=this._getOrReturnCtx(r,n0),p$3(n0,{validation:"cuid2",code:f$2.invalid_string,message:r0.message}),t0.dirty());else if(r0.kind==="ulid")Ja$1.test(r.data)||(n0=this._getOrReturnCtx(r,n0),p$3(n0,{validation:"ulid",code:f$2.invalid_string,message:r0.message}),t0.dirty());else if(r0.kind==="url")try{new URL(r.data)}catch{n0=this._getOrReturnCtx(r,n0),p$3(n0,{validation:"url",code:f$2.invalid_string,message:r0.message}),t0.dirty()}else r0.kind==="regex"?(r0.regex.lastIndex=0,r0.regex.test(r.data)||(n0=this._getOrReturnCtx(r,n0),p$3(n0,{validation:"regex",code:f$2.invalid_string,message:r0.message}),t0.dirty())):r0.kind==="trim"?r.data=r.data.trim():r0.kind==="includes"?r.data.includes(r0.value,r0.position)||(n0=this._getOrReturnCtx(r,n0),p$3(n0,{code:f$2.invalid_string,validation:{includes:r0.value,position:r0.position},message:r0.message}),t0.dirty()):r0.kind==="toLowerCase"?r.data=r.data.toLowerCase():r0.kind==="toUpperCase"?r.data=r.data.toUpperCase():r0.kind==="startsWith"?r.data.startsWith(r0.value)||(n0=this._getOrReturnCtx(r,n0),p$3(n0,{code:f$2.invalid_string,validation:{startsWith:r0.value},message:r0.message}),t0.dirty()):r0.kind==="endsWith"?r.data.endsWith(r0.value)||(n0=this._getOrReturnCtx(r,n0),p$3(n0,{code:f$2.invalid_string,validation:{endsWith:r0.value},message:r0.message}),t0.dirty()):r0.kind==="datetime"?hn$1(r0).test(r.data)||(n0=this._getOrReturnCtx(r,n0),p$3(n0,{code:f$2.invalid_string,validation:"datetime",message:r0.message}),t0.dirty()):r0.kind==="date"?ci$1.test(r.data)||(n0=this._getOrReturnCtx(r,n0),p$3(n0,{code:f$2.invalid_string,validation:"date",message:r0.message}),t0.dirty()):r0.kind==="time"?ui$1(r0).test(r.data)||(n0=this._getOrReturnCtx(r,n0),p$3(n0,{code:f$2.invalid_string,validation:"time",message:r0.message}),t0.dirty()):r0.kind==="duration"?Ka$1.test(r.data)||(n0=this._getOrReturnCtx(r,n0),p$3(n0,{validation:"duration",code:f$2.invalid_string,message:r0.message}),t0.dirty()):r0.kind==="ip"?li$1(r.data,r0.version)||(n0=this._getOrReturnCtx(r,n0),p$3(n0,{validation:"ip",code:f$2.invalid_string,message:r0.message}),t0.dirty()):r0.kind==="jwt"?di$1(r.data,r0.alg)||(n0=this._getOrReturnCtx(r,n0),p$3(n0,{validation:"jwt",code:f$2.invalid_string,message:r0.message}),t0.dirty()):r0.kind==="cidr"?fi$1(r.data,r0.version)||(n0=this._getOrReturnCtx(r,n0),p$3(n0,{validation:"cidr",code:f$2.invalid_string,message:r0.message}),t0.dirty()):r0.kind==="base64"?ii$1.test(r.data)||(n0=this._getOrReturnCtx(r,n0),p$3(n0,{validation:"base64",code:f$2.invalid_string,message:r0.message}),t0.dirty()):r0.kind==="base64url"?oi$1.test(r.data)||(n0=this._getOrReturnCtx(r,n0),p$3(n0,{validation:"base64url",code:f$2.invalid_string,message:r0.message}),t0.dirty()):x$1.assertNever(r0);return{status:t0.value,value:r.data}}_regex(r,t0,n0){return this.refinement(r0=>r.test(r0),{validation:t0,code:f$2.invalid_string,...g$2.errToObj(n0)})}_addCheck(r){return new im({...this._def,checks:[...this._def.checks,r]})}email(r){return this._addCheck({kind:"email",...g$2.errToObj(r)})}url(r){return this._addCheck({kind:"url",...g$2.errToObj(r)})}emoji(r){return this._addCheck({kind:"emoji",...g$2.errToObj(r)})}uuid(r){return this._addCheck({kind:"uuid",...g$2.errToObj(r)})}nanoid(r){return this._addCheck({kind:"nanoid",...g$2.errToObj(r)})}cuid(r){return this._addCheck({kind:"cuid",...g$2.errToObj(r)})}cuid2(r){return this._addCheck({kind:"cuid2",...g$2.errToObj(r)})}ulid(r){return this._addCheck({kind:"ulid",...g$2.errToObj(r)})}base64(r){return this._addCheck({kind:"base64",...g$2.errToObj(r)})}base64url(r){return this._addCheck({kind:"base64url",...g$2.errToObj(r)})}jwt(r){return this._addCheck({kind:"jwt",...g$2.errToObj(r)})}ip(r){return this._addCheck({kind:"ip",...g$2.errToObj(r)})}cidr(r){return this._addCheck({kind:"cidr",...g$2.errToObj(r)})}datetime(r){var t0,n0;return typeof r=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:r}):this._addCheck({kind:"datetime",precision:typeof r?.precision>"u"?null:r?.precision,offset:(t0=r?.offset)!==null&&t0!==void 0?t0:!1,local:(n0=r?.local)!==null&&n0!==void 0?n0:!1,...g$2.errToObj(r?.message)})}date(r){return this._addCheck({kind:"date",message:r})}time(r){return typeof r=="string"?this._addCheck({kind:"time",precision:null,message:r}):this._addCheck({kind:"time",precision:typeof r?.precision>"u"?null:r?.precision,...g$2.errToObj(r?.message)})}duration(r){return this._addCheck({kind:"duration",...g$2.errToObj(r)})}regex(r,t0){return this._addCheck({kind:"regex",regex:r,...g$2.errToObj(t0)})}includes(r,t0){return this._addCheck({kind:"includes",value:r,position:t0?.position,...g$2.errToObj(t0?.message)})}startsWith(r,t0){return this._addCheck({kind:"startsWith",value:r,...g$2.errToObj(t0)})}endsWith(r,t0){return this._addCheck({kind:"endsWith",value:r,...g$2.errToObj(t0)})}min(r,t0){return this._addCheck({kind:"min",value:r,...g$2.errToObj(t0)})}max(r,t0){return this._addCheck({kind:"max",value:r,...g$2.errToObj(t0)})}length(r,t0){return this._addCheck({kind:"length",value:r,...g$2.errToObj(t0)})}nonempty(r){return this.min(1,g$2.errToObj(r))}trim(){return new im({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new im({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new im({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(r=>r.kind==="datetime")}get isDate(){return!!this._def.checks.find(r=>r.kind==="date")}get isTime(){return!!this._def.checks.find(r=>r.kind==="time")}get isDuration(){return!!this._def.checks.find(r=>r.kind==="duration")}get isEmail(){return!!this._def.checks.find(r=>r.kind==="email")}get isURL(){return!!this._def.checks.find(r=>r.kind==="url")}get isEmoji(){return!!this._def.checks.find(r=>r.kind==="emoji")}get isUUID(){return!!this._def.checks.find(r=>r.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(r=>r.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(r=>r.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(r=>r.kind==="cuid2")}get isULID(){return!!this._def.checks.find(r=>r.kind==="ulid")}get isIP(){return!!this._def.checks.find(r=>r.kind==="ip")}get isCIDR(){return!!this._def.checks.find(r=>r.kind==="cidr")}get isBase64(){return!!this._def.checks.find(r=>r.kind==="base64")}get isBase64url(){return!!this._def.checks.find(r=>r.kind==="base64url")}get minLength(){let r=null;for(const t0 of this._def.checks)t0.kind==="min"&&(r===null||t0.value>r)&&(r=t0.value);return r}get maxLength(){let r=null;for(const t0 of this._def.checks)t0.kind==="max"&&(r===null||t0.value<r)&&(r=t0.value);return r}};Z$2.create=e0=>{var r;return new Z$2({checks:[],typeName:_$4.ZodString,coerce:(r=e0?.coerce)!==null&&r!==void 0?r:!1,...b$1(e0)})};function pi$1(e0,r){const t0=(e0.toString().split(".")[1]||"").length,n0=(r.toString().split(".")[1]||"").length,r0=t0>n0?t0:n0,i0=parseInt(e0.toFixed(r0).replace(".","")),o0=parseInt(r.toFixed(r0).replace(".",""));return i0%o0/Math.pow(10,r0)}let K$2=class Om extends w$1{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(r){if(this._def.coerce&&(r.data=Number(r.data)),this._getType(r)!==m$1.number){const r0=this._getOrReturnCtx(r);return p$3(r0,{code:f$2.invalid_type,expected:m$1.number,received:r0.parsedType}),v$3}let t0;const n0=new N$4;for(const r0 of this._def.checks)r0.kind==="int"?x$1.isInteger(r.data)||(t0=this._getOrReturnCtx(r,t0),p$3(t0,{code:f$2.invalid_type,expected:"integer",received:"float",message:r0.message}),n0.dirty()):r0.kind==="min"?(r0.inclusive?r.data<r0.value:r.data<=r0.value)&&(t0=this._getOrReturnCtx(r,t0),p$3(t0,{code:f$2.too_small,minimum:r0.value,type:"number",inclusive:r0.inclusive,exact:!1,message:r0.message}),n0.dirty()):r0.kind==="max"?(r0.inclusive?r.data>r0.value:r.data>=r0.value)&&(t0=this._getOrReturnCtx(r,t0),p$3(t0,{code:f$2.too_big,maximum:r0.value,type:"number",inclusive:r0.inclusive,exact:!1,message:r0.message}),n0.dirty()):r0.kind==="multipleOf"?pi$1(r.data,r0.value)!==0&&(t0=this._getOrReturnCtx(r,t0),p$3(t0,{code:f$2.not_multiple_of,multipleOf:r0.value,message:r0.message}),n0.dirty()):r0.kind==="finite"?Number.isFinite(r.data)||(t0=this._getOrReturnCtx(r,t0),p$3(t0,{code:f$2.not_finite,message:r0.message}),n0.dirty()):x$1.assertNever(r0);return{status:n0.value,value:r.data}}gte(r,t0){return this.setLimit("min",r,!0,g$2.toString(t0))}gt(r,t0){return this.setLimit("min",r,!1,g$2.toString(t0))}lte(r,t0){return this.setLimit("max",r,!0,g$2.toString(t0))}lt(r,t0){return this.setLimit("max",r,!1,g$2.toString(t0))}setLimit(r,t0,n0,r0){return new Om({...this._def,checks:[...this._def.checks,{kind:r,value:t0,inclusive:n0,message:g$2.toString(r0)}]})}_addCheck(r){return new Om({...this._def,checks:[...this._def.checks,r]})}int(r){return this._addCheck({kind:"int",message:g$2.toString(r)})}positive(r){return this._addCheck({kind:"min",value:0,inclusive:!1,message:g$2.toString(r)})}negative(r){return this._addCheck({kind:"max",value:0,inclusive:!1,message:g$2.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:0,inclusive:!0,message:g$2.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:0,inclusive:!0,message:g$2.toString(r)})}multipleOf(r,t0){return this._addCheck({kind:"multipleOf",value:r,message:g$2.toString(t0)})}finite(r){return this._addCheck({kind:"finite",message:g$2.toString(r)})}safe(r){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:g$2.toString(r)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:g$2.toString(r)})}get minValue(){let r=null;for(const t0 of this._def.checks)t0.kind==="min"&&(r===null||t0.value>r)&&(r=t0.value);return r}get maxValue(){let r=null;for(const t0 of this._def.checks)t0.kind==="max"&&(r===null||t0.value<r)&&(r=t0.value);return r}get isInt(){return!!this._def.checks.find(r=>r.kind==="int"||r.kind==="multipleOf"&&x$1.isInteger(r.value))}get isFinite(){let r=null,t0=null;for(const n0 of this._def.checks){if(n0.kind==="finite"||n0.kind==="int"||n0.kind==="multipleOf")return!0;n0.kind==="min"?(t0===null||n0.value>t0)&&(t0=n0.value):n0.kind==="max"&&(r===null||n0.value<r)&&(r=n0.value)}return Number.isFinite(t0)&&Number.isFinite(r)}};K$2.create=e0=>new K$2({checks:[],typeName:_$4.ZodNumber,coerce:e0?.coerce||!1,...b$1(e0)});let ee$2=class $m extends w$1{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(r){if(this._def.coerce)try{r.data=BigInt(r.data)}catch{return this._getInvalidInput(r)}if(this._getType(r)!==m$1.bigint)return this._getInvalidInput(r);let t0;const n0=new N$4;for(const r0 of this._def.checks)r0.kind==="min"?(r0.inclusive?r.data<r0.value:r.data<=r0.value)&&(t0=this._getOrReturnCtx(r,t0),p$3(t0,{code:f$2.too_small,type:"bigint",minimum:r0.value,inclusive:r0.inclusive,message:r0.message}),n0.dirty()):r0.kind==="max"?(r0.inclusive?r.data>r0.value:r.data>=r0.value)&&(t0=this._getOrReturnCtx(r,t0),p$3(t0,{code:f$2.too_big,type:"bigint",maximum:r0.value,inclusive:r0.inclusive,message:r0.message}),n0.dirty()):r0.kind==="multipleOf"?r.data%r0.value!==BigInt(0)&&(t0=this._getOrReturnCtx(r,t0),p$3(t0,{code:f$2.not_multiple_of,multipleOf:r0.value,message:r0.message}),n0.dirty()):x$1.assertNever(r0);return{status:n0.value,value:r.data}}_getInvalidInput(r){const t0=this._getOrReturnCtx(r);return p$3(t0,{code:f$2.invalid_type,expected:m$1.bigint,received:t0.parsedType}),v$3}gte(r,t0){return this.setLimit("min",r,!0,g$2.toString(t0))}gt(r,t0){return this.setLimit("min",r,!1,g$2.toString(t0))}lte(r,t0){return this.setLimit("max",r,!0,g$2.toString(t0))}lt(r,t0){return this.setLimit("max",r,!1,g$2.toString(t0))}setLimit(r,t0,n0,r0){return new $m({...this._def,checks:[...this._def.checks,{kind:r,value:t0,inclusive:n0,message:g$2.toString(r0)}]})}_addCheck(r){return new $m({...this._def,checks:[...this._def.checks,r]})}positive(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:g$2.toString(r)})}negative(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:g$2.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:g$2.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:g$2.toString(r)})}multipleOf(r,t0){return this._addCheck({kind:"multipleOf",value:r,message:g$2.toString(t0)})}get minValue(){let r=null;for(const t0 of this._def.checks)t0.kind==="min"&&(r===null||t0.value>r)&&(r=t0.value);return r}get maxValue(){let r=null;for(const t0 of this._def.checks)t0.kind==="max"&&(r===null||t0.value<r)&&(r=t0.value);return r}};ee$2.create=e0=>{var r;return new ee$2({checks:[],typeName:_$4.ZodBigInt,coerce:(r=e0?.coerce)!==null&&r!==void 0?r:!1,...b$1(e0)})};let Ie$3=class extends w$1{_parse(r){if(this._def.coerce&&(r.data=!!r.data),this._getType(r)!==m$1.boolean){const t0=this._getOrReturnCtx(r);return p$3(t0,{code:f$2.invalid_type,expected:m$1.boolean,received:t0.parsedType}),v$3}return I$3(r.data)}};Ie$3.create=e0=>new Ie$3({typeName:_$4.ZodBoolean,coerce:e0?.coerce||!1,...b$1(e0)});let ce$2=class qm extends w$1{_parse(r){if(this._def.coerce&&(r.data=new Date(r.data)),this._getType(r)!==m$1.date){const r0=this._getOrReturnCtx(r);return p$3(r0,{code:f$2.invalid_type,expected:m$1.date,received:r0.parsedType}),v$3}if(isNaN(r.data.getTime())){const r0=this._getOrReturnCtx(r);return p$3(r0,{code:f$2.invalid_date}),v$3}const t0=new N$4;let n0;for(const r0 of this._def.checks)r0.kind==="min"?r.data.getTime()<r0.value&&(n0=this._getOrReturnCtx(r,n0),p$3(n0,{code:f$2.too_small,message:r0.message,inclusive:!0,exact:!1,minimum:r0.value,type:"date"}),t0.dirty()):r0.kind==="max"?r.data.getTime()>r0.value&&(n0=this._getOrReturnCtx(r,n0),p$3(n0,{code:f$2.too_big,message:r0.message,inclusive:!0,exact:!1,maximum:r0.value,type:"date"}),t0.dirty()):x$1.assertNever(r0);return{status:t0.value,value:new Date(r.data.getTime())}}_addCheck(r){return new qm({...this._def,checks:[...this._def.checks,r]})}min(r,t0){return this._addCheck({kind:"min",value:r.getTime(),message:g$2.toString(t0)})}max(r,t0){return this._addCheck({kind:"max",value:r.getTime(),message:g$2.toString(t0)})}get minDate(){let r=null;for(const t0 of this._def.checks)t0.kind==="min"&&(r===null||t0.value>r)&&(r=t0.value);return r!=null?new Date(r):null}get maxDate(){let r=null;for(const t0 of this._def.checks)t0.kind==="max"&&(r===null||t0.value<r)&&(r=t0.value);return r!=null?new Date(r):null}};ce$2.create=e0=>new ce$2({checks:[],coerce:e0?.coerce||!1,typeName:_$4.ZodDate,...b$1(e0)});let Ke$3=class extends w$1{_parse(r){if(this._getType(r)!==m$1.symbol){const t0=this._getOrReturnCtx(r);return p$3(t0,{code:f$2.invalid_type,expected:m$1.symbol,received:t0.parsedType}),v$3}return I$3(r.data)}};Ke$3.create=e0=>new Ke$3({typeName:_$4.ZodSymbol,...b$1(e0)});let je$1=class extends w$1{_parse(r){if(this._getType(r)!==m$1.undefined){const t0=this._getOrReturnCtx(r);return p$3(t0,{code:f$2.invalid_type,expected:m$1.undefined,received:t0.parsedType}),v$3}return I$3(r.data)}};je$1.create=e0=>new je$1({typeName:_$4.ZodUndefined,...b$1(e0)});let Le$1=class extends w$1{_parse(r){if(this._getType(r)!==m$1.null){const t0=this._getOrReturnCtx(r);return p$3(t0,{code:f$2.invalid_type,expected:m$1.null,received:t0.parsedType}),v$3}return I$3(r.data)}};Le$1.create=e0=>new Le$1({typeName:_$4.ZodNull,...b$1(e0)});let _e$3=class extends w$1{constructor(){super(...arguments),this._any=!0}_parse(r){return I$3(r.data)}};_e$3.create=e0=>new _e$3({typeName:_$4.ZodAny,...b$1(e0)});let ie$3=class extends w$1{constructor(){super(...arguments),this._unknown=!0}_parse(r){return I$3(r.data)}};ie$3.create=e0=>new ie$3({typeName:_$4.ZodUnknown,...b$1(e0)});let X$3=class extends w$1{_parse(r){const t0=this._getOrReturnCtx(r);return p$3(t0,{code:f$2.invalid_type,expected:m$1.never,received:t0.parsedType}),v$3}};X$3.create=e0=>new X$3({typeName:_$4.ZodNever,...b$1(e0)});let et$3=class extends w$1{_parse(r){if(this._getType(r)!==m$1.undefined){const t0=this._getOrReturnCtx(r);return p$3(t0,{code:f$2.invalid_type,expected:m$1.void,received:t0.parsedType}),v$3}return I$3(r.data)}};et$3.create=e0=>new et$3({typeName:_$4.ZodVoid,...b$1(e0)});let U$5=class om extends w$1{_parse(r){const{ctx:t0,status:n0}=this._processInputParams(r),r0=this._def;if(t0.parsedType!==m$1.array)return p$3(t0,{code:f$2.invalid_type,expected:m$1.array,received:t0.parsedType}),v$3;if(r0.exactLength!==null){const o0=t0.data.length>r0.exactLength.value,s0=t0.data.length<r0.exactLength.value;(o0||s0)&&(p$3(t0,{code:o0?f$2.too_big:f$2.too_small,minimum:s0?r0.exactLength.value:void 0,maximum:o0?r0.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r0.exactLength.message}),n0.dirty())}if(r0.minLength!==null&&t0.data.length<r0.minLength.value&&(p$3(t0,{code:f$2.too_small,minimum:r0.minLength.value,type:"array",inclusive:!0,exact:!1,message:r0.minLength.message}),n0.dirty()),r0.maxLength!==null&&t0.data.length>r0.maxLength.value&&(p$3(t0,{code:f$2.too_big,maximum:r0.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r0.maxLength.message}),n0.dirty()),t0.common.async)return Promise.all([...t0.data].map((o0,s0)=>r0.type._parseAsync(new B$3(t0,o0,t0.path,s0)))).then(o0=>N$4.mergeArray(n0,o0));const i0=[...t0.data].map((o0,s0)=>r0.type._parseSync(new B$3(t0,o0,t0.path,s0)));return N$4.mergeArray(n0,i0)}get element(){return this._def.type}min(r,t0){return new om({...this._def,minLength:{value:r,message:g$2.toString(t0)}})}max(r,t0){return new om({...this._def,maxLength:{value:r,message:g$2.toString(t0)}})}length(r,t0){return new om({...this._def,exactLength:{value:r,message:g$2.toString(t0)}})}nonempty(r){return this.min(1,r)}};U$5.create=(e0,r)=>new U$5({type:e0,minLength:null,maxLength:null,exactLength:null,typeName:_$4.ZodArray,...b$1(r)});function pe$1(e0){if(e0 instanceof C$1){const r={};for(const t0 in e0.shape){const n0=e0.shape[t0];r[t0]=z$2.create(pe$1(n0))}return new C$1({...e0._def,shape:()=>r})}else return e0 instanceof U$5?new U$5({...e0._def,type:pe$1(e0.element)}):e0 instanceof z$2?z$2.create(pe$1(e0.unwrap())):e0 instanceof re$4?re$4.create(pe$1(e0.unwrap())):e0 instanceof V$3?V$3.create(e0.items.map(r=>pe$1(r))):e0}let C$1=class em extends w$1{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const r=this._def.shape(),t0=x$1.objectKeys(r);return this._cached={shape:r,keys:t0}}_parse(r){if(this._getType(r)!==m$1.object){const a0=this._getOrReturnCtx(r);return p$3(a0,{code:f$2.invalid_type,expected:m$1.object,received:a0.parsedType}),v$3}const{status:t0,ctx:n0}=this._processInputParams(r),{shape:r0,keys:i0}=this._getCached(),o0=[];if(!(this._def.catchall instanceof X$3&&this._def.unknownKeys==="strip"))for(const a0 in n0.data)i0.includes(a0)||o0.push(a0);const s0=[];for(const a0 of i0){const c0=r0[a0],l0=n0.data[a0];s0.push({key:{status:"valid",value:a0},value:c0._parse(new B$3(n0,l0,n0.path,a0)),alwaysSet:a0 in n0.data})}if(this._def.catchall instanceof X$3){const a0=this._def.unknownKeys;if(a0==="passthrough")for(const c0 of o0)s0.push({key:{status:"valid",value:c0},value:{status:"valid",value:n0.data[c0]}});else if(a0==="strict")o0.length>0&&(p$3(n0,{code:f$2.unrecognized_keys,keys:o0}),t0.dirty());else if(a0!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const a0=this._def.catchall;for(const c0 of o0){const l0=n0.data[c0];s0.push({key:{status:"valid",value:c0},value:a0._parse(new B$3(n0,l0,n0.path,c0)),alwaysSet:c0 in n0.data})}}return n0.common.async?Promise.resolve().then(async()=>{const a0=[];for(const c0 of s0){const l0=await c0.key,u0=await c0.value;a0.push({key:l0,value:u0,alwaysSet:c0.alwaysSet})}return a0}).then(a0=>N$4.mergeObjectSync(t0,a0)):N$4.mergeObjectSync(t0,s0)}get shape(){return this._def.shape()}strict(r){return g$2.errToObj,new em({...this._def,unknownKeys:"strict",...r!==void 0?{errorMap:(t0,n0)=>{var r0,i0,o0,s0;const a0=(o0=(i0=(r0=this._def).errorMap)===null||i0===void 0?void 0:i0.call(r0,t0,n0).message)!==null&&o0!==void 0?o0:n0.defaultError;return t0.code==="unrecognized_keys"?{message:(s0=g$2.errToObj(r).message)!==null&&s0!==void 0?s0:a0}:{message:a0}}}:{}})}strip(){return new em({...this._def,unknownKeys:"strip"})}passthrough(){return new em({...this._def,unknownKeys:"passthrough"})}extend(r){return new em({...this._def,shape:()=>({...this._def.shape(),...r})})}merge(r){return new em({unknownKeys:r._def.unknownKeys,catchall:r._def.catchall,shape:()=>({...this._def.shape(),...r._def.shape()}),typeName:_$4.ZodObject})}setKey(r,t0){return this.augment({[r]:t0})}catchall(r){return new em({...this._def,catchall:r})}pick(r){const t0={};return x$1.objectKeys(r).forEach(n0=>{r[n0]&&this.shape[n0]&&(t0[n0]=this.shape[n0])}),new em({...this._def,shape:()=>t0})}omit(r){const t0={};return x$1.objectKeys(this.shape).forEach(n0=>{r[n0]||(t0[n0]=this.shape[n0])}),new em({...this._def,shape:()=>t0})}deepPartial(){return pe$1(this)}partial(r){const t0={};return x$1.objectKeys(this.shape).forEach(n0=>{const r0=this.shape[n0];r&&!r[n0]?t0[n0]=r0:t0[n0]=r0.optional()}),new em({...this._def,shape:()=>t0})}required(r){const t0={};return x$1.objectKeys(this.shape).forEach(n0=>{if(r&&!r[n0])t0[n0]=this.shape[n0];else{let r0=this.shape[n0];for(;r0 instanceof z$2;)r0=r0._def.innerType;t0[n0]=r0}}),new em({...this._def,shape:()=>t0})}keyof(){return mn$1(x$1.objectKeys(this.shape))}};C$1.create=(e0,r)=>new C$1({shape:()=>e0,unknownKeys:"strip",catchall:X$3.create(),typeName:_$4.ZodObject,...b$1(r)});C$1.strictCreate=(e0,r)=>new C$1({shape:()=>e0,unknownKeys:"strict",catchall:X$3.create(),typeName:_$4.ZodObject,...b$1(r)});C$1.lazycreate=(e0,r)=>new C$1({shape:e0,unknownKeys:"strip",catchall:X$3.create(),typeName:_$4.ZodObject,...b$1(r)});let $e$3=class extends w$1{_parse(r){const{ctx:t0}=this._processInputParams(r),n0=this._def.options;function r0(i0){for(const s0 of i0)if(s0.result.status==="valid")return s0.result;for(const s0 of i0)if(s0.result.status==="dirty")return t0.common.issues.push(...s0.ctx.common.issues),s0.result;const o0=i0.map(s0=>new L$4(s0.ctx.common.issues));return p$3(t0,{code:f$2.invalid_union,unionErrors:o0}),v$3}if(t0.common.async)return Promise.all(n0.map(async i0=>{const o0={...t0,common:{...t0.common,issues:[]},parent:null};return{result:await i0._parseAsync({data:t0.data,path:t0.path,parent:o0}),ctx:o0}})).then(r0);{let i0;const o0=[];for(const a0 of n0){const c0={...t0,common:{...t0.common,issues:[]},parent:null},l0=a0._parseSync({data:t0.data,path:t0.path,parent:c0});if(l0.status==="valid")return l0;l0.status==="dirty"&&!i0&&(i0={result:l0,ctx:c0}),c0.common.issues.length&&o0.push(c0.common.issues)}if(i0)return t0.common.issues.push(...i0.ctx.common.issues),i0.result;const s0=o0.map(a0=>new L$4(a0));return p$3(t0,{code:f$2.invalid_union,unionErrors:s0}),v$3}}get options(){return this._def.options}};$e$3.create=(e0,r)=>new $e$3({options:e0,typeName:_$4.ZodUnion,...b$1(r)});const J$3=e0=>e0 instanceof Ze$3?J$3(e0.schema):e0 instanceof W$3?J$3(e0.innerType()):e0 instanceof Ue$2?[e0.value]:e0 instanceof te$2?e0.options:e0 instanceof We$2?x$1.objectValues(e0.enum):e0 instanceof qe$3?J$3(e0._def.innerType):e0 instanceof je$1?[void 0]:e0 instanceof Le$1?[null]:e0 instanceof z$2?[void 0,...J$3(e0.unwrap())]:e0 instanceof re$4?[null,...J$3(e0.unwrap())]:e0 instanceof Yt$2||e0 instanceof Be$2?J$3(e0.unwrap()):e0 instanceof ze$1?J$3(e0._def.innerType):[];let ft$3=class Zm extends w$1{_parse(r){const{ctx:t0}=this._processInputParams(r);if(t0.parsedType!==m$1.object)return p$3(t0,{code:f$2.invalid_type,expected:m$1.object,received:t0.parsedType}),v$3;const n0=this.discriminator,r0=t0.data[n0],i0=this.optionsMap.get(r0);return i0?t0.common.async?i0._parseAsync({data:t0.data,path:t0.path,parent:t0}):i0._parseSync({data:t0.data,path:t0.path,parent:t0}):(p$3(t0,{code:f$2.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n0]}),v$3)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(r,t0,n0){const r0=new Map;for(const i0 of t0){const o0=J$3(i0.shape[r]);if(!o0.length)throw new Error(`A discriminator value for key \`${r}\` could not be extracted from all schema options`);for(const s0 of o0){if(r0.has(s0))throw new Error(`Discriminator property ${String(r)} has duplicate value ${String(s0)}`);r0.set(s0,i0)}}return new Zm({typeName:_$4.ZodDiscriminatedUnion,discriminator:r,options:t0,optionsMap:r0,...b$1(n0)})}};function It$2(e0,r){const t0=Y$2(e0),n0=Y$2(r);if(e0===r)return{valid:!0,data:e0};if(t0===m$1.object&&n0===m$1.object){const r0=x$1.objectKeys(r),i0=x$1.objectKeys(e0).filter(s0=>r0.indexOf(s0)!==-1),o0={...e0,...r};for(const s0 of i0){const a0=It$2(e0[s0],r[s0]);if(!a0.valid)return{valid:!1};o0[s0]=a0.data}return{valid:!0,data:o0}}else if(t0===m$1.array&&n0===m$1.array){if(e0.length!==r.length)return{valid:!1};const r0=[];for(let i0=0;i0<e0.length;i0++){const o0=e0[i0],s0=r[i0],a0=It$2(o0,s0);if(!a0.valid)return{valid:!1};r0.push(a0.data)}return{valid:!0,data:r0}}else return t0===m$1.date&&n0===m$1.date&&+e0==+r?{valid:!0,data:e0}:{valid:!1}}let Me$2=class extends w$1{_parse(r){const{status:t0,ctx:n0}=this._processInputParams(r),r0=(i0,o0)=>{if(At$3(i0)||At$3(o0))return v$3;const s0=It$2(i0.value,o0.value);return s0.valid?((Nt$3(i0)||Nt$3(o0))&&t0.dirty(),{status:t0.value,value:s0.data}):(p$3(n0,{code:f$2.invalid_intersection_types}),v$3)};return n0.common.async?Promise.all([this._def.left._parseAsync({data:n0.data,path:n0.path,parent:n0}),this._def.right._parseAsync({data:n0.data,path:n0.path,parent:n0})]).then(([i0,o0])=>r0(i0,o0)):r0(this._def.left._parseSync({data:n0.data,path:n0.path,parent:n0}),this._def.right._parseSync({data:n0.data,path:n0.path,parent:n0}))}};Me$2.create=(e0,r,t0)=>new Me$2({left:e0,right:r,typeName:_$4.ZodIntersection,...b$1(t0)});let V$3=class Qm extends w$1{_parse(r){const{status:t0,ctx:n0}=this._processInputParams(r);if(n0.parsedType!==m$1.array)return p$3(n0,{code:f$2.invalid_type,expected:m$1.array,received:n0.parsedType}),v$3;if(n0.data.length<this._def.items.length)return p$3(n0,{code:f$2.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),v$3;!this._def.rest&&n0.data.length>this._def.items.length&&(p$3(n0,{code:f$2.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t0.dirty());const r0=[...n0.data].map((i0,o0)=>{const s0=this._def.items[o0]||this._def.rest;return s0?s0._parse(new B$3(n0,i0,n0.path,o0)):null}).filter(i0=>!!i0);return n0.common.async?Promise.all(r0).then(i0=>N$4.mergeArray(t0,i0)):N$4.mergeArray(t0,r0)}get items(){return this._def.items}rest(r){return new Qm({...this._def,rest:r})}};V$3.create=(e0,r)=>{if(!Array.isArray(e0))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new V$3({items:e0,typeName:_$4.ZodTuple,rest:null,...b$1(r)})};let De$2=class Tm extends w$1{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){const{status:t0,ctx:n0}=this._processInputParams(r);if(n0.parsedType!==m$1.object)return p$3(n0,{code:f$2.invalid_type,expected:m$1.object,received:n0.parsedType}),v$3;const r0=[],i0=this._def.keyType,o0=this._def.valueType;for(const s0 in n0.data)r0.push({key:i0._parse(new B$3(n0,s0,n0.path,s0)),value:o0._parse(new B$3(n0,n0.data[s0],n0.path,s0)),alwaysSet:s0 in n0.data});return n0.common.async?N$4.mergeObjectAsync(t0,r0):N$4.mergeObjectSync(t0,r0)}get element(){return this._def.valueType}static create(r,t0,n0){return t0 instanceof w$1?new Tm({keyType:r,valueType:t0,typeName:_$4.ZodRecord,...b$1(n0)}):new Tm({keyType:Z$2.create(),valueType:r,typeName:_$4.ZodRecord,...b$1(t0)})}},tt$3=class extends w$1{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){const{status:t0,ctx:n0}=this._processInputParams(r);if(n0.parsedType!==m$1.map)return p$3(n0,{code:f$2.invalid_type,expected:m$1.map,received:n0.parsedType}),v$3;const r0=this._def.keyType,i0=this._def.valueType,o0=[...n0.data.entries()].map(([s0,a0],c0)=>({key:r0._parse(new B$3(n0,s0,n0.path,[c0,"key"])),value:i0._parse(new B$3(n0,a0,n0.path,[c0,"value"]))}));if(n0.common.async){const s0=new Map;return Promise.resolve().then(async()=>{for(const a0 of o0){const c0=await a0.key,l0=await a0.value;if(c0.status==="aborted"||l0.status==="aborted")return v$3;(c0.status==="dirty"||l0.status==="dirty")&&t0.dirty(),s0.set(c0.value,l0.value)}return{status:t0.value,value:s0}})}else{const s0=new Map;for(const a0 of o0){const c0=a0.key,l0=a0.value;if(c0.status==="aborted"||l0.status==="aborted")return v$3;(c0.status==="dirty"||l0.status==="dirty")&&t0.dirty(),s0.set(c0.value,l0.value)}return{status:t0.value,value:s0}}}};tt$3.create=(e0,r,t0)=>new tt$3({valueType:r,keyType:e0,typeName:_$4.ZodMap,...b$1(t0)});let ue$3=class Cm extends w$1{_parse(r){const{status:t0,ctx:n0}=this._processInputParams(r);if(n0.parsedType!==m$1.set)return p$3(n0,{code:f$2.invalid_type,expected:m$1.set,received:n0.parsedType}),v$3;const r0=this._def;r0.minSize!==null&&n0.data.size<r0.minSize.value&&(p$3(n0,{code:f$2.too_small,minimum:r0.minSize.value,type:"set",inclusive:!0,exact:!1,message:r0.minSize.message}),t0.dirty()),r0.maxSize!==null&&n0.data.size>r0.maxSize.value&&(p$3(n0,{code:f$2.too_big,maximum:r0.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r0.maxSize.message}),t0.dirty());const i0=this._def.valueType;function o0(a0){const c0=new Set;for(const l0 of a0){if(l0.status==="aborted")return v$3;l0.status==="dirty"&&t0.dirty(),c0.add(l0.value)}return{status:t0.value,value:c0}}const s0=[...n0.data.values()].map((a0,c0)=>i0._parse(new B$3(n0,a0,n0.path,c0)));return n0.common.async?Promise.all(s0).then(a0=>o0(a0)):o0(s0)}min(r,t0){return new Cm({...this._def,minSize:{value:r,message:g$2.toString(t0)}})}max(r,t0){return new Cm({...this._def,maxSize:{value:r,message:g$2.toString(t0)}})}size(r,t0){return this.min(r,t0).max(r,t0)}nonempty(r){return this.min(1,r)}};ue$3.create=(e0,r)=>new ue$3({valueType:e0,minSize:null,maxSize:null,typeName:_$4.ZodSet,...b$1(r)});let me$2=class sm extends w$1{constructor(){super(...arguments),this.validate=this.implement}_parse(r){const{ctx:t0}=this._processInputParams(r);if(t0.parsedType!==m$1.function)return p$3(t0,{code:f$2.invalid_type,expected:m$1.function,received:t0.parsedType}),v$3;function n0(s0,a0){return Xe$3({data:s0,path:t0.path,errorMaps:[t0.common.contextualErrorMap,t0.schemaErrorMap,Ye$3(),ge$2].filter(c0=>!!c0),issueData:{code:f$2.invalid_arguments,argumentsError:a0}})}function r0(s0,a0){return Xe$3({data:s0,path:t0.path,errorMaps:[t0.common.contextualErrorMap,t0.schemaErrorMap,Ye$3(),ge$2].filter(c0=>!!c0),issueData:{code:f$2.invalid_return_type,returnTypeError:a0}})}const i0={errorMap:t0.common.contextualErrorMap},o0=t0.data;if(this._def.returns instanceof ve$2){const s0=this;return I$3(async function(...a0){const c0=new L$4([]),l0=await s0._def.args.parseAsync(a0,i0).catch(h0=>{throw c0.addIssue(n0(a0,h0)),c0}),u0=await Reflect.apply(o0,this,l0);return await s0._def.returns._def.type.parseAsync(u0,i0).catch(h0=>{throw c0.addIssue(r0(u0,h0)),c0})})}else{const s0=this;return I$3(function(...a0){const c0=s0._def.args.safeParse(a0,i0);if(!c0.success)throw new L$4([n0(a0,c0.error)]);const l0=Reflect.apply(o0,this,c0.data),u0=s0._def.returns.safeParse(l0,i0);if(!u0.success)throw new L$4([r0(l0,u0.error)]);return u0.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...r){return new sm({...this._def,args:V$3.create(r).rest(ie$3.create())})}returns(r){return new sm({...this._def,returns:r})}implement(r){return this.parse(r)}strictImplement(r){return this.parse(r)}static create(r,t0,n0){return new sm({args:r||V$3.create([]).rest(ie$3.create()),returns:t0||ie$3.create(),typeName:_$4.ZodFunction,...b$1(n0)})}},Ze$3=class extends w$1{get schema(){return this._def.getter()}_parse(r){const{ctx:t0}=this._processInputParams(r);return this._def.getter()._parse({data:t0.data,path:t0.path,parent:t0})}};Ze$3.create=(e0,r)=>new Ze$3({getter:e0,typeName:_$4.ZodLazy,...b$1(r)});let Ue$2=class extends w$1{_parse(r){if(r.data!==this._def.value){const t0=this._getOrReturnCtx(r);return p$3(t0,{received:t0.data,code:f$2.invalid_literal,expected:this._def.value}),v$3}return{status:"valid",value:r.data}}get value(){return this._def.value}};Ue$2.create=(e0,r)=>new Ue$2({value:e0,typeName:_$4.ZodLiteral,...b$1(r)});function mn$1(e0,r){return new te$2({values:e0,typeName:_$4.ZodEnum,...b$1(r)})}let te$2=class xm extends w$1{constructor(){super(...arguments),Re$3.set(this,void 0)}_parse(r){if(typeof r.data!="string"){const t0=this._getOrReturnCtx(r),n0=this._def.values;return p$3(t0,{expected:x$1.joinValues(n0),received:t0.parsedType,code:f$2.invalid_type}),v$3}if(Qe$3(this,Re$3,"f")||dn$1(this,Re$3,new Set(this._def.values),"f"),!Qe$3(this,Re$3,"f").has(r.data)){const t0=this._getOrReturnCtx(r),n0=this._def.values;return p$3(t0,{received:t0.data,code:f$2.invalid_enum_value,options:n0}),v$3}return I$3(r.data)}get options(){return this._def.values}get enum(){const r={};for(const t0 of this._def.values)r[t0]=t0;return r}get Values(){const r={};for(const t0 of this._def.values)r[t0]=t0;return r}get Enum(){const r={};for(const t0 of this._def.values)r[t0]=t0;return r}extract(r,t0=this._def){return xm.create(r,{...this._def,...t0})}exclude(r,t0=this._def){return xm.create(this.options.filter(n0=>!r.includes(n0)),{...this._def,...t0})}};Re$3=new WeakMap;te$2.create=mn$1;let We$2=class extends w$1{constructor(){super(...arguments),Oe$2.set(this,void 0)}_parse(r){const t0=x$1.getValidEnumValues(this._def.values),n0=this._getOrReturnCtx(r);if(n0.parsedType!==m$1.string&&n0.parsedType!==m$1.number){const r0=x$1.objectValues(t0);return p$3(n0,{expected:x$1.joinValues(r0),received:n0.parsedType,code:f$2.invalid_type}),v$3}if(Qe$3(this,Oe$2,"f")||dn$1(this,Oe$2,new Set(x$1.getValidEnumValues(this._def.values)),"f"),!Qe$3(this,Oe$2,"f").has(r.data)){const r0=x$1.objectValues(t0);return p$3(n0,{received:n0.data,code:f$2.invalid_enum_value,options:r0}),v$3}return I$3(r.data)}get enum(){return this._def.values}};Oe$2=new WeakMap;We$2.create=(e0,r)=>new We$2({values:e0,typeName:_$4.ZodNativeEnum,...b$1(r)});let ve$2=class extends w$1{unwrap(){return this._def.type}_parse(r){const{ctx:t0}=this._processInputParams(r);if(t0.parsedType!==m$1.promise&&t0.common.async===!1)return p$3(t0,{code:f$2.invalid_type,expected:m$1.promise,received:t0.parsedType}),v$3;const n0=t0.parsedType===m$1.promise?t0.data:Promise.resolve(t0.data);return I$3(n0.then(r0=>this._def.type.parseAsync(r0,{path:t0.path,errorMap:t0.common.contextualErrorMap})))}};ve$2.create=(e0,r)=>new ve$2({type:e0,typeName:_$4.ZodPromise,...b$1(r)});let W$3=class extends w$1{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===_$4.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(r){const{status:t0,ctx:n0}=this._processInputParams(r),r0=this._def.effect||null,i0={addIssue:o0=>{p$3(n0,o0),o0.fatal?t0.abort():t0.dirty()},get path(){return n0.path}};if(i0.addIssue=i0.addIssue.bind(i0),r0.type==="preprocess"){const o0=r0.transform(n0.data,i0);if(n0.common.async)return Promise.resolve(o0).then(async s0=>{if(t0.value==="aborted")return v$3;const a0=await this._def.schema._parseAsync({data:s0,path:n0.path,parent:n0});return a0.status==="aborted"?v$3:a0.status==="dirty"||t0.value==="dirty"?he$3(a0.value):a0});{if(t0.value==="aborted")return v$3;const s0=this._def.schema._parseSync({data:o0,path:n0.path,parent:n0});return s0.status==="aborted"?v$3:s0.status==="dirty"||t0.value==="dirty"?he$3(s0.value):s0}}if(r0.type==="refinement"){const o0=s0=>{const a0=r0.refinement(s0,i0);if(n0.common.async)return Promise.resolve(a0);if(a0 instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return s0};if(n0.common.async===!1){const s0=this._def.schema._parseSync({data:n0.data,path:n0.path,parent:n0});return s0.status==="aborted"?v$3:(s0.status==="dirty"&&t0.dirty(),o0(s0.value),{status:t0.value,value:s0.value})}else return this._def.schema._parseAsync({data:n0.data,path:n0.path,parent:n0}).then(s0=>s0.status==="aborted"?v$3:(s0.status==="dirty"&&t0.dirty(),o0(s0.value).then(()=>({status:t0.value,value:s0.value}))))}if(r0.type==="transform")if(n0.common.async===!1){const o0=this._def.schema._parseSync({data:n0.data,path:n0.path,parent:n0});if(!oe$2(o0))return o0;const s0=r0.transform(o0.value,i0);if(s0 instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t0.value,value:s0}}else return this._def.schema._parseAsync({data:n0.data,path:n0.path,parent:n0}).then(o0=>oe$2(o0)?Promise.resolve(r0.transform(o0.value,i0)).then(s0=>({status:t0.value,value:s0})):o0);x$1.assertNever(r0)}};W$3.create=(e0,r,t0)=>new W$3({schema:e0,typeName:_$4.ZodEffects,effect:r,...b$1(t0)});W$3.createWithPreprocess=(e0,r,t0)=>new W$3({schema:r,effect:{type:"preprocess",transform:e0},typeName:_$4.ZodEffects,...b$1(t0)});let z$2=class extends w$1{_parse(r){return this._getType(r)===m$1.undefined?I$3(void 0):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}};z$2.create=(e0,r)=>new z$2({innerType:e0,typeName:_$4.ZodOptional,...b$1(r)});let re$4=class extends w$1{_parse(r){return this._getType(r)===m$1.null?I$3(null):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}};re$4.create=(e0,r)=>new re$4({innerType:e0,typeName:_$4.ZodNullable,...b$1(r)});let qe$3=class extends w$1{_parse(r){const{ctx:t0}=this._processInputParams(r);let n0=t0.data;return t0.parsedType===m$1.undefined&&(n0=this._def.defaultValue()),this._def.innerType._parse({data:n0,path:t0.path,parent:t0})}removeDefault(){return this._def.innerType}};qe$3.create=(e0,r)=>new qe$3({innerType:e0,typeName:_$4.ZodDefault,defaultValue:typeof r.default=="function"?r.default:()=>r.default,...b$1(r)});let ze$1=class extends w$1{_parse(r){const{ctx:t0}=this._processInputParams(r),n0={...t0,common:{...t0.common,issues:[]}},r0=this._def.innerType._parse({data:n0.data,path:n0.path,parent:{...n0}});return Ne$2(r0)?r0.then(i0=>({status:"valid",value:i0.status==="valid"?i0.value:this._def.catchValue({get error(){return new L$4(n0.common.issues)},input:n0.data})})):{status:"valid",value:r0.status==="valid"?r0.value:this._def.catchValue({get error(){return new L$4(n0.common.issues)},input:n0.data})}}removeCatch(){return this._def.innerType}};ze$1.create=(e0,r)=>new ze$1({innerType:e0,typeName:_$4.ZodCatch,catchValue:typeof r.catch=="function"?r.catch:()=>r.catch,...b$1(r)});let rt$3=class extends w$1{_parse(r){if(this._getType(r)!==m$1.nan){const t0=this._getOrReturnCtx(r);return p$3(t0,{code:f$2.invalid_type,expected:m$1.nan,received:t0.parsedType}),v$3}return{status:"valid",value:r.data}}};rt$3.create=e0=>new rt$3({typeName:_$4.ZodNaN,...b$1(e0)});const hi$1=Symbol("zod_brand");let Yt$2=class extends w$1{_parse(r){const{ctx:t0}=this._processInputParams(r),n0=t0.data;return this._def.type._parse({data:n0,path:t0.path,parent:t0})}unwrap(){return this._def.type}},Fe$2=class Xm extends w$1{_parse(r){const{status:t0,ctx:n0}=this._processInputParams(r);if(n0.common.async)return(async()=>{const r0=await this._def.in._parseAsync({data:n0.data,path:n0.path,parent:n0});return r0.status==="aborted"?v$3:r0.status==="dirty"?(t0.dirty(),he$3(r0.value)):this._def.out._parseAsync({data:r0.value,path:n0.path,parent:n0})})();{const r0=this._def.in._parseSync({data:n0.data,path:n0.path,parent:n0});return r0.status==="aborted"?v$3:r0.status==="dirty"?(t0.dirty(),{status:"dirty",value:r0.value}):this._def.out._parseSync({data:r0.value,path:n0.path,parent:n0})}}static create(r,t0){return new Xm({in:r,out:t0,typeName:_$4.ZodPipeline})}},Be$2=class extends w$1{_parse(r){const t0=this._def.innerType._parse(r),n0=r0=>(oe$2(r0)&&(r0.value=Object.freeze(r0.value)),r0);return Ne$2(t0)?t0.then(r0=>n0(r0)):n0(t0)}unwrap(){return this._def.innerType}};Be$2.create=(e0,r)=>new Be$2({innerType:e0,typeName:_$4.ZodReadonly,...b$1(r)});function yn$1(e0,r={},t0){return e0?_e$3.create().superRefine((n0,r0)=>{var i0,o0;if(!e0(n0)){const s0=typeof r=="function"?r(n0):typeof r=="string"?{message:r}:r,a0=(o0=(i0=s0.fatal)!==null&&i0!==void 0?i0:t0)!==null&&o0!==void 0?o0:!0,c0=typeof s0=="string"?{message:s0}:s0;r0.addIssue({code:"custom",...c0,fatal:a0})}}):_e$3.create()}const mi$1={object:C$1.lazycreate};var _$4;(function(e0){e0.ZodString="ZodString",e0.ZodNumber="ZodNumber",e0.ZodNaN="ZodNaN",e0.ZodBigInt="ZodBigInt",e0.ZodBoolean="ZodBoolean",e0.ZodDate="ZodDate",e0.ZodSymbol="ZodSymbol",e0.ZodUndefined="ZodUndefined",e0.ZodNull="ZodNull",e0.ZodAny="ZodAny",e0.ZodUnknown="ZodUnknown",e0.ZodNever="ZodNever",e0.ZodVoid="ZodVoid",e0.ZodArray="ZodArray",e0.ZodObject="ZodObject",e0.ZodUnion="ZodUnion",e0.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e0.ZodIntersection="ZodIntersection",e0.ZodTuple="ZodTuple",e0.ZodRecord="ZodRecord",e0.ZodMap="ZodMap",e0.ZodSet="ZodSet",e0.ZodFunction="ZodFunction",e0.ZodLazy="ZodLazy",e0.ZodLiteral="ZodLiteral",e0.ZodEnum="ZodEnum",e0.ZodEffects="ZodEffects",e0.ZodNativeEnum="ZodNativeEnum",e0.ZodOptional="ZodOptional",e0.ZodNullable="ZodNullable",e0.ZodDefault="ZodDefault",e0.ZodCatch="ZodCatch",e0.ZodPromise="ZodPromise",e0.ZodBranded="ZodBranded",e0.ZodPipeline="ZodPipeline",e0.ZodReadonly="ZodReadonly"})(_$4||(_$4={}));const yi$1=(e0,r={message:`Input not instance of ${e0.name}`})=>yn$1(t0=>t0 instanceof e0,r),gn$1=Z$2.create,_n$1=K$2.create,gi$1=rt$3.create,_i$1=ee$2.create,vn$1=Ie$3.create,vi$1=ce$2.create,bi$1=Ke$3.create,wi$1=je$1.create,xi$1=Le$1.create,ki$1=_e$3.create,Ti$1=ie$3.create,Ei$1=X$3.create,Ci$1=et$3.create,Ri$1=U$5.create,Oi$1=C$1.create,Si$1=C$1.strictCreate,Pi$1=$e$3.create,Ai$1=ft$3.create,Ni$1=Me$2.create,Ii$1=V$3.create,ji$1=De$2.create,Li$1=tt$3.create,$i$1=ue$3.create,Mi$1=me$2.create,Di$1=Ze$3.create,Zi$1=Ue$2.create,Ui$1=te$2.create,Wi$1=We$2.create,qi$1=ve$2.create,vr$1=W$3.create,zi$1=z$2.create,Bi$1=re$4.create,Vi$1=W$3.createWithPreprocess,Fi$1=Fe$2.create,Hi$1=()=>gn$1().optional(),Gi$1=()=>_n$1().optional(),Ji$1=()=>vn$1().optional(),Yi$1={string:e0=>Z$2.create({...e0,coerce:!0}),number:e0=>K$2.create({...e0,coerce:!0}),boolean:e0=>Ie$3.create({...e0,coerce:!0}),bigint:e0=>ee$2.create({...e0,coerce:!0}),date:e0=>ce$2.create({...e0,coerce:!0})},Xi$1=v$3;var l$4=Object.freeze({__proto__:null,defaultErrorMap:ge$2,setErrorMap:Va$1,getErrorMap:Ye$3,makeIssue:Xe$3,EMPTY_PATH:Fa$1,addIssueToContext:p$3,ParseStatus:N$4,INVALID:v$3,DIRTY:he$3,OK:I$3,isAborted:At$3,isDirty:Nt$3,isValid:oe$2,isAsync:Ne$2,get util(){return x$1},get objectUtil(){return Pt$3},ZodParsedType:m$1,getParsedType:Y$2,ZodType:w$1,datetimeRegex:hn$1,ZodString:Z$2,ZodNumber:K$2,ZodBigInt:ee$2,ZodBoolean:Ie$3,ZodDate:ce$2,ZodSymbol:Ke$3,ZodUndefined:je$1,ZodNull:Le$1,ZodAny:_e$3,ZodUnknown:ie$3,ZodNever:X$3,ZodVoid:et$3,ZodArray:U$5,ZodObject:C$1,ZodUnion:$e$3,ZodDiscriminatedUnion:ft$3,ZodIntersection:Me$2,ZodTuple:V$3,ZodRecord:De$2,ZodMap:tt$3,ZodSet:ue$3,ZodFunction:me$2,ZodLazy:Ze$3,ZodLiteral:Ue$2,ZodEnum:te$2,ZodNativeEnum:We$2,ZodPromise:ve$2,ZodEffects:W$3,ZodTransformer:W$3,ZodOptional:z$2,ZodNullable:re$4,ZodDefault:qe$3,ZodCatch:ze$1,ZodNaN:rt$3,BRAND:hi$1,ZodBranded:Yt$2,ZodPipeline:Fe$2,ZodReadonly:Be$2,custom:yn$1,Schema:w$1,ZodSchema:w$1,late:mi$1,get ZodFirstPartyTypeKind(){return _$4},coerce:Yi$1,any:ki$1,array:Ri$1,bigint:_i$1,boolean:vn$1,date:vi$1,discriminatedUnion:Ai$1,effect:vr$1,enum:Ui$1,function:Mi$1,instanceof:yi$1,intersection:Ni$1,lazy:Di$1,literal:Zi$1,map:Li$1,nan:gi$1,nativeEnum:Wi$1,never:Ei$1,null:xi$1,nullable:Bi$1,number:_n$1,object:Oi$1,oboolean:Ji$1,onumber:Gi$1,optional:zi$1,ostring:Hi$1,pipeline:Fi$1,preprocess:Vi$1,promise:qi$1,record:ji$1,set:$i$1,strictObject:Si$1,string:gn$1,symbol:bi$1,transformer:vr$1,tuple:Ii$1,undefined:wi$1,union:Pi$1,unknown:Ti$1,void:Ci$1,NEVER:Xi$1,ZodIssueCode:f$2,quotelessJson:Ba$1,ZodError:L$4});const bn$2=/^0x[0-9a-f]+$/i,wn$1=/^\d+$/,Qi$1=l$4.string().min(1,"The short string cannot be empty").max(31,"The short string cannot exceed 31 characters").refine(e0=>!bn$2.test(e0),"The shortString should not be a hex string").refine(e0=>!wn$1.test(e0),"The shortString should not be an integer string"),M$2=l$4.union([l$4.string().regex(bn$2,"Only hex, integers and bigint are supported in calldata"),l$4.string().regex(wn$1,"Only hex, integers and bigint are supported in calldata"),Qi$1,l$4.number().int("Only hex, integers and bigint are supported in calldata"),l$4.bigint()]),Ve$3=l$4.object({contractAddress:l$4.string(),entrypoint:l$4.string(),calldata:l$4.array(M$2.or(l$4.array(M$2))).optional()}),jt$3=l$4.array(Ve$3).nonempty(),xn$1=l$4.object({types:l$4.record(l$4.array(l$4.union([l$4.object({name:l$4.string(),type:l$4.literal("merkletree"),contains:l$4.string()}),l$4.object({name:l$4.string(),type:l$4.literal("enum"),contains:l$4.string()}),l$4.object({name:l$4.string(),type:l$4.string()})]))),primaryType:l$4.string(),domain:l$4.record(l$4.unknown()),message:l$4.record(l$4.unknown()).or(l$4.object({}))}),Lt$3=l$4.object({type:l$4.literal("ERC20"),options:l$4.object({address:l$4.string(),symbol:l$4.string().optional(),decimals:l$4.number().optional(),image:l$4.string().optional(),name:l$4.string().optional()})}),Ki$1=l$4.union([l$4.object({id:l$4.string(),chain_id:l$4.string(),chain_name:l$4.string(),rpc_urls:l$4.array(l$4.string()).optional(),native_currency:Lt$3.optional(),block_explorer_url:l$4.array(l$4.string()).optional()}),l$4.object({id:l$4.string(),chainId:l$4.string(),chainName:l$4.string(),rpcUrls:l$4.array(l$4.string()).optional(),nativeCurrency:Lt$3.optional(),blockExplorerUrl:l$4.array(l$4.string()).optional()}).transform(e0=>({id:e0.id,chain_id:e0.chainId,chain_name:e0.chainName,rpc_urls:e0.rpcUrls,native_currency:e0.nativeCurrency,block_explorer_url:e0.blockExplorerUrl}))]),kt$2={enable:l$4.tuple([l$4.object({starknetVersion:l$4.union([l$4.literal("v3"),l$4.literal("v4"),l$4.literal("v5")]).optional()}).optional()]).or(l$4.tuple([])),addStarknetChain:l$4.tuple([Ki$1]),switchStarknetChain:l$4.tuple([l$4.object({chainId:l$4.string()})]),watchAsset:l$4.tuple([Lt$3]),requestAccounts:l$4.tuple([l$4.object({silent_mode:l$4.boolean().optional()})]),execute:l$4.tuple([jt$3.or(Ve$3),l$4.object({nonce:M$2.optional(),maxFee:M$2.optional(),version:M$2.optional()}).optional()]),signMessage:l$4.tuple([xn$1])};l$4.tuple([jt$3.or(Ve$3),l$4.object({nonce:M$2.optional(),maxFee:M$2.optional(),version:M$2.optional()}).optional()]).or(l$4.tuple([jt$3.or(Ve$3),l$4.array(l$4.any()).optional(),l$4.object({nonce:M$2.optional(),maxFee:M$2.optional(),version:M$2.optional()}).optional()]));const kn$1=l$4.object({contract_address:l$4.string(),entry_point:l$4.string(),calldata:l$4.array(M$2).optional()}).transform(({contract_address:e0,entry_point:r,calldata:t0})=>({contractAddress:e0,entrypoint:r,calldata:t0||[]})),eo$1=l$4.array(kn$1).nonempty(),to$1={ZERO:0,ONE:1},ro$1=l$4.object({address:l$4.string(),class_hash:l$4.string(),salt:l$4.string(),calldata:l$4.array(l$4.string()),sigdata:l$4.array(l$4.string()).optional(),version:l$4.nativeEnum(to$1)}),no$1=l$4.object({callbackData:l$4.string().optional(),approvalRequests:l$4.array(l$4.object({tokenAddress:l$4.string(),amount:l$4.string(),spender:l$4.string()})),sessionTypedData:xn$1}),so$1=l$4.object({account:l$4.string().array().optional(),chainId:l$4.string().optional(),signature:l$4.string().array().optional(),approvalTransactionHash:l$4.string().optional(),deploymentPayload:l$4.any().optional(),approvalRequestsCalls:l$4.array(Ve$3).optional(),errorCode:l$4.enum(["USER_REJECTED","ACCOUNT_NOT_DEPLOYED","NOT_ENOUGH_BALANCE","NOT_ENOUGH_BALANCE_DEPLOYMENT","GENERIC_ERROR"]).optional()}),O$4=Ps$1.create({isServer:!1,allowOutsideOfServer:!0});let $t$2=Tr$1,Mt$3="",Tn$1="";const Dt$2=({width:e0=775,height:r=385,origin:t0,location:n0,atLeftBottom:r0=!1})=>{const i0=window?.outerWidth??window?.innerWidth??window?.screen.width??0,o0=window?.outerHeight??window?.innerHeight??window?.screen.height??0,s0=window?.screenLeft??window?.screenX??0,a0=window?.screenTop??window?.screenY??0,c0=r0?0:s0+i0/2-e0/2,l0=r0?window.screen.availHeight+10:a0+o0/2-r/2;$t$2=t0??$t$2,Mt$3=n0??Mt$3,Tn$1=`width=${e0},height=${r},top=${l0},left=${c0},toolbar=no,menubar=no,scrollbars=no,location=no,status=no,popup=1`};O$4.router({authorize:O$4.procedure.output(l$4.boolean()).mutation(async()=>!0),connect:O$4.procedure.mutation(async()=>""),connectWebwallet:O$4.procedure.input(l$4.object({theme:l$4.enum(["light","dark","auto"]).optional()})).output(l$4.object({account:l$4.string().array().optional(),chainId:l$4.string().optional()})).mutation(async()=>({})),connectWebwalletSSO:O$4.procedure.input(l$4.object({token:l$4.string(),authorizedPartyId:l$4.string().optional()})).output(l$4.object({account:l$4.string().array().optional(),chainId:l$4.string().optional()})).mutation(async()=>({})),connectAndSignSession:O$4.procedure.input(no$1).output(so$1).mutation(async()=>({})),enable:O$4.procedure.output(l$4.string()).mutation(async()=>""),execute:O$4.procedure.input(kt$2.execute).output(l$4.string()).mutation(async()=>""),signMessage:O$4.procedure.input(kt$2.signMessage).output(l$4.string().array()).mutation(async()=>[]),getLoginStatus:O$4.procedure.output(l$4.object({isLoggedIn:l$4.boolean(),hasSession:l$4.boolean().optional(),isPreauthorized:l$4.boolean().optional()})).mutation(async()=>({isLoggedIn:!0})),requestAccounts:O$4.procedure.input(l$4.object({silent_mode:l$4.boolean().optional()})).output(l$4.string().array()).mutation(async()=>[]),requestChainId:O$4.procedure.output(l$4.string()).mutation(async()=>""),signTypedData:O$4.procedure.input(kt$2.signMessage).output(l$4.string().array()).mutation(async()=>[]),getPermissions:O$4.procedure.output(l$4.array(l$4.enum([T$4.ACCOUNTS]))).mutation(async()=>[T$4.ACCOUNTS]),addInvokeTransaction:O$4.procedure.input(kn$1.or(eo$1)).output(l$4.string()).mutation(async e0=>""),addStarknetChain:O$4.procedure.mutation(e0=>{throw Error("not implemented")}),switchStarknetChain:O$4.procedure.mutation(e0=>{throw Error("not implemented")}),watchAsset:O$4.procedure.mutation(e0=>{throw Error("not implemented")}),updateModal:O$4.procedure.subscription(async()=>{}),deploymentData:O$4.procedure.output(ro$1).mutation(async()=>({address:"",calldata:[],version:0,class_hash:"",salt:""}))});const Tt$3=({iframe:e0})=>ms$2({links:[ls$1({enabled:r=>process.env.NODE_ENV==="development"&&typeof window<"u"||process.env.NODE_ENV==="development"&&r.direction==="down"&&r.result instanceof Error}),Xn$1({condition(r){if(!e0&&r.type==="subscription")throw new Error("subscription is not supported without an iframe window");return!!e0},true:Rt$3.windowLink({window,postWindow:e0,postOrigin:"*"}),false:Rt$3.popupLink({listenWindow:window,createPopup:()=>{let r=null;const t0=document.createElement("button");if(t0.style.display="none",t0.addEventListener("click",()=>{r=window.open(`${$t$2}${Mt$3}`,"popup",Tn$1)}),t0.click(),(async()=>{for(;!r;)await new Promise(n0=>setTimeout(n0,100))})(),!r)throw new Error("Could not open popup");return r},postOrigin:"*"})})]}),Ge$3=[],ao$1=(e0,r)=>({...e0,getLoginStatus:()=>r.getLoginStatus.mutate(),connectWebwallet:(t0={})=>{const{theme:n0}=t0;return r.connectWebwallet.mutate({theme:n0})},connectAndSignSession:t0=>r.connectAndSignSession.mutate(t0),connectWebwalletSSO:(t0,n0)=>r.connectWebwalletSSO.mutate({token:t0,authorizedPartyId:n0}),async request(t0){switch(t0.type){case"wallet_requestAccounts":return r.requestAccounts.mutate(t0.params);case"wallet_signTypedData":{const n0=t0.params,r0=n0?.primaryType==="Session"&&n0?.domain.name==="SessionAccount.session";Dt$2({width:Wn$1,height:qn$1,location:r0?"/signSessionKeys":"/signMessage"});const i0=Array.isArray(t0.params)?t0.params:[t0.params];return r.signTypedData.mutate(i0)}case"wallet_getPermissions":return r.getPermissions.mutate();case"wallet_addInvokeTransaction":{const n0=t0.params.calls;return Dt$2({width:Zn$1,height:Un$1,location:"/review"}),{transaction_hash:await r.addInvokeTransaction.mutate(n0)}}case"wallet_requestChainId":return await r.requestChainId.mutate();case"wallet_addStarknetChain":return r.addStarknetChain.mutate(t0.params);case"wallet_switchStarknetChain":return r.switchStarknetChain.mutate(t0.params);case"wallet_watchAsset":return r.watchAsset.mutate();case"wallet_deploymentData":return r.deploymentData.mutate();default:throw new Error("not implemented")}},on:(t0,n0)=>{if(t0==="accountsChanged")Ge$3.push({type:t0,handler:n0});else if(t0==="networkChanged")Ge$3.push({type:t0,handler:n0});else throw new Error(`Unknwown event: ${t0}`)},off:(t0,n0)=>{if(t0!=="accountsChanged"&&t0!=="networkChanged")throw new Error(`Unknwown event: ${t0}`);const r0=Ge$3.findIndex(i0=>i0.type===t0&&i0.handler===n0);r0>=0&&Ge$3.splice(r0,1)}}),io$1=e0=>{e0.style.display="none",e0.style.borderRadius="40px",e0.style.inset="0",e0.style.position="fixed",e0.style.top="50%",e0.style.left="50%",e0.style.transform="translate(-50%, -50%)",e0.style.backgroundColor="transparent",e0.style.zIndex="999999",e0.style.height=`${Bn$1}px`,e0.style.width=`${zn$1}px`},oo$1=(e0,r)=>{e0.style.display="block",r.style.display="block"},co$1=(e0,r)=>{e0.style.display="none",r.style.display="none"},uo$1=(e0,r,t0)=>{e0.style.width=`${r}px`,e0.style.height=`${t0}px`},br$1="argent-webwallet-iframe",lo$1=async(e0,r)=>{const t0="argent-webwallet-backdrop",n0=new URL(e0);n0.pathname="/iframes/comms",e0=n0.toString();const r0=document.createElement("iframe");r0.src=e0,r0.loading="eager",r0.sandbox.add("allow-scripts","allow-same-origin","allow-forms","allow-top-navigation","allow-popups"),r0.allow="clipboard-write",r0.id=br$1,r0.setAttribute("allowtransparency","true"),r0.setAttribute("transparent","true"),io$1(r0),r0.style.display=r?"block":"none";const i0=document.createElement("div");i0.id=t0,i0.style.position="fixed",i0.style.inset="0",i0.style.backgroundColor="rgba(0,0,0,0.5)",i0.style.zIndex="999998",i0.style.width="100dvw",i0.style.height="100dvh",i0.style.backdropFilter="blur(4px)";const o0=document.getElementById(br$1);return o0&&(o0.remove(),document.getElementById(t0)?.remove()),window.document.body.appendChild(r0),await new Promise((s0,a0)=>{const c0=setTimeout(()=>a0(new Error("Timeout while loading an iframe")),2e4);r0.addEventListener("load",async()=>{clearTimeout(c0),s0()})}),window.document.body.appendChild(i0),{iframe:r0,backdrop:i0}},Et$3=async(e0,r,t0)=>{const n0=typeof window<"u"?window:void 0;if(!n0)throw new Error("window is not defined");const r0=ao$1({host:n0.location.origin,id:"argentWebWallet",icon:"https://www.argent.xyz/favicon.ico",name:"Argent Web Wallet",version:"1.0.0"},r);if(t0){const{iframe:i0,backdrop:o0}=t0;r.updateModal.subscribe(void 0,{onData(s0){switch(s0.action){case"show":oo$1(i0,o0);break;case"hide":co$1(i0,o0);break;case"updateSize":uo$1(i0,s0.width,s0.height);break}}})}return r0},wr$1="allowed-dapps",fo$1=async e0=>{const r=e0===starknet.constants.NetworkName.SN_MAIN?jn$1:In$1;try{const t0=await(await caches.open(wr$1)).match(r);if(t0){const s0=parseInt(t0.headers.get("X-Cache-Timestamp")??"0",10);if((new Date().getTime()-s0)/(1e3*60*60)<24)return t0.json()}const n0=await fetch(r),r0=new Headers(n0.headers);r0.set("X-Cache-Timestamp",new Date().getTime().toString());const i0=await n0.json(),o0=new Response(JSON.stringify(i0),{status:n0.status,statusText:n0.statusText,headers:r0});return await(await caches.open(wr$1)).put(r,o0),i0}catch(t0){throw new Error(t0)}},po$1=async e0=>new Promise(r=>{if(!e0)return r(!1);try{navigator.webkitTemporaryStorage.queryUsageAndQuota((t0,n0)=>{r(Math.round(n0/(1024*1024))<Math.round((performance?.memory?.jsHeapSizeLimit??1073741824)/(1024*1024))*2)},()=>r(!1))}catch{r(!1)}}),ho$1=async e0=>{const{userAgent:r}=navigator,t0=!!(navigator.vendor&&navigator.vendor.indexOf("Google")===0&&navigator.brave===void 0&&!r.match(/Edg/)&&!r.match(/OPR/)),n0=await po$1(t0);if(!t0||n0){const o0=Tt$3({});return await Et$3(e0,o0,void 0)}const r0=Dn$1(e0),{allowedDapps:i0}=await fo$1(r0);if(i0.includes(window.location.hostname)){const o0="argent-webwallet-backdrop",s0="argent-webwallet-iframe",a0=document.getElementById(o0),c0=document.getElementById(s0);c0&&c0&&a0&&(c0.remove(),a0.remove());const{iframe:l0,backdrop:u0}=await lo$1(e0,!1),h0=Tt$3({iframe:l0.contentWindow??void 0});return await Et$3(e0,h0,{iframe:l0,backdrop:u0})}else{const o0=Tt$3({});return await Et$3(e0,o0,void 0)}},En$1="webwallet_logout";let D$2=null,ae$3=null,bo$1=class extends R$3{constructor(r={}){super(),Te$1(this,"_wallet",null),Te$1(this,"_options"),this._options=r}available(){return!0}async ready(){if(this._wallet||await this.ensureWallet(),this._wallet)try{return(await this._wallet.request({type:"wallet_getPermissions"})).includes(T$4.ACCOUNTS)}catch{return!1}else return this._wallet=null,ae$3=null,!1}get id(){return this._wallet=D$2,this._wallet?.id||"argentWebWallet"}get name(){return this._wallet=D$2,this._wallet?.name||"Argent Web Wallet"}get icon(){return{light:rr$1,dark:rr$1}}get wallet(){if(!this._wallet)throw new U$6;return this._wallet}get title(){return"Email"}get subtitle(){return"Powered by Argent"}async connectAndSignSession({callbackData:r,approvalRequests:t0,sessionTypedData:n0}){if(this._wallet||await this.ensureWallet(),!this._wallet)throw new W$4;try{return await this._wallet.connectAndSignSession({callbackData:r,approvalRequests:t0,sessionTypedData:n0,theme:this._options.theme})}catch(r0){if(r0 instanceof Error&&(r0.constructor.name==="TRPCClientError"||r0.name==="TRPCClientError")){const i0=r0,o0=i0.shape.data.webwalletErrorMessage||i0.message,s0=i0.shape.data.webwalletErrorCode||i0.shape.message;throw new Ln$1(o0,s0)}throw new Error(r0 instanceof Error?r0.message:String(r0))}}async connect(r={}){if(this._wallet||await this.ensureWallet(),!this._wallet)throw new W$4;try{let t0,n0;if(this._options.ssoToken){const i0=await this._wallet.connectWebwalletSSO(this._options.ssoToken,this._options.authorizedPartyId);t0=i0.account,n0=i0.chainId}else{const i0=await this._wallet.connectWebwallet({theme:this._options.theme});t0=i0.account,n0=i0.chainId}if(!t0||!n0)return{};const r0=S$2(n0);return ae$3=t0[0],{account:t0[0],chainId:BigInt(r0)}}catch{throw new q$4}}async request(r){if(this._wallet||await this.ensureWallet(),!this._wallet)throw new U$6;try{return await this._wallet.request(r)}catch(t0){if(t0 instanceof Error&&(t0.constructor.name==="TRPCClientError"||t0.name==="TRPCClientError")){const n0=t0,r0=n0.shape.data.webwalletErrorMessage||n0.message,i0=n0.shape.data.webwalletErrorCode||n0.shape.message;throw i0==="USER_LOGGED_OUT"&&(D$2=null,ae$3=null,this._wallet=null,document.dispatchEvent(new Event(En$1))),new $n$1(r0,i0)}throw new q$4}}async disconnect(){if(!this.available()&&!this._wallet)throw new W$4;D$2=null,ae$3=null,this._wallet=D$2,M$3()}async account(r){if(this._wallet=D$2,!this._wallet)throw new U$6;if(!ae$3)throw new U$6;return new starknet.WalletAccount(r,this._wallet,void 0,ae$3)}async chainId(){if(!this._wallet)throw new U$6;const r=await this._wallet.request({type:"wallet_requestChainId"}),t0=S$2(r);return BigInt(t0)}async initEventListener(r){if(this._wallet=D$2,!this._wallet)throw new U$6;this._wallet.on("accountsChanged",r)}async removeEventListener(r){if(this._wallet=D$2,!this._wallet)throw new U$6;this._wallet.off("accountsChanged",r),D$2=null,ae$3=null,this._wallet=null}async ensureWallet(){const r=this._options.url||Tr$1;Dt$2({origin:r,location:"/interstitialLogin"}),D$2=await ho$1(r)??null,this._wallet=D$2}};var y$1=Object.defineProperty,O$3=(e0,r,t0)=>r in e0?y$1(e0,r,{enumerable:!0,configurable:!0,writable:!0,value:t0}):e0[r]=t0,i$4=(e0,r,t0)=>(O$3(e0,typeof r!="symbol"?r+"":r,t0),t0);const l$3="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiByeD0iOCIgZmlsbD0iYmxhY2siLz4KPHBhdGggZD0iTTE4LjQwMTggNy41NTU1NkgxMy41OTgyQzEzLjQzNzcgNy41NTU1NiAxMy4zMDkxIDcuNjg3NDcgMTMuMzA1NiA3Ljg1MTQzQzEzLjIwODUgMTIuNDYwMyAxMC44NDg0IDE2LjgzNDcgNi43ODYwOCAxOS45MzMxQzYuNjU3MTEgMjAuMDMxNCA2LjYyNzczIDIwLjIxNjIgNi43MjIwMiAyMC4zNDkzTDkuNTMyNTMgMjQuMzE5NkM5LjYyODE1IDI0LjQ1NDggOS44MTQ0NCAyNC40ODUzIDkuOTQ1NTggMjQuMzg2QzEyLjQ4NTYgMjIuNDYxMyAxNC41Mjg3IDIwLjEzOTUgMTYgMTcuNTY2QzE3LjQ3MTMgMjAuMTM5NSAxOS41MTQ1IDIyLjQ2MTMgMjIuMDU0NSAyNC4zODZDMjIuMTg1NiAyNC40ODUzIDIyLjM3MTkgMjQuNDU0OCAyMi40Njc2IDI0LjMxOTZMMjUuMjc4MSAyMC4zNDkzQzI1LjM3MjMgMjAuMjE2MiAyNS4zNDI5IDIwLjAzMTQgMjUuMjE0IDE5LjkzMzFDMjEuMTUxNiAxNi44MzQ3IDE4Ljc5MTUgMTIuNDYwMyAxOC42OTQ2IDcuODUxNDNDMTguNjkxMSA3LjY4NzQ3IDE4LjU2MjMgNy41NTU1NiAxOC40MDE4IDcuNTU1NTZaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMjQuNzIzNiAxMC40OTJMMjQuMjIzMSA4LjkyNDM5QzI0LjEyMTMgOC42MDYxNCAyMy44NzM0IDguMzU4MjQgMjMuNTU3NyA4LjI2MDIzTDIyLjAwMzkgNy43NzU5NUMyMS43ODk1IDcuNzA5MDYgMjEuNzg3MyA3LjQwMTc3IDIyLjAwMTEgNy4zMzIwMUwyMy41NDY5IDYuODI0NjZDMjMuODYwOSA2LjcyMTQ2IDI0LjEwNiA2LjQ2OTUyIDI0LjIwMjcgNi4xNTAxMUwyNC42Nzk4IDQuNTc1MDJDMjQuNzQ1OCA0LjM1NzA5IDI1LjA0ODkgNC4zNTQ3NyAyNS4xMTgzIDQuNTcxNTZMMjUuNjE4OCA2LjEzOTE1QzI1LjcyMDYgNi40NTc0IDI1Ljk2ODYgNi43MDUzMSAyNi4yODQyIDYuODAzOUwyNy44MzggNy4yODc2MUMyOC4wNTI0IDcuMzU0NSAyOC4wNTQ3IDcuNjYxNzkgMjcuODQwOCA3LjczMjEzTDI2LjI5NSA4LjIzOTQ4QzI1Ljk4MTEgOC4zNDIxIDI1LjczNiA4LjU5NDA0IDI1LjYzOTMgOC45MTQwMkwyNS4xNjIxIDEwLjQ4ODVDMjUuMDk2MSAxMC43MDY1IDI0Ljc5MyAxMC43MDg4IDI0LjcyMzYgMTAuNDkyWiIgZmlsbD0id2hpdGUiLz4KPC9zdmc+Cg==",E$2="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAyNCAyNCIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZT0iYmxhY2siPgogIDxwYXRoIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZD0iTTkuODc5IDcuNTE5YzEuMTcxLTEuMDI1IDMuMDcxLTEuMDI1IDQuMjQyIDAgMS4xNzIgMS4wMjUgMS4xNzIgMi42ODcgMCAzLjcxMi0uMjAzLjE3OS0uNDMuMzI2LS42Ny40NDItLjc0NS4zNjEtMS40NS45OTktMS40NSAxLjgyN3YuNzVNMjEgMTJhOSA5IDAgMTEtMTggMCA5IDkgMCAwMTE4IDB6bS05IDUuMjVoLjAwOHYuMDA4SDEydi0uMDA4eiIgLz4KPC9zdmc+",U$4="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGZpbGw9Im5vbmUiIHZpZXdCb3g9IjAgMCAyNCAyNCIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZT0id2hpdGUiPgogIDxwYXRoIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZD0iTTkuODc5IDcuNTE5YzEuMTcxLTEuMDI1IDMuMDcxLTEuMDI1IDQuMjQyIDAgMS4xNzIgMS4wMjUgMS4xNzIgMi42ODcgMCAzLjcxMi0uMjAzLjE3OS0uNDMuMzI2LS42Ny40NDItLjc0NS4zNjEtMS40NS45OTktMS40NSAxLjgyN3YuNzVNMjEgMTJhOSA5IDAgMTEtMTggMCA5IDkgMCAwMTE4IDB6bS05IDUuMjVoLjAwOHYuMDA4SDEydi0uMDA4eiIgLz4KPC9zdmc+Cg==",L$3={argentX:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI0LjAuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCA2NS4xOTUwOCA1Ny43MzU2MiIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNjUuMTk1MDggNTcuNzM1NjI7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDojRkY4NzVCO30KPC9zdHlsZT4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTQwLjk4NTkyLDBIMjQuMjA4ODhjLTAuNTYsMC0xLjAxMDAxLDAuNDUxMDItMS4wMjE5NywxLjAxMjAyCgljLTAuMzM4OTksMTUuNzU1LTguNTgyMDMsMzAuNzA4OTgtMjIuNzcwMDIsNDEuMzAwOTljLTAuNDUwMDEsMC4zMzcwMS0wLjU1Mjk4LDAuOTY3OTktMC4yMjQsMS40MjNsOS44MTU5OCwxMy41NzMKCWMwLjMzNDA1LDAuNDYyMDEsMC45ODUwNSwwLjU2NTk4LDEuNDQyOTksMC4yMjY5OWM4Ljg3MTAzLTYuNTc5MDEsMTYuMDA3MDItMTQuNTE3LDIxLjE0NjA2LTIzLjMxNQoJYzUuMTM4LDguNzk4LDEyLjI3Mzk5LDE2LjczNTk5LDIxLjE0NiwyMy4zMTVjMC40NTY5NywwLjMzODk5LDEuMTA3OTcsMC4yMzUwMiwxLjQ0MTk2LTAuMjI2OTlsOS44MTYwNC0xMy41NzMKCWMwLjMyODk4LTAuNDU1MDIsMC4yMjY5OS0xLjA4Ni0wLjIyNC0xLjQyM0M1MC41ODk4NiwzMS43MjEwMSw0Mi4zNDY4OCwxNi43NjcwMyw0Mi4wMDc4OSwxLjAxMjAyCglDNDEuOTk1ODcsMC40NTEwMiw0MS41NDY4OSwwLDQwLjk4NTkyLDAiLz4KPC9zdmc+Cg==",braavos:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAwIiBoZWlnaHQ9IjUwMCIgdmlld0JveD0iMCAwIDUwMCA1MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0zMjMuNDQgNDEuMzg4NkMzMjQuMTk4IDQyLjY3MjggMzIzLjE5NSA0NC4yNjAzIDMyMS43MDQgNDQuMjYwM0MyOTEuNTEgNDQuMjYwMyAyNjYuOTY1IDY4LjE2NTYgMjY2LjM4OSA5Ny44NzFDMjU2LjA1IDk1Ljk0MDcgMjQ1LjMzNyA5NS43OTU2IDIzNC43NTQgOTcuNTc4N0MyMzQuMDIzIDY4LjAwOSAyMDkuNTQgNDQuMjYwMyAxNzkuNDQ1IDQ0LjI2MDNDMTc3Ljk1MyA0NC4yNjAzIDE3Ni45NDkgNDIuNjcxNiAxNzcuNzA3IDQxLjM4NjVDMTkyLjMyMyAxNi42MzMgMjE5LjQ4MyAwIDI1MC41NzMgMEMyODEuNjY0IDAgMzA4LjgyNCAxNi42MzM5IDMyMy40NCA0MS4zODg2WiIgZmlsbD0idXJsKCNwYWludDBfbGluZWFyXzIzMjRfNjE4NjkpIi8+CjxwYXRoIGQ9Ik00MTguNzU2IDIyNi44OTRDNDI2LjM3IDIyOS4yIDQzMy41ODEgMjIyLjUxNyA0MzEuMDM2IDIxNC45NzlDNDA0LjUwNyAxMzYuNDAxIDMxNi41MzUgMTA0LjM1OCAyNTAuMTU5IDEwNC4zNThDMTgzLjY3NCAxMDQuMzU4IDkzLjczOTEgMTM3LjQxOCA2OS4zMDUxIDIxNS4zMzFDNjYuOTU3NCAyMjIuODE4IDc0LjE0NjUgMjI5LjI3NSA4MS42NDc5IDIyNi45NzdMMjQ0LjI1IDE3Ny4xNTFDMjQ3LjU2OSAxNzYuMTM0IDI1MS4xMTYgMTc2LjEyOCAyNTQuNDM5IDE3Ny4xMzVMNDE4Ljc1NiAyMjYuODk0WiIgZmlsbD0idXJsKCNwYWludDFfbGluZWFyXzIzMjRfNjE4NjkpIi8+CjxwYXRoIGQ9Ik02OS43MTY1IDIzOS40MjZMMjQ0LjM3IDE4Ni40NTZDMjQ3LjY2OSAxODUuNDU2IDI1MS4xOTEgMTg1LjQ1MyAyNTQuNDkyIDE4Ni40NDhMNDMwLjIzMiAyMzkuNDUyQzQ0NC43NiAyNDMuODMzIDQ1NC43MDEgMjU3LjIxNiA0NTQuNzAxIDI3Mi4zOVY0MzAuNDgxQzQ1NC4wMjggNDY5LjA3IDQxOS4zNjIgNTAwIDM4MC43ODYgNTAwSDMxNi43MTJDMzEwLjM3OSA1MDAgMzA1LjI1IDQ5NC44NzcgMzA1LjI1IDQ4OC41NDNWNDMzLjExNUMzMDUuMjUgNDExLjI4OSAzMTguMTY3IDM5MS41MzUgMzM4LjE1NSAzODIuNzkyQzM2NC45NDkgMzcxLjA3MSAzOTYuNjQ2IDM1NS4yMTggNDAyLjYwOCAzMjMuNDA2QzQwNC41MzIgMzEzLjEzOCAzOTcuODM3IDMwMy4yMzQgMzg3LjU5NSAzMDEuMTk4QzM2MS42OTkgMjk2LjA1MSAzMzIuOTg5IDI5OC4wMzkgMzA4LjcxMSAzMDguODk4QzI4MS4xNSAzMjEuMjI1IDI3My45NCAzNDEuNzMxIDI3MS4yNzEgMzY5LjI3TDI2OC4wMzYgMzk4LjkzOEMyNjcuMDQ3IDQwOC4wMDUgMjU4LjU0NiA0MTQuOTUyIDI0OS40MjkgNDE0Ljk1MkMyMzkuOTk4IDQxNC45NTIgMjMyLjkyNiA0MDcuNzY5IDIzMS45MDMgMzk4LjM4OEwyMjguNzI4IDM2OS4yN0MyMjYuNDQyIDM0NS42ODEgMjIyLjI5OCAzMjIuNzY3IDE5Ny45MTIgMzExLjg2QzE3MC4wOTUgMjk5LjQxOSAxNDIuMTQxIDI5NS4yODcgMTEyLjQwNCAzMDEuMTk4QzEwMi4xNjIgMzAzLjIzNCA5NS40NjcgMzEzLjEzOCA5Ny4zOTEzIDMyMy40MDZDMTAzLjQwNSAzNTUuNDk1IDEzNC44NTQgMzcwLjk4NSAxNjEuODQ0IDM4Mi43OTJDMTgxLjgzMyAzOTEuNTM1IDE5NC43NSA0MTEuMjg5IDE5NC43NSA0MzMuMTE1VjQ4OC41MzNDMTk0Ljc1IDQ5NC44NjcgMTg5LjYyMiA1MDAgMTgzLjI4OSA1MDBIMTE5LjIxNEM4MC42Mzc0IDUwMCA0NS45NzE2IDQ2OS4wNyA0NS4yOTc5IDQzMC40ODFWMjcyLjM0OUM0NS4yOTc5IDI1Ny4xOTQgNTUuMjE0MiAyNDMuODI0IDY5LjcxNjUgMjM5LjQyNloiIGZpbGw9InVybCgjcGFpbnQyX2xpbmVhcl8yMzI0XzYxODY5KSIvPgo8ZGVmcz4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDBfbGluZWFyXzIzMjRfNjE4NjkiIHgxPSIyNDUuOTg2IiB5MT0iLTI3IiB4Mj0iNDI1LjQ5NiIgeTI9IjUwMi4zNzYiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iI0Y1RDQ1RSIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNGRjk2MDAiLz4KPC9saW5lYXJHcmFkaWVudD4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDFfbGluZWFyXzIzMjRfNjE4NjkiIHgxPSIyNDUuOTg2IiB5MT0iLTI3IiB4Mj0iNDI1LjQ5NiIgeTI9IjUwMi4zNzYiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iI0Y1RDQ1RSIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNGRjk2MDAiLz4KPC9saW5lYXJHcmFkaWVudD4KPGxpbmVhckdyYWRpZW50IGlkPSJwYWludDJfbGluZWFyXzIzMjRfNjE4NjkiIHgxPSIyNDUuOTg2IiB5MT0iLTI3IiB4Mj0iNDI1LjQ5NiIgeTI9IjUwMi4zNzYiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIj4KPHN0b3Agc3RvcC1jb2xvcj0iI0Y1RDQ1RSIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNGRjk2MDAiLz4KPC9saW5lYXJHcmFkaWVudD4KPC9kZWZzPgo8L3N2Zz4=",keplr:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAACPfSURBVHgBzV0L0B9VdT9nvy/vB6nVOg4GEx/VER3A1iqo9aMzFgWtoOhgsYaHYNV2lNEqxAdfmKHTakuDTge1FJK2tqOtGqoWFWti8TFSxGDriFSbIK+qgB95h+Tb09397+49r3t3/99/LT0zm//e9917fud3zr27SRB+EbKd1gAcOhFg/kSYmjoBiJ4JhMsB6LHFJetS+wfoAowOQOKnumGVUfSX+23Ba0uRfFaGsh6pNKDqP2PzQN5TbNxqjAeqi2CuWLuvAuU74eT1O+AXIAhDSaX0g+fBFL6ymHShfFhT5RvdknNLzsTIb+cChmzb2OJqJY8aQG9gaAUXaXLbOH0gL4mXmXHC/HYUv1thEWyDk9bPwQAyOQC2H1wHGb29uNtQdLcmFJBv2AsFAPVQJDQPlFBYFACpso7+kFm17g/9sUgr3QFWNI3VtQWO0KaCGXbDBLJwAFSKz2cLjtvglhNFGmr6NomgxEQdT1kYK8N0uzBwH3bosHJo3EKkD1ZG0X6ctAFEW6cAAiwYCAsDwM2HL4e8tHpa45a7NN2UUaxBmFAPmpdt+rGDq0zdrpP2I6yRig06ANHNHuAwjxlzFp67fhOMKeMBoLT6Kby+GHMGmklySVosJAO+ajK9LX6Uxl51eyqZp/tYvVcPbRklynQ7au913aaeBwLRz+6CDU4dhw2yvhVh++EzIcPvBOXXc+SXJz3LMVYeEblOYxKZMx/kF4V70aZPv+q+7ceUmaivHTu0hDSWqzwRWa4rAsTtcOuuM6Gn9APAzYfeVszsM8UAazoVCgDj1DELneqrBgrq/ilyKUFwFE2R8cX8UABD1OmaOx87pkw137gxoP9ssq91xfUZ+Pddl0MP6QbAVwt/Pw+boY+MCQzsquNY6VhCHUoGNeY4fUKjVLR9JdIC8IkxkTrqkerVPsNsHxCk17RUPtFstJw6tE2RfNAPl35Cs7XrSHcGhWPHADBWIJj25XJ8ipbJcUmlZR01Fs+bh0vg+eujBhwHQOnzoaD9pFAi25ZhD2XzPKmHNAAQyC/zHbCelFNGicBPpxP8jZFA0El37xyaHA8oqm8uBGfB89Zv84p8AJTRPuD24m4dpKSLAdhPPGKv8wx4+1l8dO/vtVWL1PvQKMIIxOtFo3VKKy9y4JNmkboflef2N5K5gglO8nYHfgxAhfJHwQQkL9EmXgfHqNcnLkBSwWAPEUFfrG3Xs6k8b+dg66N6RpS7DNMvAp+vwTXrB2Lt7dqugWm4HhyxANhe+P2U5fcBQy0mYh+nntOmL0BcoMREK8vNr8uiCgnKkAEixIO5Zo41IOKKrgPNWFvw1liuVDWHvNi+f/NHs6BErmdJ/Tnugt5Clhl5mVPdUnCkLnMhfVwC8hUz5c69qifm4vYBLrWT285Jq7aUdAOM4ut02ycAkLECilgGb1+1naNcugLJAPPF1iFlid7FxmjH6VO3R99d2zdOwa2k+gNpNVGGcObc5vPRExZvKFwxjahLil1olGf7qd0DgWIXjM+5Hbusg2syxMvVU9RSWv/R/tbvWyUflMZoQ9YwE6vfhxHK1ensy3HC6FlypG56ixZnBDJ1bf/2OwPeU8Qyeh6n5kDrGxZoGSA7CrMiqPEubjFdF5tTnzbGkrkoy+L5HgslGSbyPG4QR85YTp7PABi10sbqTTBIym8T2jnpvsV8EEwQ6EhG8Ha+ZtXHHHjk8M+hr1D7R1TQK1ftumIAtI1Nuo+Vpw+GAHod8rR5qXSqX5mOWzixcpanrIM8RhL9yP6UzM0fLljg1PVzIwY4cujMTovuQBVQD2tnc+zy2ynG6NoGdjJBbO5QWxdoa4aoj9fHwl46jIMBX6Tqt8+j/DwEixcswNsTJNYSwxVkzaIlcF55UwEAc9wwFgA8ZUQnYOt2AcN1b4mybvCh7IN6UH8zLx2ggVcnnY66BqpnxdcILDCaZ3Dn3/RK/nNJAGN7EUy9slkTwBsPeXZhJE3JuoicNn47jJhllwvoVe5RuaJ5Mz7avgCHTZutnBqzy0U0eXblKGIlRuaOHMnXT8ONB2d6Bo+9JeaeTJ2By9pyXslbQ8RRAUU6oI68sdOlpkikkSQIRxoPL4dadmgUSqHzURH5ukaOiqQS1kxPw4nTWfkFL/WDTEr6xR5xBY6v9NGqoFeJEu08BdcrHoDLFr7KQ9np2Glv/EKRSAYoCJQED0GDX2Q5wOYKajAuoW55N5UXAKA8m1mI+jvbUL+6CwGEKFdKQlHDmYRrNWBAgYMzAbZWG5IIZIASGpGTZ+eFdXEPGsf6yZs1wEUnTBeJYzrbmZyOwWgMBRZy7YlL4A1rp2Eh8m8PzsNp39yfrOMqE5i76FK0l1d0+tHjV8Hrj10KQ8h39x2Bk2/5WRisZCQ2HrXKU7GCmKDM6SpCmC9cQA7rus25n3TFEgMNY8U8mErEXIK2UOZvEdK0vvEpKwZT/l2H5uGc2x8S7KDHQzFPaDOC21LlvDCqF1xTmt06sX1JAMk0h8nqDAaICOOgp2BWiB20GZvfZU9bARufuhyGkFL5p9/6INx9KHdezTb7EwfhdQxAKV9LXqaQddOdf3Uu0ndKMIEet58eYIsKBeuIWT7P8sow0UazxGW/unw45R8slP/tB+HHxW87mAoMUbOBmZ4T/Y4h0ykAjSPj+Pxx23aOrQOvUmKgAMdVeaxXBwicJc5duwQ2Pm0Y5T98lODlheXfUyi/sXxyqF9s/2KULgJhgLRPlDKNOSxIJqJ/VGUTMIDxgaQsGsaZq7Q03u7Zx0zDNSesgiGkVP4ZtxSWfyAHHnsYP68WBhNl4NQEVZMzc3M3PZSv71O3nYAecxIXULdHM5Zfry1DVpHS8z5u+RR8/uTOzVJvOffbP4fv7Tka37K2WU5+m9Of+jFxNz3pKeBCqX9S2hd9eXSfGqu1NpTbKrS3xy2fhs+dshqOWTTMjN/63T3w9QcfsSwIvrI9RWOPOn3FBoEdgj0QM57SaTIwELjbz9Y1CDfgLzKKotFN2efaFVPwuResLkDQ/2/QpWTj9/bCP9x9UG4x7UwgrsT+9E88Va0DgbfJmx4jXpAt3WETZThem7HEYYCkwgnc7TLPO2YxwudeOJzy//TO/fDRXQeqIcLcmoHNDE0ZueWx9s7alm8BHYabyAXELDpeFmk3qRsa0wWkqLdRzmdfdMxgyv/AD/bDBwsA8LDDzmYhjFDXEeBN1FUgL2V6nMVfqL+vymI0HWPDvlK6gJx3qG4JBPLdOSj5y+euLKL+KRhCKuXfsb+eQ+phVZlQFgoqT0vsYcnNMjFAWslxIupL8UNbP+/DuoDE+CY+GMm7j18Gr3vSYhhCPvajg/Bn39+/YIvXRI9Obuvr2fOknILGz1guIAkOitdDb2ToZpQ+gqxrFJEPq2OsyVJ++QDvKpT/rmcugyHkE3cdgvfdvq+w/BBUsgFHWzyMW7ws8IHbMoMoGy+oFgzQ2/r1AkdamMlBhDUmdQEx9xJJe2UXP31pBYAh5BsPHIG33bqX+fwI9VcgAIguQKVQC4aktH0mK7V3CwsCo0EXQ2sPl4A0iebNsGYMce9F/rWc8+QlcOVJwxzxfm9uHs7/+sMOKBNb0Ja71cKaJrVyqWMr1rms4el7BoHUL6p3wJqyxDZvoF2ATuvAS4OgzH72L0/Blc8ZxvLv3p/Dq3fMwd4jsfUKGvLjIzU5cpuCH9WS2vz3k+4gMNKZmx1jBow9sGy3YMnB3eM2/jIGwrUrM9j6opWweoBTvlL5Z29/GPYeptbvV2M5oAuTJVtu6tQZ3ikOF17f61MUBul2AWQjUlccJccUjBEqXpDUMYAOsqIgqBf3uJUIn3nJquK0b/K9fqn813zlYbh3/zx7nsaeO/bwVRWKzlvWg3jMYILM2GgouhrvbWDKr8diRHTyqudldDEBA3Dl60+/YiA4rrD8T79k5WDKf+2/KuXrSL2OzsEtr6HClIuReiEvZjYUtf5Yi44YgEwSI/Vic9KBHjpbtElZoF1bh/Kb8Zo6q4sj3utnVlT0P6nsKXz9a7/8MNyzb/RaF1Nb3fYolsRcRb0u6mfZsnM1mhc7RCTxMigR+EWsWhUn66EpmEB4n6RcDFusMvtDL1wOz3rM5Kd8lfJvKix/b171G+iVfV6uwc7+hORxjZ/y2k26hNYFJIIC36ezQxVj3Y5FMCsQljuBYP1dBbbjgutTr3j+MnjpcYtgCLlo+174/oPz7nd8Md9vlOvRvicC1F3BHiWTuotpo8y+lBz17baOuCWHIYaIATzLZ+l3PGcpXHT8EhhC3vn1/fCt+4+MLF8xdgAitidzdcpnBU37VP+BDnNG1lNm9tAea1MwQI/V96iM2j9kFTYzTET/VXpCy9f9mMOeOv8dv7a0AsAQcsUtB+BT/3UYmtM9d0wBCt/3G8OJWQ7PoQ7r9PrukM6DID53t8wJUPSzSLTKv7SZ6r+XlG35OQDJeV307MUVAIaQq79zELb85yFBx9jhkxF4XT5pv36b79I7hngnsRGId2wXeox3AayOg2jZ3qe9NOoXLsiBxeZ52vpFsOmUYU75rr7tYAWACtA84FV/d6/ZiiaftfmXP7hleOuRUmaXtWtdu9ba4xzAt/IIgiMTEqDRwdoA4sUAzyqOeDfPDKf8D912cOTzXcrn/5SL3RLz8wkNDLHArnVTXNkOQHoDopZ+L4NUoOi5q0AK4UmNFXj5zQNOIDoGWLsqg2tftgJWL5mcYq7/j8Pw4VsPyrknAk7sEfwhv0kCo+4PIK3sCbbWvT8KxWYkPQEFDr5Ioh6SzUfmRhYq5ZB5mFep/E+eWZzyrZpc+Z/6wSNw5TcOmICPK5UrQdO8LjfH5R7tq/VzrR57Wjp248EFAEZHBp+2sQuNZA5kmroY67OntBZZXE88plD+WYXyV0+u/HKPf+lX9tf/hg60IBBKM0qH5FYU2bt6Ga+Q7ENXaOqxcUU+RMSNA6TEXYBAIEVHCdbAKK8pY/my7uhmcjXV/RYgXr0U4dozVgym/Ndv2xuOqVvF1kzAx3Zjgjgz+FtVBxie23DcgJOMZzq69oNAdFpRpLhRpqH80BxVQ5zAZxmprf+q314Gxz9u8vP98mj39z69F/YVr3UzV3HsX/5Cct2BOYl0QCHSAO62D2MKj+QDqDFNphX/HIBsD+gkRgMpCxeKl44sgITES5pJdwOXzyyF054y+RHvvXtq5R+i4JoSikT2Sdc4ls/7AkgDw+tL5IsOrIi+HVExgKVx25NUZJXWflDeKP9PJg8mAMDJa6eqa1Iplf+GT+2F+/bkYlGxy7qhiQ9AKCpm+e5a6TYAFgiNLaWAwCcVEV083ee7PI9SxL+pKw291a4J/PjHJej3+2hIpfx/rJWP2u+Dq1hUAPHKYuWectHz95ohmnyAxOt3nQFJSW4DvUFa6zZ5jdhPoMVJnWEFGuxAaCGyp/D1Gz7JLF9t9bjiW4tnrBVYQIqXj2OUJ9Ns/FT9UC+OgvRBkLZstRuwL3sUMJyI37iDR1v5nyiUP1e/0/don8Ac77b1HIYw7Vm5Trf16zw3Jqg7cllAVJaCrJ5fOJL4OUCkN49iWlZwJsb/QUSJ9kS88X8k77nxAPzgJ/PGvyOApG6eX2Y0ZcyHx2IFnQaQykHzKhj6uwMAP45ICgpg9NoGJg9/qP3D+RKHVD0Ir0b5xB8FFii/3r3jf45WZwiefxfWD5D09a2ylQFYJkD/lbhj+bFX596HIcbae4Oh/MeiSwCoC+ehOl4dXaq83raN8qm6qkWkum19VS9F2nqhHa/flj8KAFhVvCfY8rpVcOzqrJpDVs8nq+fE58fvm3q6LMtZ+ypd/8PMObtYm0zUleNnTV7RJiN5NX1lug/TNugCKX6FD0I0XLR/Nwl1IoaqTPh6aJnC97OPAgIKObY4Ov7wq1bCBX8/2vsLyua/nrU7ZdzCOXUbt8AeV7AF4Ni7gSrfNXXGEInlzaqOaut1Lb2x3PaqmYFknbYNYw3OAMgYAdu6MGIEePTk6Y+fgut+d1X15jBlKfwKLIDqitfNTFsYWXRj2YRifQwLGUu2rICCLSRDGJZoruiDardQKT0ovqH7AJYRMCTdw0jBRKG+6P/R3QI2UoLg2nNXVZ+Me/Ru6D8HV+GZqhdLY94oXbqczOmrAUqj6Ky9wKX+Biyesl2AejGAVToJpQsrdhTfx+pFjPD/BARXnb0y6ddDmVQAt9A4CLiF2jqZUlxbt7LuiDUbhTuxQtclqZ7EFVN6UHRQPHDFp6zeAwUsXO64fx6+f/88DCG//qRpmH3FingQSMFydVnMelv3kPt1Mt13zkDCrTfX1uwFh77VZ6kL60geGmW2SrRKh1ZxdX2+EMzqgS2Asfq2HiubgAH2FMHbH358P9z78xyGkFecsBhmf2eFQ//oAEJZsirLcnQZRLKDVbi2+Ma6W4t2ACKAwi8OQkIDnGgMwJXeBnQ0UiJnAREcEsn8PFg9VzaqsknjgPsemofzrt07GAheXoDg8lesgNjauL7U/MYBwxnFA4Z2N0gWSJnDKC1QuILreIFfgrmiMYB4QMkQyJQIudoViLYUKJ9NPjBFzQiTSN3vfQ/lcP6AIDjjxMXwxt9c5isuB0PPoUzuCDKKW73IF+5EKY8snTcMk+UIOr7IHHCaqwEEKL/fXto1kKN4kooP9yRcBOigESQoJpEqfqjHvv/BHC74WHG2PxAI3jizFN744hoE4ARtpC8UytTKDb4bbKDYKLTD/4vtn1Kmr/AI9bcuIMEAMuADq/hcKr5hA7sbgPb8AEw+THwQxK3y/oIJLhwQBBcWILhwZpmlaQDDbD6FB+WiVm4uleqCh7T/t0wQ+mt2DfJswmOFpAuoJj8PMuBzjoa14jkbiLgh4iJaMMEE4ix6yQSX/M0+2Nvvf8PrlAsKEJRXbHdQLS4gWKrnQZhVbuMyLBMEV4COq8hUfCAOkhQr6CNhuwtw6B+aq6Z/swVkwDCgYFRv3EDbnkLw1/Q7gQj3U4995z1H4eKP7B0MBOefurS6hPVQ3OJH1tVY97juAMUOQlpveMfgsgCrZ+g+V+8mmnMA7xI+us3jAJFlwbrDwZBemPZUkEAywaQAaINNuRO5896j8KZr9gwGgvMKAJw3sxQs7aNRBDr5zfsDz2K5xWdkAWb8PmmLtkfBaOo4l97zy32+WlhB7aBiAgpRPXGrp+BCCMwZwKT/VFz7QiaXTNMo6M575+GqGw7AULLht5bC2ScvERQe/LwCgYkDwFV8AIV1IXrHIGMIeXCURRSOFGeF6DeB3jvm8L6awLwbbxO1IpDi79Rrv88/rVqwKOtqxuFf4Hz+lsNV3vvPWQFDyFtOXwb7DxLcdNsjclwIz1jFBM380CsPec1bRPkmEsX3EqFMfQdQj1Gl1bcCqdiqKRt9ENIRhYlPt7gy63RYeFIgYACpG9h8GMAFKCWwqxnjXwoQlD75vQOB4I9evbwa98u3HbEgYArwlOoqGqSSuUq08k1Z8wdZVXaotvx7ARRVgPtRaGPFlYRTPPcLWoKAFNbOWsGEboDCLyI4ChldJRM84ZcyuPC0Yf7W8DvPXl6A6iB8+duP+B+PAgchGoYSytfMIfItSMI9CmPUdUDUtyVj/YcRozIydc1XsvyvSCtAhIVijDCJ/gmES0GS8x39/f2Qvu4Lo7/pe8FAIHjTy5fCrvvmYdf981bxag58vaq/VAJ6DR2GwKBgzRyhTp0v1hE7rb8sN+8C+Nl+CN5U9C+2exBe9DSBIIA5OWy2Z+L7AD7egoVE0Kd3MPyVdpN3/Y0H4fovHoQhZMVShD+5eAU85QlTIZKv14ef3aMO3kgHfF4gh87BUNgpiLMBE+SpMckPDjPgR778DEAp0L4QIrGft9E/2F0EA5moN4FUFuPswVGN1cydg2DLF4YDwR9ftAKe3IIAROQtlQRW+Y1CnQMgpLB70DsFAYhcbTnNhe6VgTr4QXbxMv5CSCyuOCCSdTWrCOXzwyeYQJwxtNXJvADaLQUItt44EAiWIVx5cQCBVnQzPn9LGBSrLdwHiGYC8W0Ce2bzIanaRsqTQHVUKA6EnPyWEbhbiB3wcErWboIrblIhClSfx6xf543qlwD44i2PwBBSguDSDcvgV4pAs6F1CQKb1m8BAzBip4XOsS8HRf1hiKdwvRajgyClcO9wJ5z1M0bglt+Ape2HjJsQ4NBtJwSBfDAC8ckZgXNULK8P/N0++NJAICiVf8XvL69+o0xAMYrW1oxuHXtSKNmAuxOPETgzRF4Hg/kuwGUEQanE3AUYyvfoH5irmESQHMYhAP1No11gaOf7wb/dBzd9azgQbHrzcni8AAE6vtuCI+4KGDu0v5HXx8S/J9Ag0i6gUaa6+CLqKF+k2Y7A+9QLybbnjDGY8sm3LB6feGXBHQB85J/2w3/fM8z3hY8rlH/5m2NM4LgCBxwyKPR3ArZfZweQg/92MHd2AeaNoFIoGAVDS/tim9fSv1YEmLyJ4wBHuT4o1GtrVbb/AMG7rt4zHAgeg/D+N6fdgWUCT9mJdC4BYdmAMYL7QQhJWnQ/BqnuLUBQvDACNx7gfr/px7y9m1AaBRrQUowVKFJGcKAAwaWbhwXBe9/CQeBTsssE0AUGSCievx2044W3gWLhyFI8W9SUu/B//X5MX0NI2SfUDwksluFj1L8tG2hg1HXKFz1Xfmwv/OShHIaQEgTveesyWLlMWXvzbsADI3QEgDCqk0HcDRhXQDYYzbQC2rNzT8kqyPKULH99cBhWmEQobukcCLbMAUEe8n76QA7v+Ys98NMHhwHBYwsQXFaAoDw0atY46grAugV7VuDFDd5BkWQY831g6xdzbalkYwLQ0T65jBC7tCsRY00g2DGmPgrWtN+CEzgQAH5WgOC9m4cDwXHHZnDpHywdgUAoawSKkVVbKpdWa1nD21FkAhTy7IAbo38OIBTmpzllBn9PCTYg8W2gYJIJpH351GHt0IJPPhN/Bg2KBgTvK5jgZwOC4N0tCOxcpc9mbAGS8vl2L27pum/rCvxPwtj+3rNYewIYgjmP8mOAGWQXQBHaB3DB5oOEDGB4+oECBO+/au9gIFhbgOCcVy1ulZUBRIErlaqVz+YLUMcUGJgEAngyVSfUjVI+WMv3joUTlwSBBdEg7wIgNhc+jlIsOCAweSSA8ECh/A9cs6/aJQwhp/zGFJx/7hJB+RiNA/wj5fBMXf4fAWPvBLQFxZSoF9ZjBzfqhyYPJO3za0JxT/rEAkllgqNgrvSYm7jr7nnYVDDBUCA4+XlTsOHcxc6cOX2jejaUVk/xj0hjShduwQv8YoEaZwYc81fcK2VMJFx5RBBnJRJj6zwNertLGN2XILjiz/fCUFKC4DWvXhQUCRbEbkxAUvkcIPotoa3DyooH3u1ZPTp5niLdxQa58CiYILKrmFTacSnQOTgWLhSsqB+00lUf9f2PCxB8dMtwXxqfOjMNp58+zeicWzFjBYi4AbIuhFt9iAVQX7vLfyZubqTRkbDP/UIe+xYJeT7VeaoMdV/8vv58zC1boAhKbC8KH03Vcxt9ikWj7/NI1eV56PTJ84o/bv7GI1X64vOH+V/HGwB88fPzzazDuoJe28AEIVXfI69X35G/xsVT7y6Cw/nbMWL1bcPmXm8RAaJM4ZWjYgnk/S9YSLKO+vXdQqQNYxFxD4xB2P3XChB8/JPDfFBSyssKELz0jGlh8dbaI+cCAGaL6AWGgiHy/OGseKW406VwABsQ6bRSZnpRWT1w6i5QAm0z5bDf0RheGdk0gOMinGdjc/7STYdh22cPw1Dy0tOnAgj0BZHL1LUHQ55rAMId0zngzoyU1slShvnyl6Vj4rkCYBNvZM/+HO776Xy0fUr27a8nQe0foAiwnjuNbuqfoHRFp8hA1bqFhIso/rjhnw9V9y84ZbEaPS6YSD/1aRncRPVXxsjmRz71hzz2J/rz4HmLpvKduG5m15psesmuIr3Gq9Tmad+CctHMwOoX0VlkZGlWnqGth6pepTjeDmsKFG0w5LM8Xcek2X1m8oMSwj3KOl66XYtYHQBQ9SUArLLl3yaSoOe/tsZINl2TYbZ7x/q5Auw7Y9G/jgOi9B6heoz1BX7fyPLRqR/GIvC3dqB2IHo8SrsCfWYAcm7YsQayL5AuVdM58XroUH1sO4c9KV+eBag2O8o5jf5PJMpvcM8DYLSlEucAwO75r8oX5wcQ+gvbNCetFRgBA0/LQyevPjlgIqU4smNqcLC2QnnqXgNDKpqxB0HEv7vKkuWij0h9J1+u7fzWFgB5fmRLkTmnAxyMKMSz+CgLEFtQ3Z/pvwnmNIiYYsAfpwGDzzAeOLwzgcAC4OQZxUMcCEbJntJArrWsLykf1TomlQ8g3IB3wdKpbdAAYOQG8q3tbBxlcaoW9M7y3bYAUQWio0itqFGaAiM5fcrfUE8zhQUPBwaFcfXYoMbQz9z2EQGCkzdqg37dpr+YwgEiSsZ2HVNXcQC0ZXYzzpV12/9mK4fpzRA5yxcW2Ty5dgcgT/hSCtMg8KzaWnejFP4iSS2+AA654IjRLweB159v5WT6cEHi5MVo35ajVTQHQ9sO3efyrnmETc10WgDs3vGE3QUMtoIW9RDIHyhxL3wmB4UBiV3wuHWrcYAilg2tQtH0TfLZmOW3z8jrseqBtkkCBdSCewpI5ZEcW5eDUqqpp0ACrL1mkuJ4ecvsR3B380ziP9qbh/lZ5LEAG7BdDAUE9PIBXEsWymFWaRgF4sxh5iP6CGNxANq5BK0KyoUwL48BWrCQbMfn4wJB5RlWaMvQdRVCycz6gXwlx/sAODIVrL8UAYAiFthdLObVYmYeGNRDg14MDwzk1ImAJSjOWSmlKM/ivb5QK1gwB5m6fLymHJ3n5n256+PVB3BZIZRhWDOSoNd169rmAgDDMDnRJm79AMqgGnnqi+/eXjSYMf9tCWvRDtKkEUUdrMsWknYPfrC2glRdVi+L5MfSmXfAg/WHGTwPMHIwNHrDljoQAq8viNeXOwFO8+weffp39LZ7419l61URuP/X6jQePb/4Ea6glZYOQ3r0GywWDa3ruvIXY1Zt6vboUyccJmiExwg8NhCflEFiTvwZmoS2fgLr35Xlo1fGWFNavQoKHRfguITdeARPBUdcANxRuALK6Hyehx4Q2H0zIVB5DTVDT1Dwh5V9gPXtjrjBHuhFjIHYWg9XgrwnoTTpEqxitSEZZXvP0tZBoVT3eVQ7nl/M9JLLtkjqbyT6vy3/aMdx24jwEr3OGEO/p8iExQswgO3Tt2w2XlUWwKTHG6XJmQdZVmjmq8qE8kDuNjQQBUCbbK1wXYc/k2KF6DMDuFs/DyB15U0b/xq3QUSS/932D29+4uZiDTeBY/3Jew8kGkg8EWMHSPQtWIHMYsu+nc7IB2mUaUi2bccin/lilg9OHjplmkUA4pauJew0aNNl107NQkI6/7/1H35t7SyWINCKid0n8jymAFL5dabew7t9eQN6IHRcDjptkfz+uFW7lqyUjo5yXZ9f5aFsCw6LJIwHI78EdMll16WVX0onAEq5swBBcUpwVtHtbnM6qBYee1ovn2y8rnr6SD+h3BschOLCHC3di04pbX1cXJB6Fh5bm4iSfdqHliF0//XvHOV41sbrpjZDD+kFgFLuvHn9tmxq/tQRCEA+gHgKiitIC7N+jNVXykqCBqQ7kP6QlKJ5G9uXl5e8F2mPUfw2xuJTcwMHyBwQ5SveHE/auCXu87v67yXPeOFds8XG+fK2E2STQp7HPoRo6tS/sX08r8t/Rx9moO3D1BmN2/ccoK0H3pkAqnbe3r9Jh7Lmr3G19I7+fj9jtXg5APoflMTv54qA9+rLtnRTvpbeDMDljq89qQDA/PoCclurjJTlQsQ3R9jBixMMPZtxpBWhx0LuL7kW6QpnmQgbua5Al3fWw7Y8ZZ2BBXDLI4QnLUT5vJ8FyzNmdq3DPJstrOaVxZzX8M/DpNWjYgeInvjpOpmyWvAYAsPiZq61g3P6J63bsoG1/Axi+d5p3uhhsohFC+aA0IanQbSDJrf8imvrPGSbZyP7+74yMQAaKb8tXA5TZxYdbiiumapzAQAIx8WuYiDqBlpqb8vRAoClFwYApSg256BYHwCZUOSkAJC/DAAFzcPO4u6Go5BtKRQ/BwPIYADQ8qyZXTMZZCcW+4UXF6OsyZDWFQ+8DqKKWTgAMhcI4wHAKLatE+wuCoC6LK5cDwCoACbKdxd9FgrGncUrnNtHv9M7h1I6l/8FAVO2ym5DPSIAAAAASUVORK5CYII=",metamask:"data:image/svg+xml;utf8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMTIiIGhlaWdodD0iMTg5IiB2aWV3Qm94PSIwIDAgMjEyIDE4OSI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48cG9seWdvbiBmaWxsPSIjQ0RCREIyIiBwb2ludHM9IjYwLjc1IDE3My4yNSA4OC4zMTMgMTgwLjU2MyA4OC4zMTMgMTcxIDkwLjU2MyAxNjguNzUgMTA2LjMxMyAxNjguNzUgMTA2LjMxMyAxODAgMTA2LjMxMyAxODcuODc1IDg5LjQzOCAxODcuODc1IDY4LjYyNSAxNzguODc1Ii8+PHBvbHlnb24gZmlsbD0iI0NEQkRCMiIgcG9pbnRzPSIxMDUuNzUgMTczLjI1IDEzMi43NSAxODAuNTYzIDEzMi43NSAxNzEgMTM1IDE2OC43NSAxNTAuNzUgMTY4Ljc1IDE1MC43NSAxODAgMTUwLjc1IDE4Ny44NzUgMTMzLjg3NSAxODcuODc1IDExMy4wNjMgMTc4Ljg3NSIgdHJhbnNmb3JtPSJtYXRyaXgoLTEgMCAwIDEgMjU2LjUgMCkiLz48cG9seWdvbiBmaWxsPSIjMzkzOTM5IiBwb2ludHM9IjkwLjU2MyAxNTIuNDM4IDg4LjMxMyAxNzEgOTEuMTI1IDE2OC43NSAxMjAuMzc1IDE2OC43NSAxMjMuNzUgMTcxIDEyMS41IDE1Mi40MzggMTE3IDE0OS42MjUgOTQuNSAxNTAuMTg4Ii8+PHBvbHlnb24gZmlsbD0iI0Y4OUMzNSIgcG9pbnRzPSI3NS4zNzUgMjcgODguODc1IDU4LjUgOTUuMDYzIDE1MC4xODggMTE3IDE1MC4xODggMTIzLjc1IDU4LjUgMTM2LjEyNSAyNyIvPjxwb2x5Z29uIGZpbGw9IiNGODlEMzUiIHBvaW50cz0iMTYuMzEzIDk2LjE4OCAuNTYzIDE0MS43NSAzOS45MzggMTM5LjUgNjUuMjUgMTM5LjUgNjUuMjUgMTE5LjgxMyA2NC4xMjUgNzkuMzEzIDU4LjUgODMuODEzIi8+PHBvbHlnb24gZmlsbD0iI0Q4N0MzMCIgcG9pbnRzPSI0Ni4xMjUgMTAxLjI1IDkyLjI1IDEwMi4zNzUgODcuMTg4IDEyNiA2NS4yNSAxMjAuMzc1Ii8+PHBvbHlnb24gZmlsbD0iI0VBOEQzQSIgcG9pbnRzPSI0Ni4xMjUgMTAxLjgxMyA2NS4yNSAxMTkuODEzIDY1LjI1IDEzNy44MTMiLz48cG9seWdvbiBmaWxsPSIjRjg5RDM1IiBwb2ludHM9IjY1LjI1IDEyMC4zNzUgODcuNzUgMTI2IDk1LjA2MyAxNTAuMTg4IDkwIDE1MyA2NS4yNSAxMzguMzc1Ii8+PHBvbHlnb24gZmlsbD0iI0VCOEYzNSIgcG9pbnRzPSI2NS4yNSAxMzguMzc1IDYwLjc1IDE3My4yNSA5MC41NjMgMTUyLjQzOCIvPjxwb2x5Z29uIGZpbGw9IiNFQThFM0EiIHBvaW50cz0iOTIuMjUgMTAyLjM3NSA5NS4wNjMgMTUwLjE4OCA4Ni42MjUgMTI1LjcxOSIvPjxwb2x5Z29uIGZpbGw9IiNEODdDMzAiIHBvaW50cz0iMzkuMzc1IDEzOC45MzggNjUuMjUgMTM4LjM3NSA2MC43NSAxNzMuMjUiLz48cG9seWdvbiBmaWxsPSIjRUI4RjM1IiBwb2ludHM9IjEyLjkzOCAxODguNDM4IDYwLjc1IDE3My4yNSAzOS4zNzUgMTM4LjkzOCAuNTYzIDE0MS43NSIvPjxwb2x5Z29uIGZpbGw9IiNFODgyMUUiIHBvaW50cz0iODguODc1IDU4LjUgNjQuNjg4IDc4Ljc1IDQ2LjEyNSAxMDEuMjUgOTIuMjUgMTAyLjkzOCIvPjxwb2x5Z29uIGZpbGw9IiNERkNFQzMiIHBvaW50cz0iNjAuNzUgMTczLjI1IDkwLjU2MyAxNTIuNDM4IDg4LjMxMyAxNzAuNDM4IDg4LjMxMyAxODAuNTYzIDY4LjA2MyAxNzYuNjI1Ii8+PHBvbHlnb24gZmlsbD0iI0RGQ0VDMyIgcG9pbnRzPSIxMjEuNSAxNzMuMjUgMTUwLjc1IDE1Mi40MzggMTQ4LjUgMTcwLjQzOCAxNDguNSAxODAuNTYzIDEyOC4yNSAxNzYuNjI1IiB0cmFuc2Zvcm09Im1hdHJpeCgtMSAwIDAgMSAyNzIuMjUgMCkiLz48cG9seWdvbiBmaWxsPSIjMzkzOTM5IiBwb2ludHM9IjcwLjMxMyAxMTIuNSA2NC4xMjUgMTI1LjQzOCA4Ni4wNjMgMTE5LjgxMyIgdHJhbnNmb3JtPSJtYXRyaXgoLTEgMCAwIDEgMTUwLjE4OCAwKSIvPjxwb2x5Z29uIGZpbGw9IiNFODhGMzUiIHBvaW50cz0iMTIuMzc1IC41NjMgODguODc1IDU4LjUgNzUuOTM4IDI3Ii8+PHBhdGggZmlsbD0iIzhFNUEzMCIgZD0iTTEyLjM3NTAwMDIsMC41NjI1MDAwMDggTDIuMjUwMDAwMDMsMzEuNTAwMDAwNSBMNy44NzUwMDAxMiw2NS4yNTAwMDEgTDMuOTM3NTAwMDYsNjcuNTAwMDAxIEw5LjU2MjUwMDE0LDcyLjU2MjUgTDUuMDYyNTAwMDgsNzYuNTAwMDAxMSBMMTEuMjUsODIuMTI1MDAxMiBMNy4zMTI1MDAxMSw4NS41MDAwMDEzIEwxNi4zMTI1MDAyLDk2Ljc1MDAwMTQgTDU4LjUwMDAwMDksODMuODEyNTAxMiBDNzkuMTI1MDAxMiw2Ny4zMTI1MDA0IDg5LjI1MDAwMTMsNTguODc1MDAwMyA4OC44NzUwMDEzLDU4LjUwMDAwMDkgQzg4LjUwMDAwMTMsNTguMTI1MDAwOSA2My4wMDAwMDA5LDM4LjgxMjUwMDYgMTIuMzc1MDAwMiwwLjU2MjUwMDAwOCBaIi8+PGcgdHJhbnNmb3JtPSJtYXRyaXgoLTEgMCAwIDEgMjExLjUgMCkiPjxwb2x5Z29uIGZpbGw9IiNGODlEMzUiIHBvaW50cz0iMTYuMzEzIDk2LjE4OCAuNTYzIDE0MS43NSAzOS45MzggMTM5LjUgNjUuMjUgMTM5LjUgNjUuMjUgMTE5LjgxMyA2NC4xMjUgNzkuMzEzIDU4LjUgODMuODEzIi8+PHBvbHlnb24gZmlsbD0iI0Q4N0MzMCIgcG9pbnRzPSI0Ni4xMjUgMTAxLjI1IDkyLjI1IDEwMi4zNzUgODcuMTg4IDEyNiA2NS4yNSAxMjAuMzc1Ii8+PHBvbHlnb24gZmlsbD0iI0VBOEQzQSIgcG9pbnRzPSI0Ni4xMjUgMTAxLjgxMyA2NS4yNSAxMTkuODEzIDY1LjI1IDEzNy44MTMiLz48cG9seWdvbiBmaWxsPSIjRjg5RDM1IiBwb2ludHM9IjY1LjI1IDEyMC4zNzUgODcuNzUgMTI2IDk1LjA2MyAxNTAuMTg4IDkwIDE1MyA2NS4yNSAxMzguMzc1Ii8+PHBvbHlnb24gZmlsbD0iI0VCOEYzNSIgcG9pbnRzPSI2NS4yNSAxMzguMzc1IDYwLjc1IDE3My4yNSA5MCAxNTMiLz48cG9seWdvbiBmaWxsPSIjRUE4RTNBIiBwb2ludHM9IjkyLjI1IDEwMi4zNzUgOTUuMDYzIDE1MC4xODggODYuNjI1IDEyNS43MTkiLz48cG9seWdvbiBmaWxsPSIjRDg3QzMwIiBwb2ludHM9IjM5LjM3NSAxMzguOTM4IDY1LjI1IDEzOC4zNzUgNjAuNzUgMTczLjI1Ii8+PHBvbHlnb24gZmlsbD0iI0VCOEYzNSIgcG9pbnRzPSIxMi45MzggMTg4LjQzOCA2MC43NSAxNzMuMjUgMzkuMzc1IDEzOC45MzggLjU2MyAxNDEuNzUiLz48cG9seWdvbiBmaWxsPSIjRTg4MjFFIiBwb2ludHM9Ijg4Ljg3NSA1OC41IDY0LjY4OCA3OC43NSA0Ni4xMjUgMTAxLjI1IDkyLjI1IDEwMi45MzgiLz48cG9seWdvbiBmaWxsPSIjMzkzOTM5IiBwb2ludHM9IjcwLjMxMyAxMTIuNSA2NC4xMjUgMTI1LjQzOCA4Ni4wNjMgMTE5LjgxMyIgdHJhbnNmb3JtPSJtYXRyaXgoLTEgMCAwIDEgMTUwLjE4OCAwKSIvPjxwb2x5Z29uIGZpbGw9IiNFODhGMzUiIHBvaW50cz0iMTIuMzc1IC41NjMgODguODc1IDU4LjUgNzUuOTM4IDI3Ii8+PHBhdGggZmlsbD0iIzhFNUEzMCIgZD0iTTEyLjM3NTAwMDIsMC41NjI1MDAwMDggTDIuMjUwMDAwMDMsMzEuNTAwMDAwNSBMNy44NzUwMDAxMiw2NS4yNTAwMDEgTDMuOTM3NTAwMDYsNjcuNTAwMDAxIEw5LjU2MjUwMDE0LDcyLjU2MjUgTDUuMDYyNTAwMDgsNzYuNTAwMDAxMSBMMTEuMjUsODIuMTI1MDAxMiBMNy4zMTI1MDAxMSw4NS41MDAwMDEzIEwxNi4zMTI1MDAyLDk2Ljc1MDAwMTQgTDU4LjUwMDAwMDksODMuODEyNTAxMiBDNzkuMTI1MDAxMiw2Ny4zMTI1MDA0IDg5LjI1MDAwMTMsNTguODc1MDAwMyA4OC44NzUwMDEzLDU4LjUwMDAwMDkgQzg4LjUwMDAwMTMsNTguMTI1MDAwOSA2My4wMDAwMDA5LDM4LjgxMjUwMDYgMTIuMzc1MDAwMiwwLjU2MjUwMDAwOCBaIi8+PC9nPjwvZz48L3N2Zz4=",fordefi:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgY2xpcC1wYXRoPSJ1cmwoI2NsaXAwXzEzNDk0XzY2MjU0KSI+CjxwYXRoIGQ9Ik0xMC44NzY5IDE1LjYzNzhIMS41VjE4LjM5OUMxLjUgMTkuODAxMyAyLjYzNDQ3IDIwLjkzOCA0LjAzMzkyIDIwLjkzOEg4LjI0OTkyTDEwLjg3NjkgMTUuNjM3OFoiIGZpbGw9IiM3OTk0RkYiLz4KPHBhdGggZD0iTTEuNSA5Ljc3NTUxSDE5LjA1MTZMMTcuMDEzOSAxMy44NzExSDEuNVY5Ljc3NTUxWiIgZmlsbD0iIzQ4NkRGRiIvPgo8cGF0aCBkPSJNNy42NTk5NiAzSDEuNTI0NDFWOC4wMDcwNEgyMi40NjEyVjNIMTYuMzI1NlY2LjczOTQ0SDE1LjA2MDZWM0g4LjkyNTAyVjYuNzM5NDRINy42NTk5NlYzWiIgZmlsbD0iIzVDRDFGQSIvPgo8L2c+CjxkZWZzPgo8Y2xpcFBhdGggaWQ9ImNsaXAwXzEzNDk0XzY2MjU0Ij4KPHJlY3Qgd2lkdGg9IjIxIiBoZWlnaHQ9IjE4IiBmaWxsPSJ3aGl0ZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMS41IDMpIi8+CjwvY2xpcFBhdGg+CjwvZGVmcz4KPC9zdmc+Cg=="};let T$3=class Lm extends R$3{constructor({options:r}){super(),i$4(this,"_wallet"),i$4(this,"_options"),this._options=r}static getInjectedWallet(r){return globalThis?.[`starknet_${r}`]}static isWalletInjected(r){return!!Lm.getInjectedWallet(r)}get id(){return this._options.id}get name(){return this.ensureWallet(),this._options.name??this._wallet?.name??this._options.id}get icon(){this.ensureWallet();const r={dark:L$3[this.id]||U$4,light:L$3[this.id]||E$2};return this._options.icon||this._wallet?.icon||r}available(){return this.ensureWallet(),this._wallet!==void 0}async chainId(){this.ensureWallet();const r=await this.isLocked();if(!this._wallet||r)throw new U$6;try{const t0=await this.request({type:"wallet_requestChainId"});return BigInt(t0)}catch{throw new W$4}}async ready(){return this.ensureWallet(),this._wallet?(await this.request({type:"wallet_getPermissions"}))?.includes(T$4.ACCOUNTS):!1}async account(r){if(this.ensureWallet(),await this.isLocked()||!this._wallet)throw new U$6;const t0=await this.request({type:"wallet_requestAccounts",params:{silent_mode:!0}});return new starknet.WalletAccount(r,this._wallet,void 0,t0[0])}async connect(r={}){if(this.ensureWallet(),!this._wallet)throw new W$4;let t0;try{t0=await this.request({type:"wallet_requestAccounts"})}catch{throw new q$4}if(!t0)throw new q$4;this._wallet.on("accountsChanged",async i0=>{await this.onAccountsChanged(i0)}),this._wallet.on("networkChanged",(i0,o0)=>{this.onNetworkChanged(i0,o0)}),await this.onAccountsChanged(t0);const[n0]=t0,r0=await this.chainId();return this.emit("connect",{account:n0,chainId:r0}),{account:n0,chainId:r0}}async disconnect(){if(this.ensureWallet(),M$3(),!this._wallet)throw new W$4;this.emit("disconnect")}async request(r){if(this.ensureWallet(),!this._wallet)throw new U$6;try{return await this._wallet.request(r)}catch{throw new q$4}}async isLocked(){return(await this.request({type:"wallet_requestAccounts",params:{silent_mode:!0}})).length===0}ensureWallet(){const r=Lm.getInjectedWallet(this._options.id);r&&(this._wallet=r)}async onAccountsChanged(r){if(!r)this.emit("disconnect");else{const[t0]=r;if(t0){const n0=await this.chainId();this.emit("change",{account:t0,chainId:n0})}else this.emit("disconnect")}}onNetworkChanged(r,t0){if(r){const n0=BigInt(r),[r0]=t0||[];this.emit("change",{chainId:n0,account:r0})}else this.emit("change",{})}get wallet(){if(!this._wallet)throw new U$6;return this._wallet}};var N$3=Object.defineProperty,v$2=(e0,r,t0)=>r in e0?N$3(e0,r,{enumerable:!0,configurable:!0,writable:!0,value:t0}):e0[r]=t0,l$2=(e0,r,t0)=>(v$2(e0,typeof r!="symbol"?r+"":r,t0),t0);const L$2={mainnet:"https://starknet-mainnet.public.blastapi.io",testnet:"https://starknet-sepolia.public.blastapi.io"},O$2={mainnet:"https://rpc.starknet.lava.build",testnet:"https://rpc.starknet-sepolia.lava.build"},d$1=[L$2,O$2];function q$2(){const e0=Math.floor(Math.random()*d$1.length);return d$1[e0]}const W$2=()=>Object.keys(localStorage).some(e0=>e0==="walletconnect"||e0.startsWith("wc@2:")),p$2=()=>{if(W$2()){delete localStorage.walletconnect;for(const e0 in localStorage)e0.startsWith("wc@2:")&&delete localStorage[e0]}},_$3="f2e613881f7a0e811295cdd57999e31b",g$1=`<svg
    width="32"
    height="32"
    viewBox="0 0 32 32"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <rect width="32" height="32" rx="8" fill="#FF875B" />
    <path
      d="M18.316 8H13.684C13.5292 8 13.4052 8.1272 13.4018 8.28531C13.3082 12.7296 11.0323 16.9477 7.11513 19.9355C6.99077 20.0303 6.96243 20.2085 7.05335 20.3369L9.76349 24.1654C9.85569 24.2957 10.0353 24.3251 10.1618 24.2294C12.6111 22.3734 14.5812 20.1345 16 17.6529C17.4187 20.1345 19.389 22.3734 21.8383 24.2294C21.9646 24.3251 22.1443 24.2957 22.2366 24.1654L24.9467 20.3369C25.0375 20.2085 25.0092 20.0303 24.885 19.9355C20.9676 16.9477 18.6918 12.7296 18.5983 8.28531C18.5949 8.1272 18.4708 8 18.316 8Z"
      fill="white"
    />
  </svg>`;let U$3=class extends R$3{constructor(r){super(),l$2(this,"_wallet",null),l$2(this,"_options"),this._options=r}available(){return!0}async ready(){if(!this._wallet)return!1;try{return(await this._wallet.request({type:"wallet_getPermissions"})).includes(T$4.ACCOUNTS)}catch{return!1}}get id(){return"argentMobile"}get name(){return"Argent (mobile)"}get icon(){return{dark:g$1,light:g$1}}get wallet(){if(!this._wallet)throw new U$6;return this._wallet}async connect(r={}){if(await this.ensureWallet(),!this._wallet)throw new W$4;const t0=await this._wallet.request({type:"wallet_requestAccounts"}),n0=await this.chainId();return{account:t0[0],chainId:n0}}async disconnect(){if(await this._wallet.disable(),p$2(),!this.available()&&!this._wallet)throw new W$4;this._wallet=null}async account(r){if(!this._wallet)throw new U$6;const t0=await this._wallet.request({type:"wallet_requestAccounts",params:{silent_mode:!0}});return new starknet.WalletAccount(r,this._wallet,void 0,t0[0])}async chainId(){if(!this._wallet)throw new U$6;const r=await this._wallet.request({type:"wallet_requestChainId"}),t0=S$2(r);return BigInt(t0)}async request(r){if(!this._wallet)throw new U$6;try{return await this._wallet.request(r)}catch{throw new q$4}}async initEventListener(r){if(!this._wallet)throw new U$6;this._wallet.on("accountsChanged",r)}async removeEventListener(r){if(!this._wallet)throw new U$6;this._wallet.off("accountsChanged",r),this._wallet=null}async ensureWallet(){const{getStarknetWindowObject:r}=await Promise.resolve().then(()=>require("./index-1c1d2b10-a4c34f2f.cjs")),{chainId:t0,projectId:n0,dappName:r0,description:i0,url:o0,icons:s0,rpcUrl:a0}=this._options,c0=q$2(),l0=a0??(!t0||t0===starknet.constants.NetworkName.SN_MAIN?c0.mainnet:c0.testnet),u0={chainId:t0??starknet.constants.NetworkName.SN_MAIN,name:r0,projectId:n0??_$3,description:i0,url:o0,icons:s0,rpcUrl:l0};n0===_$3&&(console.log("========= NOTICE ========="),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys."),console.log("Go to WalletConnect Cloud (https://cloud.walletconnect.com) and create a new account."),console.log("Once your account is created, create a new project and collect the Project ID"),console.log("=========================="));const h0=await r(u0);if(!h0)throw new q$4;this._wallet=h0;const g0=this._wallet;await g0.enable(),g0.client.on("session_delete",()=>{p$2(),this._wallet=null,M$3(),document.dispatchEvent(new Event("wallet_disconnected"))})}};var i$3=Object.defineProperty,l$1=(e0,r,t0)=>r in e0?i$3(e0,r,{enumerable:!0,configurable:!0,writable:!0,value:t0}):e0[r]=t0,n$1=(e0,r,t0)=>(l$1(e0,typeof r!="symbol"?r+"":r,t0),t0);const o=`<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32px" height="32px" viewBox="0 0 32 32" version="1.1">
    <defs>
    <clipPath id="clip1">
      <path d="M 5.332031 0 L 26.667969 0 C 29.613281 0 32 2.386719 32 5.332031 L 32 26.667969 C 32 29.613281 29.613281 32 26.667969 32 L 5.332031 32 C 2.386719 32 0 29.613281 0 26.667969 L 0 5.332031 C 0 2.386719 2.386719 0 5.332031 0 Z M 5.332031 0 "/>
    </clipPath>
    <linearGradient id="linear0" gradientUnits="userSpaceOnUse" x1="-9.552" y1="-6.444" x2="50.240002" y2="41.303001" gradientTransform="matrix(0.666667,0,0,0.666667,0,0)">
      <stop offset="0" style="stop-color:rgb(3.529412%,45.09804%,75.294119%);stop-opacity:1;"/>
      <stop offset="1" style="stop-color:rgb(10.980392%,28.627452%,87.058824%);stop-opacity:1;"/>
    </linearGradient>
    <clipPath id="clip2">
      <path d="M 7 4 L 25 4 L 25 15 L 7 15 Z M 7 4 "/>
    </clipPath>
    <clipPath id="clip3">
      <path d="M 5.332031 0 L 26.667969 0 C 29.613281 0 32 2.386719 32 5.332031 L 32 26.667969 C 32 29.613281 29.613281 32 26.667969 32 L 5.332031 32 C 2.386719 32 0 29.613281 0 26.667969 L 0 5.332031 C 0 2.386719 2.386719 0 5.332031 0 Z M 5.332031 0 "/>
    </clipPath>
    <clipPath id="clip4">
    	<path d="M 6 13 L 26 13 L 26 28 L 6 28 Z M 6 13 "/>
    </clipPath>
    <clipPath id="clip5">
      <path d="M 5.332031 0 L 26.667969 0 C 29.613281 0 32 2.386719 32 5.332031 L 32 26.667969 C 32 29.613281 29.613281 32 26.667969 32 L 5.332031 32 C 2.386719 32 0 29.613281 0 26.667969 L 0 5.332031 C 0 2.386719 2.386719 0 5.332031 0 Z M 5.332031 0 "/>
    </clipPath>
    </defs>
    <g id="surface1">
      <g clip-path="url(#clip1)" clip-rule="nonzero">
        <rect x="0" y="0" width="32" height="32" style="fill:url(#linear0);stroke:none;"/>
      </g>
    	<g clip-path="url(#clip2)" clip-rule="nonzero">
        <g clip-path="url(#clip3)" clip-rule="nonzero">
	        <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 19.507812 6.320312 C 19.542969 6.378906 19.496094 6.453125 19.425781 6.453125 C 18.027344 6.453125 16.886719 7.5625 16.859375 8.941406 C 16.375 8.851562 15.878906 8.847656 15.390625 8.929688 C 15.359375 7.554688 14.222656 6.453125 12.824219 6.453125 C 12.757812 6.453125 12.710938 6.378906 12.746094 6.320312 C 13.453125 5.128906 14.738281 4.398438 16.125 4.398438 C 17.515625 4.394531 18.800781 5.125 19.507812 6.320312 M 23.65625 14.847656 C 24.132812 14.992188 24.585938 14.574219 24.402344 14.109375 C 23.066406 10.65625 19.109375 9.242188 16.105469 9.242188 C 13.097656 9.242188 9.054688 10.703125 7.804688 14.128906 C 7.632812 14.589844 8.082031 14.996094 8.550781 14.851562 L 15.75 12.648438 C 15.957031 12.582031 16.179688 12.582031 16.386719 12.644531 Z M 23.65625 14.847656 "/>
        </g>
    	</g>
    	<g clip-path="url(#clip4)" clip-rule="nonzero">
        <g clip-path="url(#clip5)" clip-rule="nonzero">
          <path style=" stroke:none;fill-rule:nonzero;fill:rgb(100%,100%,100%);fill-opacity:1;" d="M 7.734375 15.511719 L 15.757812 13.078125 C 15.964844 13.015625 16.183594 13.015625 16.390625 13.078125 L 24.464844 15.511719 C 25.136719 15.714844 25.597656 16.335938 25.597656 17.042969 L 25.597656 24.378906 C 25.566406 26.167969 23.960938 27.605469 22.167969 27.605469 L 19.195312 27.605469 C 19.054688 27.605469 18.917969 27.550781 18.820312 27.449219 C 18.71875 27.347656 18.664062 27.214844 18.664062 27.074219 L 18.664062 24.5 C 18.664062 23.488281 19.261719 22.570312 20.191406 22.164062 C 21.433594 21.621094 22.90625 20.886719 23.183594 19.410156 C 23.269531 18.933594 22.960938 18.472656 22.484375 18.378906 C 21.285156 18.140625 19.953125 18.230469 18.824219 18.734375 C 17.546875 19.308594 17.210938 20.257812 17.085938 21.539062 L 16.9375 22.914062 C 16.890625 23.335938 16.496094 23.65625 16.074219 23.65625 C 15.636719 23.65625 15.308594 23.324219 15.261719 22.886719 L 15.113281 21.539062 C 15.007812 20.441406 14.8125 19.378906 13.683594 18.875 C 12.390625 18.296875 11.09375 18.105469 9.714844 18.378906 C 9.238281 18.472656 8.929688 18.933594 9.015625 19.410156 C 9.296875 20.898438 10.757812 21.617188 12.007812 22.164062 C 12.9375 22.570312 13.535156 23.488281 13.535156 24.5 L 13.535156 27.074219 C 13.535156 27.367188 13.296875 27.605469 13.003906 27.605469 L 10.03125 27.605469 C 8.238281 27.605469 6.628906 26.167969 6.597656 24.378906 L 6.597656 17.039062 C 6.597656 16.335938 7.058594 15.714844 7.734375 15.511719 "/>
        </g>
    	</g>
    </g>
</svg>
`;let c$1=class extends R$3{constructor(){super(),n$1(this,"_wallet",null)}available(){return!0}async ready(){return!0}get id(){return"braavosMobile"}get name(){return"Braavos (mobile)"}get icon(){return{dark:o,light:o}}get wallet(){throw new Error("not implemented")}async connect(r={}){return await this.ensureWallet(),{account:"",chainId:BigInt(0)}}async disconnect(){throw new Error("not implemented")}async account(r){throw new Error("not implemented")}async chainId(){throw new Error("not implemented")}async request(r){throw new Error("not implemented")}async initEventListener(r){throw new Error("not implemented")}async removeEventListener(r){throw new Error("not implemented")}async ensureWallet(){window.open(`https://link.braavos.app/dapp/${window.origin}`,"_blank")}};var Ee$2=Object.defineProperty,Pe$1=(e0,r,t0)=>r in e0?Ee$2(e0,r,{enumerable:!0,configurable:!0,writable:!0,value:t0}):e0[r]=t0,J$2=(e0,r,t0)=>(Pe$1(e0,typeof r!="symbol"?r+"":r,t0),t0);const Re$2=()=>{const e0=navigator.userAgent.toLowerCase(),r=/android|webos|iphone|ipad|ipod|blackberry|windows phone/.test(e0),t0="ontouchstart"in window||navigator.maxTouchPoints>0,n0=window.innerWidth<=768;return r&&(t0||n0)},Ie$2=({argentMobileOptions:e0,webWalletUrl:r})=>{const t0=typeof window<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1,n0=[];return t0||(n0.push(new T$3({options:{id:"argentX"}})),n0.push(new T$3({options:{id:"braavos"}})),T$3.isWalletInjected("metamask")&&n0.push(new T$3({options:{id:"metamask"}})),T$3.isWalletInjected("fordefi")&&n0.push(new T$3({options:{id:"fordefi"}})),T$3.isWalletInjected("keplr")&&n0.push(new T$3({options:{id:"keplr"}}))),n0.push(new U$3(e0)),Re$2()&&n0.push(new c$1),n0.push(new bo$1({url:r})),n0},Ve$2={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},be$2={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},M$1={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},F$2={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},P$1={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};let i$2=class tm{static getFirstMatch(r,t0){const n0=t0.match(r);return n0&&n0.length>0&&n0[1]||""}static getSecondMatch(r,t0){const n0=t0.match(r);return n0&&n0.length>1&&n0[2]||""}static matchAndReturnConst(r,t0,n0){if(r.test(t0))return n0}static getWindowsVersionName(r){switch(r){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(r){const t0=r.split(".").splice(0,2).map(n0=>parseInt(n0,10)||0);if(t0.push(0),t0[0]===10)switch(t0[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(r){const t0=r.split(".").splice(0,2).map(n0=>parseInt(n0,10)||0);if(t0.push(0),!(t0[0]===1&&t0[1]<5)){if(t0[0]===1&&t0[1]<6)return"Cupcake";if(t0[0]===1&&t0[1]>=6)return"Donut";if(t0[0]===2&&t0[1]<2)return"Eclair";if(t0[0]===2&&t0[1]===2)return"Froyo";if(t0[0]===2&&t0[1]>2)return"Gingerbread";if(t0[0]===3)return"Honeycomb";if(t0[0]===4&&t0[1]<1)return"Ice Cream Sandwich";if(t0[0]===4&&t0[1]<4)return"Jelly Bean";if(t0[0]===4&&t0[1]>=4)return"KitKat";if(t0[0]===5)return"Lollipop";if(t0[0]===6)return"Marshmallow";if(t0[0]===7)return"Nougat";if(t0[0]===8)return"Oreo";if(t0[0]===9)return"Pie"}}static getVersionPrecision(r){return r.split(".").length}static compareVersions(r,t0,n0=!1){const r0=tm.getVersionPrecision(r),i0=tm.getVersionPrecision(t0);let o0=Math.max(r0,i0),s0=0;const a0=tm.map([r,t0],c0=>{const l0=o0-tm.getVersionPrecision(c0),u0=c0+new Array(l0+1).join(".0");return tm.map(u0.split("."),h0=>new Array(20-h0.length).join("0")+h0).reverse()});for(n0&&(s0=o0-Math.min(r0,i0)),o0-=1;o0>=s0;){if(a0[0][o0]>a0[1][o0])return 1;if(a0[0][o0]===a0[1][o0]){if(o0===s0)return 0;o0-=1}else if(a0[0][o0]<a0[1][o0])return-1}}static map(r,t0){const n0=[];let r0;if(Array.prototype.map)return Array.prototype.map.call(r,t0);for(r0=0;r0<r.length;r0+=1)n0.push(t0(r[r0]));return n0}static find(r,t0){let n0,r0;if(Array.prototype.find)return Array.prototype.find.call(r,t0);for(n0=0,r0=r.length;n0<r0;n0+=1){const i0=r[n0];if(t0(i0,n0))return i0}}static assign(r,...t0){const n0=r;let r0,i0;if(Object.assign)return Object.assign(r,...t0);for(r0=0,i0=t0.length;r0<i0;r0+=1){const o0=t0[r0];typeof o0=="object"&&o0!==null&&Object.keys(o0).forEach(s0=>{n0[s0]=o0[s0]})}return r}static getBrowserAlias(r){return Ve$2[r]}static getBrowserTypeByAlias(r){return be$2[r]||""}};const k$1=/version\/(\d+(\.?_?\d+)+)/i,De$1=[{test:[/googlebot/i],describe(e0){const r={name:"Googlebot"},t0=i$2.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e0)||i$2.getFirstMatch(k$1,e0);return t0&&(r.version=t0),r}},{test:[/opera/i],describe(e0){const r={name:"Opera"},t0=i$2.getFirstMatch(k$1,e0)||i$2.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e0);return t0&&(r.version=t0),r}},{test:[/opr\/|opios/i],describe(e0){const r={name:"Opera"},t0=i$2.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e0)||i$2.getFirstMatch(k$1,e0);return t0&&(r.version=t0),r}},{test:[/SamsungBrowser/i],describe(e0){const r={name:"Samsung Internet for Android"},t0=i$2.getFirstMatch(k$1,e0)||i$2.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e0);return t0&&(r.version=t0),r}},{test:[/Whale/i],describe(e0){const r={name:"NAVER Whale Browser"},t0=i$2.getFirstMatch(k$1,e0)||i$2.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e0);return t0&&(r.version=t0),r}},{test:[/MZBrowser/i],describe(e0){const r={name:"MZ Browser"},t0=i$2.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e0)||i$2.getFirstMatch(k$1,e0);return t0&&(r.version=t0),r}},{test:[/focus/i],describe(e0){const r={name:"Focus"},t0=i$2.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e0)||i$2.getFirstMatch(k$1,e0);return t0&&(r.version=t0),r}},{test:[/swing/i],describe(e0){const r={name:"Swing"},t0=i$2.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e0)||i$2.getFirstMatch(k$1,e0);return t0&&(r.version=t0),r}},{test:[/coast/i],describe(e0){const r={name:"Opera Coast"},t0=i$2.getFirstMatch(k$1,e0)||i$2.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e0);return t0&&(r.version=t0),r}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(e0){const r={name:"Opera Touch"},t0=i$2.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e0)||i$2.getFirstMatch(k$1,e0);return t0&&(r.version=t0),r}},{test:[/yabrowser/i],describe(e0){const r={name:"Yandex Browser"},t0=i$2.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e0)||i$2.getFirstMatch(k$1,e0);return t0&&(r.version=t0),r}},{test:[/ucbrowser/i],describe(e0){const r={name:"UC Browser"},t0=i$2.getFirstMatch(k$1,e0)||i$2.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e0);return t0&&(r.version=t0),r}},{test:[/Maxthon|mxios/i],describe(e0){const r={name:"Maxthon"},t0=i$2.getFirstMatch(k$1,e0)||i$2.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e0);return t0&&(r.version=t0),r}},{test:[/epiphany/i],describe(e0){const r={name:"Epiphany"},t0=i$2.getFirstMatch(k$1,e0)||i$2.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e0);return t0&&(r.version=t0),r}},{test:[/puffin/i],describe(e0){const r={name:"Puffin"},t0=i$2.getFirstMatch(k$1,e0)||i$2.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e0);return t0&&(r.version=t0),r}},{test:[/sleipnir/i],describe(e0){const r={name:"Sleipnir"},t0=i$2.getFirstMatch(k$1,e0)||i$2.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e0);return t0&&(r.version=t0),r}},{test:[/k-meleon/i],describe(e0){const r={name:"K-Meleon"},t0=i$2.getFirstMatch(k$1,e0)||i$2.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e0);return t0&&(r.version=t0),r}},{test:[/micromessenger/i],describe(e0){const r={name:"WeChat"},t0=i$2.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e0)||i$2.getFirstMatch(k$1,e0);return t0&&(r.version=t0),r}},{test:[/qqbrowser/i],describe(e0){const r={name:/qqbrowserlite/i.test(e0)?"QQ Browser Lite":"QQ Browser"},t0=i$2.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e0)||i$2.getFirstMatch(k$1,e0);return t0&&(r.version=t0),r}},{test:[/msie|trident/i],describe(e0){const r={name:"Internet Explorer"},t0=i$2.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e0);return t0&&(r.version=t0),r}},{test:[/\sedg\//i],describe(e0){const r={name:"Microsoft Edge"},t0=i$2.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e0);return t0&&(r.version=t0),r}},{test:[/edg([ea]|ios)/i],describe(e0){const r={name:"Microsoft Edge"},t0=i$2.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e0);return t0&&(r.version=t0),r}},{test:[/vivaldi/i],describe(e0){const r={name:"Vivaldi"},t0=i$2.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e0);return t0&&(r.version=t0),r}},{test:[/seamonkey/i],describe(e0){const r={name:"SeaMonkey"},t0=i$2.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e0);return t0&&(r.version=t0),r}},{test:[/sailfish/i],describe(e0){const r={name:"Sailfish"},t0=i$2.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e0);return t0&&(r.version=t0),r}},{test:[/silk/i],describe(e0){const r={name:"Amazon Silk"},t0=i$2.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e0);return t0&&(r.version=t0),r}},{test:[/phantom/i],describe(e0){const r={name:"PhantomJS"},t0=i$2.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e0);return t0&&(r.version=t0),r}},{test:[/slimerjs/i],describe(e0){const r={name:"SlimerJS"},t0=i$2.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e0);return t0&&(r.version=t0),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e0){const r={name:"BlackBerry"},t0=i$2.getFirstMatch(k$1,e0)||i$2.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e0);return t0&&(r.version=t0),r}},{test:[/(web|hpw)[o0]s/i],describe(e0){const r={name:"WebOS Browser"},t0=i$2.getFirstMatch(k$1,e0)||i$2.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e0);return t0&&(r.version=t0),r}},{test:[/bada/i],describe(e0){const r={name:"Bada"},t0=i$2.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e0);return t0&&(r.version=t0),r}},{test:[/tizen/i],describe(e0){const r={name:"Tizen"},t0=i$2.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e0)||i$2.getFirstMatch(k$1,e0);return t0&&(r.version=t0),r}},{test:[/qupzilla/i],describe(e0){const r={name:"QupZilla"},t0=i$2.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e0)||i$2.getFirstMatch(k$1,e0);return t0&&(r.version=t0),r}},{test:[/firefox|iceweasel|fxios/i],describe(e0){const r={name:"Firefox"},t0=i$2.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e0);return t0&&(r.version=t0),r}},{test:[/electron/i],describe(e0){const r={name:"Electron"},t0=i$2.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e0);return t0&&(r.version=t0),r}},{test:[/MiuiBrowser/i],describe(e0){const r={name:"Miui"},t0=i$2.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e0);return t0&&(r.version=t0),r}},{test:[/chromium/i],describe(e0){const r={name:"Chromium"},t0=i$2.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e0)||i$2.getFirstMatch(k$1,e0);return t0&&(r.version=t0),r}},{test:[/chrome|crios|crmo/i],describe(e0){const r={name:"Chrome"},t0=i$2.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e0);return t0&&(r.version=t0),r}},{test:[/GSA/i],describe(e0){const r={name:"Google Search"},t0=i$2.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e0);return t0&&(r.version=t0),r}},{test(e0){const r=!e0.test(/like android/i),t0=e0.test(/android/i);return r&&t0},describe(e0){const r={name:"Android Browser"},t0=i$2.getFirstMatch(k$1,e0);return t0&&(r.version=t0),r}},{test:[/playstation 4/i],describe(e0){const r={name:"PlayStation 4"},t0=i$2.getFirstMatch(k$1,e0);return t0&&(r.version=t0),r}},{test:[/safari|applewebkit/i],describe(e0){const r={name:"Safari"},t0=i$2.getFirstMatch(k$1,e0);return t0&&(r.version=t0),r}},{test:[/.*/i],describe(e0){const r=/^(.*)\/(.*) /,t0=/^(.*)\/(.*)[ \t]\((.*)/,n0=e0.search("\\(")!==-1?t0:r;return{name:i$2.getFirstMatch(n0,e0),version:i$2.getSecondMatch(n0,e0)}}}],qe$2=[{test:[/Roku\/DVP/],describe(e0){const r=i$2.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e0);return{name:F$2.Roku,version:r}}},{test:[/windows phone/i],describe(e0){const r=i$2.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e0);return{name:F$2.WindowsPhone,version:r}}},{test:[/windows /i],describe(e0){const r=i$2.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e0),t0=i$2.getWindowsVersionName(r);return{name:F$2.Windows,version:r,versionName:t0}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(e0){const r={name:F$2.iOS},t0=i$2.getSecondMatch(/(Version\/)(\d[\d.]+)/,e0);return t0&&(r.version=t0),r}},{test:[/macintosh/i],describe(e0){const r=i$2.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e0).replace(/[_\s]/g,"."),t0=i$2.getMacOSVersionName(r),n0={name:F$2.MacOS,version:r};return t0&&(n0.versionName=t0),n0}},{test:[/(ipod|iphone|ipad)/i],describe(e0){const r=i$2.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e0).replace(/[_\s]/g,".");return{name:F$2.iOS,version:r}}},{test(e0){const r=!e0.test(/like android/i),t0=e0.test(/android/i);return r&&t0},describe(e0){const r=i$2.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e0),t0=i$2.getAndroidVersionName(r),n0={name:F$2.Android,version:r};return t0&&(n0.versionName=t0),n0}},{test:[/(web|hpw)[o0]s/i],describe(e0){const r=i$2.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e0),t0={name:F$2.WebOS};return r&&r.length&&(t0.version=r),t0}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(e0){const r=i$2.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e0)||i$2.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e0)||i$2.getFirstMatch(/\bbb(\d+)/i,e0);return{name:F$2.BlackBerry,version:r}}},{test:[/bada/i],describe(e0){const r=i$2.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e0);return{name:F$2.Bada,version:r}}},{test:[/tizen/i],describe(e0){const r=i$2.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e0);return{name:F$2.Tizen,version:r}}},{test:[/linux/i],describe(){return{name:F$2.Linux}}},{test:[/CrOS/],describe(){return{name:F$2.ChromeOS}}},{test:[/PlayStation 4/],describe(e0){const r=i$2.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e0);return{name:F$2.PlayStation4,version:r}}}],Ge$2=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(e0){const r=i$2.getFirstMatch(/(can-l01)/i,e0)&&"Nova",t0={type:M$1.mobile,vendor:"Huawei"};return r&&(t0.model=r),t0}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:M$1.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:M$1.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:M$1.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:M$1.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:M$1.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:M$1.tablet}}},{test(e0){const r=e0.test(/ipod|iphone/i),t0=e0.test(/like (ipod|iphone)/i);return r&&!t0},describe(e0){const r=i$2.getFirstMatch(/(ipod|iphone)/i,e0);return{type:M$1.mobile,vendor:"Apple",model:r}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:M$1.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:M$1.mobile}}},{test(e0){return e0.getBrowserName(!0)==="blackberry"},describe(){return{type:M$1.mobile,vendor:"BlackBerry"}}},{test(e0){return e0.getBrowserName(!0)==="bada"},describe(){return{type:M$1.mobile}}},{test(e0){return e0.getBrowserName()==="windows phone"},describe(){return{type:M$1.mobile,vendor:"Microsoft"}}},{test(e0){const r=Number(String(e0.getOSVersion()).split(".")[0]);return e0.getOSName(!0)==="android"&&r>=3},describe(){return{type:M$1.tablet}}},{test(e0){return e0.getOSName(!0)==="android"},describe(){return{type:M$1.mobile}}},{test(e0){return e0.getOSName(!0)==="macos"},describe(){return{type:M$1.desktop,vendor:"Apple"}}},{test(e0){return e0.getOSName(!0)==="windows"},describe(){return{type:M$1.desktop}}},{test(e0){return e0.getOSName(!0)==="linux"},describe(){return{type:M$1.desktop}}},{test(e0){return e0.getOSName(!0)==="playstation 4"},describe(){return{type:M$1.tv}}},{test(e0){return e0.getOSName(!0)==="roku"},describe(){return{type:M$1.tv}}}],Qe$2=[{test(e0){return e0.getBrowserName(!0)==="microsoft edge"},describe(e0){if(/\sedg\//i.test(e0))return{name:P$1.Blink};const r=i$2.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e0);return{name:P$1.EdgeHTML,version:r}}},{test:[/trident/i],describe(e0){const r={name:P$1.Trident},t0=i$2.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e0);return t0&&(r.version=t0),r}},{test(e0){return e0.test(/presto/i)},describe(e0){const r={name:P$1.Presto},t0=i$2.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e0);return t0&&(r.version=t0),r}},{test(e0){const r=e0.test(/gecko/i),t0=e0.test(/like gecko/i);return r&&!t0},describe(e0){const r={name:P$1.Gecko},t0=i$2.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e0);return t0&&(r.version=t0),r}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:P$1.Blink}}},{test:[/(apple)?webkit/i],describe(e0){const r={name:P$1.WebKit},t0=i$2.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e0);return t0&&(r.version=t0),r}}];let se$1=class{constructor(r,t0=!1){if(r==null||r==="")throw new Error("UserAgent parameter can't be empty");this._ua=r,this.parsedResult={},t0!==!0&&this.parse()}getUA(){return this._ua}test(r){return r.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const r=i$2.find(De$1,t0=>{if(typeof t0.test=="function")return t0.test(this);if(t0.test instanceof Array)return t0.test.some(n0=>this.test(n0));throw new Error("Browser's test function is not valid")});return r&&(this.parsedResult.browser=r.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(r){return r?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const r=i$2.find(qe$2,t0=>{if(typeof t0.test=="function")return t0.test(this);if(t0.test instanceof Array)return t0.test.some(n0=>this.test(n0));throw new Error("Browser's test function is not valid")});return r&&(this.parsedResult.os=r.describe(this.getUA())),this.parsedResult.os}getOSName(r){const{name:t0}=this.getOS();return r?String(t0).toLowerCase()||"":t0||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(r=!1){const{type:t0}=this.getPlatform();return r?String(t0).toLowerCase()||"":t0||""}parsePlatform(){this.parsedResult.platform={};const r=i$2.find(Ge$2,t0=>{if(typeof t0.test=="function")return t0.test(this);if(t0.test instanceof Array)return t0.test.some(n0=>this.test(n0));throw new Error("Browser's test function is not valid")});return r&&(this.parsedResult.platform=r.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(r){return r?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const r=i$2.find(Qe$2,t0=>{if(typeof t0.test=="function")return t0.test(this);if(t0.test instanceof Array)return t0.test.some(n0=>this.test(n0));throw new Error("Browser's test function is not valid")});return r&&(this.parsedResult.engine=r.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return i$2.assign({},this.parsedResult)}satisfies(r){const t0={};let n0=0;const r0={};let i0=0;if(Object.keys(r).forEach(o0=>{const s0=r[o0];typeof s0=="string"?(r0[o0]=s0,i0+=1):typeof s0=="object"&&(t0[o0]=s0,n0+=1)}),n0>0){const o0=Object.keys(t0),s0=i$2.find(o0,c0=>this.isOS(c0));if(s0){const c0=this.satisfies(t0[s0]);if(c0!==void 0)return c0}const a0=i$2.find(o0,c0=>this.isPlatform(c0));if(a0){const c0=this.satisfies(t0[a0]);if(c0!==void 0)return c0}}if(i0>0){const o0=Object.keys(r0),s0=i$2.find(o0,a0=>this.isBrowser(a0,!0));if(s0!==void 0)return this.compareVersion(r0[s0])}}isBrowser(r,t0=!1){const n0=this.getBrowserName().toLowerCase();let r0=r.toLowerCase();const i0=i$2.getBrowserTypeByAlias(r0);return t0&&i0&&(r0=i0.toLowerCase()),r0===n0}compareVersion(r){let t0=[0],n0=r,r0=!1;const i0=this.getBrowserVersion();if(typeof i0=="string")return r[0]===">"||r[0]==="<"?(n0=r.substr(1),r[1]==="="?(r0=!0,n0=r.substr(2)):t0=[],r[0]===">"?t0.push(1):t0.push(-1)):r[0]==="="?n0=r.substr(1):r[0]==="~"&&(r0=!0,n0=r.substr(1)),t0.indexOf(i$2.compareVersions(i0,n0,r0))>-1}isOS(r){return this.getOSName(!0)===String(r).toLowerCase()}isPlatform(r){return this.getPlatformType(!0)===String(r).toLowerCase()}isEngine(r){return this.getEngineName(!0)===String(r).toLowerCase()}is(r,t0=!1){return this.isBrowser(r,t0)||this.isOS(r)||this.isPlatform(r)}some(r=[]){return r.some(t0=>this.is(t0))}};/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */let Xe$2=class{static getParser(r,t0=!1){if(typeof r!="string")throw new Error("UserAgent should be a string");return new se$1(r,t0)}static parse(r){return new se$1(r).getResult()}static get BROWSER_MAP(){return be$2}static get ENGINE_MAP(){return P$1}static get OS_MAP(){return F$2}static get PLATFORMS_MAP(){return M$1}};const ae$2=typeof window<"u"?window:null;function He$2(){if(!ae$2)return null;switch(Xe$2.getParser(ae$2.navigator.userAgent).getBrowserName()?.toLowerCase()){case"firefox":return"firefox";case"microsoft edge":return"edge";case"android browser":case"chrome":case"chromium":case"electron":case"opera":case"vivaldi":return"chrome";default:return null}}var Ue$1=typeof global=="object"&&global&&global.Object===Object&&global;const Ze$2=Ue$1;var Ke$2=typeof self=="object"&&self&&self.Object===Object&&self,Ye$2=Ze$2||Ke$2||Function("return this")();const $e$2=Ye$2;var Je$2=$e$2.Symbol;const Y$1=Je$2;var me$1=Object.prototype,et$2=me$1.hasOwnProperty,tt$2=me$1.toString,G$1=Y$1?Y$1.toStringTag:void 0;function rt$2(e0){var r=et$2.call(e0,G$1),t0=e0[G$1];try{e0[G$1]=void 0;var n0=!0}catch{}var r0=tt$2.call(e0);return n0&&(r?e0[G$1]=t0:delete e0[G$1]),r0}var nt$2=Object.prototype,it$2=nt$2.toString;function ot$2(e0){return it$2.call(e0)}var st$2="[object Null]",at$2="[object Undefined]",ce$1=Y$1?Y$1.toStringTag:void 0;function ct$2(e0){return e0==null?e0===void 0?at$2:st$2:ce$1&&ce$1 in Object(e0)?rt$2(e0):ot$2(e0)}function lt$2(e0){return e0!=null&&typeof e0=="object"}var dt$2=Array.isArray;const ut$2=dt$2;var ft$2="[object String]";function te$1(e0){return typeof e0=="string"||!ut$2(e0)&&lt$2(e0)&&ct$2(e0)==ft$2}const wt$2=({availableConnectors:e0,installedWallets:r,discoveryWallets:t0,storeVersion:n0,customOrder:r0})=>{if(window?.starknet_argentX?.isInAppBrowser)return[];const i0=r.map(o0=>e0.find(s0=>s0.id===o0.id));return(r0?e0:[...e0.filter(o0=>i0.includes(o0)),...e0.filter(o0=>!i0.includes(o0))]).map(o0=>{const s0=r.find(c0=>c0.id===o0.id);if(s0){const c0=s0.id==="argentX"?{light:l$3,dark:l$3}:te$1(s0.icon)?{light:s0.icon,dark:s0.icon}:s0.icon;return{name:s0.name,id:s0.id,icon:c0,connector:o0}}const a0=t0.filter(c0=>!!c0.downloads[n0]).find(c0=>c0.id===o0.id);if(a0){const{downloads:c0}=a0,l0=a0.id==="argentX"?l$3:a0.icon;return{name:a0.name,id:a0.id,icon:{light:l0,dark:l0},connector:o0,download:c0[n0]}}return!o0||!o0.id||!o0.name?null:{name:o0.name,id:o0.id,icon:o0.icon,connector:o0,title:"title"in o0&&te$1(o0.title)?o0.title:void 0,subtitle:"subtitle"in o0&&te$1(o0.subtitle)?o0.subtitle:void 0}}).filter(o0=>o0!==null)};function R$2(){}function ve$1(e0){return e0()}function le$1(){return Object.create(null)}function j$2(e0){e0.forEach(ve$1)}function ye$2(e0){return typeof e0=="function"}function ke$2(e0,r){return e0!=e0?r==r:e0!==r||e0&&typeof e0=="object"||typeof e0=="function"}let U$2;function _e$2(e0,r){return e0===r?!0:(U$2||(U$2=document.createElement("a")),U$2.href=r,e0===U$2.href)}function gt$2(e0){return Object.keys(e0).length===0}function _$2(e0,r){e0.appendChild(r)}function W$1(e0,r,t0){e0.insertBefore(r,t0||null)}function E$1(e0){e0.parentNode&&e0.parentNode.removeChild(e0)}function ht$2(e0,r){for(let t0=0;t0<e0.length;t0+=1)e0[t0]&&e0[t0].d(r)}function B$2(e0){return document.createElement(e0)}function I$2(e0){return document.createTextNode(e0)}function z$1(){return I$2(" ")}function xe$2(){return I$2("")}function O$1(e0,r,t0,n0){return e0.addEventListener(r,t0,n0),()=>e0.removeEventListener(r,t0,n0)}function p$1(e0,r,t0){t0==null?e0.removeAttribute(r):e0.getAttribute(r)!==t0&&e0.setAttribute(r,t0)}function pt$2(e0){return Array.from(e0.childNodes)}function $$1(e0,r){r=""+r,e0.data!==r&&(e0.data=r)}function Me$1(e0,r,t0,n0){t0==null?e0.style.removeProperty(r):e0.style.setProperty(r,t0,n0?"important":"")}let X$2;function Q$1(e0){X$2=e0}function bt$2(){if(!X$2)throw new Error("Function called outside component initialization");return X$2}function mt$2(e0){bt$2().$$.on_mount.push(e0)}const D$1=[],de$1=[];let q$1=[];const ue$2=[],vt$2=Promise.resolve();let ne$2=!1;function yt$2(){ne$2||(ne$2=!0,vt$2.then(Se$1))}function ie$2(e0){q$1.push(e0)}const re$3=new Set;let V$2=0;function Se$1(){if(V$2!==0)return;const e0=X$2;do{try{for(;V$2<D$1.length;){const r=D$1[V$2];V$2++,Q$1(r),kt$1(r.$$)}}catch(r){throw D$1.length=0,V$2=0,r}for(Q$1(null),D$1.length=0,V$2=0;de$1.length;)de$1.pop()();for(let r=0;r<q$1.length;r+=1){const t0=q$1[r];re$3.has(t0)||(re$3.add(t0),t0())}q$1.length=0}while(D$1.length);for(;ue$2.length;)ue$2.pop()();ne$2=!1,re$3.clear(),Q$1(e0)}function kt$1(e0){if(e0.fragment!==null){e0.update(),j$2(e0.before_update);const r=e0.dirty;e0.dirty=[-1],e0.fragment&&e0.fragment.p(e0.ctx,r),e0.after_update.forEach(ie$2)}}function _t$1(e0){const r=[],t0=[];q$1.forEach(n0=>e0.indexOf(n0)===-1?r.push(n0):t0.push(n0)),t0.forEach(n0=>n0()),q$1=r}const K$1=new Set;let T$2;function Be$1(){T$2={r:0,c:[],p:T$2}}function Fe$1(){T$2.r||j$2(T$2.c),T$2=T$2.p}function L$1(e0,r){e0&&e0.i&&(K$1.delete(e0),e0.i(r))}function H$2(e0,r,t0,n0){if(e0&&e0.o){if(K$1.has(e0))return;K$1.add(e0),T$2.c.push(()=>{K$1.delete(e0),n0&&(t0&&e0.d(1),n0())}),e0.o(r)}else n0&&n0()}function fe$2(e0){return e0?.length!==void 0?e0:Array.from(e0)}function xt$1(e0){e0&&e0.c()}function Ce$2(e0,r,t0){const{fragment:n0,after_update:r0}=e0.$$;n0&&n0.m(r,t0),ie$2(()=>{const i0=e0.$$.on_mount.map(ve$1).filter(ye$2);e0.$$.on_destroy?e0.$$.on_destroy.push(...i0):j$2(i0),e0.$$.on_mount=[]}),r0.forEach(ie$2)}function Ae$2(e0,r){const t0=e0.$$;t0.fragment!==null&&(_t$1(t0.after_update),j$2(t0.on_destroy),t0.fragment&&t0.fragment.d(r),t0.on_destroy=t0.fragment=null,t0.ctx=[])}function Mt$2(e0,r){e0.$$.dirty[0]===-1&&(D$1.push(e0),yt$2(),e0.$$.dirty.fill(0)),e0.$$.dirty[r/31|0]|=1<<r%31}function Oe$1(e0,r,t0,n0,r0,i0,o0=null,s0=[-1]){const a0=X$2;Q$1(e0);const c0=e0.$$={fragment:null,ctx:[],props:i0,update:R$2,not_equal:r0,bound:le$1(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(a0?a0.$$.context:[])),callbacks:le$1(),dirty:s0,skip_bound:!1,root:r.target||a0.$$.root};o0&&o0(c0.root);let l0=!1;if(c0.ctx=t0?t0(e0,r.props||{},(u0,h0,...g0)=>{const w0=g0.length?g0[0]:h0;return c0.ctx&&r0(c0.ctx[u0],c0.ctx[u0]=w0)&&(!c0.skip_bound&&c0.bound[u0]&&c0.bound[u0](w0),l0&&Mt$2(e0,u0)),h0}):[],c0.update(),l0=!0,j$2(c0.before_update),c0.fragment=n0?n0(c0.ctx):!1,r.target){if(r.hydrate){const u0=pt$2(r.target);c0.fragment&&c0.fragment.l(u0),u0.forEach(E$1)}else c0.fragment&&c0.fragment.c();r.intro&&L$1(e0.$$.fragment),Ce$2(e0,r.target,r.anchor),Se$1()}Q$1(a0)}let Ne$1=class{constructor(){J$2(this,"$$"),J$2(this,"$$set")}$destroy(){Ae$2(this,1),this.$destroy=R$2}$on(r,t0){if(!ye$2(t0))return R$2;const n0=this.$$.callbacks[r]||(this.$$.callbacks[r]=[]);return n0.push(t0),()=>{const r0=n0.indexOf(t0);r0!==-1&&n0.splice(r0,1)}}$set(r){this.$$set&&!gt$2(r)&&(this.$$.skip_bound=!0,this.$$set(r),this.$$.skip_bound=!1)}};const St$2="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(St$2);function Bt$2(e0){let r,t0,n0,r0,i0,o0=(e0[0].title??e0[0].name)+"",s0,a0,c0,l0=(e0[0].subtitle??"")+"",u0,h0,g0,w0;function m0(T0,N0){return T0[2]===T0[0]?.id?Ot$2:T0[4]?At$2:Ct$1}let S0=m0(e0),b0=S0(e0);return{c(){r=B$2("li"),t0=B$2("span"),n0=z$1(),r0=B$2("div"),i0=B$2("p"),s0=I$2(o0),a0=z$1(),c0=B$2("p"),u0=I$2(l0),h0=z$1(),b0.c(),p$1(t0,"class","w-8 h-8"),p$1(i0,"class","font-semibold text-base p"),p$1(c0,"class","l2 p"),Me$1(c0,"text-align","center"),p$1(r0,"class","flex flex-col justify-center items-center"),p$1(r,"class",`flex flex-row-reverse justify-between items-center 
            p-3 rounded-md cursor-pointer shadow-list-item 
            dark:shadow-none dark:bg-neutral-800 dark:text-white 
          hover:bg-neutral-100 dark:hover:bg-neutral-700 
          focus:outline-none focus:ring-2 
        focus:ring-neutral-200 dark:focus:ring-neutral-700 
          transition-colors`),p$1(r,"role","button"),p$1(r,"tabindex","0")},m(T0,N0){W$1(T0,r,N0),_$2(r,t0),_$2(r,n0),_$2(r,r0),_$2(r0,i0),_$2(i0,s0),_$2(r0,a0),_$2(r0,c0),_$2(c0,u0),_$2(r,h0),b0.m(r,null),g0||(w0=[O$1(r,"click",e0[8]),O$1(r,"keyup",e0[9])],g0=!0)},p(T0,N0){N0&1&&o0!==(o0=(T0[0].title??T0[0].name)+"")&&$$1(s0,o0),N0&1&&l0!==(l0=(T0[0].subtitle??"")+"")&&$$1(u0,l0),S0===(S0=m0(T0))&&b0?b0.p(T0,N0):(b0.d(1),b0=S0(T0),b0&&(b0.c(),b0.m(r,null)))},d(T0){T0&&E$1(r),b0.d(),g0=!1,j$2(w0)}}}function Ft$2(e0){let r,t0,n0,r0,i0,o0,s0=e0[0].name+"",a0,c0,l0,u0,h0,g0,w0,m0,S0;return{c(){r=B$2("a"),t0=B$2("li"),n0=B$2("span"),r0=z$1(),i0=B$2("p"),o0=I$2("Install "),a0=I$2(s0),c0=z$1(),l0=B$2("img"),p$1(n0,"class","w-8 h-8"),p$1(i0,"class","font-semibold text-base p"),p$1(l0,"alt",u0=e0[0].name),_e$2(l0.src,h0=e0[3])||p$1(l0,"src",h0),p$1(l0,"class","w-8 h-8 rounded-full"),p$1(t0,"class",`flex flex-row-reverse justify-between items-center 
              p-3 rounded-md cursor-pointer shadow-list-item 
              dark:shadow-none dark:bg-neutral-800 dark:text-white 
            hover:bg-neutral-100 dark:hover:bg-neutral-700`),p$1(r,"aria-label",g0=e0[0].name+" download link"),p$1(r,"href",w0=e0[0].download),p$1(r,"target","_blank"),p$1(r,"rel","noopener noreferrer"),p$1(r,"class",`rounded-md focus:outline-none  focus:ring-2 
    focus:ring-neutral-200  dark:focus:ring-neutral-700 transition-colors`)},m(b0,T0){W$1(b0,r,T0),_$2(r,t0),_$2(t0,n0),_$2(t0,r0),_$2(t0,i0),_$2(i0,o0),_$2(i0,a0),_$2(t0,c0),_$2(t0,l0),m0||(S0=[O$1(t0,"click",e0[6]),O$1(t0,"keyup",e0[7])],m0=!0)},p(b0,T0){T0&1&&s0!==(s0=b0[0].name+"")&&$$1(a0,s0),T0&1&&u0!==(u0=b0[0].name)&&p$1(l0,"alt",u0),T0&1&&g0!==(g0=b0[0].name+" download link")&&p$1(r,"aria-label",g0),T0&1&&w0!==(w0=b0[0].download)&&p$1(r,"href",w0)},d(b0){b0&&E$1(r),m0=!1,j$2(S0)}}}function Ct$1(e0){let r,t0,n0;return{c(){r=B$2("img"),p$1(r,"alt",t0=e0[0]?.name),_e$2(r.src,n0=e0[3])||p$1(r,"src",n0),p$1(r,"class","w-8 h-8 rounded")},m(r0,i0){W$1(r0,r,i0)},p(r0,i0){i0&1&&t0!==(t0=r0[0]?.name)&&p$1(r,"alt",t0)},d(r0){r0&&E$1(r)}}}function At$2(e0){let r;return{c(){r=B$2("div"),Me$1(r,"position","relative")},m(t0,n0){W$1(t0,r,n0),r.innerHTML=e0[3]},p:R$2,d(t0){t0&&E$1(r)}}}function Ot$2(e0){let r;return{c(){r=B$2("div"),r.innerHTML='<svg aria-hidden="true" class="w-8 h-8 text-neutral-300 animate-spin dark:text-neutral-600 fill-neutral-600 dark:fill-neutral-300" viewBox="0 0 100 101" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z" fill="currentColor"></path><path d="M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z" fill="currentFill"></path></svg> <span class="sr-only">Loading...</span>',p$1(r,"role","status")},m(t0,n0){W$1(t0,r,n0)},p:R$2,d(t0){t0&&E$1(r)}}}function Nt$2(e0){let r;function t0(i0,o0){return i0[0].download?Ft$2:Bt$2}let n0=t0(e0),r0=n0(e0);return{c(){r0.c(),r=xe$2()},m(i0,o0){r0.m(i0,o0),W$1(i0,r,o0)},p(i0,[o0]){n0===(n0=t0(i0))&&r0?r0.p(i0,o0):(r0.d(1),r0=n0(i0),r0&&(r0.c(),r0.m(r.parentNode,r)))},i:R$2,o:R$2,d(i0){i0&&E$1(r),r0.d(i0)}}}function Et$2(e0,r,t0){let{wallet:n0}=r,{theme:r0=null}=r,{cb:i0=async()=>{}}=r,{loadingItem:o0=!1}=r;const s0=typeof n0.icon=="string"?n0.icon:r0==="dark"?n0.icon.dark:n0.icon.light,a0=s0?.startsWith("<svg"),c0=()=>{i0(null)},l0=g0=>{g0.key==="Enter"&&i0(null)},u0=async()=>{i0(n0.connector)},h0=async g0=>{g0.key==="Enter"&&i0(n0.connector)};return e0.$$set=g0=>{"wallet"in g0&&t0(0,n0=g0.wallet),"theme"in g0&&t0(5,r0=g0.theme),"cb"in g0&&t0(1,i0=g0.cb),"loadingItem"in g0&&t0(2,o0=g0.loadingItem)},[n0,i0,o0,s0,a0,r0,c0,l0,u0,h0]}let Pt$2=class extends Ne$1{constructor(r){super(),Oe$1(this,r,Et$2,Nt$2,ke$2,{wallet:0,theme:5,cb:1,loadingItem:2})}};function we$1(e0,r,t0){const n0=e0.slice();return n0[16]=r[t0],n0}function ge$1(e0){let r,t0,n0,r0,i0,o0,s0,a0,c0,l0,u0,h0,g0,w0,m0,S0=fe$2(e0[1]),b0=[];for(let N0=0;N0<S0.length;N0+=1)b0[N0]=he$2(we$1(e0,S0,N0));const T0=N0=>H$2(b0[N0],1,1,()=>{b0[N0]=null});return{c(){r=B$2("div"),t0=B$2("main"),n0=B$2("header"),r0=B$2("h2"),r0.textContent="Connect to",i0=z$1(),o0=B$2("h1"),s0=I$2(e0[0]),a0=z$1(),c0=B$2("span"),c0.innerHTML='<svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9.77275 3.02275C9.99242 2.80308 9.99242 2.44692 9.77275 2.22725C9.55308 2.00758 9.19692 2.00758 8.97725 2.22725L6 5.20451L3.02275 2.22725C2.80308 2.00758 2.44692 2.00758 2.22725 2.22725C2.00758 2.44692 2.00758 2.80308 2.22725 3.02275L5.20451 6L2.22725 8.97725C2.00758 9.19692 2.00758 9.55308 2.22725 9.77275C2.44692 9.99242 2.80308 9.99242 3.02275 9.77275L6 6.79549L8.97725 9.77275C9.19692 9.99242 9.55308 9.99242 9.77275 9.77275C9.99242 9.55308 9.99242 9.19692 9.77275 8.97725L6.79549 6L9.77275 3.02275Z" fill="currentColor"></path></svg>',l0=z$1(),u0=B$2("ul");for(let N0=0;N0<b0.length;N0+=1)b0[N0].c();p$1(r0,"class","text-sm text-gray-400 font-semibold"),p$1(o0,"class",`text-xl font-semibold mb-6 
                  max-w-[240px] overflow-hidden 
                  whitespace-nowrap text-ellipsis`),p$1(c0,"class",`absolute top-0 right-0 p-2 cursor-pointer
                  rounded-full bg-neutral-100 dark:bg-neutral-800
                  text-neutral-400 dark:text-white
                  hover:bg-neutral-100 dark:hover:bg-neutral-700
                  focus:outline-none focus:ring-2
                focus:ring-neutral-200 dark:focus:ring-neutral-700
                  transition-colors`),p$1(c0,"role","button"),p$1(c0,"tabindex","0"),p$1(c0,"aria-label","Close"),p$1(n0,"class","flex items-center justify-center flex-col mb-2 relative"),p$1(u0,"class","flex flex-col gap-3"),p$1(t0,"role","dialog"),p$1(t0,"class",`rounded-3xl shadow-modal dark:shadow-none 
              w-full max-w-[380px] z-50 
              mx-6 p-6 pb-8 text-center 
              bg-slate-50 dark:bg-neutral-900 
            text-neutral-900 dark:text-white`),p$1(r,"part","starknetkit-modal"),p$1(r,"class",h0=`modal-font backdrop-blur-sm fixed inset-0 flex items-center 
            justify-center bg-black/25 z-[9999] ${e0[4]}`)},m(N0,x0){W$1(N0,r,x0),_$2(r,t0),_$2(t0,n0),_$2(n0,r0),_$2(n0,i0),_$2(n0,o0),_$2(o0,s0),_$2(n0,a0),_$2(n0,c0),_$2(t0,l0),_$2(t0,u0);for(let k0=0;k0<b0.length;k0+=1)b0[k0]&&b0[k0].m(u0,null);g0=!0,w0||(m0=[O$1(c0,"click",e0[8]),O$1(c0,"keyup",e0[9]),O$1(t0,"click",Lt$2),O$1(t0,"keyup",jt$2),O$1(r,"click",e0[10]),O$1(r,"keyup",e0[11])],w0=!0)},p(N0,x0){if((!g0||x0&1)&&$$1(s0,N0[0]),x0&78){S0=fe$2(N0[1]);let k0;for(k0=0;k0<S0.length;k0+=1){const B0=we$1(N0,S0,k0);b0[k0]?(b0[k0].p(B0,x0),L$1(b0[k0],1)):(b0[k0]=he$2(B0),b0[k0].c(),L$1(b0[k0],1),b0[k0].m(u0,null))}for(Be$1(),k0=S0.length;k0<b0.length;k0+=1)T0(k0);Fe$1()}(!g0||x0&16&&h0!==(h0=`modal-font backdrop-blur-sm fixed inset-0 flex items-center 
            justify-center bg-black/25 z-[9999] ${N0[4]}`))&&p$1(r,"class",h0)},i(N0){if(!g0){for(let x0=0;x0<S0.length;x0+=1)L$1(b0[x0]);g0=!0}},o(N0){b0=b0.filter(Boolean);for(let x0=0;x0<b0.length;x0+=1)H$2(b0[x0]);g0=!1},d(N0){N0&&E$1(r),ht$2(b0,N0),w0=!1,j$2(m0)}}}function he$2(e0){let r,t0;return r=new Pt$2({props:{wallet:e0[16],loadingItem:e0[3],cb:e0[6],theme:e0[2]}}),{c(){xt$1(r.$$.fragment)},m(n0,r0){Ce$2(r,n0,r0),t0=!0},p(n0,r0){const i0={};r0&2&&(i0.wallet=n0[16]),r0&8&&(i0.loadingItem=n0[3]),r0&4&&(i0.theme=n0[2]),r.$set(i0)},i(n0){t0||(L$1(r.$$.fragment,n0),t0=!0)},o(n0){H$2(r.$$.fragment,n0),t0=!1},d(n0){Ae$2(r,n0)}}}function zt$2(e0){let r,t0,n0=!e0[5]&&e0[1].length>1&&ge$1(e0);return{c(){n0&&n0.c(),r=xe$2()},m(r0,i0){n0&&n0.m(r0,i0),W$1(r0,r,i0),t0=!0},p(r0,[i0]){!r0[5]&&r0[1].length>1?n0?(n0.p(r0,i0),i0&2&&L$1(n0,1)):(n0=ge$1(r0),n0.c(),L$1(n0,1),n0.m(r.parentNode,r)):n0&&(Be$1(),H$2(n0,1,1,()=>{n0=null}),Fe$1())},i(r0){t0||(L$1(n0),t0=!0)},o(r0){H$2(n0),t0=!1},d(r0){r0&&E$1(r),n0&&n0.d(r0)}}}const Lt$2=e0=>e0.stopPropagation(),jt$2=e0=>{e0.stopPropagation()};function Wt$2(e0,r,t0){let{dappName:n0=window?.document.title??""}=r,{modalWallets:r0}=r,{callback:i0=async()=>{}}=r,{theme:o0=null}=r,s0=!1,a0=window?.starknet_argentX?.isInAppBrowser;const c0=navigator.userAgent.toLowerCase().includes("braavos"),l0=b0=>{t0(3,s0=b0)};let u0=async b0=>{l0(b0?.id??!1);try{await i0(b0??null)}finally{l0(!1)}},h0=o0==="dark"?"dark":"";mt$2(async()=>{if(o0==="dark"||o0===null&&window.matchMedia("(prefers-color-scheme: dark)").matches?t0(4,h0="dark"):t0(4,h0=""),a0&&window?.starknet_argentX){try{i0(new T$3({options:{id:"argentX"}}))}catch{}return}if(c0&&window?.starknet_braavos){try{i0(new T$3({options:{id:"braavos"}}))}catch{}return}if(r0.length===1)try{const[b0]=r0;await i0(b0.connector)}catch(b0){console.error(b0)}});const g0=()=>u0(null),w0=b0=>{b0.key==="Enter"&&u0(null)},m0=()=>u0(null),S0=b0=>{b0.key==="Escape"&&u0(null)};return e0.$$set=b0=>{"dappName"in b0&&t0(0,n0=b0.dappName),"modalWallets"in b0&&t0(1,r0=b0.modalWallets),"callback"in b0&&t0(7,i0=b0.callback),"theme"in b0&&t0(2,o0=b0.theme)},[n0,r0,o0,s0,h0,a0,u0,i0,g0,w0,m0,S0]}let Tt$2=class extends Ne$1{constructor(r){super(),Oe$1(this,r,Wt$2,zt$2,ke$2,{dappName:0,modalWallets:1,callback:7,theme:2})}};const Rt$2=`@import"https://fonts.googleapis.com/css2?family=Barlow:wght@500;600&display=swap";.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.visible{visibility:visible}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.inset-0{inset:0}.right-0{right:0}.top-0{top:0}.z-50{z-index:50}.z-\\[9999\\]{z-index:9999}.mx-6{margin-left:1.5rem;margin-right:1.5rem}.mb-2{margin-bottom:.5rem}.mb-6{margin-bottom:1.5rem}.block{display:block}.inline{display:inline}.flex{display:flex}.h-8{height:2rem}.w-8{width:2rem}.w-full{width:100%}.max-w-\\[240px\\]{max-width:240px}.max-w-\\[380px\\]{max-width:380px}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes spin{to{transform:rotate(360deg)}}.animate-spin{animation:spin 1s linear infinite}.cursor-pointer{cursor:pointer}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.items-center{align-items:center}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-3{gap:.75rem}.overflow-hidden{overflow:hidden}.text-ellipsis{text-overflow:ellipsis}.whitespace-nowrap{white-space:nowrap}.rounded{border-radius:.25rem}.rounded-3xl{border-radius:1.5rem}.rounded-full{border-radius:9999px}.rounded-md{border-radius:.375rem}.border{border-width:1px}.bg-black\\/25{background-color:#00000040}.bg-neutral-100{--tw-bg-opacity: 1;background-color:rgb(245 245 245 / var(--tw-bg-opacity, 1))}.bg-slate-50{--tw-bg-opacity: 1;background-color:rgb(248 250 252 / var(--tw-bg-opacity, 1))}.fill-neutral-600{fill:#525252}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-6{padding:1.5rem}.pb-8{padding-bottom:2rem}.text-center{text-align:center}.text-base{font-size:1rem;line-height:1.5rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.font-semibold{font-weight:600}.text-gray-400{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.text-neutral-300{--tw-text-opacity: 1;color:rgb(212 212 212 / var(--tw-text-opacity, 1))}.text-neutral-400{--tw-text-opacity: 1;color:rgb(163 163 163 / var(--tw-text-opacity, 1))}.text-neutral-900{--tw-text-opacity: 1;color:rgb(23 23 23 / var(--tw-text-opacity, 1))}.shadow-list-item{--tw-shadow: 0px 2px 12px rgba(0, 0, 0, .12);--tw-shadow-colored: 0px 2px 12px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-modal{--tw-shadow: 0px 4px 20px rgba(0, 0, 0, .5);--tw-shadow-colored: 0px 4px 20px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline{outline-style:solid}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.backdrop-blur-sm{--tw-backdrop-blur: blur(4px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.transition-colors{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}.modal-font{font-family:Barlow,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;text-size-adjust:100%;font-feature-settings:"kern"}.l2{color:#8c8c8c;font-size:12px;font-weight:500;line-height:14px;letter-spacing:0em;text-align:left}.p{margin:0}.hover\\:bg-neutral-100:hover{--tw-bg-opacity: 1;background-color:rgb(245 245 245 / var(--tw-bg-opacity, 1))}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-neutral-200:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(229 229 229 / var(--tw-ring-opacity, 1))}.dark\\:bg-neutral-800:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(38 38 38 / var(--tw-bg-opacity, 1))}.dark\\:bg-neutral-900:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(23 23 23 / var(--tw-bg-opacity, 1))}.dark\\:fill-neutral-300:is(.dark *){fill:#d4d4d4}.dark\\:text-neutral-600:is(.dark *){--tw-text-opacity: 1;color:rgb(82 82 82 / var(--tw-text-opacity, 1))}.dark\\:text-white:is(.dark *){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.dark\\:shadow-none:is(.dark *){--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.dark\\:hover\\:bg-neutral-700:hover:is(.dark *){--tw-bg-opacity: 1;background-color:rgb(64 64 64 / var(--tw-bg-opacity, 1))}.dark\\:focus\\:ring-neutral-700:focus:is(.dark *){--tw-ring-opacity: 1;--tw-ring-color: rgb(64 64 64 / var(--tw-ring-opacity, 1))}
`;let N$2=null;const It$1=async({modalMode:e0="canAsk",storeVersion:r=He$2(),modalTheme:t0,dappName:n0,resultType:r0="wallet",...i0})=>{const{webWalletUrl:o0=Tr$1,argentMobileOptions:s0}=i0,{connectors:a0}=i0;N$2=null;const c0=!a0||a0.length===0?Ie$2({argentMobileOptions:s0,webWalletUrl:o0}):a0,l0=localStorage.getItem("starknetLastConnectedWallet");if(e0==="neverAsk")try{const w0=c0.find(S0=>S0.id===l0)??null;let m0=null;return w0&&r0==="wallet"&&(m0=await w0.connect()),{connector:w0,wallet:w0?.wallet??null,connectorData:m0}}catch(w0){throw M$3(),new Error(w0)}const u0=await main.getAvailableWallets(i0);if(e0==="canAsk"&&l0&&(((await main.getAuthorizedWallets(i0)).find(w0=>w0.id===l0)??u0.length===1)&&u0[0])){const w0=c0.find(S0=>S0.id===l0);let m0=null;return r0==="wallet"&&(m0=await w0?.connect()??null),w0&&(N$2=w0),{connector:N$2,connectorData:m0,wallet:w0?.wallet??null}}const h0=wt$2({availableConnectors:c0,installedWallets:u0,discoveryWallets:await main.getDiscoveryWallets(i0),storeVersion:r,customOrder:a0?a0?.length>0:!1}),g0=()=>{const w0="starknetkit-modal-container",m0=document.getElementById(w0);if(m0){if(m0.shadowRoot)return m0.shadowRoot;m0.remove()}const S0=document.createElement("div");S0.id=w0,document.body.appendChild(S0);const b0=S0.attachShadow({mode:"open"});return b0.innerHTML=`<style>${Rt$2}</style>`,b0};return new Promise((w0,m0)=>{const S0=new Tt$2({target:g0(),props:{dappName:n0,callback:async b0=>{try{if(N$2=b0,r0==="wallet"){const T0=await b0?.connect()??null;b0!==null&&F$4(b0.id),w0({connector:b0,connectorData:T0,wallet:b0?.wallet??null})}else w0({connector:b0,wallet:null,connectorData:null})}catch(T0){m0(T0)}finally{setTimeout(()=>S0.$destroy())}},theme:t0==="system"?null:t0??null,modalWallets:h0}})})};var browserPonyfill={exports:{}};(function(e0,r){var t0=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof connector.commonjsGlobal<"u"&&connector.commonjsGlobal,n0=function(){function i0(){this.fetch=!1,this.DOMException=t0.DOMException}return i0.prototype=t0,new i0}();(function(i0){(function(o0){var s0=typeof i0<"u"&&i0||typeof self<"u"&&self||typeof connector.commonjsGlobal<"u"&&connector.commonjsGlobal||{},a0={searchParams:"URLSearchParams"in s0,iterable:"Symbol"in s0&&"iterator"in Symbol,blob:"FileReader"in s0&&"Blob"in s0&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s0,arrayBuffer:"ArrayBuffer"in s0};function c0(p0){return p0&&DataView.prototype.isPrototypeOf(p0)}if(a0.arrayBuffer)var l0=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u0=ArrayBuffer.isView||function(p0){return p0&&l0.indexOf(Object.prototype.toString.call(p0))>-1};function h0(p0){if(typeof p0!="string"&&(p0=String(p0)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(p0)||p0==="")throw new TypeError('Invalid character in header field name: "'+p0+'"');return p0.toLowerCase()}function g0(p0){return typeof p0!="string"&&(p0=String(p0)),p0}function w0(p0){var A0={next:function(){var $0=p0.shift();return{done:$0===void 0,value:$0}}};return a0.iterable&&(A0[Symbol.iterator]=function(){return A0}),A0}function m0(p0){this.map={},p0 instanceof m0?p0.forEach(function(A0,$0){this.append($0,A0)},this):Array.isArray(p0)?p0.forEach(function(A0){if(A0.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+A0.length);this.append(A0[0],A0[1])},this):p0&&Object.getOwnPropertyNames(p0).forEach(function(A0){this.append(A0,p0[A0])},this)}m0.prototype.append=function(p0,A0){p0=h0(p0),A0=g0(A0);var $0=this.map[p0];this.map[p0]=$0?$0+", "+A0:A0},m0.prototype.delete=function(p0){delete this.map[h0(p0)]},m0.prototype.get=function(p0){return p0=h0(p0),this.has(p0)?this.map[p0]:null},m0.prototype.has=function(p0){return this.map.hasOwnProperty(h0(p0))},m0.prototype.set=function(p0,A0){this.map[h0(p0)]=g0(A0)},m0.prototype.forEach=function(p0,A0){for(var $0 in this.map)this.map.hasOwnProperty($0)&&p0.call(A0,this.map[$0],$0,this)},m0.prototype.keys=function(){var p0=[];return this.forEach(function(A0,$0){p0.push($0)}),w0(p0)},m0.prototype.values=function(){var p0=[];return this.forEach(function(A0){p0.push(A0)}),w0(p0)},m0.prototype.entries=function(){var p0=[];return this.forEach(function(A0,$0){p0.push([$0,A0])}),w0(p0)},a0.iterable&&(m0.prototype[Symbol.iterator]=m0.prototype.entries);function S0(p0){if(!p0._noBody){if(p0.bodyUsed)return Promise.reject(new TypeError("Already read"));p0.bodyUsed=!0}}function b0(p0){return new Promise(function(A0,$0){p0.onload=function(){A0(p0.result)},p0.onerror=function(){$0(p0.error)}})}function T0(p0){var A0=new FileReader,$0=b0(A0);return A0.readAsArrayBuffer(p0),$0}function N0(p0){var A0=new FileReader,$0=b0(A0),y0=/charset=([A-Za-z0-9_-]+)/.exec(p0.type),v0=y0?y0[1]:"utf-8";return A0.readAsText(p0,v0),$0}function x0(p0){for(var A0=new Uint8Array(p0),$0=new Array(A0.length),y0=0;y0<A0.length;y0++)$0[y0]=String.fromCharCode(A0[y0]);return $0.join("")}function k0(p0){if(p0.slice)return p0.slice(0);var A0=new Uint8Array(p0.byteLength);return A0.set(new Uint8Array(p0)),A0.buffer}function B0(){return this.bodyUsed=!1,this._initBody=function(p0){this.bodyUsed=this.bodyUsed,this._bodyInit=p0,p0?typeof p0=="string"?this._bodyText=p0:a0.blob&&Blob.prototype.isPrototypeOf(p0)?this._bodyBlob=p0:a0.formData&&FormData.prototype.isPrototypeOf(p0)?this._bodyFormData=p0:a0.searchParams&&URLSearchParams.prototype.isPrototypeOf(p0)?this._bodyText=p0.toString():a0.arrayBuffer&&a0.blob&&c0(p0)?(this._bodyArrayBuffer=k0(p0.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a0.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(p0)||u0(p0))?this._bodyArrayBuffer=k0(p0):this._bodyText=p0=Object.prototype.toString.call(p0):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof p0=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a0.searchParams&&URLSearchParams.prototype.isPrototypeOf(p0)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a0.blob&&(this.blob=function(){var p0=S0(this);if(p0)return p0;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var p0=S0(this);return p0||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(a0.blob)return this.blob().then(T0);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var p0=S0(this);if(p0)return p0;if(this._bodyBlob)return N0(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(x0(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a0.formData&&(this.formData=function(){return this.text().then(K0)}),this.json=function(){return this.text().then(JSON.parse)},this}var H0=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function G0(p0){var A0=p0.toUpperCase();return H0.indexOf(A0)>-1?A0:p0}function V0(p0,A0){if(!(this instanceof V0))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');A0=A0||{};var $0=A0.body;if(p0 instanceof V0){if(p0.bodyUsed)throw new TypeError("Already read");this.url=p0.url,this.credentials=p0.credentials,A0.headers||(this.headers=new m0(p0.headers)),this.method=p0.method,this.mode=p0.mode,this.signal=p0.signal,!$0&&p0._bodyInit!=null&&($0=p0._bodyInit,p0.bodyUsed=!0)}else this.url=String(p0);if(this.credentials=A0.credentials||this.credentials||"same-origin",(A0.headers||!this.headers)&&(this.headers=new m0(A0.headers)),this.method=G0(A0.method||this.method||"GET"),this.mode=A0.mode||this.mode||null,this.signal=A0.signal||this.signal||function(){if("AbortController"in s0){var I0=new AbortController;return I0.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&$0)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody($0),(this.method==="GET"||this.method==="HEAD")&&(A0.cache==="no-store"||A0.cache==="no-cache")){var y0=/([?&])_=[^&]*/;if(y0.test(this.url))this.url=this.url.replace(y0,"$1_="+new Date().getTime());else{var v0=/\?/;this.url+=(v0.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}V0.prototype.clone=function(){return new V0(this,{body:this._bodyInit})};function K0(p0){var A0=new FormData;return p0.trim().split("&").forEach(function($0){if($0){var y0=$0.split("="),v0=y0.shift().replace(/\+/g," "),I0=y0.join("=").replace(/\+/g," ");A0.append(decodeURIComponent(v0),decodeURIComponent(I0))}}),A0}function W0(p0){var A0=new m0,$0=p0.replace(/\r?\n[\t ]+/g," ");return $0.split("\r").map(function(y0){return y0.indexOf(`
`)===0?y0.substr(1,y0.length):y0}).forEach(function(y0){var v0=y0.split(":"),I0=v0.shift().trim();if(I0){var E0=v0.join(":").trim();try{A0.append(I0,E0)}catch(d0){console.warn("Response "+d0.message)}}}),A0}B0.call(V0.prototype);function F0(p0,A0){if(!(this instanceof F0))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(A0||(A0={}),this.type="default",this.status=A0.status===void 0?200:A0.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=A0.statusText===void 0?"":""+A0.statusText,this.headers=new m0(A0.headers),this.url=A0.url||"",this._initBody(p0)}B0.call(F0.prototype),F0.prototype.clone=function(){return new F0(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m0(this.headers),url:this.url})},F0.error=function(){var p0=new F0(null,{status:200,statusText:""});return p0.ok=!1,p0.status=0,p0.type="error",p0};var O0=[301,302,303,307,308];F0.redirect=function(p0,A0){if(O0.indexOf(A0)===-1)throw new RangeError("Invalid status code");return new F0(null,{status:A0,headers:{location:p0}})},o0.DOMException=s0.DOMException;try{new o0.DOMException}catch{o0.DOMException=function(A0,$0){this.message=A0,this.name=$0;var y0=Error(A0);this.stack=y0.stack},o0.DOMException.prototype=Object.create(Error.prototype),o0.DOMException.prototype.constructor=o0.DOMException}function f0(p0,A0){return new Promise(function($0,y0){var v0=new V0(p0,A0);if(v0.signal&&v0.signal.aborted)return y0(new o0.DOMException("Aborted","AbortError"));var I0=new XMLHttpRequest;function E0(){I0.abort()}I0.onload=function(){var C0={statusText:I0.statusText,headers:W0(I0.getAllResponseHeaders()||"")};v0.url.indexOf("file://")===0&&(I0.status<200||I0.status>599)?C0.status=200:C0.status=I0.status,C0.url="responseURL"in I0?I0.responseURL:C0.headers.get("X-Request-URL");var L0="response"in I0?I0.response:I0.responseText;setTimeout(function(){$0(new F0(L0,C0))},0)},I0.onerror=function(){setTimeout(function(){y0(new TypeError("Network request failed"))},0)},I0.ontimeout=function(){setTimeout(function(){y0(new TypeError("Network request timed out"))},0)},I0.onabort=function(){setTimeout(function(){y0(new o0.DOMException("Aborted","AbortError"))},0)};function d0(C0){try{return C0===""&&s0.location.href?s0.location.href:C0}catch{return C0}}if(I0.open(v0.method,d0(v0.url),!0),v0.credentials==="include"?I0.withCredentials=!0:v0.credentials==="omit"&&(I0.withCredentials=!1),"responseType"in I0&&(a0.blob?I0.responseType="blob":a0.arrayBuffer&&(I0.responseType="arraybuffer")),A0&&typeof A0.headers=="object"&&!(A0.headers instanceof m0||s0.Headers&&A0.headers instanceof s0.Headers)){var _0=[];Object.getOwnPropertyNames(A0.headers).forEach(function(C0){_0.push(h0(C0)),I0.setRequestHeader(C0,g0(A0.headers[C0]))}),v0.headers.forEach(function(C0,L0){_0.indexOf(L0)===-1&&I0.setRequestHeader(L0,C0)})}else v0.headers.forEach(function(C0,L0){I0.setRequestHeader(L0,C0)});v0.signal&&(v0.signal.addEventListener("abort",E0),I0.onreadystatechange=function(){I0.readyState===4&&v0.signal.removeEventListener("abort",E0)}),I0.send(typeof v0._bodyInit>"u"?null:v0._bodyInit)})}return f0.polyfill=!0,s0.fetch||(s0.fetch=f0,s0.Headers=m0,s0.Request=V0,s0.Response=F0),o0.Headers=m0,o0.Request=V0,o0.Response=F0,o0.fetch=f0,o0})({})})(n0),n0.fetch.ponyfill=!0,delete n0.fetch.polyfill;var r0=t0.fetch?t0:n0;r=r0.fetch,r.default=r0.fetch,r.fetch=r0.fetch,r.Headers=r0.Headers,r.Request=r0.Request,r.Response=r0.Response,e0.exports=r})(browserPonyfill,browserPonyfill.exports);var browserPonyfillExports=browserPonyfill.exports;const e=connector.getDefaultExportFromCjs(browserPonyfillExports);var browser={exports:{}},ms$1,hasRequiredMs;function requireMs(){if(hasRequiredMs)return ms$1;hasRequiredMs=1;var e0=1e3,r=e0*60,t0=r*60,n0=t0*24,r0=n0*7,i0=n0*365.25;ms$1=function(l0,u0){u0=u0||{};var h0=typeof l0;if(h0==="string"&&l0.length>0)return o0(l0);if(h0==="number"&&isFinite(l0))return u0.long?a0(l0):s0(l0);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(l0))};function o0(l0){if(l0=String(l0),!(l0.length>100)){var u0=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(l0);if(u0){var h0=parseFloat(u0[1]),g0=(u0[2]||"ms").toLowerCase();switch(g0){case"years":case"year":case"yrs":case"yr":case"y":return h0*i0;case"weeks":case"week":case"w":return h0*r0;case"days":case"day":case"d":return h0*n0;case"hours":case"hour":case"hrs":case"hr":case"h":return h0*t0;case"minutes":case"minute":case"mins":case"min":case"m":return h0*r;case"seconds":case"second":case"secs":case"sec":case"s":return h0*e0;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h0;default:return}}}}function s0(l0){var u0=Math.abs(l0);return u0>=n0?Math.round(l0/n0)+"d":u0>=t0?Math.round(l0/t0)+"h":u0>=r?Math.round(l0/r)+"m":u0>=e0?Math.round(l0/e0)+"s":l0+"ms"}function a0(l0){var u0=Math.abs(l0);return u0>=n0?c0(l0,u0,n0,"day"):u0>=t0?c0(l0,u0,t0,"hour"):u0>=r?c0(l0,u0,r,"minute"):u0>=e0?c0(l0,u0,e0,"second"):l0+" ms"}function c0(l0,u0,h0,g0){var w0=u0>=h0*1.5;return Math.round(l0/h0)+" "+g0+(w0?"s":"")}return ms$1}function setup(e0){t0.debug=t0,t0.default=t0,t0.coerce=a0,t0.disable=o0,t0.enable=r0,t0.enabled=s0,t0.humanize=requireMs(),t0.destroy=c0,Object.keys(e0).forEach(l0=>{t0[l0]=e0[l0]}),t0.names=[],t0.skips=[],t0.formatters={};function r(l0){let u0=0;for(let h0=0;h0<l0.length;h0++)u0=(u0<<5)-u0+l0.charCodeAt(h0),u0|=0;return t0.colors[Math.abs(u0)%t0.colors.length]}t0.selectColor=r;function t0(l0){let u0,h0=null,g0,w0;function m0(...S0){if(!m0.enabled)return;const b0=m0,T0=Number(new Date),N0=T0-(u0||T0);b0.diff=N0,b0.prev=u0,b0.curr=T0,u0=T0,S0[0]=t0.coerce(S0[0]),typeof S0[0]!="string"&&S0.unshift("%O");let x0=0;S0[0]=S0[0].replace(/%([a-zA-Z%])/g,(B0,H0)=>{if(B0==="%%")return"%";x0++;const G0=t0.formatters[H0];if(typeof G0=="function"){const V0=S0[x0];B0=G0.call(b0,V0),S0.splice(x0,1),x0--}return B0}),t0.formatArgs.call(b0,S0),(b0.log||t0.log).apply(b0,S0)}return m0.namespace=l0,m0.useColors=t0.useColors(),m0.color=t0.selectColor(l0),m0.extend=n0,m0.destroy=t0.destroy,Object.defineProperty(m0,"enabled",{enumerable:!0,configurable:!1,get:()=>h0!==null?h0:(g0!==t0.namespaces&&(g0=t0.namespaces,w0=t0.enabled(l0)),w0),set:S0=>{h0=S0}}),typeof t0.init=="function"&&t0.init(m0),m0}function n0(l0,u0){const h0=t0(this.namespace+(typeof u0>"u"?":":u0)+l0);return h0.log=this.log,h0}function r0(l0){t0.save(l0),t0.namespaces=l0,t0.names=[],t0.skips=[];const u0=(typeof l0=="string"?l0:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const h0 of u0)h0[0]==="-"?t0.skips.push(h0.slice(1)):t0.names.push(h0)}function i0(l0,u0){let h0=0,g0=0,w0=-1,m0=0;for(;h0<l0.length;)if(g0<u0.length&&(u0[g0]===l0[h0]||u0[g0]==="*"))u0[g0]==="*"?(w0=g0,m0=h0,g0++):(h0++,g0++);else if(w0!==-1)g0=w0+1,m0++,h0=m0;else return!1;for(;g0<u0.length&&u0[g0]==="*";)g0++;return g0===u0.length}function o0(){const l0=[...t0.names,...t0.skips.map(u0=>"-"+u0)].join(",");return t0.enable(""),l0}function s0(l0){for(const u0 of t0.skips)if(i0(l0,u0))return!1;for(const u0 of t0.names)if(i0(l0,u0))return!0;return!1}function a0(l0){return l0 instanceof Error?l0.stack||l0.message:l0}function c0(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return t0.enable(t0.load()),t0}var common=setup;(function(e0,r){r.formatArgs=n0,r.save=r0,r.load=i0,r.useColors=t0,r.storage=o0(),r.destroy=(()=>{let a0=!1;return()=>{a0||(a0=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),r.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function t0(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let a0;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(a0=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(a0[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n0(a0){if(a0[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+a0[0]+(this.useColors?"%c ":" ")+"+"+e0.exports.humanize(this.diff),!this.useColors)return;const c0="color: "+this.color;a0.splice(1,0,c0,"color: inherit");let l0=0,u0=0;a0[0].replace(/%[a-zA-Z%]/g,h0=>{h0!=="%%"&&(l0++,h0==="%c"&&(u0=l0))}),a0.splice(u0,0,c0)}r.log=console.debug||console.log||(()=>{});function r0(a0){try{a0?r.storage.setItem("debug",a0):r.storage.removeItem("debug")}catch{}}function i0(){let a0;try{a0=r.storage.getItem("debug")||r.storage.getItem("DEBUG")}catch{}return!a0&&typeof process<"u"&&"env"in process&&(a0=process.env.DEBUG),a0}function o0(){try{return localStorage}catch{}}e0.exports=common(r);const{formatters:s0}=e0.exports;s0.j=function(a0){try{return JSON.stringify(a0)}catch(c0){return"[UnexpectedJSONParseError]: "+c0.message}}})(browser,browser.exports);var browserExports=browser.exports;const t=connector.getDefaultExportFromCjs(browserExports);var eventemitter2={exports:{}};/*!
 * EventEmitter2
 * https://github.com/hij1nx/EventEmitter2
 *
 * Copyright (c) 2013 hij1nx
 * Licensed under the MIT license.
 */(function(e0,r){(function(t0){var n0=Object.hasOwnProperty,r0=Array.isArray?Array.isArray:function(v0){return Object.prototype.toString.call(v0)==="[object Array]"},i0=10,o0=typeof process=="object"&&typeof process.nextTick=="function",s0=typeof Symbol=="function",a0=typeof Reflect=="object",c0=typeof setImmediate=="function",l0=c0?setImmediate:setTimeout,u0=s0?a0&&typeof Reflect.ownKeys=="function"?Reflect.ownKeys:function(y0){var v0=Object.getOwnPropertyNames(y0);return v0.push.apply(v0,Object.getOwnPropertySymbols(y0)),v0}:Object.keys;function h0(){this._events={},this._conf&&g0.call(this,this._conf)}function g0(y0){y0&&(this._conf=y0,y0.delimiter&&(this.delimiter=y0.delimiter),y0.maxListeners!==t0&&(this._maxListeners=y0.maxListeners),y0.wildcard&&(this.wildcard=y0.wildcard),y0.newListener&&(this._newListener=y0.newListener),y0.removeListener&&(this._removeListener=y0.removeListener),y0.verboseMemoryLeak&&(this.verboseMemoryLeak=y0.verboseMemoryLeak),y0.ignoreErrors&&(this.ignoreErrors=y0.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function w0(y0,v0){var I0="(node) warning: possible EventEmitter memory leak detected. "+y0+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(I0+=" Event name: "+v0+"."),typeof process<"u"&&process.emitWarning){var E0=new Error(I0);E0.name="MaxListenersExceededWarning",E0.emitter=this,E0.count=y0,process.emitWarning(E0)}else console.error(I0),console.trace&&console.trace()}var m0=function(y0,v0,I0){var E0=arguments.length;switch(E0){case 0:return[];case 1:return[y0];case 2:return[y0,v0];case 3:return[y0,v0,I0];default:for(var d0=new Array(E0);E0--;)d0[E0]=arguments[E0];return d0}};function S0(y0,v0){for(var I0={},E0,d0=y0.length,_0=v0?v0.length:0,C0=0;C0<d0;C0++)E0=y0[C0],I0[E0]=C0<_0?v0[C0]:t0;return I0}function b0(y0,v0,I0){this._emitter=y0,this._target=v0,this._listeners={},this._listenersCount=0;var E0,d0;if((I0.on||I0.off)&&(E0=I0.on,d0=I0.off),v0.addEventListener?(E0=v0.addEventListener,d0=v0.removeEventListener):v0.addListener?(E0=v0.addListener,d0=v0.removeListener):v0.on&&(E0=v0.on,d0=v0.off),!E0&&!d0)throw Error("target does not implement any known event API");if(typeof E0!="function")throw TypeError("on method must be a function");if(typeof d0!="function")throw TypeError("off method must be a function");this._on=E0,this._off=d0;var _0=y0._observers;_0?_0.push(this):y0._observers=[this]}Object.assign(b0.prototype,{subscribe:function(y0,v0,I0){var E0=this,d0=this._target,_0=this._emitter,C0=this._listeners,L0=function(){var D0=m0.apply(null,arguments),j0={data:D0,name:v0,original:y0};if(I0){var z0=I0.call(d0,j0);z0!==!1&&_0.emit.apply(_0,[j0.name].concat(D0));return}_0.emit.apply(_0,[v0].concat(D0))};if(C0[y0])throw Error("Event '"+y0+"' is already listening");this._listenersCount++,_0._newListener&&_0._removeListener&&!E0._onNewListener?(this._onNewListener=function(D0){D0===v0&&C0[y0]===null&&(C0[y0]=L0,E0._on.call(d0,y0,L0))},_0.on("newListener",this._onNewListener),this._onRemoveListener=function(D0){D0===v0&&!_0.hasListeners(D0)&&C0[y0]&&(C0[y0]=null,E0._off.call(d0,y0,L0))},C0[y0]=null,_0.on("removeListener",this._onRemoveListener)):(C0[y0]=L0,E0._on.call(d0,y0,L0))},unsubscribe:function(y0){var v0=this,I0=this._listeners,E0=this._emitter,d0,_0,C0=this._off,L0=this._target,D0;if(y0&&typeof y0!="string")throw TypeError("event must be a string");function j0(){v0._onNewListener&&(E0.off("newListener",v0._onNewListener),E0.off("removeListener",v0._onRemoveListener),v0._onNewListener=null,v0._onRemoveListener=null);var z0=G0.call(E0,v0);E0._observers.splice(z0,1)}if(y0){if(d0=I0[y0],!d0)return;C0.call(L0,y0,d0),delete I0[y0],--this._listenersCount||j0()}else{for(_0=u0(I0),D0=_0.length;D0-- >0;)y0=_0[D0],C0.call(L0,y0,I0[y0]);this._listeners={},this._listenersCount=0,j0()}}});function T0(y0,v0,I0,E0){var d0=Object.assign({},v0);if(!y0)return d0;if(typeof y0!="object")throw TypeError("options must be an object");var _0=Object.keys(y0),C0=_0.length,L0,D0,j0;function z0(Z0){throw Error('Invalid "'+L0+'" option value'+(Z0?". Reason: "+Z0:""))}for(var Y0=0;Y0<C0;Y0++){if(L0=_0[Y0],!E0&&!n0.call(v0,L0))throw Error('Unknown "'+L0+'" option');D0=y0[L0],D0!==t0&&(j0=I0[L0],d0[L0]=j0?j0(D0,z0):D0)}return d0}function N0(y0,v0){return(typeof y0!="function"||!y0.hasOwnProperty("prototype"))&&v0("value must be a constructor"),y0}function x0(y0){var v0="value must be type of "+y0.join("|"),I0=y0.length,E0=y0[0],d0=y0[1];return I0===1?function(_0,C0){if(typeof _0===E0)return _0;C0(v0)}:I0===2?function(_0,C0){var L0=typeof _0;if(L0===E0||L0===d0)return _0;C0(v0)}:function(_0,C0){for(var L0=typeof _0,D0=I0;D0-- >0;)if(L0===y0[D0])return _0;C0(v0)}}var k0=x0(["function"]),B0=x0(["object","function"]);function H0(y0,v0,I0){var E0,d0,_0=0,C0,L0=new y0(function(D0,j0,z0){I0=T0(I0,{timeout:0,overload:!1},{timeout:function(J0,yg){return J0*=1,(typeof J0!="number"||J0<0||!Number.isFinite(J0))&&yg("timeout must be a positive number"),J0}}),E0=!I0.overload&&typeof y0.prototype.cancel=="function"&&typeof z0=="function";function Y0(){d0&&(d0=null),_0&&(clearTimeout(_0),_0=0)}var Z0=function(J0){Y0(),D0(J0)},X0=function(J0){Y0(),j0(J0)};E0?v0(Z0,X0,z0):(d0=[function(J0){X0(J0||Error("canceled"))}],v0(Z0,X0,function(J0){if(C0)throw Error("Unable to subscribe on cancel event asynchronously");if(typeof J0!="function")throw TypeError("onCancel callback must be a function");d0.push(J0)}),C0=!0),I0.timeout>0&&(_0=setTimeout(function(){var J0=Error("timeout");J0.code="ETIMEDOUT",_0=0,L0.cancel(J0),j0(J0)},I0.timeout))});return E0||(L0.cancel=function(D0){if(d0){for(var j0=d0.length,z0=1;z0<j0;z0++)d0[z0](D0);d0[0](D0),d0=null}}),L0}function G0(y0){var v0=this._observers;if(!v0)return-1;for(var I0=v0.length,E0=0;E0<I0;E0++)if(v0[E0]._target===y0)return E0;return-1}function V0(y0,v0,I0,E0,d0){if(!I0)return null;if(E0===0){var _0=typeof v0;if(_0==="string"){var C0,L0,D0=0,j0=0,z0=this.delimiter,Y0=z0.length;if((L0=v0.indexOf(z0))!==-1){C0=new Array(5);do C0[D0++]=v0.slice(j0,L0),j0=L0+Y0;while((L0=v0.indexOf(z0,j0))!==-1);C0[D0++]=v0.slice(j0),v0=C0,d0=D0}else v0=[v0],d0=1}else _0==="object"?d0=v0.length:(v0=[v0],d0=1)}var Z0=null,X0,J0,yg,_g,vg,bg=v0[E0],wg=v0[E0+1],Eg,Ag;if(E0===d0)I0._listeners&&(typeof I0._listeners=="function"?(y0&&y0.push(I0._listeners),Z0=[I0]):(y0&&y0.push.apply(y0,I0._listeners),Z0=[I0]));else if(bg==="*"){for(Eg=u0(I0),L0=Eg.length;L0-- >0;)X0=Eg[L0],X0!=="_listeners"&&(Ag=V0(y0,v0,I0[X0],E0+1,d0),Ag&&(Z0?Z0.push.apply(Z0,Ag):Z0=Ag));return Z0}else if(bg==="**"){for(vg=E0+1===d0||E0+2===d0&&wg==="*",vg&&I0._listeners&&(Z0=V0(y0,v0,I0,d0,d0)),Eg=u0(I0),L0=Eg.length;L0-- >0;)X0=Eg[L0],X0!=="_listeners"&&(X0==="*"||X0==="**"?(I0[X0]._listeners&&!vg&&(Ag=V0(y0,v0,I0[X0],d0,d0),Ag&&(Z0?Z0.push.apply(Z0,Ag):Z0=Ag)),Ag=V0(y0,v0,I0[X0],E0,d0)):X0===wg?Ag=V0(y0,v0,I0[X0],E0+2,d0):Ag=V0(y0,v0,I0[X0],E0,d0),Ag&&(Z0?Z0.push.apply(Z0,Ag):Z0=Ag));return Z0}else I0[bg]&&(Z0=V0(y0,v0,I0[bg],E0+1,d0));if(J0=I0["*"],J0&&V0(y0,v0,J0,E0+1,d0),yg=I0["**"],yg)if(E0<d0)for(yg._listeners&&V0(y0,v0,yg,d0,d0),Eg=u0(yg),L0=Eg.length;L0-- >0;)X0=Eg[L0],X0!=="_listeners"&&(X0===wg?V0(y0,v0,yg[X0],E0+2,d0):X0===bg?V0(y0,v0,yg[X0],E0+1,d0):(_g={},_g[X0]=yg[X0],V0(y0,v0,{"**":_g},E0+1,d0)));else yg._listeners?V0(y0,v0,yg,d0,d0):yg["*"]&&yg["*"]._listeners&&V0(y0,v0,yg["*"],d0,d0);return Z0}function K0(y0,v0,I0){var E0=0,d0=0,_0,C0=this.delimiter,L0=C0.length,D0;if(typeof y0=="string")if((_0=y0.indexOf(C0))!==-1){D0=new Array(5);do D0[E0++]=y0.slice(d0,_0),d0=_0+L0;while((_0=y0.indexOf(C0,d0))!==-1);D0[E0++]=y0.slice(d0)}else D0=[y0],E0=1;else D0=y0,E0=y0.length;if(E0>1){for(_0=0;_0+1<E0;_0++)if(D0[_0]==="**"&&D0[_0+1]==="**")return}var j0=this.listenerTree,z0;for(_0=0;_0<E0;_0++)if(z0=D0[_0],j0=j0[z0]||(j0[z0]={}),_0===E0-1)return j0._listeners?(typeof j0._listeners=="function"&&(j0._listeners=[j0._listeners]),I0?j0._listeners.unshift(v0):j0._listeners.push(v0),!j0._listeners.warned&&this._maxListeners>0&&j0._listeners.length>this._maxListeners&&(j0._listeners.warned=!0,w0.call(this,j0._listeners.length,z0))):j0._listeners=v0,!0;return!0}function W0(y0,v0,I0,E0){for(var d0=u0(y0),_0=d0.length,C0,L0,D0,j0=y0._listeners,z0;_0-- >0;)L0=d0[_0],C0=y0[L0],L0==="_listeners"?D0=I0:D0=I0?I0.concat(L0):[L0],z0=E0||typeof L0=="symbol",j0&&v0.push(z0?D0:D0.join(this.delimiter)),typeof C0=="object"&&W0.call(this,C0,v0,D0,z0);return v0}function F0(y0){for(var v0=u0(y0),I0=v0.length,E0,d0,_0;I0-- >0;)d0=v0[I0],E0=y0[d0],E0&&(_0=!0,d0!=="_listeners"&&!F0(E0)&&delete y0[d0]);return _0}function O0(y0,v0,I0){this.emitter=y0,this.event=v0,this.listener=I0}O0.prototype.off=function(){return this.emitter.off(this.event,this.listener),this};function f0(y0,v0,I0){if(I0===!0)d0=!0;else if(I0===!1)E0=!0;else{if(!I0||typeof I0!="object")throw TypeError("options should be an object or true");var E0=I0.async,d0=I0.promisify,_0=I0.nextTick,C0=I0.objectify}if(E0||_0||d0){var L0=v0,D0=v0._origin||v0;if(_0&&!o0)throw Error("process.nextTick is not supported");d0===t0&&(d0=v0.constructor.name==="AsyncFunction"),v0=function(){var j0=arguments,z0=this,Y0=this.event;return d0?_0?Promise.resolve():new Promise(function(Z0){l0(Z0)}).then(function(){return z0.event=Y0,L0.apply(z0,j0)}):(_0?process.nextTick:l0)(function(){z0.event=Y0,L0.apply(z0,j0)})},v0._async=!0,v0._origin=D0}return[v0,C0?new O0(this,y0,v0):this]}function p0(y0){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,g0.call(this,y0)}p0.EventEmitter2=p0,p0.prototype.listenTo=function(y0,v0,I0){if(typeof y0!="object")throw TypeError("target musts be an object");var E0=this;I0=T0(I0,{on:t0,off:t0,reducers:t0},{on:k0,off:k0,reducers:B0});function d0(_0){if(typeof _0!="object")throw TypeError("events must be an object");var C0=I0.reducers,L0=G0.call(E0,y0),D0;L0===-1?D0=new b0(E0,y0,I0):D0=E0._observers[L0];for(var j0=u0(_0),z0=j0.length,Y0,Z0=typeof C0=="function",X0=0;X0<z0;X0++)Y0=j0[X0],D0.subscribe(Y0,_0[Y0]||Y0,Z0?C0:C0&&C0[Y0])}return r0(v0)?d0(S0(v0)):d0(typeof v0=="string"?S0(v0.split(/\s+/)):v0),this},p0.prototype.stopListeningTo=function(y0,v0){var I0=this._observers;if(!I0)return!1;var E0=I0.length,d0,_0=!1;if(y0&&typeof y0!="object")throw TypeError("target should be an object");for(;E0-- >0;)d0=I0[E0],(!y0||d0._target===y0)&&(d0.unsubscribe(v0),_0=!0);return _0},p0.prototype.delimiter=".",p0.prototype.setMaxListeners=function(y0){y0!==t0&&(this._maxListeners=y0,this._conf||(this._conf={}),this._conf.maxListeners=y0)},p0.prototype.getMaxListeners=function(){return this._maxListeners},p0.prototype.event="",p0.prototype.once=function(y0,v0,I0){return this._once(y0,v0,!1,I0)},p0.prototype.prependOnceListener=function(y0,v0,I0){return this._once(y0,v0,!0,I0)},p0.prototype._once=function(y0,v0,I0,E0){return this._many(y0,1,v0,I0,E0)},p0.prototype.many=function(y0,v0,I0,E0){return this._many(y0,v0,I0,!1,E0)},p0.prototype.prependMany=function(y0,v0,I0,E0){return this._many(y0,v0,I0,!0,E0)},p0.prototype._many=function(y0,v0,I0,E0,d0){var _0=this;if(typeof I0!="function")throw new Error("many only accepts instances of Function");function C0(){return--v0===0&&_0.off(y0,C0),I0.apply(this,arguments)}return C0._origin=I0,this._on(y0,C0,E0,d0)},p0.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||h0.call(this);var y0=arguments[0],v0,I0=this.wildcard,E0,d0,_0,C0,L0;if(y0==="newListener"&&!this._newListener&&!this._events.newListener)return!1;if(I0&&(v0=y0,y0!=="newListener"&&y0!=="removeListener"&&typeof y0=="object")){if(d0=y0.length,s0){for(_0=0;_0<d0;_0++)if(typeof y0[_0]=="symbol"){L0=!0;break}}L0||(y0=y0.join(this.delimiter))}var D0=arguments.length,j0;if(this._all&&this._all.length)for(j0=this._all.slice(),_0=0,d0=j0.length;_0<d0;_0++)switch(this.event=y0,D0){case 1:j0[_0].call(this,y0);break;case 2:j0[_0].call(this,y0,arguments[1]);break;case 3:j0[_0].call(this,y0,arguments[1],arguments[2]);break;default:j0[_0].apply(this,arguments)}if(I0)j0=[],V0.call(this,j0,v0,this.listenerTree,0,d0);else if(j0=this._events[y0],typeof j0=="function"){switch(this.event=y0,D0){case 1:j0.call(this);break;case 2:j0.call(this,arguments[1]);break;case 3:j0.call(this,arguments[1],arguments[2]);break;default:for(E0=new Array(D0-1),C0=1;C0<D0;C0++)E0[C0-1]=arguments[C0];j0.apply(this,E0)}return!0}else j0&&(j0=j0.slice());if(j0&&j0.length){if(D0>3)for(E0=new Array(D0-1),C0=1;C0<D0;C0++)E0[C0-1]=arguments[C0];for(_0=0,d0=j0.length;_0<d0;_0++)switch(this.event=y0,D0){case 1:j0[_0].call(this);break;case 2:j0[_0].call(this,arguments[1]);break;case 3:j0[_0].call(this,arguments[1],arguments[2]);break;default:j0[_0].apply(this,E0)}return!0}else if(!this.ignoreErrors&&!this._all&&y0==="error")throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},p0.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||h0.call(this);var y0=arguments[0],v0=this.wildcard,I0,E0,d0,_0,C0,L0;if(y0==="newListener"&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(v0&&(I0=y0,y0!=="newListener"&&y0!=="removeListener"&&typeof y0=="object")){if(_0=y0.length,s0){for(C0=0;C0<_0;C0++)if(typeof y0[C0]=="symbol"){E0=!0;break}}E0||(y0=y0.join(this.delimiter))}var D0=[],j0=arguments.length,z0;if(this._all)for(C0=0,_0=this._all.length;C0<_0;C0++)switch(this.event=y0,j0){case 1:D0.push(this._all[C0].call(this,y0));break;case 2:D0.push(this._all[C0].call(this,y0,arguments[1]));break;case 3:D0.push(this._all[C0].call(this,y0,arguments[1],arguments[2]));break;default:D0.push(this._all[C0].apply(this,arguments))}if(v0?(z0=[],V0.call(this,z0,I0,this.listenerTree,0)):z0=this._events[y0],typeof z0=="function")switch(this.event=y0,j0){case 1:D0.push(z0.call(this));break;case 2:D0.push(z0.call(this,arguments[1]));break;case 3:D0.push(z0.call(this,arguments[1],arguments[2]));break;default:for(d0=new Array(j0-1),L0=1;L0<j0;L0++)d0[L0-1]=arguments[L0];D0.push(z0.apply(this,d0))}else if(z0&&z0.length){if(z0=z0.slice(),j0>3)for(d0=new Array(j0-1),L0=1;L0<j0;L0++)d0[L0-1]=arguments[L0];for(C0=0,_0=z0.length;C0<_0;C0++)switch(this.event=y0,j0){case 1:D0.push(z0[C0].call(this));break;case 2:D0.push(z0[C0].call(this,arguments[1]));break;case 3:D0.push(z0[C0].call(this,arguments[1],arguments[2]));break;default:D0.push(z0[C0].apply(this,d0))}}else if(!this.ignoreErrors&&!this._all&&y0==="error")return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(D0)},p0.prototype.on=function(y0,v0,I0){return this._on(y0,v0,!1,I0)},p0.prototype.prependListener=function(y0,v0,I0){return this._on(y0,v0,!0,I0)},p0.prototype.onAny=function(y0){return this._onAny(y0,!1)},p0.prototype.prependAny=function(y0){return this._onAny(y0,!0)},p0.prototype.addListener=p0.prototype.on,p0.prototype._onAny=function(y0,v0){if(typeof y0!="function")throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),v0?this._all.unshift(y0):this._all.push(y0),this},p0.prototype._on=function(y0,v0,I0,E0){if(typeof y0=="function")return this._onAny(y0,v0),this;if(typeof v0!="function")throw new Error("on only accepts instances of Function");this._events||h0.call(this);var d0=this,_0;return E0!==t0&&(_0=f0.call(this,y0,v0,E0),v0=_0[0],d0=_0[1]),this._newListener&&this.emit("newListener",y0,v0),this.wildcard?(K0.call(this,y0,v0,I0),d0):(this._events[y0]?(typeof this._events[y0]=="function"&&(this._events[y0]=[this._events[y0]]),I0?this._events[y0].unshift(v0):this._events[y0].push(v0),!this._events[y0].warned&&this._maxListeners>0&&this._events[y0].length>this._maxListeners&&(this._events[y0].warned=!0,w0.call(this,this._events[y0].length,y0))):this._events[y0]=v0,d0)},p0.prototype.off=function(y0,v0){if(typeof v0!="function")throw new Error("removeListener only takes instances of Function");var I0,E0=[];if(this.wildcard){var d0=typeof y0=="string"?y0.split(this.delimiter):y0.slice();if(E0=V0.call(this,null,d0,this.listenerTree,0),!E0)return this}else{if(!this._events[y0])return this;I0=this._events[y0],E0.push({_listeners:I0})}for(var _0=0;_0<E0.length;_0++){var C0=E0[_0];if(I0=C0._listeners,r0(I0)){for(var L0=-1,D0=0,j0=I0.length;D0<j0;D0++)if(I0[D0]===v0||I0[D0].listener&&I0[D0].listener===v0||I0[D0]._origin&&I0[D0]._origin===v0){L0=D0;break}if(L0<0)continue;return this.wildcard?C0._listeners.splice(L0,1):this._events[y0].splice(L0,1),I0.length===0&&(this.wildcard?delete C0._listeners:delete this._events[y0]),this._removeListener&&this.emit("removeListener",y0,v0),this}else(I0===v0||I0.listener&&I0.listener===v0||I0._origin&&I0._origin===v0)&&(this.wildcard?delete C0._listeners:delete this._events[y0],this._removeListener&&this.emit("removeListener",y0,v0))}return this.listenerTree&&F0(this.listenerTree),this},p0.prototype.offAny=function(y0){var v0=0,I0=0,E0;if(y0&&this._all&&this._all.length>0){for(E0=this._all,v0=0,I0=E0.length;v0<I0;v0++)if(y0===E0[v0])return E0.splice(v0,1),this._removeListener&&this.emit("removeListenerAny",y0),this}else{if(E0=this._all,this._removeListener)for(v0=0,I0=E0.length;v0<I0;v0++)this.emit("removeListenerAny",E0[v0]);this._all=[]}return this},p0.prototype.removeListener=p0.prototype.off,p0.prototype.removeAllListeners=function(y0){if(y0===t0)return!this._events||h0.call(this),this;if(this.wildcard){var v0=V0.call(this,null,y0,this.listenerTree,0),I0,E0;if(!v0)return this;for(E0=0;E0<v0.length;E0++)I0=v0[E0],I0._listeners=null;this.listenerTree&&F0(this.listenerTree)}else this._events&&(this._events[y0]=null);return this},p0.prototype.listeners=function(y0){var v0=this._events,I0,E0,d0,_0,C0;if(y0===t0){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!v0)return[];for(I0=u0(v0),_0=I0.length,d0=[];_0-- >0;)E0=v0[I0[_0]],typeof E0=="function"?d0.push(E0):d0.push.apply(d0,E0);return d0}else{if(this.wildcard){if(C0=this.listenerTree,!C0)return[];var L0=[],D0=typeof y0=="string"?y0.split(this.delimiter):y0.slice();return V0.call(this,L0,D0,C0,0),L0}return v0?(E0=v0[y0],E0?typeof E0=="function"?[E0]:E0:[]):[]}},p0.prototype.eventNames=function(y0){var v0=this._events;return this.wildcard?W0.call(this,this.listenerTree,[],null,y0):v0?u0(v0):[]},p0.prototype.listenerCount=function(y0){return this.listeners(y0).length},p0.prototype.hasListeners=function(y0){if(this.wildcard){var v0=[],I0=typeof y0=="string"?y0.split(this.delimiter):y0.slice();return V0.call(this,v0,I0,this.listenerTree,0),v0.length>0}var E0=this._events,d0=this._all;return!!(d0&&d0.length||E0&&(y0===t0?u0(E0).length:E0[y0]))},p0.prototype.listenersAny=function(){return this._all?this._all:[]},p0.prototype.waitFor=function(y0,v0){var I0=this,E0=typeof v0;return E0==="number"?v0={timeout:v0}:E0==="function"&&(v0={filter:v0}),v0=T0(v0,{timeout:0,filter:t0,handleError:!1,Promise,overload:!1},{filter:k0,Promise:N0}),H0(v0.Promise,function(d0,_0,C0){function L0(){var D0=v0.filter;if(!(D0&&!D0.apply(I0,arguments)))if(I0.off(y0,L0),v0.handleError){var j0=arguments[0];j0?_0(j0):d0(m0.apply(null,arguments).slice(1))}else d0(m0.apply(null,arguments))}C0(function(){I0.off(y0,L0)}),I0._on(y0,L0,!1)},{timeout:v0.timeout,overload:v0.overload})};function A0(y0,v0,I0){I0=T0(I0,{Promise,timeout:0,overload:!1},{Promise:N0});var E0=I0.Promise;return H0(E0,function(d0,_0,C0){var L0;if(typeof y0.addEventListener=="function"){L0=function(){d0(m0.apply(null,arguments))},C0(function(){y0.removeEventListener(v0,L0)}),y0.addEventListener(v0,L0,{once:!0});return}var D0=function(){j0&&y0.removeListener("error",j0),d0(m0.apply(null,arguments))},j0;v0!=="error"&&(j0=function(z0){y0.removeListener(v0,D0),_0(z0)},y0.once("error",j0)),C0(function(){j0&&y0.removeListener("error",j0),y0.removeListener(v0,D0)}),y0.once(v0,D0)},{timeout:I0.timeout,overload:I0.overload})}var $0=p0.prototype;Object.defineProperties(p0,{defaultMaxListeners:{get:function(){return $0._maxListeners},set:function(y0){if(typeof y0!="number"||y0<0||Number.isNaN(y0))throw TypeError("n must be a non-negative number");$0._maxListeners=y0},enumerable:!0},once:{value:A0,writable:!0,configurable:!0}}),Object.defineProperties($0,{_maxListeners:{value:i0,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),typeof t0=="function"&&t0.amd?t0(function(){return p0}):e0.exports=p0})()})(eventemitter2);var eventemitter2Exports=eventemitter2.exports;const n=connector.getDefaultExportFromCjs(eventemitter2Exports);var getRandomValues,rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}const REGEX=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate$1(e0){return typeof e0=="string"&&REGEX.test(e0)}var byteToHex=[];for(var i$1=0;i$1<256;++i$1)byteToHex.push((i$1+256).toString(16).substr(1));function stringify(e0){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t0=(byteToHex[e0[r+0]]+byteToHex[e0[r+1]]+byteToHex[e0[r+2]]+byteToHex[e0[r+3]]+"-"+byteToHex[e0[r+4]]+byteToHex[e0[r+5]]+"-"+byteToHex[e0[r+6]]+byteToHex[e0[r+7]]+"-"+byteToHex[e0[r+8]]+byteToHex[e0[r+9]]+"-"+byteToHex[e0[r+10]]+byteToHex[e0[r+11]]+byteToHex[e0[r+12]]+byteToHex[e0[r+13]]+byteToHex[e0[r+14]]+byteToHex[e0[r+15]]).toLowerCase();if(!validate$1(t0))throw TypeError("Stringified UUID is invalid");return t0}var _nodeId,_clockseq,_lastMSecs=0,_lastNSecs=0;function v1(e0,r,t0){var n0=r&&t0||0,r0=r||new Array(16);e0=e0||{};var i0=e0.node||_nodeId,o0=e0.clockseq!==void 0?e0.clockseq:_clockseq;if(i0==null||o0==null){var s0=e0.random||(e0.rng||rng)();i0==null&&(i0=_nodeId=[s0[0]|1,s0[1],s0[2],s0[3],s0[4],s0[5]]),o0==null&&(o0=_clockseq=(s0[6]<<8|s0[7])&16383)}var a0=e0.msecs!==void 0?e0.msecs:Date.now(),c0=e0.nsecs!==void 0?e0.nsecs:_lastNSecs+1,l0=a0-_lastMSecs+(c0-_lastNSecs)/1e4;if(l0<0&&e0.clockseq===void 0&&(o0=o0+1&16383),(l0<0||a0>_lastMSecs)&&e0.nsecs===void 0&&(c0=0),c0>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");_lastMSecs=a0,_lastNSecs=c0,_clockseq=o0,a0+=122192928e5;var u0=((a0&268435455)*1e4+c0)%4294967296;r0[n0++]=u0>>>24&255,r0[n0++]=u0>>>16&255,r0[n0++]=u0>>>8&255,r0[n0++]=u0&255;var h0=a0/4294967296*1e4&268435455;r0[n0++]=h0>>>8&255,r0[n0++]=h0&255,r0[n0++]=h0>>>24&15|16,r0[n0++]=h0>>>16&255,r0[n0++]=o0>>>8|128,r0[n0++]=o0&255;for(var g0=0;g0<6;++g0)r0[n0+g0]=i0[g0];return r||stringify(r0)}function parse$1(e0){if(!validate$1(e0))throw TypeError("Invalid UUID");var r,t0=new Uint8Array(16);return t0[0]=(r=parseInt(e0.slice(0,8),16))>>>24,t0[1]=r>>>16&255,t0[2]=r>>>8&255,t0[3]=r&255,t0[4]=(r=parseInt(e0.slice(9,13),16))>>>8,t0[5]=r&255,t0[6]=(r=parseInt(e0.slice(14,18),16))>>>8,t0[7]=r&255,t0[8]=(r=parseInt(e0.slice(19,23),16))>>>8,t0[9]=r&255,t0[10]=(r=parseInt(e0.slice(24,36),16))/1099511627776&255,t0[11]=r/4294967296&255,t0[12]=r>>>24&255,t0[13]=r>>>16&255,t0[14]=r>>>8&255,t0[15]=r&255,t0}function stringToBytes(e0){e0=unescape(encodeURIComponent(e0));for(var r=[],t0=0;t0<e0.length;++t0)r.push(e0.charCodeAt(t0));return r}var DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",URL$1="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function v35(e0,r,t0){function n0(r0,i0,o0,s0){if(typeof r0=="string"&&(r0=stringToBytes(r0)),typeof i0=="string"&&(i0=parse$1(i0)),i0.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var a0=new Uint8Array(16+r0.length);if(a0.set(i0),a0.set(r0,i0.length),a0=t0(a0),a0[6]=a0[6]&15|r,a0[8]=a0[8]&63|128,o0){s0=s0||0;for(var c0=0;c0<16;++c0)o0[s0+c0]=a0[c0];return o0}return stringify(a0)}try{n0.name=e0}catch{}return n0.DNS=DNS,n0.URL=URL$1,n0}function md5(e0){if(typeof e0=="string"){var r=unescape(encodeURIComponent(e0));e0=new Uint8Array(r.length);for(var t0=0;t0<r.length;++t0)e0[t0]=r.charCodeAt(t0)}return md5ToHexEncodedArray(wordsToMd5(bytesToWords(e0),e0.length*8))}function md5ToHexEncodedArray(e0){for(var r=[],t0=e0.length*32,n0="0123456789abcdef",r0=0;r0<t0;r0+=8){var i0=e0[r0>>5]>>>r0%32&255,o0=parseInt(n0.charAt(i0>>>4&15)+n0.charAt(i0&15),16);r.push(o0)}return r}function getOutputLength(e0){return(e0+64>>>9<<4)+14+1}function wordsToMd5(e0,r){e0[r>>5]|=128<<r%32,e0[getOutputLength(r)-1]=r;for(var t0=1732584193,n0=-271733879,r0=-1732584194,i0=271733878,o0=0;o0<e0.length;o0+=16){var s0=t0,a0=n0,c0=r0,l0=i0;t0=md5ff(t0,n0,r0,i0,e0[o0],7,-680876936),i0=md5ff(i0,t0,n0,r0,e0[o0+1],12,-389564586),r0=md5ff(r0,i0,t0,n0,e0[o0+2],17,606105819),n0=md5ff(n0,r0,i0,t0,e0[o0+3],22,-1044525330),t0=md5ff(t0,n0,r0,i0,e0[o0+4],7,-176418897),i0=md5ff(i0,t0,n0,r0,e0[o0+5],12,1200080426),r0=md5ff(r0,i0,t0,n0,e0[o0+6],17,-1473231341),n0=md5ff(n0,r0,i0,t0,e0[o0+7],22,-45705983),t0=md5ff(t0,n0,r0,i0,e0[o0+8],7,1770035416),i0=md5ff(i0,t0,n0,r0,e0[o0+9],12,-1958414417),r0=md5ff(r0,i0,t0,n0,e0[o0+10],17,-42063),n0=md5ff(n0,r0,i0,t0,e0[o0+11],22,-1990404162),t0=md5ff(t0,n0,r0,i0,e0[o0+12],7,1804603682),i0=md5ff(i0,t0,n0,r0,e0[o0+13],12,-40341101),r0=md5ff(r0,i0,t0,n0,e0[o0+14],17,-1502002290),n0=md5ff(n0,r0,i0,t0,e0[o0+15],22,1236535329),t0=md5gg(t0,n0,r0,i0,e0[o0+1],5,-165796510),i0=md5gg(i0,t0,n0,r0,e0[o0+6],9,-1069501632),r0=md5gg(r0,i0,t0,n0,e0[o0+11],14,643717713),n0=md5gg(n0,r0,i0,t0,e0[o0],20,-373897302),t0=md5gg(t0,n0,r0,i0,e0[o0+5],5,-701558691),i0=md5gg(i0,t0,n0,r0,e0[o0+10],9,38016083),r0=md5gg(r0,i0,t0,n0,e0[o0+15],14,-660478335),n0=md5gg(n0,r0,i0,t0,e0[o0+4],20,-405537848),t0=md5gg(t0,n0,r0,i0,e0[o0+9],5,568446438),i0=md5gg(i0,t0,n0,r0,e0[o0+14],9,-1019803690),r0=md5gg(r0,i0,t0,n0,e0[o0+3],14,-187363961),n0=md5gg(n0,r0,i0,t0,e0[o0+8],20,1163531501),t0=md5gg(t0,n0,r0,i0,e0[o0+13],5,-1444681467),i0=md5gg(i0,t0,n0,r0,e0[o0+2],9,-51403784),r0=md5gg(r0,i0,t0,n0,e0[o0+7],14,1735328473),n0=md5gg(n0,r0,i0,t0,e0[o0+12],20,-1926607734),t0=md5hh(t0,n0,r0,i0,e0[o0+5],4,-378558),i0=md5hh(i0,t0,n0,r0,e0[o0+8],11,-2022574463),r0=md5hh(r0,i0,t0,n0,e0[o0+11],16,1839030562),n0=md5hh(n0,r0,i0,t0,e0[o0+14],23,-35309556),t0=md5hh(t0,n0,r0,i0,e0[o0+1],4,-1530992060),i0=md5hh(i0,t0,n0,r0,e0[o0+4],11,1272893353),r0=md5hh(r0,i0,t0,n0,e0[o0+7],16,-155497632),n0=md5hh(n0,r0,i0,t0,e0[o0+10],23,-1094730640),t0=md5hh(t0,n0,r0,i0,e0[o0+13],4,681279174),i0=md5hh(i0,t0,n0,r0,e0[o0],11,-358537222),r0=md5hh(r0,i0,t0,n0,e0[o0+3],16,-722521979),n0=md5hh(n0,r0,i0,t0,e0[o0+6],23,76029189),t0=md5hh(t0,n0,r0,i0,e0[o0+9],4,-640364487),i0=md5hh(i0,t0,n0,r0,e0[o0+12],11,-421815835),r0=md5hh(r0,i0,t0,n0,e0[o0+15],16,530742520),n0=md5hh(n0,r0,i0,t0,e0[o0+2],23,-995338651),t0=md5ii(t0,n0,r0,i0,e0[o0],6,-198630844),i0=md5ii(i0,t0,n0,r0,e0[o0+7],10,1126891415),r0=md5ii(r0,i0,t0,n0,e0[o0+14],15,-1416354905),n0=md5ii(n0,r0,i0,t0,e0[o0+5],21,-57434055),t0=md5ii(t0,n0,r0,i0,e0[o0+12],6,1700485571),i0=md5ii(i0,t0,n0,r0,e0[o0+3],10,-1894986606),r0=md5ii(r0,i0,t0,n0,e0[o0+10],15,-1051523),n0=md5ii(n0,r0,i0,t0,e0[o0+1],21,-2054922799),t0=md5ii(t0,n0,r0,i0,e0[o0+8],6,1873313359),i0=md5ii(i0,t0,n0,r0,e0[o0+15],10,-30611744),r0=md5ii(r0,i0,t0,n0,e0[o0+6],15,-1560198380),n0=md5ii(n0,r0,i0,t0,e0[o0+13],21,1309151649),t0=md5ii(t0,n0,r0,i0,e0[o0+4],6,-145523070),i0=md5ii(i0,t0,n0,r0,e0[o0+11],10,-1120210379),r0=md5ii(r0,i0,t0,n0,e0[o0+2],15,718787259),n0=md5ii(n0,r0,i0,t0,e0[o0+9],21,-343485551),t0=safeAdd(t0,s0),n0=safeAdd(n0,a0),r0=safeAdd(r0,c0),i0=safeAdd(i0,l0)}return[t0,n0,r0,i0]}function bytesToWords(e0){if(e0.length===0)return[];for(var r=e0.length*8,t0=new Uint32Array(getOutputLength(r)),n0=0;n0<r;n0+=8)t0[n0>>5]|=(e0[n0/8]&255)<<n0%32;return t0}function safeAdd(e0,r){var t0=(e0&65535)+(r&65535),n0=(e0>>16)+(r>>16)+(t0>>16);return n0<<16|t0&65535}function bitRotateLeft(e0,r){return e0<<r|e0>>>32-r}function md5cmn(e0,r,t0,n0,r0,i0){return safeAdd(bitRotateLeft(safeAdd(safeAdd(r,e0),safeAdd(n0,i0)),r0),t0)}function md5ff(e0,r,t0,n0,r0,i0,o0){return md5cmn(r&t0|~r&n0,e0,r,r0,i0,o0)}function md5gg(e0,r,t0,n0,r0,i0,o0){return md5cmn(r&n0|t0&~n0,e0,r,r0,i0,o0)}function md5hh(e0,r,t0,n0,r0,i0,o0){return md5cmn(r^t0^n0,e0,r,r0,i0,o0)}function md5ii(e0,r,t0,n0,r0,i0,o0){return md5cmn(t0^(r|~n0),e0,r,r0,i0,o0)}var v3=v35("v3",48,md5);const v3$1=v3;function v4(e0,r,t0){e0=e0||{};var n0=e0.random||(e0.rng||rng)();if(n0[6]=n0[6]&15|64,n0[8]=n0[8]&63|128,r){t0=t0||0;for(var r0=0;r0<16;++r0)r[t0+r0]=n0[r0];return r}return stringify(n0)}function f$1(e0,r,t0,n0){switch(e0){case 0:return r&t0^~r&n0;case 1:return r^t0^n0;case 2:return r&t0^r&n0^t0&n0;case 3:return r^t0^n0}}function ROTL(e0,r){return e0<<r|e0>>>32-r}function sha1(e0){var r=[1518500249,1859775393,2400959708,3395469782],t0=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e0=="string"){var n0=unescape(encodeURIComponent(e0));e0=[];for(var r0=0;r0<n0.length;++r0)e0.push(n0.charCodeAt(r0))}else Array.isArray(e0)||(e0=Array.prototype.slice.call(e0));e0.push(128);for(var i0=e0.length/4+2,o0=Math.ceil(i0/16),s0=new Array(o0),a0=0;a0<o0;++a0){for(var c0=new Uint32Array(16),l0=0;l0<16;++l0)c0[l0]=e0[a0*64+l0*4]<<24|e0[a0*64+l0*4+1]<<16|e0[a0*64+l0*4+2]<<8|e0[a0*64+l0*4+3];s0[a0]=c0}s0[o0-1][14]=(e0.length-1)*8/Math.pow(2,32),s0[o0-1][14]=Math.floor(s0[o0-1][14]),s0[o0-1][15]=(e0.length-1)*8&4294967295;for(var u0=0;u0<o0;++u0){for(var h0=new Uint32Array(80),g0=0;g0<16;++g0)h0[g0]=s0[u0][g0];for(var w0=16;w0<80;++w0)h0[w0]=ROTL(h0[w0-3]^h0[w0-8]^h0[w0-14]^h0[w0-16],1);for(var m0=t0[0],S0=t0[1],b0=t0[2],T0=t0[3],N0=t0[4],x0=0;x0<80;++x0){var k0=Math.floor(x0/20),B0=ROTL(m0,5)+f$1(k0,S0,b0,T0)+N0+r[k0]+h0[x0]>>>0;N0=T0,T0=b0,b0=ROTL(S0,30)>>>0,S0=m0,m0=B0}t0[0]=t0[0]+m0>>>0,t0[1]=t0[1]+S0>>>0,t0[2]=t0[2]+b0>>>0,t0[3]=t0[3]+T0>>>0,t0[4]=t0[4]+N0>>>0}return[t0[0]>>24&255,t0[0]>>16&255,t0[0]>>8&255,t0[0]&255,t0[1]>>24&255,t0[1]>>16&255,t0[1]>>8&255,t0[1]&255,t0[2]>>24&255,t0[2]>>16&255,t0[2]>>8&255,t0[2]&255,t0[3]>>24&255,t0[3]>>16&255,t0[3]>>8&255,t0[3]&255,t0[4]>>24&255,t0[4]>>16&255,t0[4]>>8&255,t0[4]&255]}var v5=v35("v5",80,sha1);const v5$1=v5,nil="00000000-0000-0000-0000-000000000000";function version(e0){if(!validate$1(e0))throw TypeError("Invalid UUID");return parseInt(e0.substr(14,1),16)}const esmBrowser=Object.freeze(Object.defineProperty({__proto__:null,NIL:nil,parse:parse$1,stringify,v1,v3:v3$1,v4,v5:v5$1,validate:validate$1,version},Symbol.toStringTag,{value:"Module"})),PACKET_TYPES=Object.create(null);PACKET_TYPES.open="0";PACKET_TYPES.close="1";PACKET_TYPES.ping="2";PACKET_TYPES.pong="3";PACKET_TYPES.message="4";PACKET_TYPES.upgrade="5";PACKET_TYPES.noop="6";const PACKET_TYPES_REVERSE=Object.create(null);Object.keys(PACKET_TYPES).forEach(e0=>{PACKET_TYPES_REVERSE[PACKET_TYPES[e0]]=e0});const ERROR_PACKET={type:"error",data:"parser error"},withNativeBlob$1=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",withNativeArrayBuffer$2=typeof ArrayBuffer=="function",isView$1=e0=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e0):e0&&e0.buffer instanceof ArrayBuffer,encodePacket=({type:e0,data:r},t0,n0)=>withNativeBlob$1&&r instanceof Blob?t0?n0(r):encodeBlobAsBase64(r,n0):withNativeArrayBuffer$2&&(r instanceof ArrayBuffer||isView$1(r))?t0?n0(r):encodeBlobAsBase64(new Blob([r]),n0):n0(PACKET_TYPES[e0]+(r||"")),encodeBlobAsBase64=(e0,r)=>{const t0=new FileReader;return t0.onload=function(){const n0=t0.result.split(",")[1];r("b"+(n0||""))},t0.readAsDataURL(e0)};function toArray(e0){return e0 instanceof Uint8Array?e0:e0 instanceof ArrayBuffer?new Uint8Array(e0):new Uint8Array(e0.buffer,e0.byteOffset,e0.byteLength)}let TEXT_ENCODER;function encodePacketToBinary(e0,r){if(withNativeBlob$1&&e0.data instanceof Blob)return e0.data.arrayBuffer().then(toArray).then(r);if(withNativeArrayBuffer$2&&(e0.data instanceof ArrayBuffer||isView$1(e0.data)))return r(toArray(e0.data));encodePacket(e0,!1,t0=>{TEXT_ENCODER||(TEXT_ENCODER=new TextEncoder),r(TEXT_ENCODER.encode(t0))})}const chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$2=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e0=0;e0<chars.length;e0++)lookup$2[chars.charCodeAt(e0)]=e0;const decode$1=e0=>{let r=e0.length*.75,t0=e0.length,n0,r0=0,i0,o0,s0,a0;e0[e0.length-1]==="="&&(r--,e0[e0.length-2]==="="&&r--);const c0=new ArrayBuffer(r),l0=new Uint8Array(c0);for(n0=0;n0<t0;n0+=4)i0=lookup$2[e0.charCodeAt(n0)],o0=lookup$2[e0.charCodeAt(n0+1)],s0=lookup$2[e0.charCodeAt(n0+2)],a0=lookup$2[e0.charCodeAt(n0+3)],l0[r0++]=i0<<2|o0>>4,l0[r0++]=(o0&15)<<4|s0>>2,l0[r0++]=(s0&3)<<6|a0&63;return c0},withNativeArrayBuffer$1=typeof ArrayBuffer=="function",decodePacket=(e0,r)=>{if(typeof e0!="string")return{type:"message",data:mapBinary(e0,r)};const t0=e0.charAt(0);return t0==="b"?{type:"message",data:decodeBase64Packet(e0.substring(1),r)}:PACKET_TYPES_REVERSE[t0]?e0.length>1?{type:PACKET_TYPES_REVERSE[t0],data:e0.substring(1)}:{type:PACKET_TYPES_REVERSE[t0]}:ERROR_PACKET},decodeBase64Packet=(e0,r)=>{if(withNativeArrayBuffer$1){const t0=decode$1(e0);return mapBinary(t0,r)}else return{base64:!0,data:e0}},mapBinary=(e0,r)=>{switch(r){case"blob":return e0 instanceof Blob?e0:new Blob([e0]);case"arraybuffer":default:return e0 instanceof ArrayBuffer?e0:e0.buffer}},SEPARATOR=String.fromCharCode(30),encodePayload=(e0,r)=>{const t0=e0.length,n0=new Array(t0);let r0=0;e0.forEach((i0,o0)=>{encodePacket(i0,!1,s0=>{n0[o0]=s0,++r0===t0&&r(n0.join(SEPARATOR))})})},decodePayload=(e0,r)=>{const t0=e0.split(SEPARATOR),n0=[];for(let r0=0;r0<t0.length;r0++){const i0=decodePacket(t0[r0],r);if(n0.push(i0),i0.type==="error")break}return n0};function createPacketEncoderStream(){return new TransformStream({transform(e0,r){encodePacketToBinary(e0,t0=>{const n0=t0.length;let r0;if(n0<126)r0=new Uint8Array(1),new DataView(r0.buffer).setUint8(0,n0);else if(n0<65536){r0=new Uint8Array(3);const i0=new DataView(r0.buffer);i0.setUint8(0,126),i0.setUint16(1,n0)}else{r0=new Uint8Array(9);const i0=new DataView(r0.buffer);i0.setUint8(0,127),i0.setBigUint64(1,BigInt(n0))}e0.data&&typeof e0.data!="string"&&(r0[0]|=128),r.enqueue(r0),r.enqueue(t0)})}})}let TEXT_DECODER;function totalLength(e0){return e0.reduce((r,t0)=>r+t0.length,0)}function concatChunks(e0,r){if(e0[0].length===r)return e0.shift();const t0=new Uint8Array(r);let n0=0;for(let r0=0;r0<r;r0++)t0[r0]=e0[0][n0++],n0===e0[0].length&&(e0.shift(),n0=0);return e0.length&&n0<e0[0].length&&(e0[0]=e0[0].slice(n0)),t0}function createPacketDecoderStream(e0,r){TEXT_DECODER||(TEXT_DECODER=new TextDecoder);const t0=[];let n0=0,r0=-1,i0=!1;return new TransformStream({transform(o0,s0){for(t0.push(o0);;){if(n0===0){if(totalLength(t0)<1)break;const a0=concatChunks(t0,1);i0=(a0[0]&128)===128,r0=a0[0]&127,r0<126?n0=3:r0===126?n0=1:n0=2}else if(n0===1){if(totalLength(t0)<2)break;const a0=concatChunks(t0,2);r0=new DataView(a0.buffer,a0.byteOffset,a0.length).getUint16(0),n0=3}else if(n0===2){if(totalLength(t0)<8)break;const a0=concatChunks(t0,8),c0=new DataView(a0.buffer,a0.byteOffset,a0.length),l0=c0.getUint32(0);if(l0>Math.pow(2,53-32)-1){s0.enqueue(ERROR_PACKET);break}r0=l0*Math.pow(2,32)+c0.getUint32(4),n0=3}else{if(totalLength(t0)<r0)break;const a0=concatChunks(t0,r0);s0.enqueue(decodePacket(i0?a0:TEXT_DECODER.decode(a0),r)),n0=0}if(r0===0||r0>e0){s0.enqueue(ERROR_PACKET);break}}}})}const protocol$1=4;function Emitter(e0){if(e0)return mixin(e0)}function mixin(e0){for(var r in Emitter.prototype)e0[r]=Emitter.prototype[r];return e0}Emitter.prototype.on=Emitter.prototype.addEventListener=function(e0,r){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e0]=this._callbacks["$"+e0]||[]).push(r),this};Emitter.prototype.once=function(e0,r){function t0(){this.off(e0,t0),r.apply(this,arguments)}return t0.fn=r,this.on(e0,t0),this};Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(e0,r){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t0=this._callbacks["$"+e0];if(!t0)return this;if(arguments.length==1)return delete this._callbacks["$"+e0],this;for(var n0,r0=0;r0<t0.length;r0++)if(n0=t0[r0],n0===r||n0.fn===r){t0.splice(r0,1);break}return t0.length===0&&delete this._callbacks["$"+e0],this};Emitter.prototype.emit=function(e0){this._callbacks=this._callbacks||{};for(var r=new Array(arguments.length-1),t0=this._callbacks["$"+e0],n0=1;n0<arguments.length;n0++)r[n0-1]=arguments[n0];if(t0){t0=t0.slice(0);for(var n0=0,r0=t0.length;n0<r0;++n0)t0[n0].apply(this,r)}return this};Emitter.prototype.emitReserved=Emitter.prototype.emit;Emitter.prototype.listeners=function(e0){return this._callbacks=this._callbacks||{},this._callbacks["$"+e0]||[]};Emitter.prototype.hasListeners=function(e0){return!!this.listeners(e0).length};const nextTick=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?r=>Promise.resolve().then(r):(r,t0)=>t0(r,0))(),globalThisShim=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())(),defaultBinaryType="arraybuffer";function createCookieJar(){}function pick(e0,...r){return r.reduce((t0,n0)=>(e0.hasOwnProperty(n0)&&(t0[n0]=e0[n0]),t0),{})}const NATIVE_SET_TIMEOUT=globalThisShim.setTimeout,NATIVE_CLEAR_TIMEOUT=globalThisShim.clearTimeout;function installTimerFunctions(e0,r){r.useNativeTimers?(e0.setTimeoutFn=NATIVE_SET_TIMEOUT.bind(globalThisShim),e0.clearTimeoutFn=NATIVE_CLEAR_TIMEOUT.bind(globalThisShim)):(e0.setTimeoutFn=globalThisShim.setTimeout.bind(globalThisShim),e0.clearTimeoutFn=globalThisShim.clearTimeout.bind(globalThisShim))}const BASE64_OVERHEAD=1.33;function byteLength$1(e0){return typeof e0=="string"?utf8Length(e0):Math.ceil((e0.byteLength||e0.size)*BASE64_OVERHEAD)}function utf8Length(e0){let r=0,t0=0;for(let n0=0,r0=e0.length;n0<r0;n0++)r=e0.charCodeAt(n0),r<128?t0+=1:r<2048?t0+=2:r<55296||r>=57344?t0+=3:(n0++,t0+=4);return t0}function randomString(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function encode(e0){let r="";for(let t0 in e0)e0.hasOwnProperty(t0)&&(r.length&&(r+="&"),r+=encodeURIComponent(t0)+"="+encodeURIComponent(e0[t0]));return r}function decode(e0){let r={},t0=e0.split("&");for(let n0=0,r0=t0.length;n0<r0;n0++){let i0=t0[n0].split("=");r[decodeURIComponent(i0[0])]=decodeURIComponent(i0[1])}return r}class TransportError extends Error{constructor(r,t0,n0){super(r),this.description=t0,this.context=n0,this.type="TransportError"}}class Transport extends Emitter{constructor(r){super(),this.writable=!1,installTimerFunctions(this,r),this.opts=r,this.query=r.query,this.socket=r.socket,this.supportsBinary=!r.forceBase64}onError(r,t0,n0){return super.emitReserved("error",new TransportError(r,t0,n0)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(r){this.readyState==="open"&&this.write(r)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(r){const t0=decodePacket(r,this.socket.binaryType);this.onPacket(t0)}onPacket(r){super.emitReserved("packet",r)}onClose(r){this.readyState="closed",super.emitReserved("close",r)}pause(r){}createUri(r,t0={}){return r+"://"+this._hostname()+this._port()+this.opts.path+this._query(t0)}_hostname(){const r=this.opts.hostname;return r.indexOf(":")===-1?r:"["+r+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(r){const t0=encode(r);return t0.length?"?"+t0:""}}class Polling extends Transport{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(r){this.readyState="pausing";const t0=()=>{this.readyState="paused",r()};if(this._polling||!this.writable){let n0=0;this._polling&&(n0++,this.once("pollComplete",function(){--n0||t0()})),this.writable||(n0++,this.once("drain",function(){--n0||t0()}))}else t0()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(r){const t0=n0=>{if(this.readyState==="opening"&&n0.type==="open"&&this.onOpen(),n0.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n0)};decodePayload(r,this.socket.binaryType).forEach(t0),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const r=()=>{this.write([{type:"close"}])};this.readyState==="open"?r():this.once("open",r)}write(r){this.writable=!1,encodePayload(r,t0=>{this.doWrite(t0,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const r=this.opts.secure?"https":"http",t0=this.query||{};return this.opts.timestampRequests!==!1&&(t0[this.opts.timestampParam]=randomString()),!this.supportsBinary&&!t0.sid&&(t0.b64=1),this.createUri(r,t0)}}let value=!1;try{value=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch(e0){}const hasCORS=value;function empty(){}class BaseXHR extends Polling{constructor(r){if(super(r),typeof location<"u"){const t0=location.protocol==="https:";let n0=location.port;n0||(n0=t0?"443":"80"),this.xd=typeof location<"u"&&r.hostname!==location.hostname||n0!==r.port}}doWrite(r,t0){const n0=this.request({method:"POST",data:r});n0.on("success",t0),n0.on("error",(r0,i0)=>{this.onError("xhr post error",r0,i0)})}doPoll(){const r=this.request();r.on("data",this.onData.bind(this)),r.on("error",(t0,n0)=>{this.onError("xhr poll error",t0,n0)}),this.pollXhr=r}}class Request extends Emitter{constructor(r,t0,n0){super(),this.createRequest=r,installTimerFunctions(this,n0),this._opts=n0,this._method=n0.method||"GET",this._uri=t0,this._data=n0.data!==void 0?n0.data:null,this._create()}_create(){var r;const t0=pick(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t0.xdomain=!!this._opts.xd;const n0=this._xhr=this.createRequest(t0);try{n0.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n0.setDisableHeaderCheck&&n0.setDisableHeaderCheck(!0);for(let r0 in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(r0)&&n0.setRequestHeader(r0,this._opts.extraHeaders[r0])}}catch{}if(this._method==="POST")try{n0.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n0.setRequestHeader("Accept","*/*")}catch{}(r=this._opts.cookieJar)===null||r===void 0||r.addCookies(n0),"withCredentials"in n0&&(n0.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n0.timeout=this._opts.requestTimeout),n0.onreadystatechange=()=>{var r0;n0.readyState===3&&((r0=this._opts.cookieJar)===null||r0===void 0||r0.parseCookies(n0.getResponseHeader("set-cookie"))),n0.readyState===4&&(n0.status===200||n0.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n0.status=="number"?n0.status:0)},0))},n0.send(this._data)}catch(r0){this.setTimeoutFn(()=>{this._onError(r0)},0);return}typeof document<"u"&&(this._index=Request.requestsCount++,Request.requests[this._index]=this)}_onError(r){this.emitReserved("error",r,this._xhr),this._cleanup(!0)}_cleanup(r){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=empty,r)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Request.requests[this._index],this._xhr=null}}_onLoad(){const r=this._xhr.responseText;r!==null&&(this.emitReserved("data",r),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Request.requestsCount=0;Request.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",unloadHandler);else if(typeof addEventListener=="function"){const e0="onpagehide"in globalThisShim?"pagehide":"unload";addEventListener(e0,unloadHandler,!1)}}function unloadHandler(){for(let e0 in Request.requests)Request.requests.hasOwnProperty(e0)&&Request.requests[e0].abort()}const hasXHR2=function(){const e0=newRequest({xdomain:!1});return e0&&e0.responseType!==null}();class XHR extends BaseXHR{constructor(r){super(r);const t0=r&&r.forceBase64;this.supportsBinary=hasXHR2&&!t0}request(r={}){return Object.assign(r,{xd:this.xd},this.opts),new Request(newRequest,this.uri(),r)}}function newRequest(e0){const r=e0.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!r||hasCORS))return new XMLHttpRequest}catch{}if(!r)try{return new globalThisShim[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const isReactNative=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class BaseWS extends Transport{get name(){return"websocket"}doOpen(){const r=this.uri(),t0=this.opts.protocols,n0=isReactNative?{}:pick(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n0.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(r,t0,n0)}catch(r0){return this.emitReserved("error",r0)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=r=>this.onClose({description:"websocket connection closed",context:r}),this.ws.onmessage=r=>this.onData(r.data),this.ws.onerror=r=>this.onError("websocket error",r)}write(r){this.writable=!1;for(let t0=0;t0<r.length;t0++){const n0=r[t0],r0=t0===r.length-1;encodePacket(n0,this.supportsBinary,i0=>{try{this.doWrite(n0,i0)}catch{}r0&&nextTick(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const r=this.opts.secure?"wss":"ws",t0=this.query||{};return this.opts.timestampRequests&&(t0[this.opts.timestampParam]=randomString()),this.supportsBinary||(t0.b64=1),this.createUri(r,t0)}}const WebSocketCtor=globalThisShim.WebSocket||globalThisShim.MozWebSocket;class WS extends BaseWS{createSocket(r,t0,n0){return isReactNative?new WebSocketCtor(r,t0,n0):t0?new WebSocketCtor(r,t0):new WebSocketCtor(r)}doWrite(r,t0){this.ws.send(t0)}}class WT extends Transport{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(r){return this.emitReserved("error",r)}this._transport.closed.then(()=>{this.onClose()}).catch(r=>{this.onError("webtransport error",r)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(r=>{const t0=createPacketDecoderStream(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n0=r.readable.pipeThrough(t0).getReader(),r0=createPacketEncoderStream();r0.readable.pipeTo(r.writable),this._writer=r0.writable.getWriter();const i0=()=>{n0.read().then(({done:s0,value:a0})=>{s0||(this.onPacket(a0),i0())}).catch(s0=>{})};i0();const o0={type:"open"};this.query.sid&&(o0.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o0).then(()=>this.onOpen())})})}write(r){this.writable=!1;for(let t0=0;t0<r.length;t0++){const n0=r[t0],r0=t0===r.length-1;this._writer.write(n0).then(()=>{r0&&nextTick(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var r;(r=this._transport)===null||r===void 0||r.close()}}const transports={websocket:WS,webtransport:WT,polling:XHR},re$2=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,parts=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function parse(e0){if(e0.length>8e3)throw"URI too long";const r=e0,t0=e0.indexOf("["),n0=e0.indexOf("]");t0!=-1&&n0!=-1&&(e0=e0.substring(0,t0)+e0.substring(t0,n0).replace(/:/g,";")+e0.substring(n0,e0.length));let r0=re$2.exec(e0||""),i0={},o0=14;for(;o0--;)i0[parts[o0]]=r0[o0]||"";return t0!=-1&&n0!=-1&&(i0.source=r,i0.host=i0.host.substring(1,i0.host.length-1).replace(/;/g,":"),i0.authority=i0.authority.replace("[","").replace("]","").replace(/;/g,":"),i0.ipv6uri=!0),i0.pathNames=pathNames(i0,i0.path),i0.queryKey=queryKey(i0,i0.query),i0}function pathNames(e0,r){const t0=/\/{2,9}/g,n0=r.replace(t0,"/").split("/");return(r.slice(0,1)=="/"||r.length===0)&&n0.splice(0,1),r.slice(-1)=="/"&&n0.splice(n0.length-1,1),n0}function queryKey(e0,r){const t0={};return r.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n0,r0,i0){r0&&(t0[r0]=i0)}),t0}const withEventListeners=typeof addEventListener=="function"&&typeof removeEventListener=="function",OFFLINE_EVENT_LISTENERS=[];withEventListeners&&addEventListener("offline",()=>{OFFLINE_EVENT_LISTENERS.forEach(e0=>e0())},!1);class SocketWithoutUpgrade extends Emitter{constructor(r,t0){if(super(),this.binaryType=defaultBinaryType,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,r&&typeof r=="object"&&(t0=r,r=null),r){const n0=parse(r);t0.hostname=n0.host,t0.secure=n0.protocol==="https"||n0.protocol==="wss",t0.port=n0.port,n0.query&&(t0.query=n0.query)}else t0.host&&(t0.hostname=parse(t0.host).host);installTimerFunctions(this,t0),this.secure=t0.secure!=null?t0.secure:typeof location<"u"&&location.protocol==="https:",t0.hostname&&!t0.port&&(t0.port=this.secure?"443":"80"),this.hostname=t0.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t0.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t0.transports.forEach(n0=>{const r0=n0.prototype.name;this.transports.push(r0),this._transportsByName[r0]=n0}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t0),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=decode(this.opts.query)),withEventListeners&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},OFFLINE_EVENT_LISTENERS.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(r){const t0=Object.assign({},this.opts.query);t0.EIO=protocol$1,t0.transport=r,this.id&&(t0.sid=this.id);const n0=Object.assign({},this.opts,{query:t0,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[r]);return new this._transportsByName[r](n0)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const r=this.opts.rememberUpgrade&&SocketWithoutUpgrade.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const t0=this.createTransport(r);t0.open(),this.setTransport(t0)}setTransport(r){this.transport&&this.transport.removeAllListeners(),this.transport=r,r.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",t0=>this._onClose("transport close",t0))}onOpen(){this.readyState="open",SocketWithoutUpgrade.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",r),this.emitReserved("heartbeat"),r.type){case"open":this.onHandshake(JSON.parse(r.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t0=new Error("server error");t0.code=r.data,this._onError(t0);break;case"message":this.emitReserved("data",r.data),this.emitReserved("message",r.data);break}}onHandshake(r){this.emitReserved("handshake",r),this.id=r.sid,this.transport.query.sid=r.sid,this._pingInterval=r.pingInterval,this._pingTimeout=r.pingTimeout,this._maxPayload=r.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const r=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+r,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},r),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const r=this._getWritablePackets();this.transport.send(r),this._prevBufferLen=r.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t0=1;for(let n0=0;n0<this.writeBuffer.length;n0++){const r0=this.writeBuffer[n0].data;if(r0&&(t0+=byteLength$1(r0)),n0>0&&t0>this._maxPayload)return this.writeBuffer.slice(0,n0);t0+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const r=Date.now()>this._pingTimeoutTime;return r&&(this._pingTimeoutTime=0,nextTick(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),r}write(r,t0,n0){return this._sendPacket("message",r,t0,n0),this}send(r,t0,n0){return this._sendPacket("message",r,t0,n0),this}_sendPacket(r,t0,n0,r0){if(typeof t0=="function"&&(r0=t0,t0=void 0),typeof n0=="function"&&(r0=n0,n0=null),this.readyState==="closing"||this.readyState==="closed")return;n0=n0||{},n0.compress=n0.compress!==!1;const i0={type:r,data:t0,options:n0};this.emitReserved("packetCreate",i0),this.writeBuffer.push(i0),r0&&this.once("flush",r0),this.flush()}close(){const r=()=>{this._onClose("forced close"),this.transport.close()},t0=()=>{this.off("upgrade",t0),this.off("upgradeError",t0),r()},n0=()=>{this.once("upgrade",t0),this.once("upgradeError",t0)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n0():r()}):this.upgrading?n0():r()),this}_onError(r){if(SocketWithoutUpgrade.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",r),this._onClose("transport error",r)}_onClose(r,t0){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),withEventListeners&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n0=OFFLINE_EVENT_LISTENERS.indexOf(this._offlineEventListener);n0!==-1&&OFFLINE_EVENT_LISTENERS.splice(n0,1)}this.readyState="closed",this.id=null,this.emitReserved("close",r,t0),this.writeBuffer=[],this._prevBufferLen=0}}}SocketWithoutUpgrade.protocol=protocol$1;class SocketWithUpgrade extends SocketWithoutUpgrade{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let r=0;r<this._upgrades.length;r++)this._probe(this._upgrades[r])}_probe(r){let t0=this.createTransport(r),n0=!1;SocketWithoutUpgrade.priorWebsocketSuccess=!1;const r0=()=>{n0||(t0.send([{type:"ping",data:"probe"}]),t0.once("packet",u0=>{if(!n0)if(u0.type==="pong"&&u0.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t0),!t0)return;SocketWithoutUpgrade.priorWebsocketSuccess=t0.name==="websocket",this.transport.pause(()=>{n0||this.readyState!=="closed"&&(l0(),this.setTransport(t0),t0.send([{type:"upgrade"}]),this.emitReserved("upgrade",t0),t0=null,this.upgrading=!1,this.flush())})}else{const h0=new Error("probe error");h0.transport=t0.name,this.emitReserved("upgradeError",h0)}}))};function i0(){n0||(n0=!0,l0(),t0.close(),t0=null)}const o0=u0=>{const h0=new Error("probe error: "+u0);h0.transport=t0.name,i0(),this.emitReserved("upgradeError",h0)};function s0(){o0("transport closed")}function a0(){o0("socket closed")}function c0(u0){t0&&u0.name!==t0.name&&i0()}const l0=()=>{t0.removeListener("open",r0),t0.removeListener("error",o0),t0.removeListener("close",s0),this.off("close",a0),this.off("upgrading",c0)};t0.once("open",r0),t0.once("error",o0),t0.once("close",s0),this.once("close",a0),this.once("upgrading",c0),this._upgrades.indexOf("webtransport")!==-1&&r!=="webtransport"?this.setTimeoutFn(()=>{n0||t0.open()},200):t0.open()}onHandshake(r){this._upgrades=this._filterUpgrades(r.upgrades),super.onHandshake(r)}_filterUpgrades(r){const t0=[];for(let n0=0;n0<r.length;n0++)~this.transports.indexOf(r[n0])&&t0.push(r[n0]);return t0}}let Socket$1=class extends SocketWithUpgrade{constructor(r,t0={}){const n0=typeof r=="object"?r:t0;(!n0.transports||n0.transports&&typeof n0.transports[0]=="string")&&(n0.transports=(n0.transports||["polling","websocket","webtransport"]).map(r0=>transports[r0]).filter(r0=>!!r0)),super(r,n0)}};function url(e0,r="",t0){let n0=e0;t0=t0||typeof location<"u"&&location,e0==null&&(e0=t0.protocol+"//"+t0.host),typeof e0=="string"&&(e0.charAt(0)==="/"&&(e0.charAt(1)==="/"?e0=t0.protocol+e0:e0=t0.host+e0),/^(https?|wss?):\/\//.test(e0)||(typeof t0<"u"?e0=t0.protocol+"//"+e0:e0="https://"+e0),n0=parse(e0)),n0.port||(/^(http|ws)$/.test(n0.protocol)?n0.port="80":/^(http|ws)s$/.test(n0.protocol)&&(n0.port="443")),n0.path=n0.path||"/";const i0=n0.host.indexOf(":")!==-1?"["+n0.host+"]":n0.host;return n0.id=n0.protocol+"://"+i0+":"+n0.port+r,n0.href=n0.protocol+"://"+i0+(t0&&t0.port===n0.port?"":":"+n0.port),n0}const withNativeArrayBuffer=typeof ArrayBuffer=="function",isView=e0=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e0):e0.buffer instanceof ArrayBuffer,toString=Object.prototype.toString,withNativeBlob=typeof Blob=="function"||typeof Blob<"u"&&toString.call(Blob)==="[object BlobConstructor]",withNativeFile=typeof File=="function"||typeof File<"u"&&toString.call(File)==="[object FileConstructor]";function isBinary(e0){return withNativeArrayBuffer&&(e0 instanceof ArrayBuffer||isView(e0))||withNativeBlob&&e0 instanceof Blob||withNativeFile&&e0 instanceof File}function hasBinary(e0,r){if(!e0||typeof e0!="object")return!1;if(Array.isArray(e0)){for(let t0=0,n0=e0.length;t0<n0;t0++)if(hasBinary(e0[t0]))return!0;return!1}if(isBinary(e0))return!0;if(e0.toJSON&&typeof e0.toJSON=="function"&&arguments.length===1)return hasBinary(e0.toJSON(),!0);for(const t0 in e0)if(Object.prototype.hasOwnProperty.call(e0,t0)&&hasBinary(e0[t0]))return!0;return!1}function deconstructPacket(e0){const r=[],t0=e0.data,n0=e0;return n0.data=_deconstructPacket(t0,r),n0.attachments=r.length,{packet:n0,buffers:r}}function _deconstructPacket(e0,r){if(!e0)return e0;if(isBinary(e0)){const t0={_placeholder:!0,num:r.length};return r.push(e0),t0}else if(Array.isArray(e0)){const t0=new Array(e0.length);for(let n0=0;n0<e0.length;n0++)t0[n0]=_deconstructPacket(e0[n0],r);return t0}else if(typeof e0=="object"&&!(e0 instanceof Date)){const t0={};for(const n0 in e0)Object.prototype.hasOwnProperty.call(e0,n0)&&(t0[n0]=_deconstructPacket(e0[n0],r));return t0}return e0}function reconstructPacket(e0,r){return e0.data=_reconstructPacket(e0.data,r),delete e0.attachments,e0}function _reconstructPacket(e0,r){if(!e0)return e0;if(e0&&e0._placeholder===!0){if(typeof e0.num=="number"&&e0.num>=0&&e0.num<r.length)return r[e0.num];throw new Error("illegal attachments")}else if(Array.isArray(e0))for(let t0=0;t0<e0.length;t0++)e0[t0]=_reconstructPacket(e0[t0],r);else if(typeof e0=="object")for(const t0 in e0)Object.prototype.hasOwnProperty.call(e0,t0)&&(e0[t0]=_reconstructPacket(e0[t0],r));return e0}const RESERVED_EVENTS$1=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],protocol=5;var PacketType;(function(e0){e0[e0.CONNECT=0]="CONNECT",e0[e0.DISCONNECT=1]="DISCONNECT",e0[e0.EVENT=2]="EVENT",e0[e0.ACK=3]="ACK",e0[e0.CONNECT_ERROR=4]="CONNECT_ERROR",e0[e0.BINARY_EVENT=5]="BINARY_EVENT",e0[e0.BINARY_ACK=6]="BINARY_ACK"})(PacketType||(PacketType={}));class Encoder{constructor(r){this.replacer=r}encode(r){return(r.type===PacketType.EVENT||r.type===PacketType.ACK)&&hasBinary(r)?this.encodeAsBinary({type:r.type===PacketType.EVENT?PacketType.BINARY_EVENT:PacketType.BINARY_ACK,nsp:r.nsp,data:r.data,id:r.id}):[this.encodeAsString(r)]}encodeAsString(r){let t0=""+r.type;return(r.type===PacketType.BINARY_EVENT||r.type===PacketType.BINARY_ACK)&&(t0+=r.attachments+"-"),r.nsp&&r.nsp!=="/"&&(t0+=r.nsp+","),r.id!=null&&(t0+=r.id),r.data!=null&&(t0+=JSON.stringify(r.data,this.replacer)),t0}encodeAsBinary(r){const t0=deconstructPacket(r),n0=this.encodeAsString(t0.packet),r0=t0.buffers;return r0.unshift(n0),r0}}function isObject$1(e0){return Object.prototype.toString.call(e0)==="[object Object]"}class Decoder extends Emitter{constructor(r){super(),this.reviver=r}add(r){let t0;if(typeof r=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t0=this.decodeString(r);const n0=t0.type===PacketType.BINARY_EVENT;n0||t0.type===PacketType.BINARY_ACK?(t0.type=n0?PacketType.EVENT:PacketType.ACK,this.reconstructor=new BinaryReconstructor(t0),t0.attachments===0&&super.emitReserved("decoded",t0)):super.emitReserved("decoded",t0)}else if(isBinary(r)||r.base64)if(this.reconstructor)t0=this.reconstructor.takeBinaryData(r),t0&&(this.reconstructor=null,super.emitReserved("decoded",t0));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+r)}decodeString(r){let t0=0;const n0={type:Number(r.charAt(0))};if(PacketType[n0.type]===void 0)throw new Error("unknown packet type "+n0.type);if(n0.type===PacketType.BINARY_EVENT||n0.type===PacketType.BINARY_ACK){const i0=t0+1;for(;r.charAt(++t0)!=="-"&&t0!=r.length;);const o0=r.substring(i0,t0);if(o0!=Number(o0)||r.charAt(t0)!=="-")throw new Error("Illegal attachments");n0.attachments=Number(o0)}if(r.charAt(t0+1)==="/"){const i0=t0+1;for(;++t0&&!(r.charAt(t0)===","||t0===r.length););n0.nsp=r.substring(i0,t0)}else n0.nsp="/";const r0=r.charAt(t0+1);if(r0!==""&&Number(r0)==r0){const i0=t0+1;for(;++t0;){const o0=r.charAt(t0);if(o0==null||Number(o0)!=o0){--t0;break}if(t0===r.length)break}n0.id=Number(r.substring(i0,t0+1))}if(r.charAt(++t0)){const i0=this.tryParse(r.substr(t0));if(Decoder.isPayloadValid(n0.type,i0))n0.data=i0;else throw new Error("invalid payload")}return n0}tryParse(r){try{return JSON.parse(r,this.reviver)}catch{return!1}}static isPayloadValid(r,t0){switch(r){case PacketType.CONNECT:return isObject$1(t0);case PacketType.DISCONNECT:return t0===void 0;case PacketType.CONNECT_ERROR:return typeof t0=="string"||isObject$1(t0);case PacketType.EVENT:case PacketType.BINARY_EVENT:return Array.isArray(t0)&&(typeof t0[0]=="number"||typeof t0[0]=="string"&&RESERVED_EVENTS$1.indexOf(t0[0])===-1);case PacketType.ACK:case PacketType.BINARY_ACK:return Array.isArray(t0)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class BinaryReconstructor{constructor(r){this.packet=r,this.buffers=[],this.reconPack=r}takeBinaryData(r){if(this.buffers.push(r),this.buffers.length===this.reconPack.attachments){const t0=reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t0}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const parser=Object.freeze(Object.defineProperty({__proto__:null,Decoder,Encoder,get PacketType(){return PacketType},protocol},Symbol.toStringTag,{value:"Module"}));function on$1(e0,r,t0){return e0.on(r,t0),function(){e0.off(r,t0)}}const RESERVED_EVENTS=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Socket extends Emitter{constructor(r,t0,n0){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=r,this.nsp=t0,n0&&n0.auth&&(this.auth=n0.auth),this._opts=Object.assign({},n0),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const r=this.io;this.subs=[on$1(r,"open",this.onopen.bind(this)),on$1(r,"packet",this.onpacket.bind(this)),on$1(r,"error",this.onerror.bind(this)),on$1(r,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...r){return r.unshift("message"),this.emit.apply(this,r),this}emit(r,...t0){var n0,r0,i0;if(RESERVED_EVENTS.hasOwnProperty(r))throw new Error('"'+r.toString()+'" is a reserved event name');if(t0.unshift(r),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t0),this;const o0={type:PacketType.EVENT,data:t0};if(o0.options={},o0.options.compress=this.flags.compress!==!1,typeof t0[t0.length-1]=="function"){const l0=this.ids++,u0=t0.pop();this._registerAckCallback(l0,u0),o0.id=l0}const s0=(r0=(n0=this.io.engine)===null||n0===void 0?void 0:n0.transport)===null||r0===void 0?void 0:r0.writable,a0=this.connected&&!(!((i0=this.io.engine)===null||i0===void 0)&&i0._hasPingExpired());return this.flags.volatile&&!s0||(a0?(this.notifyOutgoingListeners(o0),this.packet(o0)):this.sendBuffer.push(o0)),this.flags={},this}_registerAckCallback(r,t0){var n0;const r0=(n0=this.flags.timeout)!==null&&n0!==void 0?n0:this._opts.ackTimeout;if(r0===void 0){this.acks[r]=t0;return}const i0=this.io.setTimeoutFn(()=>{delete this.acks[r];for(let s0=0;s0<this.sendBuffer.length;s0++)this.sendBuffer[s0].id===r&&this.sendBuffer.splice(s0,1);t0.call(this,new Error("operation has timed out"))},r0),o0=(...s0)=>{this.io.clearTimeoutFn(i0),t0.apply(this,s0)};o0.withError=!0,this.acks[r]=o0}emitWithAck(r,...t0){return new Promise((n0,r0)=>{const i0=(o0,s0)=>o0?r0(o0):n0(s0);i0.withError=!0,t0.push(i0),this.emit(r,...t0)})}_addToQueue(r){let t0;typeof r[r.length-1]=="function"&&(t0=r.pop());const n0={id:this._queueSeq++,tryCount:0,pending:!1,args:r,flags:Object.assign({fromQueue:!0},this.flags)};r.push((r0,...i0)=>n0!==this._queue[0]?void 0:(r0!==null?n0.tryCount>this._opts.retries&&(this._queue.shift(),t0&&t0(r0)):(this._queue.shift(),t0&&t0(null,...i0)),n0.pending=!1,this._drainQueue())),this._queue.push(n0),this._drainQueue()}_drainQueue(r=!1){if(!this.connected||this._queue.length===0)return;const t0=this._queue[0];t0.pending&&!r||(t0.pending=!0,t0.tryCount++,this.flags=t0.flags,this.emit.apply(this,t0.args))}packet(r){r.nsp=this.nsp,this.io._packet(r)}onopen(){typeof this.auth=="function"?this.auth(r=>{this._sendConnectPacket(r)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(r){this.packet({type:PacketType.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},r):r})}onerror(r){this.connected||this.emitReserved("connect_error",r)}onclose(r,t0){this.connected=!1,delete this.id,this.emitReserved("disconnect",r,t0),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(r=>{if(!this.sendBuffer.some(n0=>String(n0.id)===r)){const n0=this.acks[r];delete this.acks[r],n0.withError&&n0.call(this,new Error("socket has been disconnected"))}})}onpacket(r){if(r.nsp===this.nsp)switch(r.type){case PacketType.CONNECT:r.data&&r.data.sid?this.onconnect(r.data.sid,r.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case PacketType.EVENT:case PacketType.BINARY_EVENT:this.onevent(r);break;case PacketType.ACK:case PacketType.BINARY_ACK:this.onack(r);break;case PacketType.DISCONNECT:this.ondisconnect();break;case PacketType.CONNECT_ERROR:this.destroy();const n0=new Error(r.data.message);n0.data=r.data.data,this.emitReserved("connect_error",n0);break}}onevent(r){const t0=r.data||[];r.id!=null&&t0.push(this.ack(r.id)),this.connected?this.emitEvent(t0):this.receiveBuffer.push(Object.freeze(t0))}emitEvent(r){if(this._anyListeners&&this._anyListeners.length){const t0=this._anyListeners.slice();for(const n0 of t0)n0.apply(this,r)}super.emit.apply(this,r),this._pid&&r.length&&typeof r[r.length-1]=="string"&&(this._lastOffset=r[r.length-1])}ack(r){const t0=this;let n0=!1;return function(...r0){n0||(n0=!0,t0.packet({type:PacketType.ACK,id:r,data:r0}))}}onack(r){const t0=this.acks[r.id];typeof t0=="function"&&(delete this.acks[r.id],t0.withError&&r.data.unshift(null),t0.apply(this,r.data))}onconnect(r,t0){this.id=r,this.recovered=t0&&this._pid===t0,this._pid=t0,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(r=>this.emitEvent(r)),this.receiveBuffer=[],this.sendBuffer.forEach(r=>{this.notifyOutgoingListeners(r),this.packet(r)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(r=>r()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:PacketType.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(r){return this.flags.compress=r,this}get volatile(){return this.flags.volatile=!0,this}timeout(r){return this.flags.timeout=r,this}onAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(r),this}prependAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(r),this}offAny(r){if(!this._anyListeners)return this;if(r){const t0=this._anyListeners;for(let n0=0;n0<t0.length;n0++)if(r===t0[n0])return t0.splice(n0,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(r),this}prependAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(r),this}offAnyOutgoing(r){if(!this._anyOutgoingListeners)return this;if(r){const t0=this._anyOutgoingListeners;for(let n0=0;n0<t0.length;n0++)if(r===t0[n0])return t0.splice(n0,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(r){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t0=this._anyOutgoingListeners.slice();for(const n0 of t0)n0.apply(this,r.data)}}}function Backoff(e0){e0=e0||{},this.ms=e0.min||100,this.max=e0.max||1e4,this.factor=e0.factor||2,this.jitter=e0.jitter>0&&e0.jitter<=1?e0.jitter:0,this.attempts=0}Backoff.prototype.duration=function(){var e0=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var r=Math.random(),t0=Math.floor(r*this.jitter*e0);e0=Math.floor(r*10)&1?e0+t0:e0-t0}return Math.min(e0,this.max)|0};Backoff.prototype.reset=function(){this.attempts=0};Backoff.prototype.setMin=function(e0){this.ms=e0};Backoff.prototype.setMax=function(e0){this.max=e0};Backoff.prototype.setJitter=function(e0){this.jitter=e0};class Manager extends Emitter{constructor(r,t0){var n0;super(),this.nsps={},this.subs=[],r&&typeof r=="object"&&(t0=r,r=void 0),t0=t0||{},t0.path=t0.path||"/socket.io",this.opts=t0,installTimerFunctions(this,t0),this.reconnection(t0.reconnection!==!1),this.reconnectionAttempts(t0.reconnectionAttempts||1/0),this.reconnectionDelay(t0.reconnectionDelay||1e3),this.reconnectionDelayMax(t0.reconnectionDelayMax||5e3),this.randomizationFactor((n0=t0.randomizationFactor)!==null&&n0!==void 0?n0:.5),this.backoff=new Backoff({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t0.timeout==null?2e4:t0.timeout),this._readyState="closed",this.uri=r;const r0=t0.parser||parser;this.encoder=new r0.Encoder,this.decoder=new r0.Decoder,this._autoConnect=t0.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(r){return arguments.length?(this._reconnection=!!r,r||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(r){return r===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=r,this)}reconnectionDelay(r){var t0;return r===void 0?this._reconnectionDelay:(this._reconnectionDelay=r,(t0=this.backoff)===null||t0===void 0||t0.setMin(r),this)}randomizationFactor(r){var t0;return r===void 0?this._randomizationFactor:(this._randomizationFactor=r,(t0=this.backoff)===null||t0===void 0||t0.setJitter(r),this)}reconnectionDelayMax(r){var t0;return r===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=r,(t0=this.backoff)===null||t0===void 0||t0.setMax(r),this)}timeout(r){return arguments.length?(this._timeout=r,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(r){if(~this._readyState.indexOf("open"))return this;this.engine=new Socket$1(this.uri,this.opts);const t0=this.engine,n0=this;this._readyState="opening",this.skipReconnect=!1;const r0=on$1(t0,"open",function(){n0.onopen(),r&&r()}),i0=s0=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",s0),r?r(s0):this.maybeReconnectOnOpen()},o0=on$1(t0,"error",i0);if(this._timeout!==!1){const s0=this._timeout,a0=this.setTimeoutFn(()=>{r0(),i0(new Error("timeout")),t0.close()},s0);this.opts.autoUnref&&a0.unref(),this.subs.push(()=>{this.clearTimeoutFn(a0)})}return this.subs.push(r0),this.subs.push(o0),this}connect(r){return this.open(r)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const r=this.engine;this.subs.push(on$1(r,"ping",this.onping.bind(this)),on$1(r,"data",this.ondata.bind(this)),on$1(r,"error",this.onerror.bind(this)),on$1(r,"close",this.onclose.bind(this)),on$1(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(r){try{this.decoder.add(r)}catch(t0){this.onclose("parse error",t0)}}ondecoded(r){nextTick(()=>{this.emitReserved("packet",r)},this.setTimeoutFn)}onerror(r){this.emitReserved("error",r)}socket(r,t0){let n0=this.nsps[r];return n0?this._autoConnect&&!n0.active&&n0.connect():(n0=new Socket(this,r,t0),this.nsps[r]=n0),n0}_destroy(r){const t0=Object.keys(this.nsps);for(const n0 of t0)if(this.nsps[n0].active)return;this._close()}_packet(r){const t0=this.encoder.encode(r);for(let n0=0;n0<t0.length;n0++)this.engine.write(t0[n0],r.options)}cleanup(){this.subs.forEach(r=>r()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(r,t0){var n0;this.cleanup(),(n0=this.engine)===null||n0===void 0||n0.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",r,t0),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const r=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t0=this.backoff.duration();this._reconnecting=!0;const n0=this.setTimeoutFn(()=>{r.skipReconnect||(this.emitReserved("reconnect_attempt",r.backoff.attempts),!r.skipReconnect&&r.open(r0=>{r0?(r._reconnecting=!1,r.reconnect(),this.emitReserved("reconnect_error",r0)):r.onreconnect()}))},t0);this.opts.autoUnref&&n0.unref(),this.subs.push(()=>{this.clearTimeoutFn(n0)})}}onreconnect(){const r=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",r)}}const cache={};function lookup$1(e0,r){typeof e0=="object"&&(r=e0,e0=void 0),r=r||{};const t0=url(e0,r.path||"/socket.io"),n0=t0.source,r0=t0.id,i0=t0.path,o0=cache[r0]&&i0 in cache[r0].nsps,s0=r.forceNew||r["force new connection"]||r.multiplex===!1||o0;let a0;return s0?a0=new Manager(n0,r):(cache[r0]||(cache[r0]=new Manager(n0,r)),a0=cache[r0]),t0.query&&!r.query&&(r.query=t0.queryKey),a0.socket(t0.path,r)}Object.assign(lookup$1,{Manager,Socket,io:lookup$1,connect:lookup$1});function a(e0,r,t0,n0){return new(t0||(t0=Promise))(function(r0,i0){function o0(c0){try{a0(n0.next(c0))}catch(l0){i0(l0)}}function s0(c0){try{a0(n0.throw(c0))}catch(l0){i0(l0)}}function a0(c0){var l0;c0.done?r0(c0.value):(l0=c0.value,l0 instanceof t0?l0:new t0(function(u0){u0(l0)})).then(o0,s0)}a0((n0=n0.apply(e0,r||[])).next())})}var c=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{},l=[],d=[],u=typeof Uint8Array<"u"?Uint8Array:Array,h$1=!1;function f(){h$1=!0;for(var e0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0;r<64;++r)l[r]=e0[r],d[e0.charCodeAt(r)]=r;d["-".charCodeAt(0)]=62,d["_".charCodeAt(0)]=63}function p(e0,r,t0){for(var n0,r0,i0=[],o0=r;o0<t0;o0+=3)n0=(e0[o0]<<16)+(e0[o0+1]<<8)+e0[o0+2],i0.push(l[(r0=n0)>>18&63]+l[r0>>12&63]+l[r0>>6&63]+l[63&r0]);return i0.join("")}function g(e0){var r;h$1||f();for(var t0=e0.length,n0=t0%3,r0="",i0=[],o0=16383,s0=0,a0=t0-n0;s0<a0;s0+=o0)i0.push(p(e0,s0,s0+o0>a0?a0:s0+o0));return n0===1?(r=e0[t0-1],r0+=l[r>>2],r0+=l[r<<4&63],r0+="=="):n0===2&&(r=(e0[t0-2]<<8)+e0[t0-1],r0+=l[r>>10],r0+=l[r>>4&63],r0+=l[r<<2&63],r0+="="),i0.push(r0),i0.join("")}function m(e0,r,t0,n0,r0){var i0,o0,s0=8*r0-n0-1,a0=(1<<s0)-1,c0=a0>>1,l0=-7,u0=t0?r0-1:0,h0=t0?-1:1,g0=e0[r+u0];for(u0+=h0,i0=g0&(1<<-l0)-1,g0>>=-l0,l0+=s0;l0>0;i0=256*i0+e0[r+u0],u0+=h0,l0-=8);for(o0=i0&(1<<-l0)-1,i0>>=-l0,l0+=n0;l0>0;o0=256*o0+e0[r+u0],u0+=h0,l0-=8);if(i0===0)i0=1-c0;else{if(i0===a0)return o0?NaN:1/0*(g0?-1:1);o0+=Math.pow(2,n0),i0-=c0}return(g0?-1:1)*o0*Math.pow(2,i0-n0)}function y(e0,r,t0,n0,r0,i0){var o0,s0,a0,c0=8*i0-r0-1,l0=(1<<c0)-1,u0=l0>>1,h0=r0===23?Math.pow(2,-24)-Math.pow(2,-77):0,g0=n0?0:i0-1,w0=n0?1:-1,m0=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(s0=isNaN(r)?1:0,o0=l0):(o0=Math.floor(Math.log(r)/Math.LN2),r*(a0=Math.pow(2,-o0))<1&&(o0--,a0*=2),(r+=o0+u0>=1?h0/a0:h0*Math.pow(2,1-u0))*a0>=2&&(o0++,a0/=2),o0+u0>=l0?(s0=0,o0=l0):o0+u0>=1?(s0=(r*a0-1)*Math.pow(2,r0),o0+=u0):(s0=r*Math.pow(2,u0-1)*Math.pow(2,r0),o0=0));r0>=8;e0[t0+g0]=255&s0,g0+=w0,s0/=256,r0-=8);for(o0=o0<<r0|s0,c0+=r0;c0>0;e0[t0+g0]=255&o0,g0+=w0,o0/=256,c0-=8);e0[t0+g0-w0]|=128*m0}var v$1={}.toString,b=Array.isArray||function(e0){return v$1.call(e0)=="[object Array]"};_$1.TYPED_ARRAY_SUPPORT=c.TYPED_ARRAY_SUPPORT===void 0||c.TYPED_ARRAY_SUPPORT;var w=E();function E(){return _$1.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function S(e0,r){if(E()<r)throw new RangeError("Invalid typed array length");return _$1.TYPED_ARRAY_SUPPORT?(e0=new Uint8Array(r)).__proto__=_$1.prototype:(e0===null&&(e0=new _$1(r)),e0.length=r),e0}function _$1(e0,r,t0){if(!(_$1.TYPED_ARRAY_SUPPORT||this instanceof _$1))return new _$1(e0,r,t0);if(typeof e0=="number"){if(typeof r=="string")throw new Error("If encoding is specified then the first argument must be a string");return x(this,e0)}return C(this,e0,r,t0)}function C(e0,r,t0,n0){if(typeof r=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&r instanceof ArrayBuffer?function(r0,i0,o0,s0){if(i0.byteLength,o0<0||i0.byteLength<o0)throw new RangeError("'offset' is out of bounds");if(i0.byteLength<o0+(s0||0))throw new RangeError("'length' is out of bounds");return i0=o0===void 0&&s0===void 0?new Uint8Array(i0):s0===void 0?new Uint8Array(i0,o0):new Uint8Array(i0,o0,s0),_$1.TYPED_ARRAY_SUPPORT?(r0=i0).__proto__=_$1.prototype:r0=M(r0,i0),r0}(e0,r,t0,n0):typeof r=="string"?function(r0,i0,o0){if(typeof o0=="string"&&o0!==""||(o0="utf8"),!_$1.isEncoding(o0))throw new TypeError('"encoding" must be a valid string encoding');var s0=0|R$1(i0,o0);r0=S(r0,s0);var a0=r0.write(i0,o0);return a0!==s0&&(r0=r0.slice(0,a0)),r0}(e0,r,t0):function(r0,i0){if(I$1(i0)){var o0=0|A$1(i0.length);return(r0=S(r0,o0)).length===0||i0.copy(r0,0,0,o0),r0}if(i0){if(typeof ArrayBuffer<"u"&&i0.buffer instanceof ArrayBuffer||"length"in i0)return typeof i0.length!="number"||(s0=i0.length)!=s0?S(r0,0):M(r0,i0);if(i0.type==="Buffer"&&b(i0.data))return M(r0,i0.data)}var s0;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e0,r)}function k(e0){if(typeof e0!="number")throw new TypeError('"size" argument must be a number');if(e0<0)throw new RangeError('"size" argument must not be negative')}function x(e0,r){if(k(r),e0=S(e0,r<0?0:0|A$1(r)),!_$1.TYPED_ARRAY_SUPPORT)for(var t0=0;t0<r;++t0)e0[t0]=0;return e0}function M(e0,r){var t0=r.length<0?0:0|A$1(r.length);e0=S(e0,t0);for(var n0=0;n0<t0;n0+=1)e0[n0]=255&r[n0];return e0}function A$1(e0){if(e0>=E())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+E().toString(16)+" bytes");return 0|e0}function I$1(e0){return!(e0==null||!e0._isBuffer)}function R$1(e0,r){if(I$1(e0))return e0.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(e0)||e0 instanceof ArrayBuffer))return e0.byteLength;typeof e0!="string"&&(e0=""+e0);var t0=e0.length;if(t0===0)return 0;for(var n0=!1;;)switch(r){case"ascii":case"latin1":case"binary":return t0;case"utf8":case"utf-8":case void 0:return re$1(e0).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*t0;case"hex":return t0>>>1;case"base64":return ie$1(e0).length;default:if(n0)return re$1(e0).length;r=(""+r).toLowerCase(),n0=!0}}function P(e0,r,t0){var n0=!1;if((r===void 0||r<0)&&(r=0),r>this.length||((t0===void 0||t0>this.length)&&(t0=this.length),t0<=0)||(t0>>>=0)<=(r>>>=0))return"";for(e0||(e0="utf8");;)switch(e0){case"hex":return W(this,r,t0);case"utf8":case"utf-8":return H$1(this,r,t0);case"ascii":return z(this,r,t0);case"latin1":case"binary":return q(this,r,t0);case"base64":return U$1(this,r,t0);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V$1(this,r,t0);default:if(n0)throw new TypeError("Unknown encoding: "+e0);e0=(e0+"").toLowerCase(),n0=!0}}function T$1(e0,r,t0){var n0=e0[r];e0[r]=e0[t0],e0[t0]=n0}function O(e0,r,t0,n0,r0){if(e0.length===0)return-1;if(typeof t0=="string"?(n0=t0,t0=0):t0>2147483647?t0=2147483647:t0<-2147483648&&(t0=-2147483648),t0=+t0,isNaN(t0)&&(t0=r0?0:e0.length-1),t0<0&&(t0=e0.length+t0),t0>=e0.length){if(r0)return-1;t0=e0.length-1}else if(t0<0){if(!r0)return-1;t0=0}if(typeof r=="string"&&(r=_$1.from(r,n0)),I$1(r))return r.length===0?-1:L(e0,r,t0,n0,r0);if(typeof r=="number")return r&=255,_$1.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?r0?Uint8Array.prototype.indexOf.call(e0,r,t0):Uint8Array.prototype.lastIndexOf.call(e0,r,t0):L(e0,[r],t0,n0,r0);throw new TypeError("val must be string, number or Buffer")}function L(e0,r,t0,n0,r0){var i0,o0=1,s0=e0.length,a0=r.length;if(n0!==void 0&&((n0=String(n0).toLowerCase())==="ucs2"||n0==="ucs-2"||n0==="utf16le"||n0==="utf-16le")){if(e0.length<2||r.length<2)return-1;o0=2,s0/=2,a0/=2,t0/=2}function c0(g0,w0){return o0===1?g0[w0]:g0.readUInt16BE(w0*o0)}if(r0){var l0=-1;for(i0=t0;i0<s0;i0++)if(c0(e0,i0)===c0(r,l0===-1?0:i0-l0)){if(l0===-1&&(l0=i0),i0-l0+1===a0)return l0*o0}else l0!==-1&&(i0-=i0-l0),l0=-1}else for(t0+a0>s0&&(t0=s0-a0),i0=t0;i0>=0;i0--){for(var u0=!0,h0=0;h0<a0;h0++)if(c0(e0,i0+h0)!==c0(r,h0)){u0=!1;break}if(u0)return i0}return-1}function N$1(e0,r,t0,n0){t0=Number(t0)||0;var r0=e0.length-t0;n0?(n0=Number(n0))>r0&&(n0=r0):n0=r0;var i0=r.length;if(i0%2!=0)throw new TypeError("Invalid hex string");n0>i0/2&&(n0=i0/2);for(var o0=0;o0<n0;++o0){var s0=parseInt(r.substr(2*o0,2),16);if(isNaN(s0))return o0;e0[t0+o0]=s0}return o0}function $(e0,r,t0,n0){return oe$1(re$1(r,e0.length-t0),e0,t0,n0)}function D(e0,r,t0,n0){return oe$1(function(r0){for(var i0=[],o0=0;o0<r0.length;++o0)i0.push(255&r0.charCodeAt(o0));return i0}(r),e0,t0,n0)}function B$1(e0,r,t0,n0){return D(e0,r,t0,n0)}function K(e0,r,t0,n0){return oe$1(ie$1(r),e0,t0,n0)}function j$1(e0,r,t0,n0){return oe$1(function(r0,i0){for(var o0,s0,a0,c0=[],l0=0;l0<r0.length&&!((i0-=2)<0);++l0)s0=(o0=r0.charCodeAt(l0))>>8,a0=o0%256,c0.push(a0),c0.push(s0);return c0}(r,e0.length-t0),e0,t0,n0)}function U$1(e0,r,t0){return r===0&&t0===e0.length?g(e0):g(e0.slice(r,t0))}function H$1(e0,r,t0){t0=Math.min(e0.length,t0);for(var n0=[],r0=r;r0<t0;){var i0,o0,s0,a0,c0=e0[r0],l0=null,u0=c0>239?4:c0>223?3:c0>191?2:1;if(r0+u0<=t0)switch(u0){case 1:c0<128&&(l0=c0);break;case 2:(192&(i0=e0[r0+1]))==128&&(a0=(31&c0)<<6|63&i0)>127&&(l0=a0);break;case 3:i0=e0[r0+1],o0=e0[r0+2],(192&i0)==128&&(192&o0)==128&&(a0=(15&c0)<<12|(63&i0)<<6|63&o0)>2047&&(a0<55296||a0>57343)&&(l0=a0);break;case 4:i0=e0[r0+1],o0=e0[r0+2],s0=e0[r0+3],(192&i0)==128&&(192&o0)==128&&(192&s0)==128&&(a0=(15&c0)<<18|(63&i0)<<12|(63&o0)<<6|63&s0)>65535&&a0<1114112&&(l0=a0)}l0===null?(l0=65533,u0=1):l0>65535&&(l0-=65536,n0.push(l0>>>10&1023|55296),l0=56320|1023&l0),n0.push(l0),r0+=u0}return function(h0){var g0=h0.length;if(g0<=F$1)return String.fromCharCode.apply(String,h0);for(var w0="",m0=0;m0<g0;)w0+=String.fromCharCode.apply(String,h0.slice(m0,m0+=F$1));return w0}(n0)}_$1.poolSize=8192,_$1._augment=function(e0){return e0.__proto__=_$1.prototype,e0},_$1.from=function(e0,r,t0){return C(null,e0,r,t0)},_$1.TYPED_ARRAY_SUPPORT&&(_$1.prototype.__proto__=Uint8Array.prototype,_$1.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&_$1[Symbol.species]),_$1.alloc=function(e0,r,t0){return function(n0,r0,i0,o0){return k(r0),r0<=0?S(n0,r0):i0!==void 0?typeof o0=="string"?S(n0,r0).fill(i0,o0):S(n0,r0).fill(i0):S(n0,r0)}(null,e0,r,t0)},_$1.allocUnsafe=function(e0){return x(null,e0)},_$1.allocUnsafeSlow=function(e0){return x(null,e0)},_$1.isBuffer=se,_$1.compare=function(e0,r){if(!I$1(e0)||!I$1(r))throw new TypeError("Arguments must be Buffers");if(e0===r)return 0;for(var t0=e0.length,n0=r.length,r0=0,i0=Math.min(t0,n0);r0<i0;++r0)if(e0[r0]!==r[r0]){t0=e0[r0],n0=r[r0];break}return t0<n0?-1:n0<t0?1:0},_$1.isEncoding=function(e0){switch(String(e0).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},_$1.concat=function(e0,r){if(!b(e0))throw new TypeError('"list" argument must be an Array of Buffers');if(e0.length===0)return _$1.alloc(0);var t0;if(r===void 0)for(r=0,t0=0;t0<e0.length;++t0)r+=e0[t0].length;var n0=_$1.allocUnsafe(r),r0=0;for(t0=0;t0<e0.length;++t0){var i0=e0[t0];if(!I$1(i0))throw new TypeError('"list" argument must be an Array of Buffers');i0.copy(n0,r0),r0+=i0.length}return n0},_$1.byteLength=R$1,_$1.prototype._isBuffer=!0,_$1.prototype.swap16=function(){var e0=this.length;if(e0%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<e0;r+=2)T$1(this,r,r+1);return this},_$1.prototype.swap32=function(){var e0=this.length;if(e0%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<e0;r+=4)T$1(this,r,r+3),T$1(this,r+1,r+2);return this},_$1.prototype.swap64=function(){var e0=this.length;if(e0%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<e0;r+=8)T$1(this,r,r+7),T$1(this,r+1,r+6),T$1(this,r+2,r+5),T$1(this,r+3,r+4);return this},_$1.prototype.toString=function(){var e0=0|this.length;return e0===0?"":arguments.length===0?H$1(this,0,e0):P.apply(this,arguments)},_$1.prototype.equals=function(e0){if(!I$1(e0))throw new TypeError("Argument must be a Buffer");return this===e0||_$1.compare(this,e0)===0},_$1.prototype.inspect=function(){var e0="";return this.length>0&&(e0=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(e0+=" ... ")),"<Buffer "+e0+">"},_$1.prototype.compare=function(e0,r,t0,n0,r0){if(!I$1(e0))throw new TypeError("Argument must be a Buffer");if(r===void 0&&(r=0),t0===void 0&&(t0=e0?e0.length:0),n0===void 0&&(n0=0),r0===void 0&&(r0=this.length),r<0||t0>e0.length||n0<0||r0>this.length)throw new RangeError("out of range index");if(n0>=r0&&r>=t0)return 0;if(n0>=r0)return-1;if(r>=t0)return 1;if(this===e0)return 0;for(var i0=(r0>>>=0)-(n0>>>=0),o0=(t0>>>=0)-(r>>>=0),s0=Math.min(i0,o0),a0=this.slice(n0,r0),c0=e0.slice(r,t0),l0=0;l0<s0;++l0)if(a0[l0]!==c0[l0]){i0=a0[l0],o0=c0[l0];break}return i0<o0?-1:o0<i0?1:0},_$1.prototype.includes=function(e0,r,t0){return this.indexOf(e0,r,t0)!==-1},_$1.prototype.indexOf=function(e0,r,t0){return O(this,e0,r,t0,!0)},_$1.prototype.lastIndexOf=function(e0,r,t0){return O(this,e0,r,t0,!1)},_$1.prototype.write=function(e0,r,t0,n0){if(r===void 0)n0="utf8",t0=this.length,r=0;else if(t0===void 0&&typeof r=="string")n0=r,t0=this.length,r=0;else{if(!isFinite(r))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");r|=0,isFinite(t0)?(t0|=0,n0===void 0&&(n0="utf8")):(n0=t0,t0=void 0)}var r0=this.length-r;if((t0===void 0||t0>r0)&&(t0=r0),e0.length>0&&(t0<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");n0||(n0="utf8");for(var i0=!1;;)switch(n0){case"hex":return N$1(this,e0,r,t0);case"utf8":case"utf-8":return $(this,e0,r,t0);case"ascii":return D(this,e0,r,t0);case"latin1":case"binary":return B$1(this,e0,r,t0);case"base64":return K(this,e0,r,t0);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j$1(this,e0,r,t0);default:if(i0)throw new TypeError("Unknown encoding: "+n0);n0=(""+n0).toLowerCase(),i0=!0}},_$1.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var F$1=4096;function z(e0,r,t0){var n0="";t0=Math.min(e0.length,t0);for(var r0=r;r0<t0;++r0)n0+=String.fromCharCode(127&e0[r0]);return n0}function q(e0,r,t0){var n0="";t0=Math.min(e0.length,t0);for(var r0=r;r0<t0;++r0)n0+=String.fromCharCode(e0[r0]);return n0}function W(e0,r,t0){var n0=e0.length;(!r||r<0)&&(r=0),(!t0||t0<0||t0>n0)&&(t0=n0);for(var r0="",i0=r;i0<t0;++i0)r0+=ne$1(e0[i0]);return r0}function V$1(e0,r,t0){for(var n0=e0.slice(r,t0),r0="",i0=0;i0<n0.length;i0+=2)r0+=String.fromCharCode(n0[i0]+256*n0[i0+1]);return r0}function G(e0,r,t0){if(e0%1!=0||e0<0)throw new RangeError("offset is not uint");if(e0+r>t0)throw new RangeError("Trying to access beyond buffer length")}function Y(e0,r,t0,n0,r0,i0){if(!I$1(e0))throw new TypeError('"buffer" argument must be a Buffer instance');if(r>r0||r<i0)throw new RangeError('"value" argument is out of bounds');if(t0+n0>e0.length)throw new RangeError("Index out of range")}function Z$1(e0,r,t0,n0){r<0&&(r=65535+r+1);for(var r0=0,i0=Math.min(e0.length-t0,2);r0<i0;++r0)e0[t0+r0]=(r&255<<8*(n0?r0:1-r0))>>>8*(n0?r0:1-r0)}function J$1(e0,r,t0,n0){r<0&&(r=4294967295+r+1);for(var r0=0,i0=Math.min(e0.length-t0,4);r0<i0;++r0)e0[t0+r0]=r>>>8*(n0?r0:3-r0)&255}function X$1(e0,r,t0,n0,r0,i0){if(t0+n0>e0.length)throw new RangeError("Index out of range");if(t0<0)throw new RangeError("Index out of range")}function Q(e0,r,t0,n0,r0){return r0||X$1(e0,0,t0,4),y(e0,r,t0,n0,23,4),t0+4}function ee$1(e0,r,t0,n0,r0){return r0||X$1(e0,0,t0,8),y(e0,r,t0,n0,52,8),t0+8}_$1.prototype.slice=function(e0,r){var t0,n0=this.length;if((e0=~~e0)<0?(e0+=n0)<0&&(e0=0):e0>n0&&(e0=n0),(r=r===void 0?n0:~~r)<0?(r+=n0)<0&&(r=0):r>n0&&(r=n0),r<e0&&(r=e0),_$1.TYPED_ARRAY_SUPPORT)(t0=this.subarray(e0,r)).__proto__=_$1.prototype;else{var r0=r-e0;t0=new _$1(r0,void 0);for(var i0=0;i0<r0;++i0)t0[i0]=this[i0+e0]}return t0},_$1.prototype.readUIntLE=function(e0,r,t0){e0|=0,r|=0,t0||G(e0,r,this.length);for(var n0=this[e0],r0=1,i0=0;++i0<r&&(r0*=256);)n0+=this[e0+i0]*r0;return n0},_$1.prototype.readUIntBE=function(e0,r,t0){e0|=0,r|=0,t0||G(e0,r,this.length);for(var n0=this[e0+--r],r0=1;r>0&&(r0*=256);)n0+=this[e0+--r]*r0;return n0},_$1.prototype.readUInt8=function(e0,r){return r||G(e0,1,this.length),this[e0]},_$1.prototype.readUInt16LE=function(e0,r){return r||G(e0,2,this.length),this[e0]|this[e0+1]<<8},_$1.prototype.readUInt16BE=function(e0,r){return r||G(e0,2,this.length),this[e0]<<8|this[e0+1]},_$1.prototype.readUInt32LE=function(e0,r){return r||G(e0,4,this.length),(this[e0]|this[e0+1]<<8|this[e0+2]<<16)+16777216*this[e0+3]},_$1.prototype.readUInt32BE=function(e0,r){return r||G(e0,4,this.length),16777216*this[e0]+(this[e0+1]<<16|this[e0+2]<<8|this[e0+3])},_$1.prototype.readIntLE=function(e0,r,t0){e0|=0,r|=0,t0||G(e0,r,this.length);for(var n0=this[e0],r0=1,i0=0;++i0<r&&(r0*=256);)n0+=this[e0+i0]*r0;return n0>=(r0*=128)&&(n0-=Math.pow(2,8*r)),n0},_$1.prototype.readIntBE=function(e0,r,t0){e0|=0,r|=0,t0||G(e0,r,this.length);for(var n0=r,r0=1,i0=this[e0+--n0];n0>0&&(r0*=256);)i0+=this[e0+--n0]*r0;return i0>=(r0*=128)&&(i0-=Math.pow(2,8*r)),i0},_$1.prototype.readInt8=function(e0,r){return r||G(e0,1,this.length),128&this[e0]?-1*(255-this[e0]+1):this[e0]},_$1.prototype.readInt16LE=function(e0,r){r||G(e0,2,this.length);var t0=this[e0]|this[e0+1]<<8;return 32768&t0?4294901760|t0:t0},_$1.prototype.readInt16BE=function(e0,r){r||G(e0,2,this.length);var t0=this[e0+1]|this[e0]<<8;return 32768&t0?4294901760|t0:t0},_$1.prototype.readInt32LE=function(e0,r){return r||G(e0,4,this.length),this[e0]|this[e0+1]<<8|this[e0+2]<<16|this[e0+3]<<24},_$1.prototype.readInt32BE=function(e0,r){return r||G(e0,4,this.length),this[e0]<<24|this[e0+1]<<16|this[e0+2]<<8|this[e0+3]},_$1.prototype.readFloatLE=function(e0,r){return r||G(e0,4,this.length),m(this,e0,!0,23,4)},_$1.prototype.readFloatBE=function(e0,r){return r||G(e0,4,this.length),m(this,e0,!1,23,4)},_$1.prototype.readDoubleLE=function(e0,r){return r||G(e0,8,this.length),m(this,e0,!0,52,8)},_$1.prototype.readDoubleBE=function(e0,r){return r||G(e0,8,this.length),m(this,e0,!1,52,8)},_$1.prototype.writeUIntLE=function(e0,r,t0,n0){e0=+e0,r|=0,t0|=0,n0||Y(this,e0,r,t0,Math.pow(2,8*t0)-1,0);var r0=1,i0=0;for(this[r]=255&e0;++i0<t0&&(r0*=256);)this[r+i0]=e0/r0&255;return r+t0},_$1.prototype.writeUIntBE=function(e0,r,t0,n0){e0=+e0,r|=0,t0|=0,n0||Y(this,e0,r,t0,Math.pow(2,8*t0)-1,0);var r0=t0-1,i0=1;for(this[r+r0]=255&e0;--r0>=0&&(i0*=256);)this[r+r0]=e0/i0&255;return r+t0},_$1.prototype.writeUInt8=function(e0,r,t0){return e0=+e0,r|=0,t0||Y(this,e0,r,1,255,0),_$1.TYPED_ARRAY_SUPPORT||(e0=Math.floor(e0)),this[r]=255&e0,r+1},_$1.prototype.writeUInt16LE=function(e0,r,t0){return e0=+e0,r|=0,t0||Y(this,e0,r,2,65535,0),_$1.TYPED_ARRAY_SUPPORT?(this[r]=255&e0,this[r+1]=e0>>>8):Z$1(this,e0,r,!0),r+2},_$1.prototype.writeUInt16BE=function(e0,r,t0){return e0=+e0,r|=0,t0||Y(this,e0,r,2,65535,0),_$1.TYPED_ARRAY_SUPPORT?(this[r]=e0>>>8,this[r+1]=255&e0):Z$1(this,e0,r,!1),r+2},_$1.prototype.writeUInt32LE=function(e0,r,t0){return e0=+e0,r|=0,t0||Y(this,e0,r,4,4294967295,0),_$1.TYPED_ARRAY_SUPPORT?(this[r+3]=e0>>>24,this[r+2]=e0>>>16,this[r+1]=e0>>>8,this[r]=255&e0):J$1(this,e0,r,!0),r+4},_$1.prototype.writeUInt32BE=function(e0,r,t0){return e0=+e0,r|=0,t0||Y(this,e0,r,4,4294967295,0),_$1.TYPED_ARRAY_SUPPORT?(this[r]=e0>>>24,this[r+1]=e0>>>16,this[r+2]=e0>>>8,this[r+3]=255&e0):J$1(this,e0,r,!1),r+4},_$1.prototype.writeIntLE=function(e0,r,t0,n0){if(e0=+e0,r|=0,!n0){var r0=Math.pow(2,8*t0-1);Y(this,e0,r,t0,r0-1,-r0)}var i0=0,o0=1,s0=0;for(this[r]=255&e0;++i0<t0&&(o0*=256);)e0<0&&s0===0&&this[r+i0-1]!==0&&(s0=1),this[r+i0]=(e0/o0>>0)-s0&255;return r+t0},_$1.prototype.writeIntBE=function(e0,r,t0,n0){if(e0=+e0,r|=0,!n0){var r0=Math.pow(2,8*t0-1);Y(this,e0,r,t0,r0-1,-r0)}var i0=t0-1,o0=1,s0=0;for(this[r+i0]=255&e0;--i0>=0&&(o0*=256);)e0<0&&s0===0&&this[r+i0+1]!==0&&(s0=1),this[r+i0]=(e0/o0>>0)-s0&255;return r+t0},_$1.prototype.writeInt8=function(e0,r,t0){return e0=+e0,r|=0,t0||Y(this,e0,r,1,127,-128),_$1.TYPED_ARRAY_SUPPORT||(e0=Math.floor(e0)),e0<0&&(e0=255+e0+1),this[r]=255&e0,r+1},_$1.prototype.writeInt16LE=function(e0,r,t0){return e0=+e0,r|=0,t0||Y(this,e0,r,2,32767,-32768),_$1.TYPED_ARRAY_SUPPORT?(this[r]=255&e0,this[r+1]=e0>>>8):Z$1(this,e0,r,!0),r+2},_$1.prototype.writeInt16BE=function(e0,r,t0){return e0=+e0,r|=0,t0||Y(this,e0,r,2,32767,-32768),_$1.TYPED_ARRAY_SUPPORT?(this[r]=e0>>>8,this[r+1]=255&e0):Z$1(this,e0,r,!1),r+2},_$1.prototype.writeInt32LE=function(e0,r,t0){return e0=+e0,r|=0,t0||Y(this,e0,r,4,2147483647,-2147483648),_$1.TYPED_ARRAY_SUPPORT?(this[r]=255&e0,this[r+1]=e0>>>8,this[r+2]=e0>>>16,this[r+3]=e0>>>24):J$1(this,e0,r,!0),r+4},_$1.prototype.writeInt32BE=function(e0,r,t0){return e0=+e0,r|=0,t0||Y(this,e0,r,4,2147483647,-2147483648),e0<0&&(e0=4294967295+e0+1),_$1.TYPED_ARRAY_SUPPORT?(this[r]=e0>>>24,this[r+1]=e0>>>16,this[r+2]=e0>>>8,this[r+3]=255&e0):J$1(this,e0,r,!1),r+4},_$1.prototype.writeFloatLE=function(e0,r,t0){return Q(this,e0,r,!0,t0)},_$1.prototype.writeFloatBE=function(e0,r,t0){return Q(this,e0,r,!1,t0)},_$1.prototype.writeDoubleLE=function(e0,r,t0){return ee$1(this,e0,r,!0,t0)},_$1.prototype.writeDoubleBE=function(e0,r,t0){return ee$1(this,e0,r,!1,t0)},_$1.prototype.copy=function(e0,r,t0,n0){if(t0||(t0=0),n0||n0===0||(n0=this.length),r>=e0.length&&(r=e0.length),r||(r=0),n0>0&&n0<t0&&(n0=t0),n0===t0||e0.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(t0<0||t0>=this.length)throw new RangeError("sourceStart out of bounds");if(n0<0)throw new RangeError("sourceEnd out of bounds");n0>this.length&&(n0=this.length),e0.length-r<n0-t0&&(n0=e0.length-r+t0);var r0,i0=n0-t0;if(this===e0&&t0<r&&r<n0)for(r0=i0-1;r0>=0;--r0)e0[r0+r]=this[r0+t0];else if(i0<1e3||!_$1.TYPED_ARRAY_SUPPORT)for(r0=0;r0<i0;++r0)e0[r0+r]=this[r0+t0];else Uint8Array.prototype.set.call(e0,this.subarray(t0,t0+i0),r);return i0},_$1.prototype.fill=function(e0,r,t0,n0){if(typeof e0=="string"){if(typeof r=="string"?(n0=r,r=0,t0=this.length):typeof t0=="string"&&(n0=t0,t0=this.length),e0.length===1){var r0=e0.charCodeAt(0);r0<256&&(e0=r0)}if(n0!==void 0&&typeof n0!="string")throw new TypeError("encoding must be a string");if(typeof n0=="string"&&!_$1.isEncoding(n0))throw new TypeError("Unknown encoding: "+n0)}else typeof e0=="number"&&(e0&=255);if(r<0||this.length<r||this.length<t0)throw new RangeError("Out of range index");if(t0<=r)return this;var i0;if(r>>>=0,t0=t0===void 0?this.length:t0>>>0,e0||(e0=0),typeof e0=="number")for(i0=r;i0<t0;++i0)this[i0]=e0;else{var o0=I$1(e0)?e0:re$1(new _$1(e0,n0).toString()),s0=o0.length;for(i0=0;i0<t0-r;++i0)this[i0+r]=o0[i0%s0]}return this};var te=/[^+\/0-9A-Za-z-_]/g;function ne$1(e0){return e0<16?"0"+e0.toString(16):e0.toString(16)}function re$1(e0,r){var t0;r=r||1/0;for(var n0=e0.length,r0=null,i0=[],o0=0;o0<n0;++o0){if((t0=e0.charCodeAt(o0))>55295&&t0<57344){if(!r0){if(t0>56319){(r-=3)>-1&&i0.push(239,191,189);continue}if(o0+1===n0){(r-=3)>-1&&i0.push(239,191,189);continue}r0=t0;continue}if(t0<56320){(r-=3)>-1&&i0.push(239,191,189),r0=t0;continue}t0=65536+(r0-55296<<10|t0-56320)}else r0&&(r-=3)>-1&&i0.push(239,191,189);if(r0=null,t0<128){if((r-=1)<0)break;i0.push(t0)}else if(t0<2048){if((r-=2)<0)break;i0.push(t0>>6|192,63&t0|128)}else if(t0<65536){if((r-=3)<0)break;i0.push(t0>>12|224,t0>>6&63|128,63&t0|128)}else{if(!(t0<1114112))throw new Error("Invalid code point");if((r-=4)<0)break;i0.push(t0>>18|240,t0>>12&63|128,t0>>6&63|128,63&t0|128)}}return i0}function ie$1(e0){return function(r){var t0,n0,r0,i0,o0,s0;h$1||f();var a0=r.length;if(a0%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o0=r[a0-2]==="="?2:r[a0-1]==="="?1:0,s0=new u(3*a0/4-o0),r0=o0>0?a0-4:a0;var c0=0;for(t0=0,n0=0;t0<r0;t0+=4,n0+=3)i0=d[r.charCodeAt(t0)]<<18|d[r.charCodeAt(t0+1)]<<12|d[r.charCodeAt(t0+2)]<<6|d[r.charCodeAt(t0+3)],s0[c0++]=i0>>16&255,s0[c0++]=i0>>8&255,s0[c0++]=255&i0;return o0===2?(i0=d[r.charCodeAt(t0)]<<2|d[r.charCodeAt(t0+1)]>>4,s0[c0++]=255&i0):o0===1&&(i0=d[r.charCodeAt(t0)]<<10|d[r.charCodeAt(t0+1)]<<4|d[r.charCodeAt(t0+2)]>>2,s0[c0++]=i0>>8&255,s0[c0++]=255&i0),s0}(function(r){if((r=function(t0){return t0.trim?t0.trim():t0.replace(/^\s+|\s+$/g,"")}(r).replace(te,"")).length<2)return"";for(;r.length%4!=0;)r+="=";return r}(e0))}function oe$1(e0,r,t0,n0){for(var r0=0;r0<n0&&!(r0+t0>=r.length||r0>=e0.length);++r0)r[r0+t0]=e0[r0];return r0}function se(e0){return e0!=null&&(!!e0._isBuffer||ae$1(e0)||function(r){return typeof r.readFloatLE=="function"&&typeof r.slice=="function"&&ae$1(r.slice(0,0))}(e0))}function ae$1(e0){return!!e0.constructor&&typeof e0.constructor.isBuffer=="function"&&e0.constructor.isBuffer(e0)}var ce=Object.freeze({__proto__:null,Buffer:_$1,INSPECT_MAX_BYTES:50,SlowBuffer:function(e0){return+e0!=e0&&(e0=0),_$1.alloc(+e0)},isBuffer:se,kMaxLength:w}),le=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function de(e0){return e0&&e0.__esModule&&Object.prototype.hasOwnProperty.call(e0,"default")?e0.default:e0}function ue$1(e0){if(e0.__esModule)return e0;var r=e0.default;if(typeof r=="function"){var t0=function n0(){return this instanceof n0?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};t0.prototype=r.prototype}else t0={};return Object.defineProperty(t0,"__esModule",{value:!0}),Object.keys(e0).forEach(function(n0){var r0=Object.getOwnPropertyDescriptor(e0,n0);Object.defineProperty(t0,n0,r0.get?r0:{enumerable:!0,get:function(){return e0[n0]}})}),t0}var he$1={},fe$1={},pe={};function ge(e0){if(!Number.isSafeInteger(e0)||e0<0)throw new Error(`positive integer expected, not ${e0}`)}function me(e0){if(typeof e0!="boolean")throw new Error(`boolean expected, not ${e0}`)}function ye$1(e0){return e0 instanceof Uint8Array||e0!=null&&typeof e0=="object"&&e0.constructor.name==="Uint8Array"}function ve(e0,...r){if(!ye$1(e0))throw new Error("Uint8Array expected");if(r.length>0&&!r.includes(e0.length))throw new Error(`Uint8Array expected of length ${r}, not of length=${e0.length}`)}function be$1(e0){if(typeof e0!="function"||typeof e0.create!="function")throw new Error("hash must be wrapped by utils.wrapConstructor");ge(e0.outputLen),ge(e0.blockLen)}function we(e0,r=!0){if(e0.destroyed)throw new Error("Hash instance has been destroyed");if(r&&e0.finished)throw new Error("Hash#digest() has already been called")}function Ee$1(e0,r){ve(e0);const t0=r.outputLen;if(e0.length<t0)throw new Error(`digestInto() expects output buffer of length at least ${t0}`)}Object.defineProperty(pe,"__esModule",{value:!0}),pe.isBytes=ye$1,pe.number=ge,pe.bool=me,pe.bytes=ve,pe.hash=be$1,pe.exists=we,pe.output=Ee$1;const Se={number:ge,bool:me,bytes:ve,hash:be$1,exists:we,output:Ee$1};pe.default=Se,function(e0){Object.defineProperty(e0,"__esModule",{value:!0}),e0.wrapCipher=e0.Hash=e0.nextTick=e0.isLE=e0.createView=e0.u32=e0.u16=e0.u8=void 0,e0.bytesToHex=n0,e0.hexToBytes=o0,e0.hexToNumber=s0,e0.bytesToNumberBE=function(u0){return s0(n0(u0))},e0.numberToBytesBE=function(u0,h0){return o0(u0.toString(16).padStart(2*h0,"0"))},e0.asyncLoop=async function(u0,h0,g0){let w0=Date.now();for(let m0=0;m0<u0;m0++){g0(m0);const S0=Date.now()-w0;S0>=0&&S0<h0||(await(0,e0.nextTick)(),w0+=S0)}},e0.utf8ToBytes=a0,e0.bytesToUtf8=function(u0){return new TextDecoder().decode(u0)},e0.toBytes=function(u0){if(typeof u0=="string")u0=a0(u0);else{if(!(0,r.isBytes)(u0))throw new Error("Uint8Array expected, got "+typeof u0);u0=l0(u0)}return u0},e0.concatBytes=function(...u0){let h0=0;for(let w0=0;w0<u0.length;w0++){const m0=u0[w0];(0,r.bytes)(m0),h0+=m0.length}const g0=new Uint8Array(h0);for(let w0=0,m0=0;w0<u0.length;w0++){const S0=u0[w0];g0.set(S0,m0),m0+=S0.length}return g0},e0.checkOpts=function(u0,h0){if(h0==null||typeof h0!="object")throw new Error("options must be defined");return Object.assign(u0,h0)},e0.equalBytes=function(u0,h0){if(u0.length!==h0.length)return!1;let g0=0;for(let w0=0;w0<u0.length;w0++)g0|=u0[w0]^h0[w0];return g0===0},e0.setBigUint64=c0,e0.u64Lengths=function(u0,h0){const g0=new Uint8Array(16),w0=(0,e0.createView)(g0);return c0(w0,0,BigInt(h0?h0.length:0),!0),c0(w0,8,BigInt(u0.length),!0),g0},e0.isAligned32=function(u0){return u0.byteOffset%4==0},e0.copyBytes=l0,e0.clean=function(...u0){for(let h0=0;h0<u0.length;h0++)u0[h0].fill(0)};const r=pe;if(e0.u8=u0=>new Uint8Array(u0.buffer,u0.byteOffset,u0.byteLength),e0.u16=u0=>new Uint16Array(u0.buffer,u0.byteOffset,Math.floor(u0.byteLength/2)),e0.u32=u0=>new Uint32Array(u0.buffer,u0.byteOffset,Math.floor(u0.byteLength/4)),e0.createView=u0=>new DataView(u0.buffer,u0.byteOffset,u0.byteLength),e0.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!e0.isLE)throw new Error("Non little-endian hardware is not supported");const t0=Array.from({length:256},(u0,h0)=>h0.toString(16).padStart(2,"0"));function n0(u0){(0,r.bytes)(u0);let h0="";for(let g0=0;g0<u0.length;g0++)h0+=t0[u0[g0]];return h0}const r0={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function i0(u0){return u0>=r0._0&&u0<=r0._9?u0-r0._0:u0>=r0._A&&u0<=r0._F?u0-(r0._A-10):u0>=r0._a&&u0<=r0._f?u0-(r0._a-10):void 0}function o0(u0){if(typeof u0!="string")throw new Error("hex string expected, got "+typeof u0);const h0=u0.length,g0=h0/2;if(h0%2)throw new Error("padded hex string expected, got unpadded hex of length "+h0);const w0=new Uint8Array(g0);for(let m0=0,S0=0;m0<g0;m0++,S0+=2){const b0=i0(u0.charCodeAt(S0)),T0=i0(u0.charCodeAt(S0+1));if(b0===void 0||T0===void 0){const N0=u0[S0]+u0[S0+1];throw new Error('hex string expected, got non-hex character "'+N0+'" at index '+S0)}w0[m0]=16*b0+T0}return w0}function s0(u0){if(typeof u0!="string")throw new Error("hex string expected, got "+typeof u0);return BigInt(u0===""?"0":`0x${u0}`)}function a0(u0){if(typeof u0!="string")throw new Error("string expected, got "+typeof u0);return new Uint8Array(new TextEncoder().encode(u0))}e0.nextTick=async()=>{},e0.Hash=class{};function c0(u0,h0,g0,w0){if(typeof u0.setBigUint64=="function")return u0.setBigUint64(h0,g0,w0);const m0=BigInt(32),S0=BigInt(4294967295),b0=Number(g0>>m0&S0),T0=Number(g0&S0),N0=w0?4:0,x0=w0?0:4;u0.setUint32(h0+N0,b0,w0),u0.setUint32(h0+x0,T0,w0)}function l0(u0){return Uint8Array.from(u0)}e0.wrapCipher=(u0,h0)=>(Object.assign(h0,u0),h0)}(fe$1);var _e$1={},Ce$1={};Object.defineProperty(Ce$1,"__esModule",{value:!0}),Ce$1.AEAD_TAG_LENGTH=Ce$1.XCHACHA20_NONCE_LENGTH=Ce$1.CURVE25519_PUBLIC_KEY_SIZE=Ce$1.ETH_PUBLIC_KEY_SIZE=Ce$1.UNCOMPRESSED_PUBLIC_KEY_SIZE=Ce$1.COMPRESSED_PUBLIC_KEY_SIZE=Ce$1.SECRET_KEY_LENGTH=void 0,Ce$1.SECRET_KEY_LENGTH=32,Ce$1.COMPRESSED_PUBLIC_KEY_SIZE=33,Ce$1.UNCOMPRESSED_PUBLIC_KEY_SIZE=65,Ce$1.ETH_PUBLIC_KEY_SIZE=64,Ce$1.CURVE25519_PUBLIC_KEY_SIZE=32,Ce$1.XCHACHA20_NONCE_LENGTH=24,Ce$1.AEAD_TAG_LENGTH=16,function(e0){Object.defineProperty(e0,"__esModule",{value:!0}),e0.ephemeralKeySize=e0.symmetricNonceLength=e0.symmetricAlgorithm=e0.isHkdfKeyCompressed=e0.isEphemeralKeyCompressed=e0.ellipticCurve=e0.ECIES_CONFIG=void 0;var r=Ce$1,t0=function(){this.ellipticCurve="secp256k1",this.isEphemeralKeyCompressed=!1,this.isHkdfKeyCompressed=!1,this.symmetricAlgorithm="aes-256-gcm",this.symmetricNonceLength=16};e0.ECIES_CONFIG=new t0,e0.ellipticCurve=function(){return e0.ECIES_CONFIG.ellipticCurve},e0.isEphemeralKeyCompressed=function(){return e0.ECIES_CONFIG.isEphemeralKeyCompressed},e0.isHkdfKeyCompressed=function(){return e0.ECIES_CONFIG.isHkdfKeyCompressed},e0.symmetricAlgorithm=function(){return e0.ECIES_CONFIG.symmetricAlgorithm},e0.symmetricNonceLength=function(){return e0.ECIES_CONFIG.symmetricNonceLength},e0.ephemeralKeySize=function(){var n0={secp256k1:e0.ECIES_CONFIG.isEphemeralKeyCompressed?r.COMPRESSED_PUBLIC_KEY_SIZE:r.UNCOMPRESSED_PUBLIC_KEY_SIZE,x25519:r.CURVE25519_PUBLIC_KEY_SIZE,ed25519:r.CURVE25519_PUBLIC_KEY_SIZE};if(e0.ECIES_CONFIG.ellipticCurve in n0)return n0[e0.ECIES_CONFIG.ellipticCurve];throw new Error("Not implemented")}}(_e$1);var ke$1={},xe$1={},Me={},Ae$1={},Ie$1={},Re$1={};Object.defineProperty(Re$1,"__esModule",{value:!0}),Re$1.crypto=void 0,Re$1.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,function(e0){Object.defineProperty(e0,"__esModule",{value:!0}),e0.gcm=e0.ctr=e0.cbc=e0.utils=void 0,e0.randomBytes=r0,e0.getWebcryptoSubtle=i0,e0.managedNonce=function(a0){return(0,t0.number)(a0.nonceLength),(c0,...l0)=>({encrypt(u0,...h0){const{nonceLength:g0}=a0,w0=r0(g0),m0=a0(c0,w0,...l0).encrypt(u0,...h0),S0=(0,n0.concatBytes)(w0,m0);return m0.fill(0),S0},decrypt(u0,...h0){const{nonceLength:g0}=a0,w0=u0.subarray(0,g0),m0=u0.subarray(g0);return a0(c0,w0,...l0).decrypt(m0,...h0)}})};const r=Re$1,t0=pe,n0=fe$1;function r0(a0=32){if(r.crypto&&typeof r.crypto.getRandomValues=="function")return r.crypto.getRandomValues(new Uint8Array(a0));if(r.crypto&&typeof r.crypto.randomBytes=="function")return r.crypto.randomBytes(a0);throw new Error("crypto.getRandomValues must be defined")}function i0(){if(r.crypto&&typeof r.crypto.subtle=="object"&&r.crypto.subtle!=null)return r.crypto.subtle;throw new Error("crypto.subtle must be defined")}e0.utils={async encrypt(a0,c0,l0,u0){const h0=i0(),g0=await h0.importKey("raw",a0,c0,!0,["encrypt"]),w0=await h0.encrypt(l0,g0,u0);return new Uint8Array(w0)},async decrypt(a0,c0,l0,u0){const h0=i0(),g0=await h0.importKey("raw",a0,c0,!0,["decrypt"]),w0=await h0.decrypt(l0,g0,u0);return new Uint8Array(w0)}};const o0={CBC:"AES-CBC",CTR:"AES-CTR",GCM:"AES-GCM"};function s0(a0){return(c0,l0,u0)=>{(0,t0.bytes)(c0),(0,t0.bytes)(l0);const h0={name:a0,length:8*c0.length},g0=function(w0,m0,S0){if(w0===o0.CBC)return{name:o0.CBC,iv:m0};if(w0===o0.CTR)return{name:o0.CTR,counter:m0,length:64};if(w0===o0.GCM)return S0?{name:o0.GCM,iv:m0,additionalData:S0}:{name:o0.GCM,iv:m0};throw new Error("unknown aes block mode")}(a0,l0,u0);return{encrypt:w0=>((0,t0.bytes)(w0),e0.utils.encrypt(c0,h0,g0,w0)),decrypt:w0=>((0,t0.bytes)(w0),e0.utils.decrypt(c0,h0,g0,w0))}}}e0.cbc=s0(o0.CBC),e0.ctr=s0(o0.CTR),e0.gcm=s0(o0.GCM)}(Ie$1);var Pe={},Te={},Oe={},Le={};function Ne(e0){if(!Number.isSafeInteger(e0)||e0<0)throw new Error(`positive integer expected, not ${e0}`)}function $e$1(e0){if(typeof e0!="boolean")throw new Error(`boolean expected, not ${e0}`)}function De(e0){return e0 instanceof Uint8Array||e0!=null&&typeof e0=="object"&&e0.constructor.name==="Uint8Array"}function Be(e0,...r){if(!De(e0))throw new Error("Uint8Array expected");if(r.length>0&&!r.includes(e0.length))throw new Error(`Uint8Array expected of length ${r}, not of length=${e0.length}`)}function Ke$1(e0){if(typeof e0!="function"||typeof e0.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ne(e0.outputLen),Ne(e0.blockLen)}function je(e0,r=!0){if(e0.destroyed)throw new Error("Hash instance has been destroyed");if(r&&e0.finished)throw new Error("Hash#digest() has already been called")}function Ue(e0,r){Be(e0);const t0=r.outputLen;if(e0.length<t0)throw new Error(`digestInto() expects output buffer of length at least ${t0}`)}Object.defineProperty(Le,"__esModule",{value:!0}),Le.isBytes=De,Le.number=Ne,Le.bool=$e$1,Le.bytes=Be,Le.hash=Ke$1,Le.exists=je,Le.output=Ue;const He$1={number:Ne,bool:$e$1,bytes:Be,hash:Ke$1,exists:je,output:Ue};Le.default=He$1;var Fe={},ze={};Object.defineProperty(ze,"__esModule",{value:!0}),ze.crypto=void 0,ze.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,function(e0){Object.defineProperty(e0,"__esModule",{value:!0}),e0.Hash=e0.nextTick=e0.byteSwapIfBE=e0.byteSwap=e0.isLE=e0.rotl=e0.rotr=e0.createView=e0.u32=e0.u8=void 0,e0.isBytes=function(c0){return c0 instanceof Uint8Array||c0!=null&&typeof c0=="object"&&c0.constructor.name==="Uint8Array"},e0.byteSwap32=function(c0){for(let l0=0;l0<c0.length;l0++)c0[l0]=(0,e0.byteSwap)(c0[l0])},e0.bytesToHex=function(c0){(0,t0.bytes)(c0);let l0="";for(let u0=0;u0<c0.length;u0++)l0+=n0[c0[u0]];return l0},e0.hexToBytes=function(c0){if(typeof c0!="string")throw new Error("hex string expected, got "+typeof c0);const l0=c0.length,u0=l0/2;if(l0%2)throw new Error("padded hex string expected, got unpadded hex of length "+l0);const h0=new Uint8Array(u0);for(let g0=0,w0=0;g0<u0;g0++,w0+=2){const m0=i0(c0.charCodeAt(w0)),S0=i0(c0.charCodeAt(w0+1));if(m0===void 0||S0===void 0){const b0=c0[w0]+c0[w0+1];throw new Error('hex string expected, got non-hex character "'+b0+'" at index '+w0)}h0[g0]=16*m0+S0}return h0},e0.asyncLoop=async function(c0,l0,u0){let h0=Date.now();for(let g0=0;g0<c0;g0++){u0(g0);const w0=Date.now()-h0;w0>=0&&w0<l0||(await(0,e0.nextTick)(),h0+=w0)}},e0.utf8ToBytes=o0,e0.toBytes=s0,e0.concatBytes=function(...c0){let l0=0;for(let h0=0;h0<c0.length;h0++){const g0=c0[h0];(0,t0.bytes)(g0),l0+=g0.length}const u0=new Uint8Array(l0);for(let h0=0,g0=0;h0<c0.length;h0++){const w0=c0[h0];u0.set(w0,g0),g0+=w0.length}return u0},e0.checkOpts=function(c0,l0){if(l0!==void 0&&a0.call(l0)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(c0,l0)},e0.wrapConstructor=function(c0){const l0=h0=>c0().update(s0(h0)).digest(),u0=c0();return l0.outputLen=u0.outputLen,l0.blockLen=u0.blockLen,l0.create=()=>c0(),l0},e0.wrapConstructorWithOpts=function(c0){const l0=(h0,g0)=>c0(g0).update(s0(h0)).digest(),u0=c0({});return l0.outputLen=u0.outputLen,l0.blockLen=u0.blockLen,l0.create=h0=>c0(h0),l0},e0.wrapXOFConstructorWithOpts=function(c0){const l0=(h0,g0)=>c0(g0).update(s0(h0)).digest(),u0=c0({});return l0.outputLen=u0.outputLen,l0.blockLen=u0.blockLen,l0.create=h0=>c0(h0),l0},e0.randomBytes=function(c0=32){if(r.crypto&&typeof r.crypto.getRandomValues=="function")return r.crypto.getRandomValues(new Uint8Array(c0));if(r.crypto&&typeof r.crypto.randomBytes=="function")return r.crypto.randomBytes(c0);throw new Error("crypto.getRandomValues must be defined")};const r=ze,t0=Le;e0.u8=c0=>new Uint8Array(c0.buffer,c0.byteOffset,c0.byteLength),e0.u32=c0=>new Uint32Array(c0.buffer,c0.byteOffset,Math.floor(c0.byteLength/4)),e0.createView=c0=>new DataView(c0.buffer,c0.byteOffset,c0.byteLength),e0.rotr=(c0,l0)=>c0<<32-l0|c0>>>l0,e0.rotl=(c0,l0)=>c0<<l0|c0>>>32-l0>>>0,e0.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,e0.byteSwap=c0=>c0<<24&4278190080|c0<<8&16711680|c0>>>8&65280|c0>>>24&255,e0.byteSwapIfBE=e0.isLE?c0=>c0:c0=>(0,e0.byteSwap)(c0);const n0=Array.from({length:256},(c0,l0)=>l0.toString(16).padStart(2,"0")),r0={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function i0(c0){return c0>=r0._0&&c0<=r0._9?c0-r0._0:c0>=r0._A&&c0<=r0._F?c0-(r0._A-10):c0>=r0._a&&c0<=r0._f?c0-(r0._a-10):void 0}function o0(c0){if(typeof c0!="string")throw new Error("utf8ToBytes expected string, got "+typeof c0);return new Uint8Array(new TextEncoder().encode(c0))}function s0(c0){return typeof c0=="string"&&(c0=o0(c0)),(0,t0.bytes)(c0),c0}e0.nextTick=async()=>{},e0.Hash=class{clone(){return this._cloneInto()}};const a0={}.toString}(Fe),Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.HashMD=Oe.Maj=Oe.Chi=void 0;const qe$1=Le,We$1=Fe;Oe.Chi=(e0,r,t0)=>e0&r^~e0&t0;Oe.Maj=(e0,r,t0)=>e0&r^e0&t0^r&t0;Oe.HashMD=class extends We$1.Hash{constructor(e0,r,t0,n0){super(),this.blockLen=e0,this.outputLen=r,this.padOffset=t0,this.isLE=n0,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e0),this.view=(0,We$1.createView)(this.buffer)}update(e0){(0,qe$1.exists)(this);const{view:r,buffer:t0,blockLen:n0}=this,r0=(e0=(0,We$1.toBytes)(e0)).length;for(let i0=0;i0<r0;){const o0=Math.min(n0-this.pos,r0-i0);if(o0!==n0)t0.set(e0.subarray(i0,i0+o0),this.pos),this.pos+=o0,i0+=o0,this.pos===n0&&(this.process(r,0),this.pos=0);else{const s0=(0,We$1.createView)(e0);for(;n0<=r0-i0;i0+=n0)this.process(s0,i0)}}return this.length+=e0.length,this.roundClean(),this}digestInto(e0){(0,qe$1.exists)(this),(0,qe$1.output)(e0,this),this.finished=!0;const{buffer:r,view:t0,blockLen:n0,isLE:r0}=this;let{pos:i0}=this;r[i0++]=128,this.buffer.subarray(i0).fill(0),this.padOffset>n0-i0&&(this.process(t0,0),i0=0);for(let l0=i0;l0<n0;l0++)r[l0]=0;(function(l0,u0,h0,g0){if(typeof l0.setBigUint64=="function")return l0.setBigUint64(u0,h0,g0);const w0=BigInt(32),m0=BigInt(4294967295),S0=Number(h0>>w0&m0),b0=Number(h0&m0),T0=g0?4:0,N0=g0?0:4;l0.setUint32(u0+T0,S0,g0),l0.setUint32(u0+N0,b0,g0)})(t0,n0-8,BigInt(8*this.length),r0),this.process(t0,0);const o0=(0,We$1.createView)(e0),s0=this.outputLen;if(s0%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const a0=s0/4,c0=this.get();if(a0>c0.length)throw new Error("_sha2: outputLen bigger than state");for(let l0=0;l0<a0;l0++)o0.setUint32(4*l0,c0[l0],r0)}digest(){const{buffer:e0,outputLen:r}=this;this.digestInto(e0);const t0=e0.slice(0,r);return this.destroy(),t0}_cloneInto(e0){e0||(e0=new this.constructor),e0.set(...this.get());const{blockLen:r,buffer:t0,length:n0,finished:r0,destroyed:i0,pos:o0}=this;return e0.length=n0,e0.pos=o0,e0.finished=r0,e0.destroyed=i0,n0%r&&e0.buffer.set(t0),e0}};var Ve$1={};Object.defineProperty(Ve$1,"__esModule",{value:!0}),Ve$1.add5L=Ve$1.add5H=Ve$1.add4H=Ve$1.add4L=Ve$1.add3H=Ve$1.add3L=Ve$1.rotlBL=Ve$1.rotlBH=Ve$1.rotlSL=Ve$1.rotlSH=Ve$1.rotr32L=Ve$1.rotr32H=Ve$1.rotrBL=Ve$1.rotrBH=Ve$1.rotrSL=Ve$1.rotrSH=Ve$1.shrSL=Ve$1.shrSH=Ve$1.toBig=void 0,Ve$1.fromBig=Ze$1,Ve$1.split=Je$1,Ve$1.add=ut$1;const Ge$1=BigInt(2**32-1),Ye$1=BigInt(32);function Ze$1(e0,r=!1){return r?{h:Number(e0&Ge$1),l:Number(e0>>Ye$1&Ge$1)}:{h:0|Number(e0>>Ye$1&Ge$1),l:0|Number(e0&Ge$1)}}function Je$1(e0,r=!1){let t0=new Uint32Array(e0.length),n0=new Uint32Array(e0.length);for(let r0=0;r0<e0.length;r0++){const{h:i0,l:o0}=Ze$1(e0[r0],r);[t0[r0],n0[r0]]=[i0,o0]}return[t0,n0]}const Xe$1=(e0,r)=>BigInt(e0>>>0)<<Ye$1|BigInt(r>>>0);Ve$1.toBig=Xe$1;const Qe$1=(e0,r,t0)=>e0>>>t0;Ve$1.shrSH=Qe$1;const et$1=(e0,r,t0)=>e0<<32-t0|r>>>t0;Ve$1.shrSL=et$1;const tt$1=(e0,r,t0)=>e0>>>t0|r<<32-t0;Ve$1.rotrSH=tt$1;const nt$1=(e0,r,t0)=>e0<<32-t0|r>>>t0;Ve$1.rotrSL=nt$1;const rt$1=(e0,r,t0)=>e0<<64-t0|r>>>t0-32;Ve$1.rotrBH=rt$1;const it$1=(e0,r,t0)=>e0>>>t0-32|r<<64-t0;Ve$1.rotrBL=it$1;const ot$1=(e0,r)=>r;Ve$1.rotr32H=ot$1;const st$1=(e0,r)=>e0;Ve$1.rotr32L=st$1;const at$1=(e0,r,t0)=>e0<<t0|r>>>32-t0;Ve$1.rotlSH=at$1;const ct$1=(e0,r,t0)=>r<<t0|e0>>>32-t0;Ve$1.rotlSL=ct$1;const lt$1=(e0,r,t0)=>r<<t0-32|e0>>>64-t0;Ve$1.rotlBH=lt$1;const dt$1=(e0,r,t0)=>e0<<t0-32|r>>>64-t0;function ut$1(e0,r,t0,n0){const r0=(r>>>0)+(n0>>>0);return{h:e0+t0+(r0/2**32|0)|0,l:0|r0}}Ve$1.rotlBL=dt$1;const ht$1=(e0,r,t0)=>(e0>>>0)+(r>>>0)+(t0>>>0);Ve$1.add3L=ht$1;const ft$1=(e0,r,t0,n0)=>r+t0+n0+(e0/2**32|0)|0;Ve$1.add3H=ft$1;const pt$1=(e0,r,t0,n0)=>(e0>>>0)+(r>>>0)+(t0>>>0)+(n0>>>0);Ve$1.add4L=pt$1;const gt$1=(e0,r,t0,n0,r0)=>r+t0+n0+r0+(e0/2**32|0)|0;Ve$1.add4H=gt$1;const mt$1=(e0,r,t0,n0,r0)=>(e0>>>0)+(r>>>0)+(t0>>>0)+(n0>>>0)+(r0>>>0);Ve$1.add5L=mt$1;const yt$1=(e0,r,t0,n0,r0,i0)=>r+t0+n0+r0+i0+(e0/2**32|0)|0;Ve$1.add5H=yt$1;const vt$1={fromBig:Ze$1,split:Je$1,toBig:Xe$1,shrSH:Qe$1,shrSL:et$1,rotrSH:tt$1,rotrSL:nt$1,rotrBH:rt$1,rotrBL:it$1,rotr32H:ot$1,rotr32L:st$1,rotlSH:at$1,rotlSL:ct$1,rotlBH:lt$1,rotlBL:dt$1,add:ut$1,add3L:ht$1,add3H:ft$1,add4L:pt$1,add4H:gt$1,add5H:yt$1,add5L:mt$1};Ve$1.default=vt$1,Object.defineProperty(Te,"__esModule",{value:!0}),Te.sha384=Te.sha512_256=Te.sha512_224=Te.sha512=Te.SHA384=Te.SHA512_256=Te.SHA512_224=Te.SHA512=void 0;const bt$1=Oe,wt$1=Ve$1,Et$1=Fe,[St$1,_t]=(()=>wt$1.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e0=>BigInt(e0))))(),Ct=new Uint32Array(80),kt=new Uint32Array(80);class xt extends bt$1.HashMD{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:r,Al:t0,Bh:n0,Bl:r0,Ch:i0,Cl:o0,Dh:s0,Dl:a0,Eh:c0,El:l0,Fh:u0,Fl:h0,Gh:g0,Gl:w0,Hh:m0,Hl:S0}=this;return[r,t0,n0,r0,i0,o0,s0,a0,c0,l0,u0,h0,g0,w0,m0,S0]}set(r,t0,n0,r0,i0,o0,s0,a0,c0,l0,u0,h0,g0,w0,m0,S0){this.Ah=0|r,this.Al=0|t0,this.Bh=0|n0,this.Bl=0|r0,this.Ch=0|i0,this.Cl=0|o0,this.Dh=0|s0,this.Dl=0|a0,this.Eh=0|c0,this.El=0|l0,this.Fh=0|u0,this.Fl=0|h0,this.Gh=0|g0,this.Gl=0|w0,this.Hh=0|m0,this.Hl=0|S0}process(r,t0){for(let N0=0;N0<16;N0++,t0+=4)Ct[N0]=r.getUint32(t0),kt[N0]=r.getUint32(t0+=4);for(let N0=16;N0<80;N0++){const x0=0|Ct[N0-15],k0=0|kt[N0-15],B0=wt$1.default.rotrSH(x0,k0,1)^wt$1.default.rotrSH(x0,k0,8)^wt$1.default.shrSH(x0,k0,7),H0=wt$1.default.rotrSL(x0,k0,1)^wt$1.default.rotrSL(x0,k0,8)^wt$1.default.shrSL(x0,k0,7),G0=0|Ct[N0-2],V0=0|kt[N0-2],K0=wt$1.default.rotrSH(G0,V0,19)^wt$1.default.rotrBH(G0,V0,61)^wt$1.default.shrSH(G0,V0,6),W0=wt$1.default.rotrSL(G0,V0,19)^wt$1.default.rotrBL(G0,V0,61)^wt$1.default.shrSL(G0,V0,6),F0=wt$1.default.add4L(H0,W0,kt[N0-7],kt[N0-16]),O0=wt$1.default.add4H(F0,B0,K0,Ct[N0-7],Ct[N0-16]);Ct[N0]=0|O0,kt[N0]=0|F0}let{Ah:n0,Al:r0,Bh:i0,Bl:o0,Ch:s0,Cl:a0,Dh:c0,Dl:l0,Eh:u0,El:h0,Fh:g0,Fl:w0,Gh:m0,Gl:S0,Hh:b0,Hl:T0}=this;for(let N0=0;N0<80;N0++){const x0=wt$1.default.rotrSH(u0,h0,14)^wt$1.default.rotrSH(u0,h0,18)^wt$1.default.rotrBH(u0,h0,41),k0=wt$1.default.rotrSL(u0,h0,14)^wt$1.default.rotrSL(u0,h0,18)^wt$1.default.rotrBL(u0,h0,41),B0=u0&g0^~u0&m0,H0=h0&w0^~h0&S0,G0=wt$1.default.add5L(T0,k0,H0,_t[N0],kt[N0]),V0=wt$1.default.add5H(G0,b0,x0,B0,St$1[N0],Ct[N0]),K0=0|G0,W0=wt$1.default.rotrSH(n0,r0,28)^wt$1.default.rotrBH(n0,r0,34)^wt$1.default.rotrBH(n0,r0,39),F0=wt$1.default.rotrSL(n0,r0,28)^wt$1.default.rotrBL(n0,r0,34)^wt$1.default.rotrBL(n0,r0,39),O0=n0&i0^n0&s0^i0&s0,f0=r0&o0^r0&a0^o0&a0;b0=0|m0,T0=0|S0,m0=0|g0,S0=0|w0,g0=0|u0,w0=0|h0,{h:u0,l:h0}=wt$1.default.add(0|c0,0|l0,0|V0,0|K0),c0=0|s0,l0=0|a0,s0=0|i0,a0=0|o0,i0=0|n0,o0=0|r0;const p0=wt$1.default.add3L(K0,F0,f0);n0=wt$1.default.add3H(p0,V0,W0,O0),r0=0|p0}({h:n0,l:r0}=wt$1.default.add(0|this.Ah,0|this.Al,0|n0,0|r0)),{h:i0,l:o0}=wt$1.default.add(0|this.Bh,0|this.Bl,0|i0,0|o0),{h:s0,l:a0}=wt$1.default.add(0|this.Ch,0|this.Cl,0|s0,0|a0),{h:c0,l:l0}=wt$1.default.add(0|this.Dh,0|this.Dl,0|c0,0|l0),{h:u0,l:h0}=wt$1.default.add(0|this.Eh,0|this.El,0|u0,0|h0),{h:g0,l:w0}=wt$1.default.add(0|this.Fh,0|this.Fl,0|g0,0|w0),{h:m0,l:S0}=wt$1.default.add(0|this.Gh,0|this.Gl,0|m0,0|S0),{h:b0,l:T0}=wt$1.default.add(0|this.Hh,0|this.Hl,0|b0,0|T0),this.set(n0,r0,i0,o0,s0,a0,c0,l0,u0,h0,g0,w0,m0,S0,b0,T0)}roundClean(){Ct.fill(0),kt.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}Te.SHA512=xt;let Mt$1=class extends xt{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}};Te.SHA512_224=Mt$1;let At$1=class extends xt{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}};Te.SHA512_256=At$1;class It extends xt{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}Te.SHA384=It,Te.sha512=(0,Et$1.wrapConstructor)(()=>new xt),Te.sha512_224=(0,Et$1.wrapConstructor)(()=>new Mt$1),Te.sha512_256=(0,Et$1.wrapConstructor)(()=>new At$1),Te.sha384=(0,Et$1.wrapConstructor)(()=>new It);var Rt$1={},Pt$1={},Tt$1={},Ot$1={};Object.defineProperty(Ot$1,"__esModule",{value:!0}),Ot$1.notImplemented=Ot$1.bitMask=void 0,Ot$1.isBytes=Dt$1,Ot$1.abytes=Bt$1,Ot$1.abool=function(e0,r){if(typeof r!="boolean")throw new Error(`${e0} must be valid boolean, got "${r}".`)},Ot$1.bytesToHex=jt$1,Ot$1.numberToHexUnpadded=Ut$1,Ot$1.hexToNumber=Ht$1,Ot$1.hexToBytes=qt$1,Ot$1.bytesToNumberBE=function(e0){return Ht$1(jt$1(e0))},Ot$1.bytesToNumberLE=function(e0){return Bt$1(e0),Ht$1(jt$1(Uint8Array.from(e0).reverse()))},Ot$1.numberToBytesBE=Wt$1,Ot$1.numberToBytesLE=function(e0,r){return Wt$1(e0,r).reverse()},Ot$1.numberToVarBytesBE=function(e0){return qt$1(Ut$1(e0))},Ot$1.ensureBytes=function(e0,r,t0){let n0;if(typeof r=="string")try{n0=qt$1(r)}catch(i0){throw new Error(`${e0} must be valid hex string, got "${r}". Cause: ${i0}`)}else{if(!Dt$1(r))throw new Error(`${e0} must be hex string or Uint8Array`);n0=Uint8Array.from(r)}const r0=n0.length;if(typeof t0=="number"&&r0!==t0)throw new Error(`${e0} expected ${t0} bytes, got ${r0}`);return n0},Ot$1.concatBytes=Vt$1,Ot$1.equalBytes=function(e0,r){if(e0.length!==r.length)return!1;let t0=0;for(let n0=0;n0<e0.length;n0++)t0|=e0[n0]^r[n0];return t0===0},Ot$1.utf8ToBytes=function(e0){if(typeof e0!="string")throw new Error("utf8ToBytes expected string, got "+typeof e0);return new Uint8Array(new TextEncoder().encode(e0))},Ot$1.inRange=Yt$1,Ot$1.aInRange=function(e0,r,t0,n0){if(!Yt$1(r,t0,n0))throw new Error(`expected valid ${e0}: ${t0} <= n < ${n0}, got ${typeof r} ${r}`)},Ot$1.bitLen=function(e0){let r;for(r=0;e0>Lt$1;e0>>=Nt$1,r+=1);return r},Ot$1.bitGet=function(e0,r){return e0>>BigInt(r)&Nt$1},Ot$1.bitSet=function(e0,r,t0){return e0|(t0?Nt$1:Lt$1)<<BigInt(r)},Ot$1.createHmacDrbg=function(e0,r,t0){if(typeof e0!="number"||e0<2)throw new Error("hashLen must be a number");if(typeof r!="number"||r<2)throw new Error("qByteLen must be a number");if(typeof t0!="function")throw new Error("hmacFn must be a function");let n0=Zt(e0),r0=Zt(e0),i0=0;const o0=()=>{n0.fill(1),r0.fill(0),i0=0},s0=(...l0)=>t0(r0,n0,...l0),a0=(l0=Zt())=>{r0=s0(Jt([0]),l0),n0=s0(),l0.length!==0&&(r0=s0(Jt([1]),l0),n0=s0())},c0=()=>{if(i0++>=1e3)throw new Error("drbg: tried 1000 values");let l0=0;const u0=[];for(;l0<r;){n0=s0();const h0=n0.slice();u0.push(h0),l0+=n0.length}return Vt$1(...u0)};return(l0,u0)=>{let h0;for(o0(),a0(l0);!(h0=u0(c0()));)a0();return o0(),h0}},Ot$1.validateObject=function(e0,r,t0={}){const n0=(r0,i0,o0)=>{const s0=Xt[i0];if(typeof s0!="function")throw new Error(`Invalid validator "${i0}", expected function`);const a0=e0[r0];if(!(o0&&a0===void 0||s0(a0,e0)))throw new Error(`Invalid param ${String(r0)}=${a0} (${typeof a0}), expected ${i0}`)};for(const[r0,i0]of Object.entries(r))n0(r0,i0,!1);for(const[r0,i0]of Object.entries(t0))n0(r0,i0,!0);return e0},Ot$1.memoized=function(e0){const r=new WeakMap;return(t0,...n0)=>{const r0=r.get(t0);if(r0!==void 0)return r0;const i0=e0(t0,...n0);return r.set(t0,i0),i0}};const Lt$1=BigInt(0),Nt$1=BigInt(1),$t$1=BigInt(2);function Dt$1(e0){return e0 instanceof Uint8Array||e0!=null&&typeof e0=="object"&&e0.constructor.name==="Uint8Array"}function Bt$1(e0){if(!Dt$1(e0))throw new Error("Uint8Array expected")}const Kt$1=Array.from({length:256},(e0,r)=>r.toString(16).padStart(2,"0"));function jt$1(e0){Bt$1(e0);let r="";for(let t0=0;t0<e0.length;t0++)r+=Kt$1[e0[t0]];return r}function Ut$1(e0){const r=e0.toString(16);return 1&r.length?`0${r}`:r}function Ht$1(e0){if(typeof e0!="string")throw new Error("hex string expected, got "+typeof e0);return BigInt(e0===""?"0":`0x${e0}`)}const Ft$1={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function zt$1(e0){return e0>=Ft$1._0&&e0<=Ft$1._9?e0-Ft$1._0:e0>=Ft$1._A&&e0<=Ft$1._F?e0-(Ft$1._A-10):e0>=Ft$1._a&&e0<=Ft$1._f?e0-(Ft$1._a-10):void 0}function qt$1(e0){if(typeof e0!="string")throw new Error("hex string expected, got "+typeof e0);const r=e0.length,t0=r/2;if(r%2)throw new Error("padded hex string expected, got unpadded hex of length "+r);const n0=new Uint8Array(t0);for(let r0=0,i0=0;r0<t0;r0++,i0+=2){const o0=zt$1(e0.charCodeAt(i0)),s0=zt$1(e0.charCodeAt(i0+1));if(o0===void 0||s0===void 0){const a0=e0[i0]+e0[i0+1];throw new Error('hex string expected, got non-hex character "'+a0+'" at index '+i0)}n0[r0]=16*o0+s0}return n0}function Wt$1(e0,r){return qt$1(e0.toString(16).padStart(2*r,"0"))}function Vt$1(...e0){let r=0;for(let n0=0;n0<e0.length;n0++){const r0=e0[n0];Bt$1(r0),r+=r0.length}const t0=new Uint8Array(r);for(let n0=0,r0=0;n0<e0.length;n0++){const i0=e0[n0];t0.set(i0,r0),r0+=i0.length}return t0}const Gt=e0=>typeof e0=="bigint"&&Lt$1<=e0;function Yt$1(e0,r,t0){return Gt(e0)&&Gt(r)&&Gt(t0)&&r<=e0&&e0<t0}Ot$1.bitMask=e0=>($t$1<<BigInt(e0-1))-Nt$1;const Zt=e0=>new Uint8Array(e0),Jt=e0=>Uint8Array.from(e0),Xt={bigint:e0=>typeof e0=="bigint",function:e0=>typeof e0=="function",boolean:e0=>typeof e0=="boolean",string:e0=>typeof e0=="string",stringOrUint8Array:e0=>typeof e0=="string"||Dt$1(e0),isSafeInteger:e0=>Number.isSafeInteger(e0),array:e0=>Array.isArray(e0),field:(e0,r)=>r.Fp.isValid(e0),hash:e0=>typeof e0=="function"&&Number.isSafeInteger(e0.outputLen)};Ot$1.notImplemented=()=>{throw new Error("not implemented")},Object.defineProperty(Tt$1,"__esModule",{value:!0}),Tt$1.isNegativeLE=void 0,Tt$1.mod=cn,Tt$1.pow=ln,Tt$1.pow2=function(e0,r,t0){let n0=e0;for(;r-- >en;)n0*=n0,n0%=t0;return n0},Tt$1.invert=dn,Tt$1.tonelliShanks=un,Tt$1.FpSqrt=hn,Tt$1.validateField=function(e0){const r=fn.reduce((t0,n0)=>(t0[n0]="function",t0),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return(0,Qt$1.validateObject)(e0,r)},Tt$1.FpPow=pn,Tt$1.FpInvertBatch=gn,Tt$1.FpDiv=function(e0,r,t0){return e0.mul(r,typeof t0=="bigint"?dn(t0,e0.ORDER):e0.inv(t0))},Tt$1.FpLegendre=mn,Tt$1.FpIsSquare=function(e0){const r=mn(e0.ORDER);return t0=>{const n0=r(e0,t0);return e0.eql(n0,e0.ZERO)||e0.eql(n0,e0.ONE)}},Tt$1.nLength=yn,Tt$1.Field=function(e0,r,t0=!1,n0={}){if(e0<=en)throw new Error(`Expected Field ORDER > 0, got ${e0}`);const{nBitLength:r0,nByteLength:i0}=yn(e0,r);if(i0>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o0=hn(e0),s0=Object.freeze({ORDER:e0,BITS:r0,BYTES:i0,MASK:(0,Qt$1.bitMask)(r0),ZERO:en,ONE:tn,create:a0=>cn(a0,e0),isValid:a0=>{if(typeof a0!="bigint")throw new Error("Invalid field element: expected bigint, got "+typeof a0);return en<=a0&&a0<e0},is0:a0=>a0===en,isOdd:a0=>(a0&tn)===tn,neg:a0=>cn(-a0,e0),eql:(a0,c0)=>a0===c0,sqr:a0=>cn(a0*a0,e0),add:(a0,c0)=>cn(a0+c0,e0),sub:(a0,c0)=>cn(a0-c0,e0),mul:(a0,c0)=>cn(a0*c0,e0),pow:(a0,c0)=>pn(s0,a0,c0),div:(a0,c0)=>cn(a0*dn(c0,e0),e0),sqrN:a0=>a0*a0,addN:(a0,c0)=>a0+c0,subN:(a0,c0)=>a0-c0,mulN:(a0,c0)=>a0*c0,inv:a0=>dn(a0,e0),sqrt:n0.sqrt||(a0=>o0(s0,a0)),invertBatch:a0=>gn(s0,a0),cmov:(a0,c0,l0)=>l0?c0:a0,toBytes:a0=>t0?(0,Qt$1.numberToBytesLE)(a0,i0):(0,Qt$1.numberToBytesBE)(a0,i0),fromBytes:a0=>{if(a0.length!==i0)throw new Error(`Fp.fromBytes: expected ${i0}, got ${a0.length}`);return t0?(0,Qt$1.bytesToNumberLE)(a0):(0,Qt$1.bytesToNumberBE)(a0)}});return Object.freeze(s0)},Tt$1.FpSqrtOdd=function(e0,r){if(!e0.isOdd)throw new Error("Field doesn't have isOdd");const t0=e0.sqrt(r);return e0.isOdd(t0)?t0:e0.neg(t0)},Tt$1.FpSqrtEven=function(e0,r){if(!e0.isOdd)throw new Error("Field doesn't have isOdd");const t0=e0.sqrt(r);return e0.isOdd(t0)?e0.neg(t0):t0},Tt$1.hashToPrivateScalar=function(e0,r,t0=!1){e0=(0,Qt$1.ensureBytes)("privateHash",e0);const n0=e0.length,r0=yn(r).nByteLength+8;if(r0<24||n0<r0||n0>1024)throw new Error(`hashToPrivateScalar: expected ${r0}-1024 bytes of input, got ${n0}`);const i0=t0?(0,Qt$1.bytesToNumberLE)(e0):(0,Qt$1.bytesToNumberBE)(e0);return cn(i0,r-tn)+tn},Tt$1.getFieldBytesLength=vn,Tt$1.getMinHashLength=bn$1,Tt$1.mapHashToField=function(e0,r,t0=!1){const n0=e0.length,r0=vn(r),i0=bn$1(r);if(n0<16||n0<i0||n0>1024)throw new Error(`expected ${i0}-1024 bytes of input, got ${n0}`);const o0=cn(t0?(0,Qt$1.bytesToNumberBE)(e0):(0,Qt$1.bytesToNumberLE)(e0),r-tn)+tn;return t0?(0,Qt$1.numberToBytesLE)(o0,r0):(0,Qt$1.numberToBytesBE)(o0,r0)};const Qt$1=Ot$1,en=BigInt(0),tn=BigInt(1),nn=BigInt(2),rn=BigInt(3),on=BigInt(4),sn=BigInt(5),an$1=BigInt(8);function cn(e0,r){const t0=e0%r;return t0>=en?t0:r+t0}function ln(e0,r,t0){if(t0<=en||r<en)throw new Error("Expected power/modulo > 0");if(t0===tn)return en;let n0=tn;for(;r>en;)r&tn&&(n0=n0*e0%t0),e0=e0*e0%t0,r>>=tn;return n0}function dn(e0,r){if(e0===en||r<=en)throw new Error(`invert: expected positive integers, got n=${e0} mod=${r}`);let t0=cn(e0,r),n0=r,r0=en,i0=tn;for(;t0!==en;){const o0=n0%t0,s0=r0-i0*(n0/t0);n0=t0,t0=o0,r0=i0,i0=s0}if(n0!==tn)throw new Error("invert: does not exist");return cn(r0,r)}function un(e0){const r=(e0-tn)/nn;let t0,n0,r0;for(t0=e0-tn,n0=0;t0%nn===en;t0/=nn,n0++);for(r0=nn;r0<e0&&ln(r0,r,e0)!==e0-tn;r0++);if(n0===1){const o0=(e0+tn)/on;return function(s0,a0){const c0=s0.pow(a0,o0);if(!s0.eql(s0.sqr(c0),a0))throw new Error("Cannot find square root");return c0}}const i0=(t0+tn)/nn;return function(o0,s0){if(o0.pow(s0,r)===o0.neg(o0.ONE))throw new Error("Cannot find square root");let a0=n0,c0=o0.pow(o0.mul(o0.ONE,r0),t0),l0=o0.pow(s0,i0),u0=o0.pow(s0,t0);for(;!o0.eql(u0,o0.ONE);){if(o0.eql(u0,o0.ZERO))return o0.ZERO;let h0=1;for(let w0=o0.sqr(u0);h0<a0&&!o0.eql(w0,o0.ONE);h0++)w0=o0.sqr(w0);const g0=o0.pow(c0,tn<<BigInt(a0-h0-1));c0=o0.sqr(g0),l0=o0.mul(l0,g0),u0=o0.mul(u0,c0),a0=h0}return l0}}function hn(e0){if(e0%on===rn){const r=(e0+tn)/on;return function(t0,n0){const r0=t0.pow(n0,r);if(!t0.eql(t0.sqr(r0),n0))throw new Error("Cannot find square root");return r0}}if(e0%an$1===sn){const r=(e0-sn)/an$1;return function(t0,n0){const r0=t0.mul(n0,nn),i0=t0.pow(r0,r),o0=t0.mul(n0,i0),s0=t0.mul(t0.mul(o0,nn),i0),a0=t0.mul(o0,t0.sub(s0,t0.ONE));if(!t0.eql(t0.sqr(a0),n0))throw new Error("Cannot find square root");return a0}}return un(e0)}BigInt(9),BigInt(16);Tt$1.isNegativeLE=(e0,r)=>(cn(e0,r)&tn)===tn;const fn=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function pn(e0,r,t0){if(t0<en)throw new Error("Expected power > 0");if(t0===en)return e0.ONE;if(t0===tn)return r;let n0=e0.ONE,r0=r;for(;t0>en;)t0&tn&&(n0=e0.mul(n0,r0)),r0=e0.sqr(r0),t0>>=tn;return n0}function gn(e0,r){const t0=new Array(r.length),n0=r.reduce((i0,o0,s0)=>e0.is0(o0)?i0:(t0[s0]=i0,e0.mul(i0,o0)),e0.ONE),r0=e0.inv(n0);return r.reduceRight((i0,o0,s0)=>e0.is0(o0)?i0:(t0[s0]=e0.mul(i0,t0[s0]),e0.mul(i0,o0)),r0),t0}function mn(e0){const r=(e0-tn)/nn;return(t0,n0)=>t0.pow(n0,r)}function yn(e0,r){const t0=r!==void 0?r:e0.toString(2).length;return{nBitLength:t0,nByteLength:Math.ceil(t0/8)}}function vn(e0){if(typeof e0!="bigint")throw new Error("field order must be bigint");const r=e0.toString(2).length;return Math.ceil(r/8)}function bn$1(e0){const r=vn(e0);return r+Math.ceil(r/2)}Object.defineProperty(Pt$1,"__esModule",{value:!0}),Pt$1.wNAF=function(e0,r){const t0=(i0,o0)=>{const s0=o0.negate();return i0?s0:o0},n0=i0=>{if(!Number.isSafeInteger(i0)||i0<=0||i0>r)throw new Error(`Wrong window size=${i0}, should be [1..${r}]`)},r0=i0=>(n0(i0),{windows:Math.ceil(r/i0)+1,windowSize:2**(i0-1)});return{constTimeNegate:t0,unsafeLadder(i0,o0){let s0=e0.ZERO,a0=i0;for(;o0>Sn;)o0&_n&&(s0=s0.add(a0)),a0=a0.double(),o0>>=_n;return s0},precomputeWindow(i0,o0){const{windows:s0,windowSize:a0}=r0(o0),c0=[];let l0=i0,u0=l0;for(let h0=0;h0<s0;h0++){u0=l0,c0.push(u0);for(let g0=1;g0<a0;g0++)u0=u0.add(l0),c0.push(u0);l0=u0.double()}return c0},wNAF(i0,o0,s0){const{windows:a0,windowSize:c0}=r0(i0);let l0=e0.ZERO,u0=e0.BASE;const h0=BigInt(2**i0-1),g0=2**i0,w0=BigInt(i0);for(let m0=0;m0<a0;m0++){const S0=m0*c0;let b0=Number(s0&h0);s0>>=w0,b0>c0&&(b0-=g0,s0+=_n);const T0=S0,N0=S0+Math.abs(b0)-1,x0=m0%2!=0,k0=b0<0;b0===0?u0=u0.add(t0(x0,o0[T0])):l0=l0.add(t0(k0,o0[N0]))}return{p:l0,f:u0}},wNAFCached(i0,o0,s0){const a0=kn.get(i0)||1;let c0=Cn.get(i0);return c0||(c0=this.precomputeWindow(i0,a0),a0!==1&&Cn.set(i0,s0(c0))),this.wNAF(a0,c0,o0)},setWindowSize(i0,o0){n0(o0),kn.set(i0,o0),Cn.delete(i0)}}},Pt$1.pippenger=function(e0,r,t0,n0){if(!Array.isArray(t0)||!Array.isArray(n0)||n0.length!==t0.length)throw new Error("arrays of points and scalars must have equal length");n0.forEach((l0,u0)=>{if(!r.isValid(l0))throw new Error(`wrong scalar at index ${u0}`)}),t0.forEach((l0,u0)=>{if(!(l0 instanceof e0))throw new Error(`wrong point at index ${u0}`)});const r0=(0,En.bitLen)(BigInt(t0.length)),i0=r0>12?r0-3:r0>4?r0-2:r0?2:1,o0=(1<<i0)-1,s0=new Array(o0+1).fill(e0.ZERO),a0=Math.floor((r.BITS-1)/i0)*i0;let c0=e0.ZERO;for(let l0=a0;l0>=0;l0-=i0){s0.fill(e0.ZERO);for(let h0=0;h0<n0.length;h0++){const g0=n0[h0],w0=Number(g0>>BigInt(l0)&BigInt(o0));s0[w0]=s0[w0].add(t0[h0])}let u0=e0.ZERO;for(let h0=s0.length-1,g0=e0.ZERO;h0>0;h0--)g0=g0.add(s0[h0]),u0=u0.add(g0);if(c0=c0.add(u0),l0!==0)for(let h0=0;h0<i0;h0++)c0=c0.double()}return c0},Pt$1.validateBasic=function(e0){return(0,wn.validateField)(e0.Fp),(0,En.validateObject)(e0,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...(0,wn.nLength)(e0.n,e0.nBitLength),...e0,p:e0.Fp.ORDER})};const wn=Tt$1,En=Ot$1,Sn=BigInt(0),_n=BigInt(1),Cn=new WeakMap,kn=new WeakMap;Object.defineProperty(Rt$1,"__esModule",{value:!0}),Rt$1.twistedEdwards=function(e0){const r=function(O0){const f0=(0,xn.validateBasic)(O0);return An.validateObject(O0,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...f0})}(e0),{Fp:t0,n:n0,prehash:r0,hash:i0,randomBytes:o0,nByteLength:s0,h:a0}=r,c0=Tn<<BigInt(8*s0)-Pn,l0=t0.create,u0=(0,Mn.Field)(r.n,r.nBitLength),h0=r.uvRatio||((O0,f0)=>{try{return{isValid:!0,value:t0.sqrt(O0*t0.inv(f0))}}catch{return{isValid:!1,value:Rn}}}),g0=r.adjustScalarBytes||(O0=>O0),w0=r.domain||((O0,f0,p0)=>{if((0,In.abool)("phflag",p0),f0.length||p0)throw new Error("Contexts/pre-hash are not supported");return O0});function m0(O0,f0){An.aInRange("coordinate "+O0,f0,Rn,c0)}function S0(O0){if(!(O0 instanceof N0))throw new Error("ExtendedPoint expected")}const b0=(0,In.memoized)((O0,f0)=>{const{ex:p0,ey:A0,ez:$0}=O0,y0=O0.is0();f0==null&&(f0=y0?On:t0.inv($0));const v0=l0(p0*f0),I0=l0(A0*f0),E0=l0($0*f0);if(y0)return{x:Rn,y:Pn};if(E0!==Pn)throw new Error("invZ was invalid");return{x:v0,y:I0}}),T0=(0,In.memoized)(O0=>{const{a:f0,d:p0}=r;if(O0.is0())throw new Error("bad point: ZERO");const{ex:A0,ey:$0,ez:y0,et:v0}=O0,I0=l0(A0*A0),E0=l0($0*$0),d0=l0(y0*y0),_0=l0(d0*d0),C0=l0(I0*f0);if(l0(d0*l0(C0+E0))!==l0(_0+l0(p0*l0(I0*E0))))throw new Error("bad point: equation left != right (1)");if(l0(A0*$0)!==l0(y0*v0))throw new Error("bad point: equation left != right (2)");return!0});class N0{constructor(f0,p0,A0,$0){this.ex=f0,this.ey=p0,this.ez=A0,this.et=$0,m0("x",f0),m0("y",p0),m0("z",A0),m0("t",$0),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(f0){if(f0 instanceof N0)throw new Error("extended point not allowed");const{x:p0,y:A0}=f0||{};return m0("x",p0),m0("y",A0),new N0(p0,A0,Pn,l0(p0*A0))}static normalizeZ(f0){const p0=t0.invertBatch(f0.map(A0=>A0.ez));return f0.map((A0,$0)=>A0.toAffine(p0[$0])).map(N0.fromAffine)}static msm(f0,p0){return(0,xn.pippenger)(N0,u0,f0,p0)}_setWindowSize(f0){B0.setWindowSize(this,f0)}assertValidity(){T0(this)}equals(f0){S0(f0);const{ex:p0,ey:A0,ez:$0}=this,{ex:y0,ey:v0,ez:I0}=f0,E0=l0(p0*I0),d0=l0(y0*$0),_0=l0(A0*I0),C0=l0(v0*$0);return E0===d0&&_0===C0}is0(){return this.equals(N0.ZERO)}negate(){return new N0(l0(-this.ex),this.ey,this.ez,l0(-this.et))}double(){const{a:f0}=r,{ex:p0,ey:A0,ez:$0}=this,y0=l0(p0*p0),v0=l0(A0*A0),I0=l0(Tn*l0($0*$0)),E0=l0(f0*y0),d0=p0+A0,_0=l0(l0(d0*d0)-y0-v0),C0=E0+v0,L0=C0-I0,D0=E0-v0,j0=l0(_0*L0),z0=l0(C0*D0),Y0=l0(_0*D0),Z0=l0(L0*C0);return new N0(j0,z0,Z0,Y0)}add(f0){S0(f0);const{a:p0,d:A0}=r,{ex:$0,ey:y0,ez:v0,et:I0}=this,{ex:E0,ey:d0,ez:_0,et:C0}=f0;if(p0===BigInt(-1)){const wg=l0((y0-$0)*(d0+E0)),Eg=l0((y0+$0)*(d0-E0)),Ag=l0(Eg-wg);if(Ag===Rn)return this.double();const Ig=l0(v0*Tn*C0),Sg=l0(I0*Tn*_0),Ng=Sg+Ig,Rg=Eg+wg,Mg=Sg-Ig,Dg=l0(Ng*Ag),Lg=l0(Rg*Mg),P0=l0(Ng*Mg),R0=l0(Ag*Rg);return new N0(Dg,Lg,R0,P0)}const L0=l0($0*E0),D0=l0(y0*d0),j0=l0(I0*A0*C0),z0=l0(v0*_0),Y0=l0(($0+y0)*(E0+d0)-L0-D0),Z0=z0-j0,X0=z0+j0,J0=l0(D0-p0*L0),yg=l0(Y0*Z0),_g=l0(X0*J0),vg=l0(Y0*J0),bg=l0(Z0*X0);return new N0(yg,_g,bg,vg)}subtract(f0){return this.add(f0.negate())}wNAF(f0){return B0.wNAFCached(this,f0,N0.normalizeZ)}multiply(f0){const p0=f0;An.aInRange("scalar",p0,Pn,n0);const{p:A0,f:$0}=this.wNAF(p0);return N0.normalizeZ([A0,$0])[0]}multiplyUnsafe(f0){const p0=f0;return An.aInRange("scalar",p0,Rn,n0),p0===Rn?k0:this.equals(k0)||p0===Pn?this:this.equals(x0)?this.wNAF(p0).p:B0.unsafeLadder(this,p0)}isSmallOrder(){return this.multiplyUnsafe(a0).is0()}isTorsionFree(){return B0.unsafeLadder(this,n0).is0()}toAffine(f0){return b0(this,f0)}clearCofactor(){const{h:f0}=r;return f0===Pn?this:this.multiplyUnsafe(f0)}static fromHex(f0,p0=!1){const{d:A0,a:$0}=r,y0=t0.BYTES;f0=(0,In.ensureBytes)("pointHex",f0,y0),(0,In.abool)("zip215",p0);const v0=f0.slice(),I0=f0[y0-1];v0[y0-1]=-129&I0;const E0=An.bytesToNumberLE(v0),d0=p0?c0:t0.ORDER;An.aInRange("pointHex.y",E0,Rn,d0);const _0=l0(E0*E0),C0=l0(_0-Pn),L0=l0(A0*_0-$0);let{isValid:D0,value:j0}=h0(C0,L0);if(!D0)throw new Error("Point.fromHex: invalid y coordinate");const z0=(j0&Pn)===Pn,Y0=(128&I0)!=0;if(!p0&&j0===Rn&&Y0)throw new Error("Point.fromHex: x=0 and x_0=1");return Y0!==z0&&(j0=l0(-j0)),N0.fromAffine({x:j0,y:E0})}static fromPrivateKey(f0){return V0(f0).point}toRawBytes(){const{x:f0,y:p0}=this.toAffine(),A0=An.numberToBytesLE(p0,t0.BYTES);return A0[A0.length-1]|=f0&Pn?128:0,A0}toHex(){return An.bytesToHex(this.toRawBytes())}}N0.BASE=new N0(r.Gx,r.Gy,Pn,l0(r.Gx*r.Gy)),N0.ZERO=new N0(Rn,Pn,Pn,Rn);const{BASE:x0,ZERO:k0}=N0,B0=(0,xn.wNAF)(N0,8*s0);function H0(O0){return(0,Mn.mod)(O0,n0)}function G0(O0){return H0(An.bytesToNumberLE(O0))}function V0(O0){const f0=s0;O0=(0,In.ensureBytes)("private key",O0,f0);const p0=(0,In.ensureBytes)("hashed private key",i0(O0),2*f0),A0=g0(p0.slice(0,f0)),$0=p0.slice(f0,2*f0),y0=G0(A0),v0=x0.multiply(y0),I0=v0.toRawBytes();return{head:A0,prefix:$0,scalar:y0,point:v0,pointBytes:I0}}function K0(O0=new Uint8Array,...f0){const p0=An.concatBytes(...f0);return G0(i0(w0(p0,(0,In.ensureBytes)("context",O0),!!r0)))}const W0=Ln;return x0._setWindowSize(8),{CURVE:r,getPublicKey:function(O0){return V0(O0).pointBytes},sign:function(O0,f0,p0={}){O0=(0,In.ensureBytes)("message",O0),r0&&(O0=r0(O0));const{prefix:A0,scalar:$0,pointBytes:y0}=V0(f0),v0=K0(p0.context,A0,O0),I0=x0.multiply(v0).toRawBytes(),E0=H0(v0+K0(p0.context,I0,y0,O0)*$0);An.aInRange("signature.s",E0,Rn,n0);const d0=An.concatBytes(I0,An.numberToBytesLE(E0,t0.BYTES));return(0,In.ensureBytes)("result",d0,2*s0)},verify:function(O0,f0,p0,A0=W0){const{context:$0,zip215:y0}=A0,v0=t0.BYTES;O0=(0,In.ensureBytes)("signature",O0,2*v0),f0=(0,In.ensureBytes)("message",f0),y0!==void 0&&(0,In.abool)("zip215",y0),r0&&(f0=r0(f0));const I0=An.bytesToNumberLE(O0.slice(v0,2*v0));let E0,d0,_0;try{E0=N0.fromHex(p0,y0),d0=N0.fromHex(O0.slice(0,v0),y0),_0=x0.multiplyUnsafe(I0)}catch{return!1}if(!y0&&E0.isSmallOrder())return!1;const C0=K0($0,d0.toRawBytes(),E0.toRawBytes(),f0);return d0.add(E0.multiplyUnsafe(C0)).subtract(_0).clearCofactor().equals(N0.ZERO)},ExtendedPoint:N0,utils:{getExtendedPublicKey:V0,randomPrivateKey:()=>o0(t0.BYTES),precompute:(O0=8,f0=N0.BASE)=>(f0._setWindowSize(O0),f0.multiply(BigInt(3)),f0)}}};const xn=Pt$1,Mn=Tt$1,An=Ot$1,In=Ot$1,Rn=BigInt(0),Pn=BigInt(1),Tn=BigInt(2),On=BigInt(8),Ln={zip215:!0};var Nn={};Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.expand_message_xmd=Hn,Nn.expand_message_xof=Fn,Nn.hash_to_field=zn,Nn.isogenyMap=function(e0,r){const t0=r.map(n0=>Array.from(n0).reverse());return(n0,r0)=>{const[i0,o0,s0,a0]=t0.map(c0=>c0.reduce((l0,u0)=>e0.add(e0.mul(l0,n0),u0)));return n0=e0.div(i0,o0),r0=e0.mul(r0,e0.div(s0,a0)),{x:n0,y:r0}}},Nn.createHasher=function(e0,r,t0){if(typeof r!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(n0,r0){const i0=zn(n0,2,{...t0,DST:t0.DST,...r0}),o0=e0.fromAffine(r(i0[0])),s0=e0.fromAffine(r(i0[1])),a0=o0.add(s0).clearCofactor();return a0.assertValidity(),a0},encodeToCurve(n0,r0){const i0=zn(n0,1,{...t0,DST:t0.encodeDST,...r0}),o0=e0.fromAffine(r(i0[0])).clearCofactor();return o0.assertValidity(),o0},mapToCurve(n0){if(!Array.isArray(n0))throw new Error("mapToCurve: expected array of bigints");for(const i0 of n0)if(typeof i0!="bigint")throw new Error(`mapToCurve: expected array of bigints, got ${i0} in array`);const r0=e0.fromAffine(r(n0)).clearCofactor();return r0.assertValidity(),r0}}};const $n=Tt$1,Dn=Ot$1,Bn=Dn.bytesToNumberBE;function Kn(e0,r){if(Un(e0),Un(r),e0<0||e0>=1<<8*r)throw new Error(`bad I2OSP call: value=${e0} length=${r}`);const t0=Array.from({length:r}).fill(0);for(let n0=r-1;n0>=0;n0--)t0[n0]=255&e0,e0>>>=8;return new Uint8Array(t0)}function jn(e0,r){const t0=new Uint8Array(e0.length);for(let n0=0;n0<e0.length;n0++)t0[n0]=e0[n0]^r[n0];return t0}function Un(e0){if(!Number.isSafeInteger(e0))throw new Error("number expected")}function Hn(e0,r,t0,n0){(0,Dn.abytes)(e0),(0,Dn.abytes)(r),Un(t0),r.length>255&&(r=n0((0,Dn.concatBytes)((0,Dn.utf8ToBytes)("H2C-OVERSIZE-DST-"),r)));const{outputLen:r0,blockLen:i0}=n0,o0=Math.ceil(t0/r0);if(t0>65535||o0>255)throw new Error("expand_message_xmd: invalid lenInBytes");const s0=(0,Dn.concatBytes)(r,Kn(r.length,1)),a0=Kn(0,i0),c0=Kn(t0,2),l0=new Array(o0),u0=n0((0,Dn.concatBytes)(a0,e0,c0,Kn(0,1),s0));l0[0]=n0((0,Dn.concatBytes)(u0,Kn(1,1),s0));for(let h0=1;h0<=o0;h0++){const g0=[jn(u0,l0[h0-1]),Kn(h0+1,1),s0];l0[h0]=n0((0,Dn.concatBytes)(...g0))}return(0,Dn.concatBytes)(...l0).slice(0,t0)}function Fn(e0,r,t0,n0,r0){if((0,Dn.abytes)(e0),(0,Dn.abytes)(r),Un(t0),r.length>255){const i0=Math.ceil(2*n0/8);r=r0.create({dkLen:i0}).update((0,Dn.utf8ToBytes)("H2C-OVERSIZE-DST-")).update(r).digest()}if(t0>65535||r.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return r0.create({dkLen:t0}).update(e0).update(Kn(t0,2)).update(r).update(Kn(r.length,1)).digest()}function zn(e0,r,t0){(0,Dn.validateObject)(t0,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:n0,k:r0,m:i0,hash:o0,expand:s0,DST:a0}=t0;(0,Dn.abytes)(e0),Un(r);const c0=typeof a0=="string"?(0,Dn.utf8ToBytes)(a0):a0,l0=n0.toString(2).length,u0=Math.ceil((l0+r0)/8),h0=r*i0*u0;let g0;if(s0==="xmd")g0=Hn(e0,c0,h0,o0);else if(s0==="xof")g0=Fn(e0,c0,h0,r0,o0);else{if(s0!=="_internal_pass")throw new Error('expand must be "xmd" or "xof"');g0=e0}const w0=new Array(r);for(let m0=0;m0<r;m0++){const S0=new Array(i0);for(let b0=0;b0<i0;b0++){const T0=u0*(b0+m0*i0),N0=g0.subarray(T0,T0+u0);S0[b0]=(0,$n.mod)(Bn(N0),n0)}w0[m0]=S0}return w0}var qn={};Object.defineProperty(qn,"__esModule",{value:!0}),qn.montgomery=function(e0){const r=function(m0){return(0,Vn.validateObject)(m0,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...m0})}(e0),{P:t0}=r,n0=m0=>(0,Wn.mod)(m0,t0),r0=r.montgomeryBits,i0=Math.ceil(r0/8),o0=r.nByteLength,s0=r.adjustScalarBytes||(m0=>m0),a0=r.powPminus2||(m0=>(0,Wn.pow)(m0,t0-BigInt(2),t0));function c0(m0,S0,b0){const T0=n0(m0*(S0-b0));return[S0=n0(S0-T0),b0=n0(b0+T0)]}const l0=(r.a-BigInt(2))/BigInt(4);function u0(m0){return(0,Vn.numberToBytesLE)(n0(m0),i0)}function h0(m0,S0){const b0=function(x0){const k0=(0,Vn.ensureBytes)("u coordinate",x0,i0);return o0===32&&(k0[31]&=127),(0,Vn.bytesToNumberLE)(k0)}(S0),T0=function(x0){const k0=(0,Vn.ensureBytes)("scalar",x0),B0=k0.length;if(B0!==i0&&B0!==o0)throw new Error(`Expected ${i0} or ${o0} bytes, got ${B0}`);return(0,Vn.bytesToNumberLE)(s0(k0))}(m0),N0=function(x0,k0){(0,Vn.aInRange)("u",x0,Gn,t0),(0,Vn.aInRange)("scalar",k0,Gn,t0);const B0=k0,H0=x0;let G0,V0=Yn,K0=Gn,W0=x0,F0=Yn,O0=Gn;for(let p0=BigInt(r0-1);p0>=Gn;p0--){const A0=B0>>p0&Yn;O0^=A0,G0=c0(O0,V0,W0),V0=G0[0],W0=G0[1],G0=c0(O0,K0,F0),K0=G0[0],F0=G0[1],O0=A0;const $0=V0+K0,y0=n0($0*$0),v0=V0-K0,I0=n0(v0*v0),E0=y0-I0,d0=W0+F0,_0=n0((W0-F0)*$0),C0=n0(d0*v0),L0=_0+C0,D0=_0-C0;W0=n0(L0*L0),F0=n0(H0*n0(D0*D0)),V0=n0(y0*I0),K0=n0(E0*(y0+n0(l0*E0)))}G0=c0(O0,V0,W0),V0=G0[0],W0=G0[1],G0=c0(O0,K0,F0),K0=G0[0],F0=G0[1];const f0=a0(K0);return n0(V0*f0)}(b0,T0);if(N0===Gn)throw new Error("Invalid private or public key received");return u0(N0)}const g0=u0(r.Gu);function w0(m0){return h0(m0,g0)}return{scalarMult:h0,scalarMultBase:w0,getSharedSecret:(m0,S0)=>h0(m0,S0),getPublicKey:m0=>w0(m0),utils:{randomPrivateKey:()=>r.randomBytes(r.nByteLength)},GuBytes:g0}};const Wn=Tt$1,Vn=Ot$1,Gn=BigInt(0),Yn=BigInt(1);(function(e0){Object.defineProperty(e0,"__esModule",{value:!0}),e0.hash_to_ristretto255=e0.hashToRistretto255=e0.RistrettoPoint=e0.encodeToCurve=e0.hashToCurve=e0.edwardsToMontgomery=e0.x25519=e0.ed25519ph=e0.ed25519ctx=e0.ed25519=e0.ED25519_TORSION_SUBGROUP=void 0,e0.edwardsToMontgomeryPub=B0,e0.edwardsToMontgomeryPriv=function(C0){const L0=x0.hash(C0.subarray(0,32));return x0.adjustScalarBytes(L0).subarray(0,32)};const r=Te,t0=Fe,n0=Rt$1,r0=Nn,i0=Tt$1,o0=qn,s0=Ot$1,a0=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),c0=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),l0=BigInt(0),u0=BigInt(1),h0=BigInt(2),g0=BigInt(3),w0=BigInt(5),m0=BigInt(8);function S0(C0){const L0=BigInt(10),D0=BigInt(20),j0=BigInt(40),z0=BigInt(80),Y0=a0,Z0=C0*C0%Y0*C0%Y0,X0=(0,i0.pow2)(Z0,h0,Y0)*Z0%Y0,J0=(0,i0.pow2)(X0,u0,Y0)*C0%Y0,yg=(0,i0.pow2)(J0,w0,Y0)*J0%Y0,_g=(0,i0.pow2)(yg,L0,Y0)*yg%Y0,vg=(0,i0.pow2)(_g,D0,Y0)*_g%Y0,bg=(0,i0.pow2)(vg,j0,Y0)*vg%Y0,wg=(0,i0.pow2)(bg,z0,Y0)*bg%Y0,Eg=(0,i0.pow2)(wg,z0,Y0)*bg%Y0,Ag=(0,i0.pow2)(Eg,L0,Y0)*yg%Y0;return{pow_p_5_8:(0,i0.pow2)(Ag,h0,Y0)*C0%Y0,b2:Z0}}function b0(C0){return C0[0]&=248,C0[31]&=127,C0[31]|=64,C0}function T0(C0,L0){const D0=a0,j0=(0,i0.mod)(L0*L0*L0,D0),z0=S0(C0*(0,i0.mod)(j0*j0*L0,D0)).pow_p_5_8;let Y0=(0,i0.mod)(C0*j0*z0,D0);const Z0=(0,i0.mod)(L0*Y0*Y0,D0),X0=Y0,J0=(0,i0.mod)(Y0*c0,D0),yg=Z0===C0,_g=Z0===(0,i0.mod)(-C0,D0),vg=Z0===(0,i0.mod)(-C0*c0,D0);return yg&&(Y0=X0),(_g||vg)&&(Y0=J0),(0,i0.isNegativeLE)(Y0,D0)&&(Y0=(0,i0.mod)(-Y0,D0)),{isValid:yg||_g,value:Y0}}e0.ED25519_TORSION_SUBGROUP=["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"];const N0=(()=>(0,i0.Field)(a0,void 0,!0))(),x0=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:N0,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:m0,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:r.sha512,randomBytes:t0.randomBytes,adjustScalarBytes:b0,uvRatio:T0}))();function k0(C0,L0,D0){if(L0.length>255)throw new Error("Context is too big");return(0,t0.concatBytes)((0,t0.utf8ToBytes)("SigEd25519 no Ed25519 collisions"),new Uint8Array([D0?1:0,L0.length]),L0,C0)}function B0(C0){const{y:L0}=e0.ed25519.ExtendedPoint.fromHex(C0),D0=BigInt(1);return N0.toBytes(N0.create((D0+L0)*N0.inv(D0-L0)))}e0.ed25519=(0,n0.twistedEdwards)(x0),e0.ed25519ctx=(0,n0.twistedEdwards)({...x0,domain:k0}),e0.ed25519ph=(0,n0.twistedEdwards)(Object.assign({},x0,{domain:k0,prehash:r.sha512})),e0.x25519=(0,o0.montgomery)({P:a0,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:C0=>{const L0=a0,{pow_p_5_8:D0,b2:j0}=S0(C0);return(0,i0.mod)((0,i0.pow2)(D0,g0,L0)*j0,L0)},adjustScalarBytes:b0,randomBytes:t0.randomBytes}),e0.edwardsToMontgomery=B0;const H0=(()=>(N0.ORDER+g0)/m0)(),G0=(()=>N0.pow(h0,H0))(),V0=(()=>N0.sqrt(N0.neg(N0.ONE)))(),K0=(()=>(0,i0.FpSqrtEven)(N0,N0.neg(BigInt(486664))))();function W0(C0){const{xMn:L0,xMd:D0,yMn:j0,yMd:z0}=function(bg){const wg=(N0.ORDER-w0)/m0,Eg=BigInt(486662);let Ag=N0.sqr(bg);Ag=N0.mul(Ag,h0);let Ig=N0.add(Ag,N0.ONE),Sg=N0.neg(Eg),Ng=N0.sqr(Ig),Rg=N0.mul(Ng,Ig),Mg=N0.mul(Ag,Eg);Mg=N0.mul(Mg,Sg),Mg=N0.add(Mg,Ng),Mg=N0.mul(Mg,Sg);let Dg=N0.sqr(Rg);Ng=N0.sqr(Dg),Dg=N0.mul(Dg,Rg),Dg=N0.mul(Dg,Mg),Ng=N0.mul(Ng,Dg);let Lg=N0.pow(Ng,wg);Lg=N0.mul(Lg,Dg);let P0=N0.mul(Lg,V0);Ng=N0.sqr(Lg),Ng=N0.mul(Ng,Rg);let R0=N0.eql(Ng,Mg),M0=N0.cmov(P0,Lg,R0),U0=N0.mul(Sg,Ag),q0=N0.mul(Lg,bg);q0=N0.mul(q0,G0);let Q0=N0.mul(q0,V0),mg=N0.mul(Mg,Ag);Ng=N0.sqr(q0),Ng=N0.mul(Ng,Rg);let xg=N0.eql(Ng,mg),Cg=N0.cmov(Q0,q0,xg);Ng=N0.sqr(M0),Ng=N0.mul(Ng,Rg);let Tg=N0.eql(Ng,Mg),kg=N0.cmov(U0,Sg,Tg),Og=N0.cmov(Cg,M0,Tg),Pg=N0.isOdd(Og);return Og=N0.cmov(Og,N0.neg(Og),Tg!==Pg),{xMn:kg,xMd:Ig,yMn:Og,yMd:u0}}(C0);let Y0=N0.mul(L0,z0);Y0=N0.mul(Y0,K0);let Z0=N0.mul(D0,j0),X0=N0.sub(L0,D0),J0=N0.add(L0,D0),yg=N0.mul(Z0,J0),_g=N0.eql(yg,N0.ZERO);Y0=N0.cmov(Y0,N0.ZERO,_g),Z0=N0.cmov(Z0,N0.ONE,_g),X0=N0.cmov(X0,N0.ONE,_g),J0=N0.cmov(J0,N0.ONE,_g);const vg=N0.invertBatch([Z0,J0]);return{x:N0.mul(Y0,vg[0]),y:N0.mul(X0,vg[1])}}const F0=(()=>(0,r0.createHasher)(e0.ed25519.ExtendedPoint,C0=>W0(C0[0]),{DST:"edwards25519_XMD:SHA-512_ELL2_RO_",encodeDST:"edwards25519_XMD:SHA-512_ELL2_NU_",p:N0.ORDER,m:1,k:128,expand:"xmd",hash:r.sha512}))();function O0(C0){if(!(C0 instanceof _0))throw new Error("RistrettoPoint expected")}e0.hashToCurve=F0.hashToCurve,e0.encodeToCurve=F0.encodeToCurve;const f0=c0,p0=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),A0=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),$0=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),y0=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),v0=C0=>T0(u0,C0),I0=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),E0=C0=>e0.ed25519.CURVE.Fp.create((0,s0.bytesToNumberLE)(C0)&I0);function d0(C0){const{d:L0}=e0.ed25519.CURVE,D0=e0.ed25519.CURVE.Fp.ORDER,j0=e0.ed25519.CURVE.Fp.create,z0=j0(f0*C0*C0),Y0=j0((z0+u0)*$0);let Z0=BigInt(-1);const X0=j0((Z0-L0*z0)*j0(z0+L0));let{isValid:J0,value:yg}=T0(Y0,X0),_g=j0(yg*C0);(0,i0.isNegativeLE)(_g,D0)||(_g=j0(-_g)),J0||(yg=_g),J0||(Z0=z0);const vg=j0(Z0*(z0-u0)*y0-X0),bg=yg*yg,wg=j0((yg+yg)*X0),Eg=j0(vg*p0),Ag=j0(u0-bg),Ig=j0(u0+bg);return new e0.ed25519.ExtendedPoint(j0(wg*Ig),j0(Ag*Eg),j0(Eg*Ig),j0(wg*Ag))}class _0{constructor(L0){this.ep=L0}static fromAffine(L0){return new _0(e0.ed25519.ExtendedPoint.fromAffine(L0))}static hashToCurve(L0){L0=(0,s0.ensureBytes)("ristrettoHash",L0,64);const D0=d0(E0(L0.slice(0,32))),j0=d0(E0(L0.slice(32,64)));return new _0(D0.add(j0))}static fromHex(L0){L0=(0,s0.ensureBytes)("ristrettoHex",L0,32);const{a:D0,d:j0}=e0.ed25519.CURVE,z0=e0.ed25519.CURVE.Fp.ORDER,Y0=e0.ed25519.CURVE.Fp.create,Z0="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",X0=E0(L0);if(!(0,s0.equalBytes)((0,s0.numberToBytesLE)(X0,32),L0)||(0,i0.isNegativeLE)(X0,z0))throw new Error(Z0);const J0=Y0(X0*X0),yg=Y0(u0+D0*J0),_g=Y0(u0-D0*J0),vg=Y0(yg*yg),bg=Y0(_g*_g),wg=Y0(D0*j0*vg-bg),{isValid:Eg,value:Ag}=v0(Y0(wg*bg)),Ig=Y0(Ag*_g),Sg=Y0(Ag*Ig*wg);let Ng=Y0((X0+X0)*Ig);(0,i0.isNegativeLE)(Ng,z0)&&(Ng=Y0(-Ng));const Rg=Y0(yg*Sg),Mg=Y0(Ng*Rg);if(!Eg||(0,i0.isNegativeLE)(Mg,z0)||Rg===l0)throw new Error(Z0);return new _0(new e0.ed25519.ExtendedPoint(Ng,Rg,u0,Mg))}toRawBytes(){let{ex:L0,ey:D0,ez:j0,et:z0}=this.ep;const Y0=e0.ed25519.CURVE.Fp.ORDER,Z0=e0.ed25519.CURVE.Fp.create,X0=Z0(Z0(j0+D0)*Z0(j0-D0)),J0=Z0(L0*D0),yg=Z0(J0*J0),{value:_g}=v0(Z0(X0*yg)),vg=Z0(_g*X0),bg=Z0(_g*J0),wg=Z0(vg*bg*z0);let Eg;if((0,i0.isNegativeLE)(z0*wg,Y0)){let Ig=Z0(D0*f0),Sg=Z0(L0*f0);L0=Ig,D0=Sg,Eg=Z0(vg*A0)}else Eg=bg;(0,i0.isNegativeLE)(L0*wg,Y0)&&(D0=Z0(-D0));let Ag=Z0((j0-D0)*Eg);return(0,i0.isNegativeLE)(Ag,Y0)&&(Ag=Z0(-Ag)),(0,s0.numberToBytesLE)(Ag,32)}toHex(){return(0,s0.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(L0){O0(L0);const{ex:D0,ey:j0}=this.ep,{ex:z0,ey:Y0}=L0.ep,Z0=e0.ed25519.CURVE.Fp.create,X0=Z0(D0*Y0)===Z0(j0*z0),J0=Z0(j0*Y0)===Z0(D0*z0);return X0||J0}add(L0){return O0(L0),new _0(this.ep.add(L0.ep))}subtract(L0){return O0(L0),new _0(this.ep.subtract(L0.ep))}multiply(L0){return new _0(this.ep.multiply(L0))}multiplyUnsafe(L0){return new _0(this.ep.multiplyUnsafe(L0))}double(){return new _0(this.ep.double())}negate(){return new _0(this.ep.negate())}}e0.RistrettoPoint=(_0.BASE||(_0.BASE=new _0(e0.ed25519.ExtendedPoint.BASE)),_0.ZERO||(_0.ZERO=new _0(e0.ed25519.ExtendedPoint.ZERO)),_0),e0.hashToRistretto255=(C0,L0)=>{const D0=L0.DST,j0=typeof D0=="string"?(0,t0.utf8ToBytes)(D0):D0,z0=(0,r0.expand_message_xmd)(C0,j0,64,r.sha512);return _0.hashToCurve(z0)},e0.hash_to_ristretto255=e0.hashToRistretto255})(Pe);var Zn={},Jn={};Object.defineProperty(Jn,"__esModule",{value:!0}),Jn.sha224=Jn.sha256=Jn.SHA256=void 0;const Xn=Oe,Qn=Fe,er=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),tr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),nr=new Uint32Array(64);class rr extends Xn.HashMD{constructor(){super(64,32,8,!1),this.A=0|tr[0],this.B=0|tr[1],this.C=0|tr[2],this.D=0|tr[3],this.E=0|tr[4],this.F=0|tr[5],this.G=0|tr[6],this.H=0|tr[7]}get(){const{A:r,B:t0,C:n0,D:r0,E:i0,F:o0,G:s0,H:a0}=this;return[r,t0,n0,r0,i0,o0,s0,a0]}set(r,t0,n0,r0,i0,o0,s0,a0){this.A=0|r,this.B=0|t0,this.C=0|n0,this.D=0|r0,this.E=0|i0,this.F=0|o0,this.G=0|s0,this.H=0|a0}process(r,t0){for(let u0=0;u0<16;u0++,t0+=4)nr[u0]=r.getUint32(t0,!1);for(let u0=16;u0<64;u0++){const h0=nr[u0-15],g0=nr[u0-2],w0=(0,Qn.rotr)(h0,7)^(0,Qn.rotr)(h0,18)^h0>>>3,m0=(0,Qn.rotr)(g0,17)^(0,Qn.rotr)(g0,19)^g0>>>10;nr[u0]=m0+nr[u0-7]+w0+nr[u0-16]|0}let{A:n0,B:r0,C:i0,D:o0,E:s0,F:a0,G:c0,H:l0}=this;for(let u0=0;u0<64;u0++){const h0=l0+((0,Qn.rotr)(s0,6)^(0,Qn.rotr)(s0,11)^(0,Qn.rotr)(s0,25))+(0,Xn.Chi)(s0,a0,c0)+er[u0]+nr[u0]|0,g0=((0,Qn.rotr)(n0,2)^(0,Qn.rotr)(n0,13)^(0,Qn.rotr)(n0,22))+(0,Xn.Maj)(n0,r0,i0)|0;l0=c0,c0=a0,a0=s0,s0=o0+h0|0,o0=i0,i0=r0,r0=n0,n0=h0+g0|0}n0=n0+this.A|0,r0=r0+this.B|0,i0=i0+this.C|0,o0=o0+this.D|0,s0=s0+this.E|0,a0=a0+this.F|0,c0=c0+this.G|0,l0=l0+this.H|0,this.set(n0,r0,i0,o0,s0,a0,c0,l0)}roundClean(){nr.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}Jn.SHA256=rr;class ir extends rr{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}Jn.sha256=(0,Qn.wrapConstructor)(()=>new rr),Jn.sha224=(0,Qn.wrapConstructor)(()=>new ir);var or={},sr={};(function(e0){Object.defineProperty(e0,"__esModule",{value:!0}),e0.hmac=e0.HMAC=void 0;const r=Le,t0=Fe;class n0 extends t0.Hash{constructor(i0,o0){super(),this.finished=!1,this.destroyed=!1,(0,r.hash)(i0);const s0=(0,t0.toBytes)(o0);if(this.iHash=i0.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const a0=this.blockLen,c0=new Uint8Array(a0);c0.set(s0.length>a0?i0.create().update(s0).digest():s0);for(let l0=0;l0<c0.length;l0++)c0[l0]^=54;this.iHash.update(c0),this.oHash=i0.create();for(let l0=0;l0<c0.length;l0++)c0[l0]^=106;this.oHash.update(c0),c0.fill(0)}update(i0){return(0,r.exists)(this),this.iHash.update(i0),this}digestInto(i0){(0,r.exists)(this),(0,r.bytes)(i0,this.outputLen),this.finished=!0,this.iHash.digestInto(i0),this.oHash.update(i0),this.oHash.digestInto(i0),this.destroy()}digest(){const i0=new Uint8Array(this.oHash.outputLen);return this.digestInto(i0),i0}_cloneInto(i0){i0||(i0=Object.create(Object.getPrototypeOf(this),{}));const{oHash:o0,iHash:s0,finished:a0,destroyed:c0,blockLen:l0,outputLen:u0}=this;return i0.finished=a0,i0.destroyed=c0,i0.blockLen=l0,i0.outputLen=u0,i0.oHash=o0._cloneInto(i0.oHash),i0.iHash=s0._cloneInto(i0.iHash),i0}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}e0.HMAC=n0,e0.hmac=(r0,i0,o0)=>new n0(r0,i0).update(o0).digest(),e0.hmac.create=(r0,i0)=>new n0(r0,i0)})(sr);var ar={};(function(e0){Object.defineProperty(e0,"__esModule",{value:!0}),e0.DER=void 0,e0.weierstrassPoints=g0,e0.weierstrass=function(m0){const S0=function(C0){const L0=(0,r.validateBasic)(C0);return n0.validateObject(L0,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...L0})}(m0),{Fp:b0,n:T0}=S0,N0=b0.BYTES+1,x0=2*b0.BYTES+1;function k0(C0){return t0.mod(C0,T0)}function B0(C0){return t0.invert(C0,T0)}const{ProjectivePoint:H0,normPrivateKeyToScalar:G0,weierstrassEquation:V0,isWithinCurveOrder:K0}=g0({...S0,toBytes(C0,L0,D0){const j0=L0.toAffine(),z0=b0.toBytes(j0.x),Y0=n0.concatBytes;return(0,r0.abool)("isCompressed",D0),D0?Y0(Uint8Array.from([L0.hasEvenY()?2:3]),z0):Y0(Uint8Array.from([4]),z0,b0.toBytes(j0.y))},fromBytes(C0){const L0=C0.length,D0=C0[0],j0=C0.subarray(1);if(L0!==N0||D0!==2&&D0!==3){if(L0===x0&&D0===4)return{x:b0.fromBytes(j0.subarray(0,b0.BYTES)),y:b0.fromBytes(j0.subarray(b0.BYTES,2*b0.BYTES))};throw new Error(`Point of length ${L0} was invalid. Expected ${N0} compressed bytes or ${x0} uncompressed bytes`)}{const z0=n0.bytesToNumberBE(j0);if(!n0.inRange(z0,c0,b0.ORDER))throw new Error("Point is not on curve");const Y0=V0(z0);let Z0;try{Z0=b0.sqrt(Y0)}catch(X0){const J0=X0 instanceof Error?": "+X0.message:"";throw new Error("Point is not on curve"+J0)}return(1&D0)==1!=((Z0&c0)===c0)&&(Z0=b0.neg(Z0)),{x:z0,y:Z0}}}}),W0=C0=>n0.bytesToHex(n0.numberToBytesBE(C0,S0.nByteLength));function F0(C0){return C0>T0>>c0}const O0=(C0,L0,D0)=>n0.bytesToNumberBE(C0.slice(L0,D0));class f0{constructor(L0,D0,j0){this.r=L0,this.s=D0,this.recovery=j0,this.assertValidity()}static fromCompact(L0){const D0=S0.nByteLength;return L0=(0,r0.ensureBytes)("compactSignature",L0,2*D0),new f0(O0(L0,0,D0),O0(L0,D0,2*D0))}static fromDER(L0){const{r:D0,s:j0}=e0.DER.toSig((0,r0.ensureBytes)("DER",L0));return new f0(D0,j0)}assertValidity(){n0.aInRange("r",this.r,c0,T0),n0.aInRange("s",this.s,c0,T0)}addRecoveryBit(L0){return new f0(this.r,this.s,L0)}recoverPublicKey(L0){const{r:D0,s:j0,recovery:z0}=this,Y0=y0((0,r0.ensureBytes)("msgHash",L0));if(z0==null||![0,1,2,3].includes(z0))throw new Error("recovery id invalid");const Z0=z0===2||z0===3?D0+S0.n:D0;if(Z0>=b0.ORDER)throw new Error("recovery id 2 or 3 invalid");const X0=1&z0?"03":"02",J0=H0.fromHex(X0+W0(Z0)),yg=B0(Z0),_g=k0(-Y0*yg),vg=k0(j0*yg),bg=H0.BASE.multiplyAndAddUnsafe(J0,_g,vg);if(!bg)throw new Error("point at infinify");return bg.assertValidity(),bg}hasHighS(){return F0(this.s)}normalizeS(){return this.hasHighS()?new f0(this.r,k0(-this.s),this.recovery):this}toDERRawBytes(){return n0.hexToBytes(this.toDERHex())}toDERHex(){return e0.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return n0.hexToBytes(this.toCompactHex())}toCompactHex(){return W0(this.r)+W0(this.s)}}const p0={isValidPrivateKey(C0){try{return G0(C0),!0}catch{return!1}},normPrivateKeyToScalar:G0,randomPrivateKey:()=>{const C0=t0.getMinHashLength(S0.n);return t0.mapHashToField(S0.randomBytes(C0),S0.n)},precompute:(C0=8,L0=H0.BASE)=>(L0._setWindowSize(C0),L0.multiply(BigInt(3)),L0)};function A0(C0){const L0=n0.isBytes(C0),D0=typeof C0=="string",j0=(L0||D0)&&C0.length;return L0?j0===N0||j0===x0:D0?j0===2*N0||j0===2*x0:C0 instanceof H0}const $0=S0.bits2int||function(C0){const L0=n0.bytesToNumberBE(C0),D0=8*C0.length-S0.nBitLength;return D0>0?L0>>BigInt(D0):L0},y0=S0.bits2int_modN||function(C0){return k0($0(C0))},v0=n0.bitMask(S0.nBitLength);function I0(C0){return n0.aInRange(`num < 2^${S0.nBitLength}`,C0,a0,v0),n0.numberToBytesBE(C0,S0.nByteLength)}function E0(C0,L0,D0=d0){if(["recovered","canonical"].some(wg=>wg in D0))throw new Error("sign() legacy options not supported");const{hash:j0,randomBytes:z0}=S0;let{lowS:Y0,prehash:Z0,extraEntropy:X0}=D0;Y0==null&&(Y0=!0),C0=(0,r0.ensureBytes)("msgHash",C0),i0(D0),Z0&&(C0=(0,r0.ensureBytes)("prehashed msgHash",j0(C0)));const J0=y0(C0),yg=G0(L0),_g=[I0(yg),I0(J0)];if(X0!=null&&X0!==!1){const wg=X0===!0?z0(b0.BYTES):X0;_g.push((0,r0.ensureBytes)("extraEntropy",wg))}const vg=n0.concatBytes(..._g),bg=J0;return{seed:vg,k2sig:function(wg){const Eg=$0(wg);if(!K0(Eg))return;const Ag=B0(Eg),Ig=H0.BASE.multiply(Eg).toAffine(),Sg=k0(Ig.x);if(Sg===a0)return;const Ng=k0(Ag*k0(bg+Sg*yg));if(Ng===a0)return;let Rg=(Ig.x===Sg?0:2)|Number(Ig.y&c0),Mg=Ng;return Y0&&F0(Ng)&&(Mg=function(Dg){return F0(Dg)?k0(-Dg):Dg}(Ng),Rg^=1),new f0(Sg,Mg,Rg)}}}const d0={lowS:S0.lowS,prehash:!1},_0={lowS:S0.lowS,prehash:!1};return H0.BASE._setWindowSize(8),{CURVE:S0,getPublicKey:function(C0,L0=!0){return H0.fromPrivateKey(C0).toRawBytes(L0)},getSharedSecret:function(C0,L0,D0=!0){if(A0(C0))throw new Error("first arg must be private key");if(!A0(L0))throw new Error("second arg must be public key");return H0.fromHex(L0).multiply(G0(C0)).toRawBytes(D0)},sign:function(C0,L0,D0=d0){const{seed:j0,k2sig:z0}=E0(C0,L0,D0),Y0=S0;return n0.createHmacDrbg(Y0.hash.outputLen,Y0.nByteLength,Y0.hmac)(j0,z0)},verify:function(C0,L0,D0,j0=_0){const z0=C0;if(L0=(0,r0.ensureBytes)("msgHash",L0),D0=(0,r0.ensureBytes)("publicKey",D0),"strict"in j0)throw new Error("options.strict was renamed to lowS");i0(j0);const{lowS:Y0,prehash:Z0}=j0;let X0,J0;try{if(typeof z0=="string"||n0.isBytes(z0))try{X0=f0.fromDER(z0)}catch(Sg){if(!(Sg instanceof e0.DER.Err))throw Sg;X0=f0.fromCompact(z0)}else{if(typeof z0!="object"||typeof z0.r!="bigint"||typeof z0.s!="bigint")throw new Error("PARSE");{const{r:Sg,s:Ng}=z0;X0=new f0(Sg,Ng)}}J0=H0.fromHex(D0)}catch(Sg){if(Sg.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Y0&&X0.hasHighS())return!1;Z0&&(L0=S0.hash(L0));const{r:yg,s:_g}=X0,vg=y0(L0),bg=B0(_g),wg=k0(vg*bg),Eg=k0(yg*bg),Ag=H0.BASE.multiplyAndAddUnsafe(J0,wg,Eg)?.toAffine();return Ag?k0(Ag.x)===yg:!1},ProjectivePoint:H0,Signature:f0,utils:p0}},e0.SWUFpSqrtRatio=w0,e0.mapToCurveSimpleSWU=function(m0,S0){if(t0.validateField(m0),!m0.isValid(S0.A)||!m0.isValid(S0.B)||!m0.isValid(S0.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const b0=w0(m0,S0.Z);if(!m0.isOdd)throw new Error("Fp.isOdd is not implemented!");return T0=>{let N0,x0,k0,B0,H0,G0,V0,K0;N0=m0.sqr(T0),N0=m0.mul(N0,S0.Z),x0=m0.sqr(N0),x0=m0.add(x0,N0),k0=m0.add(x0,m0.ONE),k0=m0.mul(k0,S0.B),B0=m0.cmov(S0.Z,m0.neg(x0),!m0.eql(x0,m0.ZERO)),B0=m0.mul(B0,S0.A),x0=m0.sqr(k0),G0=m0.sqr(B0),H0=m0.mul(G0,S0.A),x0=m0.add(x0,H0),x0=m0.mul(x0,k0),G0=m0.mul(G0,B0),H0=m0.mul(G0,S0.B),x0=m0.add(x0,H0),V0=m0.mul(N0,k0);const{isValid:W0,value:F0}=b0(x0,G0);K0=m0.mul(N0,T0),K0=m0.mul(K0,F0),V0=m0.cmov(V0,k0,W0),K0=m0.cmov(K0,F0,W0);const O0=m0.isOdd(T0)===m0.isOdd(K0);return K0=m0.cmov(m0.neg(K0),K0,O0),V0=m0.div(V0,B0),{x:V0,y:K0}}};const r=Pt$1,t0=Tt$1,n0=Ot$1,r0=Ot$1;function i0(m0){m0.lowS!==void 0&&(0,r0.abool)("lowS",m0.lowS),m0.prehash!==void 0&&(0,r0.abool)("prehash",m0.prehash)}const{bytesToNumberBE:o0,hexToBytes:s0}=n0;e0.DER={Err:class extends Error{constructor(m0=""){super(m0)}},_tlv:{encode:(m0,S0)=>{const{Err:b0}=e0.DER;if(m0<0||m0>256)throw new b0("tlv.encode: wrong tag");if(1&S0.length)throw new b0("tlv.encode: unpadded data");const T0=S0.length/2,N0=n0.numberToHexUnpadded(T0);if(N0.length/2&128)throw new b0("tlv.encode: long form length too big");const x0=T0>127?n0.numberToHexUnpadded(N0.length/2|128):"";return`${n0.numberToHexUnpadded(m0)}${x0}${N0}${S0}`},decode(m0,S0){const{Err:b0}=e0.DER;let T0=0;if(m0<0||m0>256)throw new b0("tlv.encode: wrong tag");if(S0.length<2||S0[T0++]!==m0)throw new b0("tlv.decode: wrong tlv");const N0=S0[T0++];let x0=0;if(128&N0){const B0=127&N0;if(!B0)throw new b0("tlv.decode(long): indefinite length not supported");if(B0>4)throw new b0("tlv.decode(long): byte length is too big");const H0=S0.subarray(T0,T0+B0);if(H0.length!==B0)throw new b0("tlv.decode: length bytes not complete");if(H0[0]===0)throw new b0("tlv.decode(long): zero leftmost byte");for(const G0 of H0)x0=x0<<8|G0;if(T0+=B0,x0<128)throw new b0("tlv.decode(long): not minimal encoding")}else x0=N0;const k0=S0.subarray(T0,T0+x0);if(k0.length!==x0)throw new b0("tlv.decode: wrong value length");return{v:k0,l:S0.subarray(T0+x0)}}},_int:{encode(m0){const{Err:S0}=e0.DER;if(m0<a0)throw new S0("integer: negative integers are not allowed");let b0=n0.numberToHexUnpadded(m0);if(8&Number.parseInt(b0[0],16)&&(b0="00"+b0),1&b0.length)throw new S0("unexpected assertion");return b0},decode(m0){const{Err:S0}=e0.DER;if(128&m0[0])throw new S0("Invalid signature integer: negative");if(m0[0]===0&&!(128&m0[1]))throw new S0("Invalid signature integer: unnecessary leading zero");return o0(m0)}},toSig(m0){const{Err:S0,_int:b0,_tlv:T0}=e0.DER,N0=typeof m0=="string"?s0(m0):m0;n0.abytes(N0);const{v:x0,l:k0}=T0.decode(48,N0);if(k0.length)throw new S0("Invalid signature: left bytes after parsing");const{v:B0,l:H0}=T0.decode(2,x0),{v:G0,l:V0}=T0.decode(2,H0);if(V0.length)throw new S0("Invalid signature: left bytes after parsing");return{r:b0.decode(B0),s:b0.decode(G0)}},hexFromSig(m0){const{_tlv:S0,_int:b0}=e0.DER,T0=`${S0.encode(2,b0.encode(m0.r))}${S0.encode(2,b0.encode(m0.s))}`;return S0.encode(48,T0)}};const a0=BigInt(0),c0=BigInt(1),l0=BigInt(2),u0=BigInt(3),h0=BigInt(4);function g0(m0){const S0=function(O0){const f0=(0,r.validateBasic)(O0);n0.validateObject(f0,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:p0,Fp:A0,a:$0}=f0;if(p0){if(!A0.eql($0,A0.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof p0!="object"||typeof p0.beta!="bigint"||typeof p0.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...f0})}(m0),{Fp:b0}=S0,T0=t0.Field(S0.n,S0.nBitLength),N0=S0.toBytes||((O0,f0,p0)=>{const A0=f0.toAffine();return n0.concatBytes(Uint8Array.from([4]),b0.toBytes(A0.x),b0.toBytes(A0.y))}),x0=S0.fromBytes||(O0=>{const f0=O0.subarray(1);return{x:b0.fromBytes(f0.subarray(0,b0.BYTES)),y:b0.fromBytes(f0.subarray(b0.BYTES,2*b0.BYTES))}});function k0(O0){const{a:f0,b:p0}=S0,A0=b0.sqr(O0),$0=b0.mul(A0,O0);return b0.add(b0.add($0,b0.mul(O0,f0)),p0)}if(!b0.eql(b0.sqr(S0.Gy),k0(S0.Gx)))throw new Error("bad generator point: equation left != right");function B0(O0){const{allowedPrivateKeyLengths:f0,nByteLength:p0,wrapPrivateKey:A0,n:$0}=S0;if(f0&&typeof O0!="bigint"){if(n0.isBytes(O0)&&(O0=n0.bytesToHex(O0)),typeof O0!="string"||!f0.includes(O0.length))throw new Error("Invalid key");O0=O0.padStart(2*p0,"0")}let y0;try{y0=typeof O0=="bigint"?O0:n0.bytesToNumberBE((0,r0.ensureBytes)("private key",O0,p0))}catch{throw new Error(`private key must be ${p0} bytes, hex or bigint, not ${typeof O0}`)}return A0&&(y0=t0.mod(y0,$0)),n0.aInRange("private key",y0,c0,$0),y0}function H0(O0){if(!(O0 instanceof K0))throw new Error("ProjectivePoint expected")}const G0=(0,r0.memoized)((O0,f0)=>{const{px:p0,py:A0,pz:$0}=O0;if(b0.eql($0,b0.ONE))return{x:p0,y:A0};const y0=O0.is0();f0==null&&(f0=y0?b0.ONE:b0.inv($0));const v0=b0.mul(p0,f0),I0=b0.mul(A0,f0),E0=b0.mul($0,f0);if(y0)return{x:b0.ZERO,y:b0.ZERO};if(!b0.eql(E0,b0.ONE))throw new Error("invZ was invalid");return{x:v0,y:I0}}),V0=(0,r0.memoized)(O0=>{if(O0.is0()){if(S0.allowInfinityPoint&&!b0.is0(O0.py))return;throw new Error("bad point: ZERO")}const{x:f0,y:p0}=O0.toAffine();if(!b0.isValid(f0)||!b0.isValid(p0))throw new Error("bad point: x or y not FE");const A0=b0.sqr(p0),$0=k0(f0);if(!b0.eql(A0,$0))throw new Error("bad point: equation left != right");if(!O0.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class K0{constructor(f0,p0,A0){if(this.px=f0,this.py=p0,this.pz=A0,f0==null||!b0.isValid(f0))throw new Error("x required");if(p0==null||!b0.isValid(p0))throw new Error("y required");if(A0==null||!b0.isValid(A0))throw new Error("z required");Object.freeze(this)}static fromAffine(f0){const{x:p0,y:A0}=f0||{};if(!f0||!b0.isValid(p0)||!b0.isValid(A0))throw new Error("invalid affine point");if(f0 instanceof K0)throw new Error("projective point not allowed");const $0=y0=>b0.eql(y0,b0.ZERO);return $0(p0)&&$0(A0)?K0.ZERO:new K0(p0,A0,b0.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(f0){const p0=b0.invertBatch(f0.map(A0=>A0.pz));return f0.map((A0,$0)=>A0.toAffine(p0[$0])).map(K0.fromAffine)}static fromHex(f0){const p0=K0.fromAffine(x0((0,r0.ensureBytes)("pointHex",f0)));return p0.assertValidity(),p0}static fromPrivateKey(f0){return K0.BASE.multiply(B0(f0))}static msm(f0,p0){return(0,r.pippenger)(K0,T0,f0,p0)}_setWindowSize(f0){F0.setWindowSize(this,f0)}assertValidity(){V0(this)}hasEvenY(){const{y:f0}=this.toAffine();if(b0.isOdd)return!b0.isOdd(f0);throw new Error("Field doesn't support isOdd")}equals(f0){H0(f0);const{px:p0,py:A0,pz:$0}=this,{px:y0,py:v0,pz:I0}=f0,E0=b0.eql(b0.mul(p0,I0),b0.mul(y0,$0)),d0=b0.eql(b0.mul(A0,I0),b0.mul(v0,$0));return E0&&d0}negate(){return new K0(this.px,b0.neg(this.py),this.pz)}double(){const{a:f0,b:p0}=S0,A0=b0.mul(p0,u0),{px:$0,py:y0,pz:v0}=this;let I0=b0.ZERO,E0=b0.ZERO,d0=b0.ZERO,_0=b0.mul($0,$0),C0=b0.mul(y0,y0),L0=b0.mul(v0,v0),D0=b0.mul($0,y0);return D0=b0.add(D0,D0),d0=b0.mul($0,v0),d0=b0.add(d0,d0),I0=b0.mul(f0,d0),E0=b0.mul(A0,L0),E0=b0.add(I0,E0),I0=b0.sub(C0,E0),E0=b0.add(C0,E0),E0=b0.mul(I0,E0),I0=b0.mul(D0,I0),d0=b0.mul(A0,d0),L0=b0.mul(f0,L0),D0=b0.sub(_0,L0),D0=b0.mul(f0,D0),D0=b0.add(D0,d0),d0=b0.add(_0,_0),_0=b0.add(d0,_0),_0=b0.add(_0,L0),_0=b0.mul(_0,D0),E0=b0.add(E0,_0),L0=b0.mul(y0,v0),L0=b0.add(L0,L0),_0=b0.mul(L0,D0),I0=b0.sub(I0,_0),d0=b0.mul(L0,C0),d0=b0.add(d0,d0),d0=b0.add(d0,d0),new K0(I0,E0,d0)}add(f0){H0(f0);const{px:p0,py:A0,pz:$0}=this,{px:y0,py:v0,pz:I0}=f0;let E0=b0.ZERO,d0=b0.ZERO,_0=b0.ZERO;const C0=S0.a,L0=b0.mul(S0.b,u0);let D0=b0.mul(p0,y0),j0=b0.mul(A0,v0),z0=b0.mul($0,I0),Y0=b0.add(p0,A0),Z0=b0.add(y0,v0);Y0=b0.mul(Y0,Z0),Z0=b0.add(D0,j0),Y0=b0.sub(Y0,Z0),Z0=b0.add(p0,$0);let X0=b0.add(y0,I0);return Z0=b0.mul(Z0,X0),X0=b0.add(D0,z0),Z0=b0.sub(Z0,X0),X0=b0.add(A0,$0),E0=b0.add(v0,I0),X0=b0.mul(X0,E0),E0=b0.add(j0,z0),X0=b0.sub(X0,E0),_0=b0.mul(C0,Z0),E0=b0.mul(L0,z0),_0=b0.add(E0,_0),E0=b0.sub(j0,_0),_0=b0.add(j0,_0),d0=b0.mul(E0,_0),j0=b0.add(D0,D0),j0=b0.add(j0,D0),z0=b0.mul(C0,z0),Z0=b0.mul(L0,Z0),j0=b0.add(j0,z0),z0=b0.sub(D0,z0),z0=b0.mul(C0,z0),Z0=b0.add(Z0,z0),D0=b0.mul(j0,Z0),d0=b0.add(d0,D0),D0=b0.mul(X0,Z0),E0=b0.mul(Y0,E0),E0=b0.sub(E0,D0),D0=b0.mul(Y0,j0),_0=b0.mul(X0,_0),_0=b0.add(_0,D0),new K0(E0,d0,_0)}subtract(f0){return this.add(f0.negate())}is0(){return this.equals(K0.ZERO)}wNAF(f0){return F0.wNAFCached(this,f0,K0.normalizeZ)}multiplyUnsafe(f0){n0.aInRange("scalar",f0,a0,S0.n);const p0=K0.ZERO;if(f0===a0)return p0;if(f0===c0)return this;const{endo:A0}=S0;if(!A0)return F0.unsafeLadder(this,f0);let{k1neg:$0,k1:y0,k2neg:v0,k2:I0}=A0.splitScalar(f0),E0=p0,d0=p0,_0=this;for(;y0>a0||I0>a0;)y0&c0&&(E0=E0.add(_0)),I0&c0&&(d0=d0.add(_0)),_0=_0.double(),y0>>=c0,I0>>=c0;return $0&&(E0=E0.negate()),v0&&(d0=d0.negate()),d0=new K0(b0.mul(d0.px,A0.beta),d0.py,d0.pz),E0.add(d0)}multiply(f0){const{endo:p0,n:A0}=S0;let $0,y0;if(n0.aInRange("scalar",f0,c0,A0),p0){const{k1neg:v0,k1:I0,k2neg:E0,k2:d0}=p0.splitScalar(f0);let{p:_0,f:C0}=this.wNAF(I0),{p:L0,f:D0}=this.wNAF(d0);_0=F0.constTimeNegate(v0,_0),L0=F0.constTimeNegate(E0,L0),L0=new K0(b0.mul(L0.px,p0.beta),L0.py,L0.pz),$0=_0.add(L0),y0=C0.add(D0)}else{const{p:v0,f:I0}=this.wNAF(f0);$0=v0,y0=I0}return K0.normalizeZ([$0,y0])[0]}multiplyAndAddUnsafe(f0,p0,A0){const $0=K0.BASE,y0=(I0,E0)=>E0!==a0&&E0!==c0&&I0.equals($0)?I0.multiply(E0):I0.multiplyUnsafe(E0),v0=y0(this,p0).add(y0(f0,A0));return v0.is0()?void 0:v0}toAffine(f0){return G0(this,f0)}isTorsionFree(){const{h:f0,isTorsionFree:p0}=S0;if(f0===c0)return!0;if(p0)return p0(K0,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:f0,clearCofactor:p0}=S0;return f0===c0?this:p0?p0(K0,this):this.multiplyUnsafe(S0.h)}toRawBytes(f0=!0){return(0,r0.abool)("isCompressed",f0),this.assertValidity(),N0(K0,this,f0)}toHex(f0=!0){return(0,r0.abool)("isCompressed",f0),n0.bytesToHex(this.toRawBytes(f0))}}K0.BASE=new K0(S0.Gx,S0.Gy,b0.ONE),K0.ZERO=new K0(b0.ZERO,b0.ONE,b0.ZERO);const W0=S0.nBitLength,F0=(0,r.wNAF)(K0,S0.endo?Math.ceil(W0/2):W0);return{CURVE:S0,ProjectivePoint:K0,normPrivateKeyToScalar:B0,weierstrassEquation:k0,isWithinCurveOrder:function(O0){return n0.inRange(O0,c0,S0.n)}}}function w0(m0,S0){const b0=m0.ORDER;let T0=a0;for(let O0=b0-c0;O0%l0===a0;O0/=l0)T0+=c0;const N0=T0,x0=l0<<N0-c0-c0,k0=x0*l0,B0=(b0-c0)/k0,H0=(B0-c0)/l0,G0=k0-c0,V0=x0,K0=m0.pow(S0,B0),W0=m0.pow(S0,(B0+c0)/l0);let F0=(O0,f0)=>{let p0=K0,A0=m0.pow(f0,G0),$0=m0.sqr(A0);$0=m0.mul($0,f0);let y0=m0.mul(O0,$0);y0=m0.pow(y0,H0),y0=m0.mul(y0,A0),A0=m0.mul(y0,f0),$0=m0.mul(y0,O0);let v0=m0.mul($0,A0);y0=m0.pow(v0,V0);let I0=m0.eql(y0,m0.ONE);A0=m0.mul($0,W0),y0=m0.mul(v0,p0),$0=m0.cmov(A0,$0,I0),v0=m0.cmov(y0,v0,I0);for(let E0=N0;E0>c0;E0--){let d0=E0-l0;d0=l0<<d0-c0;let _0=m0.pow(v0,d0);const C0=m0.eql(_0,m0.ONE);A0=m0.mul($0,p0),p0=m0.mul(p0,p0),_0=m0.mul(v0,p0),$0=m0.cmov(A0,$0,C0),v0=m0.cmov(_0,v0,C0)}return{isValid:I0,value:$0}};if(m0.ORDER%h0===u0){const O0=(m0.ORDER-u0)/h0,f0=m0.sqrt(m0.neg(S0));F0=(p0,A0)=>{let $0=m0.sqr(A0);const y0=m0.mul(p0,A0);$0=m0.mul($0,y0);let v0=m0.pow($0,O0);v0=m0.mul(v0,y0);const I0=m0.mul(v0,f0),E0=m0.mul(m0.sqr(v0),A0),d0=m0.eql(E0,p0);return{isValid:d0,value:m0.cmov(I0,v0,d0)}}}return F0}})(ar),Object.defineProperty(or,"__esModule",{value:!0}),or.getHash=ur,or.createCurve=function(e0,r){const t0=n0=>(0,dr.weierstrass)({...e0,...ur(n0)});return Object.freeze({...t0(r),create:t0})};const cr=sr,lr=Fe,dr=ar;function ur(e0){return{hash:e0,hmac:(r,...t0)=>(0,cr.hmac)(e0,r,(0,lr.concatBytes)(...t0)),randomBytes:lr.randomBytes}}(function(e0){Object.defineProperty(e0,"__esModule",{value:!0}),e0.encodeToCurve=e0.hashToCurve=e0.schnorr=e0.secp256k1=void 0;const r=Jn,t0=Fe,n0=or,r0=Nn,i0=Tt$1,o0=Ot$1,s0=ar,a0=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),c0=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),l0=BigInt(1),u0=BigInt(2),h0=(y0,v0)=>(y0+v0/u0)/v0;function g0(y0){const v0=a0,I0=BigInt(3),E0=BigInt(6),d0=BigInt(11),_0=BigInt(22),C0=BigInt(23),L0=BigInt(44),D0=BigInt(88),j0=y0*y0*y0%v0,z0=j0*j0*y0%v0,Y0=(0,i0.pow2)(z0,I0,v0)*z0%v0,Z0=(0,i0.pow2)(Y0,I0,v0)*z0%v0,X0=(0,i0.pow2)(Z0,u0,v0)*j0%v0,J0=(0,i0.pow2)(X0,d0,v0)*X0%v0,yg=(0,i0.pow2)(J0,_0,v0)*J0%v0,_g=(0,i0.pow2)(yg,L0,v0)*yg%v0,vg=(0,i0.pow2)(_g,D0,v0)*_g%v0,bg=(0,i0.pow2)(vg,L0,v0)*yg%v0,wg=(0,i0.pow2)(bg,I0,v0)*z0%v0,Eg=(0,i0.pow2)(wg,C0,v0)*J0%v0,Ag=(0,i0.pow2)(Eg,E0,v0)*j0%v0,Ig=(0,i0.pow2)(Ag,u0,v0);if(!w0.eql(w0.sqr(Ig),y0))throw new Error("Cannot find square root");return Ig}const w0=(0,i0.Field)(a0,void 0,void 0,{sqrt:g0});e0.secp256k1=(0,n0.createCurve)({a:BigInt(0),b:BigInt(7),Fp:w0,n:c0,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:y0=>{const v0=c0,I0=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),E0=-l0*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),d0=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),_0=I0,C0=BigInt("0x100000000000000000000000000000000"),L0=h0(_0*y0,v0),D0=h0(-E0*y0,v0);let j0=(0,i0.mod)(y0-L0*I0-D0*d0,v0),z0=(0,i0.mod)(-L0*E0-D0*_0,v0);const Y0=j0>C0,Z0=z0>C0;if(Y0&&(j0=v0-j0),Z0&&(z0=v0-z0),j0>C0||z0>C0)throw new Error("splitScalar: Endomorphism failed, k="+y0);return{k1neg:Y0,k1:j0,k2neg:Z0,k2:z0}}}},r.sha256);const m0=BigInt(0),S0={};function b0(y0,...v0){let I0=S0[y0];if(I0===void 0){const E0=(0,r.sha256)(Uint8Array.from(y0,d0=>d0.charCodeAt(0)));I0=(0,o0.concatBytes)(E0,E0),S0[y0]=I0}return(0,r.sha256)((0,o0.concatBytes)(I0,...v0))}const T0=y0=>y0.toRawBytes(!0).slice(1),N0=y0=>(0,o0.numberToBytesBE)(y0,32),x0=y0=>(0,i0.mod)(y0,a0),k0=y0=>(0,i0.mod)(y0,c0),B0=e0.secp256k1.ProjectivePoint,H0=(y0,v0,I0)=>B0.BASE.multiplyAndAddUnsafe(y0,v0,I0);function G0(y0){let v0=e0.secp256k1.utils.normPrivateKeyToScalar(y0),I0=B0.fromPrivateKey(v0);return{scalar:I0.hasEvenY()?v0:k0(-v0),bytes:T0(I0)}}function V0(y0){(0,o0.aInRange)("x",y0,l0,a0);const v0=x0(y0*y0);let I0=g0(x0(v0*y0+BigInt(7)));I0%u0!==m0&&(I0=x0(-I0));const E0=new B0(y0,I0,l0);return E0.assertValidity(),E0}const K0=o0.bytesToNumberBE;function W0(...y0){return k0(K0(b0("BIP0340/challenge",...y0)))}function F0(y0){return G0(y0).bytes}function O0(y0,v0,I0=(0,t0.randomBytes)(32)){const E0=(0,o0.ensureBytes)("message",y0),{bytes:d0,scalar:_0}=G0(v0),C0=(0,o0.ensureBytes)("auxRand",I0,32),L0=N0(_0^K0(b0("BIP0340/aux",C0))),D0=b0("BIP0340/nonce",L0,d0,E0),j0=k0(K0(D0));if(j0===m0)throw new Error("sign failed: k is zero");const{bytes:z0,scalar:Y0}=G0(j0),Z0=W0(z0,d0,E0),X0=new Uint8Array(64);if(X0.set(z0,0),X0.set(N0(k0(Y0+Z0*_0)),32),!f0(X0,E0,d0))throw new Error("sign: Invalid signature produced");return X0}function f0(y0,v0,I0){const E0=(0,o0.ensureBytes)("signature",y0,64),d0=(0,o0.ensureBytes)("message",v0),_0=(0,o0.ensureBytes)("publicKey",I0,32);try{const C0=V0(K0(_0)),L0=K0(E0.subarray(0,32));if(!(0,o0.inRange)(L0,l0,a0))return!1;const D0=K0(E0.subarray(32,64));if(!(0,o0.inRange)(D0,l0,c0))return!1;const j0=W0(N0(L0),T0(C0),d0),z0=H0(C0,D0,k0(-j0));return!(!z0||!z0.hasEvenY()||z0.toAffine().x!==L0)}catch{return!1}}e0.schnorr={getPublicKey:F0,sign:O0,verify:f0,utils:{randomPrivateKey:e0.secp256k1.utils.randomPrivateKey,lift_x:V0,pointToBytes:T0,numberToBytesBE:o0.numberToBytesBE,bytesToNumberBE:o0.bytesToNumberBE,taggedHash:b0,mod:i0.mod}};const p0=(()=>(0,r0.isogenyMap)(w0,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(y0=>y0.map(v0=>BigInt(v0)))))(),A0=(()=>(0,s0.mapToCurveSimpleSWU)(w0,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:w0.create(BigInt("-11"))}))(),$0=(()=>(0,r0.createHasher)(e0.secp256k1.ProjectivePoint,y0=>{const{x:v0,y:I0}=A0(w0.create(y0[0]));return p0(v0,I0)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:w0.ORDER,m:1,k:128,expand:"xmd",hash:r.sha256}))();e0.hashToCurve=$0.hashToCurve,e0.encodeToCurve=$0.encodeToCurve})(Zn);var hr={};(function(e0){Object.defineProperty(e0,"__esModule",{value:!0}),e0.decodeHex=e0.remove0x=void 0;var r=fe$1;e0.remove0x=function(t0){return t0.startsWith("0x")||t0.startsWith("0X")?t0.slice(2):t0},e0.decodeHex=function(t0){return(0,r.hexToBytes)((0,e0.remove0x)(t0))}})(hr),function(e0){Object.defineProperty(e0,"__esModule",{value:!0}),e0.hexToPublicKey=e0.convertPublicKeyFormat=e0.getSharedPoint=e0.getPublicKey=e0.isValidPrivateKey=e0.getValidSecret=void 0;var r=Ie$1,t0=Pe,n0=Zn,r0=_e$1,i0=Ce$1,o0=hr;e0.getValidSecret=function(){var l0;do l0=(0,r.randomBytes)(i0.SECRET_KEY_LENGTH);while(!(0,e0.isValidPrivateKey)(l0));return l0},e0.isValidPrivateKey=function(l0){return s0((0,r0.ellipticCurve)(),function(u0){return u0.utils.isValidPrivateKey(l0)},function(){return!0},function(){return!0})},e0.getPublicKey=function(l0){return s0((0,r0.ellipticCurve)(),function(u0){return u0.getPublicKey(l0)},function(u0){return u0.getPublicKey(l0)},function(u0){return u0.getPublicKey(l0)})},e0.getSharedPoint=function(l0,u0,h0){return s0((0,r0.ellipticCurve)(),function(g0){return g0.getSharedSecret(l0,u0,h0)},function(g0){return g0.getSharedSecret(l0,u0)},function(g0){return c0(g0,l0,u0)})},e0.convertPublicKeyFormat=function(l0,u0){return s0((0,r0.ellipticCurve)(),function(h0){return h0.getSharedSecret(BigInt(1),l0,u0)},function(){return l0},function(){return l0})};function s0(l0,u0,h0,g0){if(l0==="secp256k1")return u0(n0.secp256k1);if(l0==="x25519")return h0(t0.x25519);if(l0==="ed25519")return g0(t0.ed25519);throw new Error("Not implemented")}e0.hexToPublicKey=function(l0){var u0=(0,o0.decodeHex)(l0);return s0((0,r0.ellipticCurve)(),function(){return a0(u0)},function(){return u0},function(){return u0})};var a0=function(l0){if(l0.length===i0.ETH_PUBLIC_KEY_SIZE){var u0=new Uint8Array(1+l0.length);return u0.set([4]),u0.set(l0,1),u0}return l0},c0=function(l0,u0,h0){var g0=l0.utils.getExtendedPublicKey(u0).scalar;return l0.ExtendedPoint.fromHex(h0).multiply(g0).toRawBytes()}}(Ae$1);var fr={},pr={};Object.defineProperty(pr,"__esModule",{value:!0}),pr.hkdf=void 0,pr.extract=vr,pr.expand=Er;const gr=Le,mr=Fe,yr=sr;function vr(e0,r,t0){return(0,gr.hash)(e0),t0===void 0&&(t0=new Uint8Array(e0.outputLen)),(0,yr.hmac)(e0,(0,mr.toBytes)(t0),(0,mr.toBytes)(r))}const br=new Uint8Array([0]),wr=new Uint8Array;function Er(e0,r,t0,n0=32){if((0,gr.hash)(e0),(0,gr.number)(n0),n0>255*e0.outputLen)throw new Error("Length should be <= 255*HashLen");const r0=Math.ceil(n0/e0.outputLen);t0===void 0&&(t0=wr);const i0=new Uint8Array(r0*e0.outputLen),o0=yr.hmac.create(e0,r),s0=o0._cloneInto(),a0=new Uint8Array(o0.outputLen);for(let c0=0;c0<r0;c0++)br[0]=c0+1,s0.update(c0===0?wr:a0).update(t0).update(br).digestInto(a0),i0.set(a0,e0.outputLen*c0),o0._cloneInto(s0);return o0.destroy(),s0.destroy(),a0.fill(0),br.fill(0),i0.slice(0,n0)}pr.hkdf=(e0,r,t0,n0,r0)=>Er(e0,vr(e0,r,t0),n0,r0),function(e0){Object.defineProperty(e0,"__esModule",{value:!0}),e0.getSharedKey=e0.deriveKey=void 0;var r=fe$1,t0=pr,n0=Jn;e0.deriveKey=function(r0,i0,o0){return(0,t0.hkdf)(n0.sha256,r0,i0,o0,32)},e0.getSharedKey=function(){for(var r0=[],i0=0;i0<arguments.length;i0++)r0[i0]=arguments[i0];return(0,e0.deriveKey)(r.concatBytes.apply(void 0,r0))}}(fr);var Sr={},_r={},Cr={},kr={};Object.defineProperty(kr,"__esModule",{value:!0}),kr.polyval=kr.ghash=void 0,kr._toGHASHKey=Tr;const xr=pe,Mr=fe$1,Ar=16,Ir=new Uint8Array(16),Rr=(0,Mr.u32)(Ir),Pr=e0=>(e0>>>0&255)<<24|(e0>>>8&255)<<16|(e0>>>16&255)<<8|e0>>>24&255|0;function Tr(e0){e0.reverse();const r=1&e0[15];let t0=0;for(let n0=0;n0<e0.length;n0++){const r0=e0[n0];e0[n0]=r0>>>1|t0,t0=(1&r0)<<7}return e0[0]^=225&-r,e0}class Or{constructor(r,t0){this.blockLen=Ar,this.outputLen=Ar,this.s0=0,this.s1=0,this.s2=0,this.s3=0,this.finished=!1,r=(0,Mr.toBytes)(r),(0,xr.bytes)(r,16);const n0=(0,Mr.createView)(r);let r0=n0.getUint32(0,!1),i0=n0.getUint32(4,!1),o0=n0.getUint32(8,!1),s0=n0.getUint32(12,!1);const a0=[];for(let b0=0;b0<128;b0++)a0.push({s0:Pr(r0),s1:Pr(i0),s2:Pr(o0),s3:Pr(s0)}),{s0:r0,s1:i0,s2:o0,s3:s0}={s3:(u0=o0)<<31|(h0=s0)>>>1,s2:(l0=i0)<<31|u0>>>1,s1:(c0=r0)<<31|l0>>>1,s0:c0>>>1^225<<24&-(1&h0)};var c0,l0,u0,h0;const g0=(b0=>b0>65536?8:b0>1024?4:2)(t0||1024);if(![1,2,4,8].includes(g0))throw new Error(`ghash: wrong window size=${g0}, should be 2, 4 or 8`);this.W=g0;const w0=128/g0,m0=this.windowSize=2**g0,S0=[];for(let b0=0;b0<w0;b0++)for(let T0=0;T0<m0;T0++){let N0=0,x0=0,k0=0,B0=0;for(let H0=0;H0<g0;H0++){if(!(T0>>>g0-H0-1&1))continue;const{s0:G0,s1:V0,s2:K0,s3:W0}=a0[g0*b0+H0];N0^=G0,x0^=V0,k0^=K0,B0^=W0}S0.push({s0:N0,s1:x0,s2:k0,s3:B0})}this.t=S0}_updateBlock(r,t0,n0,r0){r^=this.s0,t0^=this.s1,n0^=this.s2,r0^=this.s3;const{W:i0,t:o0,windowSize:s0}=this;let a0=0,c0=0,l0=0,u0=0;const h0=(1<<i0)-1;let g0=0;for(const w0 of[r,t0,n0,r0])for(let m0=0;m0<4;m0++){const S0=w0>>>8*m0&255;for(let b0=8/i0-1;b0>=0;b0--){const T0=S0>>>i0*b0&h0,{s0:N0,s1:x0,s2:k0,s3:B0}=o0[g0*s0+T0];a0^=N0,c0^=x0,l0^=k0,u0^=B0,g0+=1}}this.s0=a0,this.s1=c0,this.s2=l0,this.s3=u0}update(r){r=(0,Mr.toBytes)(r),(0,xr.exists)(this);const t0=(0,Mr.u32)(r),n0=Math.floor(r.length/Ar),r0=r.length%Ar;for(let i0=0;i0<n0;i0++)this._updateBlock(t0[4*i0+0],t0[4*i0+1],t0[4*i0+2],t0[4*i0+3]);return r0&&(Ir.set(r.subarray(n0*Ar)),this._updateBlock(Rr[0],Rr[1],Rr[2],Rr[3]),(0,Mr.clean)(Rr)),this}destroy(){const{t:r}=this;for(const t0 of r)t0.s0=0,t0.s1=0,t0.s2=0,t0.s3=0}digestInto(r){(0,xr.exists)(this),(0,xr.output)(r,this),this.finished=!0;const{s0:t0,s1:n0,s2:r0,s3:i0}=this,o0=(0,Mr.u32)(r);return o0[0]=t0,o0[1]=n0,o0[2]=r0,o0[3]=i0,r}digest(){const r=new Uint8Array(Ar);return this.digestInto(r),this.destroy(),r}}class Lr extends Or{constructor(r,t0){r=(0,Mr.toBytes)(r);const n0=Tr((0,Mr.copyBytes)(r));super(n0,t0),(0,Mr.clean)(n0)}update(r){r=(0,Mr.toBytes)(r),(0,xr.exists)(this);const t0=(0,Mr.u32)(r),n0=r.length%Ar,r0=Math.floor(r.length/Ar);for(let i0=0;i0<r0;i0++)this._updateBlock(Pr(t0[4*i0+3]),Pr(t0[4*i0+2]),Pr(t0[4*i0+1]),Pr(t0[4*i0+0]));return n0&&(Ir.set(r.subarray(r0*Ar)),this._updateBlock(Pr(Rr[3]),Pr(Rr[2]),Pr(Rr[1]),Pr(Rr[0])),(0,Mr.clean)(Rr)),this}digestInto(r){(0,xr.exists)(this),(0,xr.output)(r,this),this.finished=!0;const{s0:t0,s1:n0,s2:r0,s3:i0}=this,o0=(0,Mr.u32)(r);return o0[0]=t0,o0[1]=n0,o0[2]=r0,o0[3]=i0,r.reverse()}}function Nr(e0){const r=(n0,r0)=>e0(r0,n0.length).update((0,Mr.toBytes)(n0)).digest(),t0=e0(new Uint8Array(16),0);return r.outputLen=t0.outputLen,r.blockLen=t0.blockLen,r.create=(n0,r0)=>e0(n0,r0),r}kr.ghash=Nr((e0,r)=>new Or(e0,r)),kr.polyval=Nr((e0,r)=>new Lr(e0,r)),Object.defineProperty(Cr,"__esModule",{value:!0}),Cr.unsafe=Cr.aeskwp=Cr.aeskw=Cr.siv=Cr.gcm=Cr.cfb=Cr.cbc=Cr.ecb=Cr.ctr=void 0,Cr.expandKeyLE=Qr,Cr.expandKeyDecLE=ei;const $r=pe,Dr=kr,Br=fe$1,Kr=16,jr=new Uint8Array(Kr),Ur=283;function Hr(e0){return e0<<1^Ur&-(e0>>7)}function Fr(e0,r){let t0=0;for(;r>0;r>>=1)t0^=e0&-(1&r),e0=Hr(e0);return t0}const zr=(()=>{const e0=new Uint8Array(256);for(let t0=0,n0=1;t0<256;t0++,n0^=Hr(n0))e0[t0]=n0;const r=new Uint8Array(256);r[0]=99;for(let t0=0;t0<255;t0++){let n0=e0[255-t0];n0|=n0<<8,r[e0[t0]]=255&(n0^n0>>4^n0>>5^n0>>6^n0>>7^99)}return(0,Br.clean)(e0),r})(),qr=zr.map((e0,r)=>zr.indexOf(r)),Wr=e0=>e0<<24|e0>>>8,Vr=e0=>e0<<8|e0>>>24,Gr=e0=>e0<<24&4278190080|e0<<8&16711680|e0>>>8&65280|e0>>>24&255;function Yr(e0,r){if(e0.length!==256)throw new Error("Wrong sbox length");const t0=new Uint32Array(256).map((c0,l0)=>r(e0[l0])),n0=t0.map(Vr),r0=n0.map(Vr),i0=r0.map(Vr),o0=new Uint32Array(65536),s0=new Uint32Array(65536),a0=new Uint16Array(65536);for(let c0=0;c0<256;c0++)for(let l0=0;l0<256;l0++){const u0=256*c0+l0;o0[u0]=t0[c0]^n0[l0],s0[u0]=r0[c0]^i0[l0],a0[u0]=e0[c0]<<8|e0[l0]}return{sbox:e0,sbox2:a0,T0:t0,T1:n0,T2:r0,T3:i0,T01:o0,T23:s0}}const Zr=Yr(zr,e0=>Fr(e0,3)<<24|e0<<16|e0<<8|Fr(e0,2)),Jr=Yr(qr,e0=>Fr(e0,11)<<24|Fr(e0,13)<<16|Fr(e0,9)<<8|Fr(e0,14)),Xr=(()=>{const e0=new Uint8Array(16);for(let r=0,t0=1;r<16;r++,t0=Hr(t0))e0[r]=t0;return e0})();function Qr(e0){(0,$r.bytes)(e0);const r=e0.length;if(![16,24,32].includes(r))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${r}`);const{sbox2:t0}=Zr,n0=[];(0,Br.isAligned32)(e0)||n0.push(e0=(0,Br.copyBytes)(e0));const r0=(0,Br.u32)(e0),i0=r0.length,o0=a0=>ni(t0,a0,a0,a0,a0),s0=new Uint32Array(r+28);s0.set(r0);for(let a0=i0;a0<s0.length;a0++){let c0=s0[a0-1];a0%i0==0?c0=o0(Wr(c0))^Xr[a0/i0-1]:i0>6&&a0%i0==4&&(c0=o0(c0)),s0[a0]=s0[a0-i0]^c0}return(0,Br.clean)(...n0),s0}function ei(e0){const r=Qr(e0),t0=r.slice(),n0=r.length,{sbox2:r0}=Zr,{T0:i0,T1:o0,T2:s0,T3:a0}=Jr;for(let c0=0;c0<n0;c0+=4)for(let l0=0;l0<4;l0++)t0[c0+l0]=r[n0-c0-4+l0];(0,Br.clean)(r);for(let c0=4;c0<n0-4;c0++){const l0=t0[c0],u0=ni(r0,l0,l0,l0,l0);t0[c0]=i0[255&u0]^o0[u0>>>8&255]^s0[u0>>>16&255]^a0[u0>>>24]}return t0}function ti(e0,r,t0,n0,r0,i0){return e0[t0<<8&65280|n0>>>8&255]^r[r0>>>8&65280|i0>>>24&255]}function ni(e0,r,t0,n0,r0){return e0[255&r|65280&t0]|e0[n0>>>16&255|r0>>>16&65280]<<16}function ri(e0,r,t0,n0,r0){const{sbox2:i0,T01:o0,T23:s0}=Zr;let a0=0;r^=e0[a0++],t0^=e0[a0++],n0^=e0[a0++],r0^=e0[a0++];const c0=e0.length/4-2;for(let l0=0;l0<c0;l0++){const u0=e0[a0++]^ti(o0,s0,r,t0,n0,r0),h0=e0[a0++]^ti(o0,s0,t0,n0,r0,r),g0=e0[a0++]^ti(o0,s0,n0,r0,r,t0),w0=e0[a0++]^ti(o0,s0,r0,r,t0,n0);r=u0,t0=h0,n0=g0,r0=w0}return{s0:e0[a0++]^ni(i0,r,t0,n0,r0),s1:e0[a0++]^ni(i0,t0,n0,r0,r),s2:e0[a0++]^ni(i0,n0,r0,r,t0),s3:e0[a0++]^ni(i0,r0,r,t0,n0)}}function ii(e0,r,t0,n0,r0){const{sbox2:i0,T01:o0,T23:s0}=Jr;let a0=0;r^=e0[a0++],t0^=e0[a0++],n0^=e0[a0++],r0^=e0[a0++];const c0=e0.length/4-2;for(let l0=0;l0<c0;l0++){const u0=e0[a0++]^ti(o0,s0,r,r0,n0,t0),h0=e0[a0++]^ti(o0,s0,t0,r,r0,n0),g0=e0[a0++]^ti(o0,s0,n0,t0,r,r0),w0=e0[a0++]^ti(o0,s0,r0,n0,t0,r);r=u0,t0=h0,n0=g0,r0=w0}return{s0:e0[a0++]^ni(i0,r,r0,n0,t0),s1:e0[a0++]^ni(i0,t0,r,r0,n0),s2:e0[a0++]^ni(i0,n0,t0,r,r0),s3:e0[a0++]^ni(i0,r0,n0,t0,r)}}function oi(e0,r){if(r===void 0)return new Uint8Array(e0);if((0,$r.bytes)(r),r.length<e0)throw new Error(`aes: wrong destination length, expected at least ${e0}, got: ${r.length}`);if(!(0,Br.isAligned32)(r))throw new Error("unaligned dst");return r}function si(e0,r,t0,n0){(0,$r.bytes)(r,Kr),(0,$r.bytes)(t0);const r0=t0.length;n0=oi(r0,n0);const i0=r,o0=(0,Br.u32)(i0);let{s0,s1:a0,s2:c0,s3:l0}=ri(e0,o0[0],o0[1],o0[2],o0[3]);const u0=(0,Br.u32)(t0),h0=(0,Br.u32)(n0);for(let w0=0;w0+4<=u0.length;w0+=4){h0[w0+0]=u0[w0+0]^s0,h0[w0+1]=u0[w0+1]^a0,h0[w0+2]=u0[w0+2]^c0,h0[w0+3]=u0[w0+3]^l0;let m0=1;for(let S0=i0.length-1;S0>=0;S0--)m0=m0+(255&i0[S0])|0,i0[S0]=255&m0,m0>>>=8;({s0,s1:a0,s2:c0,s3:l0}=ri(e0,o0[0],o0[1],o0[2],o0[3]))}const g0=Kr*Math.floor(u0.length/4);if(g0<r0){const w0=new Uint32Array([s0,a0,c0,l0]),m0=(0,Br.u8)(w0);for(let S0=g0,b0=0;S0<r0;S0++,b0++)n0[S0]=t0[S0]^m0[b0];(0,Br.clean)(w0)}return n0}function ai(e0,r,t0,n0,r0){(0,$r.bytes)(t0,Kr),(0,$r.bytes)(n0),r0=oi(n0.length,r0);const i0=t0,o0=(0,Br.u32)(i0),s0=(0,Br.createView)(i0),a0=(0,Br.u32)(n0),c0=(0,Br.u32)(r0),l0=r?0:12,u0=n0.length;let h0=s0.getUint32(l0,r),{s0:g0,s1:w0,s2:m0,s3:S0}=ri(e0,o0[0],o0[1],o0[2],o0[3]);for(let T0=0;T0+4<=a0.length;T0+=4)c0[T0+0]=a0[T0+0]^g0,c0[T0+1]=a0[T0+1]^w0,c0[T0+2]=a0[T0+2]^m0,c0[T0+3]=a0[T0+3]^S0,h0=h0+1>>>0,s0.setUint32(l0,h0,r),{s0:g0,s1:w0,s2:m0,s3:S0}=ri(e0,o0[0],o0[1],o0[2],o0[3]);const b0=Kr*Math.floor(a0.length/4);if(b0<u0){const T0=new Uint32Array([g0,w0,m0,S0]),N0=(0,Br.u8)(T0);for(let x0=b0,k0=0;x0<u0;x0++,k0++)r0[x0]=n0[x0]^N0[k0];(0,Br.clean)(T0)}return r0}function ci(e0){if((0,$r.bytes)(e0),e0.length%Kr!=0)throw new Error("aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size 16")}function li(e0,r,t0){(0,$r.bytes)(e0);let n0=e0.length;const r0=n0%Kr;if(!r&&r0!==0)throw new Error("aec/(cbc-ecb): unpadded plaintext with disabled padding");(0,Br.isAligned32)(e0)||(e0=(0,Br.copyBytes)(e0));const i0=(0,Br.u32)(e0);if(r){let s0=Kr-r0;s0||(s0=Kr),n0+=s0}const o0=oi(n0,t0);return{b:i0,o:(0,Br.u32)(o0),out:o0}}function di(e0,r){if(!r)return e0;const t0=e0.length;if(!t0)throw new Error("aes/pcks5: empty ciphertext not allowed");const n0=e0[t0-1];if(n0<=0||n0>16)throw new Error("aes/pcks5: wrong padding");const r0=e0.subarray(0,-n0);for(let i0=0;i0<n0;i0++)if(e0[t0-i0-1]!==n0)throw new Error("aes/pcks5: wrong padding");return r0}function ui(e0){const r=new Uint8Array(16),t0=(0,Br.u32)(r);r.set(e0);const n0=Kr-e0.length;for(let r0=Kr-n0;r0<Kr;r0++)r[r0]=n0;return t0}function hi(e0,r,t0,n0,r0){const i0=r0==null?0:r0.length,o0=e0.create(t0,n0.length+i0);r0&&o0.update(r0),o0.update(n0);const s0=new Uint8Array(16),a0=(0,Br.createView)(s0);r0&&(0,Br.setBigUint64)(a0,0,BigInt(8*i0),r),(0,Br.setBigUint64)(a0,8,BigInt(8*n0.length),r),o0.update(s0);const c0=o0.digest();return(0,Br.clean)(s0),c0}Cr.ctr=(0,Br.wrapCipher)({blockSize:16,nonceLength:16},function(e0,r){function t0(n0,r0){if((0,$r.bytes)(n0),r0!==void 0&&((0,$r.bytes)(r0),!(0,Br.isAligned32)(r0)))throw new Error("unaligned destination");const i0=Qr(e0),o0=(0,Br.copyBytes)(r),s0=[i0,o0];(0,Br.isAligned32)(n0)||s0.push(n0=(0,Br.copyBytes)(n0));const a0=si(i0,o0,n0,r0);return(0,Br.clean)(...s0),a0}return(0,$r.bytes)(e0),(0,$r.bytes)(r,Kr),{encrypt:(n0,r0)=>t0(n0,r0),decrypt:(n0,r0)=>t0(n0,r0)}}),Cr.ecb=(0,Br.wrapCipher)({blockSize:16},function(e0,r={}){(0,$r.bytes)(e0);const t0=!r.disablePadding;return{encrypt(n0,r0){const{b:i0,o:o0,out:s0}=li(n0,t0,r0),a0=Qr(e0);let c0=0;for(;c0+4<=i0.length;){const{s0:l0,s1:u0,s2:h0,s3:g0}=ri(a0,i0[c0+0],i0[c0+1],i0[c0+2],i0[c0+3]);o0[c0++]=l0,o0[c0++]=u0,o0[c0++]=h0,o0[c0++]=g0}if(t0){const l0=ui(n0.subarray(4*c0)),{s0:u0,s1:h0,s2:g0,s3:w0}=ri(a0,l0[0],l0[1],l0[2],l0[3]);o0[c0++]=u0,o0[c0++]=h0,o0[c0++]=g0,o0[c0++]=w0}return(0,Br.clean)(a0),s0},decrypt(n0,r0){ci(n0);const i0=ei(e0),o0=oi(n0.length,r0),s0=[i0];(0,Br.isAligned32)(n0)||s0.push(n0=(0,Br.copyBytes)(n0));const a0=(0,Br.u32)(n0),c0=(0,Br.u32)(o0);for(let l0=0;l0+4<=a0.length;){const{s0:u0,s1:h0,s2:g0,s3:w0}=ii(i0,a0[l0+0],a0[l0+1],a0[l0+2],a0[l0+3]);c0[l0++]=u0,c0[l0++]=h0,c0[l0++]=g0,c0[l0++]=w0}return(0,Br.clean)(...s0),di(o0,t0)}}}),Cr.cbc=(0,Br.wrapCipher)({blockSize:16,nonceLength:16},function(e0,r,t0={}){(0,$r.bytes)(e0),(0,$r.bytes)(r,16);const n0=!t0.disablePadding;return{encrypt(r0,i0){const o0=Qr(e0),{b:s0,o:a0,out:c0}=li(r0,n0,i0);let l0=r;const u0=[o0];(0,Br.isAligned32)(l0)||u0.push(l0=(0,Br.copyBytes)(l0));const h0=(0,Br.u32)(l0);let g0=h0[0],w0=h0[1],m0=h0[2],S0=h0[3],b0=0;for(;b0+4<=s0.length;)g0^=s0[b0+0],w0^=s0[b0+1],m0^=s0[b0+2],S0^=s0[b0+3],{s0:g0,s1:w0,s2:m0,s3:S0}=ri(o0,g0,w0,m0,S0),a0[b0++]=g0,a0[b0++]=w0,a0[b0++]=m0,a0[b0++]=S0;if(n0){const T0=ui(r0.subarray(4*b0));g0^=T0[0],w0^=T0[1],m0^=T0[2],S0^=T0[3],{s0:g0,s1:w0,s2:m0,s3:S0}=ri(o0,g0,w0,m0,S0),a0[b0++]=g0,a0[b0++]=w0,a0[b0++]=m0,a0[b0++]=S0}return(0,Br.clean)(...u0),c0},decrypt(r0,i0){ci(r0);const o0=ei(e0);let s0=r;const a0=[o0];(0,Br.isAligned32)(s0)||a0.push(s0=(0,Br.copyBytes)(s0));const c0=(0,Br.u32)(s0),l0=oi(r0.length,i0);(0,Br.isAligned32)(r0)||a0.push(r0=(0,Br.copyBytes)(r0));const u0=(0,Br.u32)(r0),h0=(0,Br.u32)(l0);let g0=c0[0],w0=c0[1],m0=c0[2],S0=c0[3];for(let b0=0;b0+4<=u0.length;){const T0=g0,N0=w0,x0=m0,k0=S0;g0=u0[b0+0],w0=u0[b0+1],m0=u0[b0+2],S0=u0[b0+3];const{s0:B0,s1:H0,s2:G0,s3:V0}=ii(o0,g0,w0,m0,S0);h0[b0++]=B0^T0,h0[b0++]=H0^N0,h0[b0++]=G0^x0,h0[b0++]=V0^k0}return(0,Br.clean)(...a0),di(l0,n0)}}}),Cr.cfb=(0,Br.wrapCipher)({blockSize:16,nonceLength:16},function(e0,r){function t0(n0,r0,i0){(0,$r.bytes)(n0);const o0=n0.length;i0=oi(o0,i0);const s0=Qr(e0);let a0=r;const c0=[s0];(0,Br.isAligned32)(a0)||c0.push(a0=(0,Br.copyBytes)(a0)),(0,Br.isAligned32)(n0)||c0.push(n0=(0,Br.copyBytes)(n0));const l0=(0,Br.u32)(n0),u0=(0,Br.u32)(i0),h0=r0?u0:l0,g0=(0,Br.u32)(a0);let w0=g0[0],m0=g0[1],S0=g0[2],b0=g0[3];for(let N0=0;N0+4<=l0.length;){const{s0:x0,s1:k0,s2:B0,s3:H0}=ri(s0,w0,m0,S0,b0);u0[N0+0]=l0[N0+0]^x0,u0[N0+1]=l0[N0+1]^k0,u0[N0+2]=l0[N0+2]^B0,u0[N0+3]=l0[N0+3]^H0,w0=h0[N0++],m0=h0[N0++],S0=h0[N0++],b0=h0[N0++]}const T0=Kr*Math.floor(l0.length/4);if(T0<o0){({s0:w0,s1:m0,s2:S0,s3:b0}=ri(s0,w0,m0,S0,b0));const N0=(0,Br.u8)(new Uint32Array([w0,m0,S0,b0]));for(let x0=T0,k0=0;x0<o0;x0++,k0++)i0[x0]=n0[x0]^N0[k0];(0,Br.clean)(N0)}return(0,Br.clean)(...c0),i0}return(0,$r.bytes)(e0),(0,$r.bytes)(r,16),{encrypt:(n0,r0)=>t0(n0,!0,r0),decrypt:(n0,r0)=>t0(n0,!1,r0)}}),Cr.gcm=(0,Br.wrapCipher)({blockSize:16,nonceLength:12,tagLength:16},function(e0,r,t0){if((0,$r.bytes)(e0),(0,$r.bytes)(r),t0!==void 0&&(0,$r.bytes)(t0),r.length<8)throw new Error("aes/gcm: invalid nonce length");const n0=16;function r0(o0,s0,a0){const c0=hi(Dr.ghash,!1,o0,a0,t0);for(let l0=0;l0<s0.length;l0++)c0[l0]^=s0[l0];return c0}function i0(){const o0=Qr(e0),s0=jr.slice(),a0=jr.slice();if(ai(o0,!1,a0,a0,s0),r.length===12)a0.set(r);else{const c0=jr.slice(),l0=(0,Br.createView)(c0);(0,Br.setBigUint64)(l0,8,BigInt(8*r.length),!1);const u0=Dr.ghash.create(s0).update(r).update(c0);u0.digestInto(a0),u0.destroy()}return{xk:o0,authKey:s0,counter:a0,tagMask:ai(o0,!1,a0,jr)}}return{encrypt(o0){(0,$r.bytes)(o0);const{xk:s0,authKey:a0,counter:c0,tagMask:l0}=i0(),u0=new Uint8Array(o0.length+n0),h0=[s0,a0,c0,l0];(0,Br.isAligned32)(o0)||h0.push(o0=(0,Br.copyBytes)(o0)),ai(s0,!1,c0,o0,u0);const g0=r0(a0,l0,u0.subarray(0,u0.length-n0));return h0.push(g0),u0.set(g0,o0.length),(0,Br.clean)(...h0),u0},decrypt(o0){if((0,$r.bytes)(o0),o0.length<n0)throw new Error("aes/gcm: ciphertext less than tagLen (16)");const{xk:s0,authKey:a0,counter:c0,tagMask:l0}=i0(),u0=[s0,a0,l0,c0];(0,Br.isAligned32)(o0)||u0.push(o0=(0,Br.copyBytes)(o0));const h0=o0.subarray(0,-16),g0=o0.subarray(-16),w0=r0(a0,l0,h0);if(u0.push(w0),!(0,Br.equalBytes)(w0,g0))throw new Error("aes/gcm: invalid ghash tag");const m0=ai(s0,!1,c0,h0);return(0,Br.clean)(...u0),m0}}});const fi=(e0,r,t0)=>n0=>{if(!Number.isSafeInteger(n0)||r>n0||n0>t0)throw new Error(`${e0}: invalid value=${n0}, must be [${r}..${t0}]`)};function pi(e0){return e0!=null&&typeof e0=="object"&&(e0 instanceof Uint32Array||e0.constructor.name==="Uint32Array")}function gi(e0,r){if((0,$r.bytes)(r,16),!pi(e0))throw new Error("_encryptBlock accepts result of expandKeyLE");const t0=(0,Br.u32)(r);let{s0:n0,s1:r0,s2:i0,s3:o0}=ri(e0,t0[0],t0[1],t0[2],t0[3]);return t0[0]=n0,t0[1]=r0,t0[2]=i0,t0[3]=o0,r}function mi(e0,r){if((0,$r.bytes)(r,16),!pi(e0))throw new Error("_decryptBlock accepts result of expandKeyLE");const t0=(0,Br.u32)(r);let{s0:n0,s1:r0,s2:i0,s3:o0}=ii(e0,t0[0],t0[1],t0[2],t0[3]);return t0[0]=n0,t0[1]=r0,t0[2]=i0,t0[3]=o0,r}Cr.siv=(0,Br.wrapCipher)({blockSize:16,nonceLength:12,tagLength:16},function(e0,r,t0){const n0=fi("AAD",0,68719476736),r0=fi("plaintext",0,2**36),i0=fi("nonce",12,12),o0=fi("ciphertext",16,2**36+16);function s0(){const l0=Qr(e0),u0=new Uint8Array(e0.length),h0=new Uint8Array(16),g0=[l0,u0];let w0=r;(0,Br.isAligned32)(w0)||g0.push(w0=(0,Br.copyBytes)(w0));const m0=(0,Br.u32)(w0);let S0=0,b0=m0[0],T0=m0[1],N0=m0[2],x0=0;for(const B0 of[h0,u0].map(Br.u32)){const H0=(0,Br.u32)(B0);for(let G0=0;G0<H0.length;G0+=2){const{s0:V0,s1:K0}=ri(l0,S0,b0,T0,N0);H0[G0+0]=V0,H0[G0+1]=K0,S0=++x0}}const k0={authKey:h0,encKey:Qr(u0)};return(0,Br.clean)(...g0),k0}function a0(l0,u0,h0){const g0=hi(Dr.polyval,!0,u0,h0,t0);for(let N0=0;N0<12;N0++)g0[N0]^=r[N0];g0[15]&=127;const w0=(0,Br.u32)(g0);let m0=w0[0],S0=w0[1],b0=w0[2],T0=w0[3];return{s0:m0,s1:S0,s2:b0,s3:T0}=ri(l0,m0,S0,b0,T0),w0[0]=m0,w0[1]=S0,w0[2]=b0,w0[3]=T0,g0}function c0(l0,u0,h0){let g0=(0,Br.copyBytes)(u0);g0[15]|=128;const w0=ai(l0,!0,g0,h0);return(0,Br.clean)(g0),w0}return(0,$r.bytes)(e0,16,24,32),(0,$r.bytes)(r),i0(r.length),t0!==void 0&&((0,$r.bytes)(t0),n0(t0.length)),{encrypt(l0){(0,$r.bytes)(l0),r0(l0.length);const{encKey:u0,authKey:h0}=s0(),g0=a0(u0,h0,l0),w0=[u0,h0,g0];(0,Br.isAligned32)(l0)||w0.push(l0=(0,Br.copyBytes)(l0));const m0=new Uint8Array(l0.length+16);return m0.set(g0,l0.length),m0.set(c0(u0,g0,l0)),(0,Br.clean)(...w0),m0},decrypt(l0){(0,$r.bytes)(l0),o0(l0.length);const u0=l0.subarray(-16),{encKey:h0,authKey:g0}=s0(),w0=[h0,g0];(0,Br.isAligned32)(l0)||w0.push(l0=(0,Br.copyBytes)(l0));const m0=c0(h0,u0,l0.subarray(0,-16)),S0=a0(h0,g0,m0);if(w0.push(S0),!(0,Br.equalBytes)(u0,S0))throw(0,Br.clean)(...w0),new Error("invalid polyval tag");return(0,Br.clean)(...w0),m0}}});const yi={encrypt(e0,r){if(r.length>=2**32)throw new Error("plaintext should be less than 4gb");const t0=Qr(e0);if(r.length===16)gi(t0,r);else{const n0=(0,Br.u32)(r);let r0=n0[0],i0=n0[1];for(let o0=0,s0=1;o0<6;o0++)for(let a0=2;a0<n0.length;a0+=2,s0++){const{s0:c0,s1:l0,s2:u0,s3:h0}=ri(t0,r0,i0,n0[a0],n0[a0+1]);r0=c0,i0=l0^Gr(s0),n0[a0]=u0,n0[a0+1]=h0}n0[0]=r0,n0[1]=i0}t0.fill(0)},decrypt(e0,r){if(r.length-8>=2**32)throw new Error("ciphertext should be less than 4gb");const t0=ei(e0),n0=r.length/8-1;if(n0===1)mi(t0,r);else{const r0=(0,Br.u32)(r);let i0=r0[0],o0=r0[1];for(let s0=0,a0=6*n0;s0<6;s0++)for(let c0=2*n0;c0>=1;c0-=2,a0--){o0^=Gr(a0);const{s0:l0,s1:u0,s2:h0,s3:g0}=ii(t0,i0,o0,r0[c0],r0[c0+1]);i0=l0,o0=u0,r0[c0]=h0,r0[c0+1]=g0}r0[0]=i0,r0[1]=o0}t0.fill(0)}},vi=new Uint8Array(8).fill(166);Cr.aeskw=(0,Br.wrapCipher)({blockSize:8},e0=>({encrypt(r){if((0,$r.bytes)(r),!r.length||r.length%8!=0)throw new Error("invalid plaintext length");if(r.length===8)throw new Error("8-byte keys not allowed in AESKW, use AESKWP instead");const t0=(0,Br.concatBytes)(vi,r);return yi.encrypt(e0,t0),t0},decrypt(r){if((0,$r.bytes)(r),r.length%8!=0||r.length<24)throw new Error("invalid ciphertext length");const t0=(0,Br.copyBytes)(r);if(yi.decrypt(e0,t0),!(0,Br.equalBytes)(t0.subarray(0,8),vi))throw new Error("integrity check failed");return t0.subarray(0,8).fill(0),t0.subarray(8)}}));const bi=2790873510;Cr.aeskwp=(0,Br.wrapCipher)({blockSize:8},e0=>({encrypt(r){if((0,$r.bytes)(r),!r.length)throw new Error("invalid plaintext length");const t0=8*Math.ceil(r.length/8),n0=new Uint8Array(8+t0);n0.set(r,8);const r0=(0,Br.u32)(n0);return r0[0]=bi,r0[1]=Gr(r.length),yi.encrypt(e0,n0),n0},decrypt(r){if((0,$r.bytes)(r),r.length<16)throw new Error("invalid ciphertext length");const t0=(0,Br.copyBytes)(r),n0=(0,Br.u32)(t0);yi.decrypt(e0,t0);const r0=Gr(n0[1])>>>0,i0=8*Math.ceil(r0/8);if(n0[0]!==bi||t0.length-8!==i0)throw new Error("integrity check failed");for(let o0=r0;o0<i0;o0++)if(t0[8+o0]!==0)throw new Error("integrity check failed");return t0.subarray(0,8).fill(0),t0.subarray(8,8+r0)}})),Cr.unsafe={expandKeyLE:Qr,expandKeyDecLE:ei,encrypt:ri,decrypt:ii,encryptBlock:gi,decryptBlock:mi,ctrCounter:si,ctr32:ai},Object.defineProperty(_r,"__esModule",{value:!0}),_r.aes256cbc=_r.aes256gcm=void 0;var wi=Cr;_r.aes256gcm=function(e0,r,t0){return(0,wi.gcm)(e0,r,t0)};_r.aes256cbc=function(e0,r,t0){return(0,wi.cbc)(e0,r)};var Ei={},Si={},_i={};Object.defineProperty(_i,"__esModule",{value:!0}),_i.sigma=void 0,_i.rotl=function(e0,r){return e0<<r|e0>>>32-r},_i.createCipher=function(e0,r){const{allowShortKeys:t0,extendNonceFn:n0,counterLength:r0,counterRight:i0,rounds:o0}=(0,ki.checkOpts)({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},r);if(typeof e0!="function")throw new Error("core must be a function");return(0,Ci.number)(r0),(0,Ci.number)(o0),(0,Ci.bool)(i0),(0,Ci.bool)(t0),(s0,a0,c0,l0,u0=0)=>{(0,Ci.bytes)(s0),(0,Ci.bytes)(a0),(0,Ci.bytes)(c0);const h0=c0.length;if(l0===void 0&&(l0=new Uint8Array(h0)),(0,Ci.bytes)(l0),(0,Ci.number)(u0),u0<0||u0>=Li)throw new Error("arx: counter overflow");if(l0.length<h0)throw new Error(`arx: output (${l0.length}) is shorter than data (${h0})`);const g0=[];let w0,m0,S0=s0.length;if(S0===32)g0.push(w0=(0,ki.copyBytes)(s0)),m0=Ri;else{if(S0!==16||!t0)throw new Error(`arx: invalid 32-byte key, got length=${S0}`);w0=new Uint8Array(32),w0.set(s0),w0.set(s0,16),m0=Ii,g0.push(w0)}Pi(a0)||g0.push(a0=(0,ki.copyBytes)(a0));const b0=(0,ki.u32)(w0);if(n0){if(a0.length!==24)throw new Error("arx: extended nonce must be 24 bytes");n0(m0,b0,(0,ki.u32)(a0.subarray(0,16)),b0),a0=a0.subarray(16)}const T0=16-r0;if(T0!==a0.length)throw new Error(`arx: nonce must be ${T0} or 16 bytes`);if(T0!==12){const x0=new Uint8Array(12);x0.set(a0,i0?0:12-a0.length),a0=x0,g0.push(a0)}const N0=(0,ki.u32)(a0);return function(x0,k0,B0,H0,G0,V0,K0,W0){const F0=G0.length,O0=new Uint8Array(Ti),f0=(0,ki.u32)(O0),p0=Pi(G0)&&Pi(V0),A0=p0?(0,ki.u32)(G0):Ni,$0=p0?(0,ki.u32)(V0):Ni;for(let y0=0;y0<F0;K0++){if(x0(k0,B0,H0,f0,K0,W0),K0>=Li)throw new Error("arx: counter overflow");const v0=Math.min(Ti,F0-y0);if(p0&&v0===Ti){const I0=y0/4;if(y0%4!=0)throw new Error("arx: invalid block position");for(let E0,d0=0;d0<Oi;d0++)E0=I0+d0,$0[E0]=A0[E0]^f0[d0];y0+=Ti}else{for(let I0,E0=0;E0<v0;E0++)I0=y0+E0,V0[I0]=G0[I0]^O0[E0];y0+=v0}}}(e0,m0,b0,N0,c0,l0,u0,o0),(0,ki.clean)(...g0),l0}};const Ci=pe,ki=fe$1,xi=e0=>Uint8Array.from(e0.split("").map(r=>r.charCodeAt(0))),Mi=xi("expand 16-byte k"),Ai=xi("expand 32-byte k"),Ii=(0,ki.u32)(Mi),Ri=(0,ki.u32)(Ai);function Pi(e0){return e0.byteOffset%4==0}_i.sigma=Ri.slice();const Ti=64,Oi=16,Li=2**32-1,Ni=new Uint32Array;var $i={};Object.defineProperty($i,"__esModule",{value:!0}),$i.poly1305=void 0,$i.wrapConstructorWithKey=Ui;const Di=pe,Bi=fe$1,Ki=(e0,r)=>255&e0[r++]|(255&e0[r++])<<8;class ji{constructor(r){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,r=(0,Bi.toBytes)(r),(0,Di.bytes)(r,32);const t0=Ki(r,0),n0=Ki(r,2),r0=Ki(r,4),i0=Ki(r,6),o0=Ki(r,8),s0=Ki(r,10),a0=Ki(r,12),c0=Ki(r,14);this.r[0]=8191&t0,this.r[1]=8191&(t0>>>13|n0<<3),this.r[2]=7939&(n0>>>10|r0<<6),this.r[3]=8191&(r0>>>7|i0<<9),this.r[4]=255&(i0>>>4|o0<<12),this.r[5]=o0>>>1&8190,this.r[6]=8191&(o0>>>14|s0<<2),this.r[7]=8065&(s0>>>11|a0<<5),this.r[8]=8191&(a0>>>8|c0<<8),this.r[9]=c0>>>5&127;for(let l0=0;l0<8;l0++)this.pad[l0]=Ki(r,16+2*l0)}process(r,t0,n0=!1){const r0=n0?0:2048,{h:i0,r:o0}=this,s0=o0[0],a0=o0[1],c0=o0[2],l0=o0[3],u0=o0[4],h0=o0[5],g0=o0[6],w0=o0[7],m0=o0[8],S0=o0[9],b0=Ki(r,t0+0),T0=Ki(r,t0+2),N0=Ki(r,t0+4),x0=Ki(r,t0+6),k0=Ki(r,t0+8),B0=Ki(r,t0+10),H0=Ki(r,t0+12),G0=Ki(r,t0+14);let V0=i0[0]+(8191&b0),K0=i0[1]+(8191&(b0>>>13|T0<<3)),W0=i0[2]+(8191&(T0>>>10|N0<<6)),F0=i0[3]+(8191&(N0>>>7|x0<<9)),O0=i0[4]+(8191&(x0>>>4|k0<<12)),f0=i0[5]+(k0>>>1&8191),p0=i0[6]+(8191&(k0>>>14|B0<<2)),A0=i0[7]+(8191&(B0>>>11|H0<<5)),$0=i0[8]+(8191&(H0>>>8|G0<<8)),y0=i0[9]+(G0>>>5|r0),v0=0,I0=v0+V0*s0+K0*(5*S0)+W0*(5*m0)+F0*(5*w0)+O0*(5*g0);v0=I0>>>13,I0&=8191,I0+=f0*(5*h0)+p0*(5*u0)+A0*(5*l0)+$0*(5*c0)+y0*(5*a0),v0+=I0>>>13,I0&=8191;let E0=v0+V0*a0+K0*s0+W0*(5*S0)+F0*(5*m0)+O0*(5*w0);v0=E0>>>13,E0&=8191,E0+=f0*(5*g0)+p0*(5*h0)+A0*(5*u0)+$0*(5*l0)+y0*(5*c0),v0+=E0>>>13,E0&=8191;let d0=v0+V0*c0+K0*a0+W0*s0+F0*(5*S0)+O0*(5*m0);v0=d0>>>13,d0&=8191,d0+=f0*(5*w0)+p0*(5*g0)+A0*(5*h0)+$0*(5*u0)+y0*(5*l0),v0+=d0>>>13,d0&=8191;let _0=v0+V0*l0+K0*c0+W0*a0+F0*s0+O0*(5*S0);v0=_0>>>13,_0&=8191,_0+=f0*(5*m0)+p0*(5*w0)+A0*(5*g0)+$0*(5*h0)+y0*(5*u0),v0+=_0>>>13,_0&=8191;let C0=v0+V0*u0+K0*l0+W0*c0+F0*a0+O0*s0;v0=C0>>>13,C0&=8191,C0+=f0*(5*S0)+p0*(5*m0)+A0*(5*w0)+$0*(5*g0)+y0*(5*h0),v0+=C0>>>13,C0&=8191;let L0=v0+V0*h0+K0*u0+W0*l0+F0*c0+O0*a0;v0=L0>>>13,L0&=8191,L0+=f0*s0+p0*(5*S0)+A0*(5*m0)+$0*(5*w0)+y0*(5*g0),v0+=L0>>>13,L0&=8191;let D0=v0+V0*g0+K0*h0+W0*u0+F0*l0+O0*c0;v0=D0>>>13,D0&=8191,D0+=f0*a0+p0*s0+A0*(5*S0)+$0*(5*m0)+y0*(5*w0),v0+=D0>>>13,D0&=8191;let j0=v0+V0*w0+K0*g0+W0*h0+F0*u0+O0*l0;v0=j0>>>13,j0&=8191,j0+=f0*c0+p0*a0+A0*s0+$0*(5*S0)+y0*(5*m0),v0+=j0>>>13,j0&=8191;let z0=v0+V0*m0+K0*w0+W0*g0+F0*h0+O0*u0;v0=z0>>>13,z0&=8191,z0+=f0*l0+p0*c0+A0*a0+$0*s0+y0*(5*S0),v0+=z0>>>13,z0&=8191;let Y0=v0+V0*S0+K0*m0+W0*w0+F0*g0+O0*h0;v0=Y0>>>13,Y0&=8191,Y0+=f0*u0+p0*l0+A0*c0+$0*a0+y0*s0,v0+=Y0>>>13,Y0&=8191,v0=(v0<<2)+v0|0,v0=v0+I0|0,I0=8191&v0,v0>>>=13,E0+=v0,i0[0]=I0,i0[1]=E0,i0[2]=d0,i0[3]=_0,i0[4]=C0,i0[5]=L0,i0[6]=D0,i0[7]=j0,i0[8]=z0,i0[9]=Y0}finalize(){const{h:r,pad:t0}=this,n0=new Uint16Array(10);let r0=r[1]>>>13;r[1]&=8191;for(let s0=2;s0<10;s0++)r[s0]+=r0,r0=r[s0]>>>13,r[s0]&=8191;r[0]+=5*r0,r0=r[0]>>>13,r[0]&=8191,r[1]+=r0,r0=r[1]>>>13,r[1]&=8191,r[2]+=r0,n0[0]=r[0]+5,r0=n0[0]>>>13,n0[0]&=8191;for(let s0=1;s0<10;s0++)n0[s0]=r[s0]+r0,r0=n0[s0]>>>13,n0[s0]&=8191;n0[9]-=8192;let i0=(1^r0)-1;for(let s0=0;s0<10;s0++)n0[s0]&=i0;i0=~i0;for(let s0=0;s0<10;s0++)r[s0]=r[s0]&i0|n0[s0];r[0]=65535&(r[0]|r[1]<<13),r[1]=65535&(r[1]>>>3|r[2]<<10),r[2]=65535&(r[2]>>>6|r[3]<<7),r[3]=65535&(r[3]>>>9|r[4]<<4),r[4]=65535&(r[4]>>>12|r[5]<<1|r[6]<<14),r[5]=65535&(r[6]>>>2|r[7]<<11),r[6]=65535&(r[7]>>>5|r[8]<<8),r[7]=65535&(r[8]>>>8|r[9]<<5);let o0=r[0]+t0[0];r[0]=65535&o0;for(let s0=1;s0<8;s0++)o0=(r[s0]+t0[s0]|0)+(o0>>>16)|0,r[s0]=65535&o0;(0,Bi.clean)(n0)}update(r){(0,Di.exists)(this);const{buffer:t0,blockLen:n0}=this,r0=(r=(0,Bi.toBytes)(r)).length;for(let i0=0;i0<r0;){const o0=Math.min(n0-this.pos,r0-i0);if(o0!==n0)t0.set(r.subarray(i0,i0+o0),this.pos),this.pos+=o0,i0+=o0,this.pos===n0&&(this.process(t0,0,!1),this.pos=0);else for(;n0<=r0-i0;i0+=n0)this.process(r,i0)}return this}destroy(){(0,Bi.clean)(this.h,this.r,this.buffer,this.pad)}digestInto(r){(0,Di.exists)(this),(0,Di.output)(r,this),this.finished=!0;const{buffer:t0,h:n0}=this;let{pos:r0}=this;if(r0){for(t0[r0++]=1;r0<16;r0++)t0[r0]=0;this.process(t0,0,!0)}this.finalize();let i0=0;for(let o0=0;o0<8;o0++)r[i0++]=n0[o0]>>>0,r[i0++]=n0[o0]>>>8;return r}digest(){const{buffer:r,outputLen:t0}=this;this.digestInto(r);const n0=r.slice(0,t0);return this.destroy(),n0}}function Ui(e0){const r=(n0,r0)=>e0(r0).update((0,Bi.toBytes)(n0)).digest(),t0=e0(new Uint8Array(32));return r.outputLen=t0.outputLen,r.blockLen=t0.blockLen,r.create=n0=>e0(n0),r}$i.poly1305=Ui(e0=>new ji(e0)),function(e0){Object.defineProperty(e0,"__esModule",{value:!0}),e0.xchacha20poly1305=e0.chacha20poly1305=e0._poly1305_aead=e0.chacha12=e0.chacha8=e0.xchacha20=e0.chacha20=e0.chacha20orig=void 0,e0.hchacha=o0;const r=_i,t0=pe,n0=$i,r0=fe$1;function i0(u0,h0,g0,w0,m0,S0=20){let b0=u0[0],T0=u0[1],N0=u0[2],x0=u0[3],k0=h0[0],B0=h0[1],H0=h0[2],G0=h0[3],V0=h0[4],K0=h0[5],W0=h0[6],F0=h0[7],O0=m0,f0=g0[0],p0=g0[1],A0=g0[2],$0=b0,y0=T0,v0=N0,I0=x0,E0=k0,d0=B0,_0=H0,C0=G0,L0=V0,D0=K0,j0=W0,z0=F0,Y0=O0,Z0=f0,X0=p0,J0=A0;for(let _g=0;_g<S0;_g+=2)$0=$0+E0|0,Y0=(0,r.rotl)(Y0^$0,16),L0=L0+Y0|0,E0=(0,r.rotl)(E0^L0,12),$0=$0+E0|0,Y0=(0,r.rotl)(Y0^$0,8),L0=L0+Y0|0,E0=(0,r.rotl)(E0^L0,7),y0=y0+d0|0,Z0=(0,r.rotl)(Z0^y0,16),D0=D0+Z0|0,d0=(0,r.rotl)(d0^D0,12),y0=y0+d0|0,Z0=(0,r.rotl)(Z0^y0,8),D0=D0+Z0|0,d0=(0,r.rotl)(d0^D0,7),v0=v0+_0|0,X0=(0,r.rotl)(X0^v0,16),j0=j0+X0|0,_0=(0,r.rotl)(_0^j0,12),v0=v0+_0|0,X0=(0,r.rotl)(X0^v0,8),j0=j0+X0|0,_0=(0,r.rotl)(_0^j0,7),I0=I0+C0|0,J0=(0,r.rotl)(J0^I0,16),z0=z0+J0|0,C0=(0,r.rotl)(C0^z0,12),I0=I0+C0|0,J0=(0,r.rotl)(J0^I0,8),z0=z0+J0|0,C0=(0,r.rotl)(C0^z0,7),$0=$0+d0|0,J0=(0,r.rotl)(J0^$0,16),j0=j0+J0|0,d0=(0,r.rotl)(d0^j0,12),$0=$0+d0|0,J0=(0,r.rotl)(J0^$0,8),j0=j0+J0|0,d0=(0,r.rotl)(d0^j0,7),y0=y0+_0|0,Y0=(0,r.rotl)(Y0^y0,16),z0=z0+Y0|0,_0=(0,r.rotl)(_0^z0,12),y0=y0+_0|0,Y0=(0,r.rotl)(Y0^y0,8),z0=z0+Y0|0,_0=(0,r.rotl)(_0^z0,7),v0=v0+C0|0,Z0=(0,r.rotl)(Z0^v0,16),L0=L0+Z0|0,C0=(0,r.rotl)(C0^L0,12),v0=v0+C0|0,Z0=(0,r.rotl)(Z0^v0,8),L0=L0+Z0|0,C0=(0,r.rotl)(C0^L0,7),I0=I0+E0|0,X0=(0,r.rotl)(X0^I0,16),D0=D0+X0|0,E0=(0,r.rotl)(E0^D0,12),I0=I0+E0|0,X0=(0,r.rotl)(X0^I0,8),D0=D0+X0|0,E0=(0,r.rotl)(E0^D0,7);let yg=0;w0[yg++]=b0+$0|0,w0[yg++]=T0+y0|0,w0[yg++]=N0+v0|0,w0[yg++]=x0+I0|0,w0[yg++]=k0+E0|0,w0[yg++]=B0+d0|0,w0[yg++]=H0+_0|0,w0[yg++]=G0+C0|0,w0[yg++]=V0+L0|0,w0[yg++]=K0+D0|0,w0[yg++]=W0+j0|0,w0[yg++]=F0+z0|0,w0[yg++]=O0+Y0|0,w0[yg++]=f0+Z0|0,w0[yg++]=p0+X0|0,w0[yg++]=A0+J0|0}function o0(u0,h0,g0,w0){let m0=u0[0],S0=u0[1],b0=u0[2],T0=u0[3],N0=h0[0],x0=h0[1],k0=h0[2],B0=h0[3],H0=h0[4],G0=h0[5],V0=h0[6],K0=h0[7],W0=g0[0],F0=g0[1],O0=g0[2],f0=g0[3];for(let A0=0;A0<20;A0+=2)m0=m0+N0|0,W0=(0,r.rotl)(W0^m0,16),H0=H0+W0|0,N0=(0,r.rotl)(N0^H0,12),m0=m0+N0|0,W0=(0,r.rotl)(W0^m0,8),H0=H0+W0|0,N0=(0,r.rotl)(N0^H0,7),S0=S0+x0|0,F0=(0,r.rotl)(F0^S0,16),G0=G0+F0|0,x0=(0,r.rotl)(x0^G0,12),S0=S0+x0|0,F0=(0,r.rotl)(F0^S0,8),G0=G0+F0|0,x0=(0,r.rotl)(x0^G0,7),b0=b0+k0|0,O0=(0,r.rotl)(O0^b0,16),V0=V0+O0|0,k0=(0,r.rotl)(k0^V0,12),b0=b0+k0|0,O0=(0,r.rotl)(O0^b0,8),V0=V0+O0|0,k0=(0,r.rotl)(k0^V0,7),T0=T0+B0|0,f0=(0,r.rotl)(f0^T0,16),K0=K0+f0|0,B0=(0,r.rotl)(B0^K0,12),T0=T0+B0|0,f0=(0,r.rotl)(f0^T0,8),K0=K0+f0|0,B0=(0,r.rotl)(B0^K0,7),m0=m0+x0|0,f0=(0,r.rotl)(f0^m0,16),V0=V0+f0|0,x0=(0,r.rotl)(x0^V0,12),m0=m0+x0|0,f0=(0,r.rotl)(f0^m0,8),V0=V0+f0|0,x0=(0,r.rotl)(x0^V0,7),S0=S0+k0|0,W0=(0,r.rotl)(W0^S0,16),K0=K0+W0|0,k0=(0,r.rotl)(k0^K0,12),S0=S0+k0|0,W0=(0,r.rotl)(W0^S0,8),K0=K0+W0|0,k0=(0,r.rotl)(k0^K0,7),b0=b0+B0|0,F0=(0,r.rotl)(F0^b0,16),H0=H0+F0|0,B0=(0,r.rotl)(B0^H0,12),b0=b0+B0|0,F0=(0,r.rotl)(F0^b0,8),H0=H0+F0|0,B0=(0,r.rotl)(B0^H0,7),T0=T0+N0|0,O0=(0,r.rotl)(O0^T0,16),G0=G0+O0|0,N0=(0,r.rotl)(N0^G0,12),T0=T0+N0|0,O0=(0,r.rotl)(O0^T0,8),G0=G0+O0|0,N0=(0,r.rotl)(N0^G0,7);let p0=0;w0[p0++]=m0,w0[p0++]=S0,w0[p0++]=b0,w0[p0++]=T0,w0[p0++]=W0,w0[p0++]=F0,w0[p0++]=O0,w0[p0++]=f0}e0.chacha20orig=(0,r.createCipher)(i0,{counterRight:!1,counterLength:8,allowShortKeys:!0}),e0.chacha20=(0,r.createCipher)(i0,{counterRight:!1,counterLength:4,allowShortKeys:!1}),e0.xchacha20=(0,r.createCipher)(i0,{counterRight:!1,counterLength:8,extendNonceFn:o0,allowShortKeys:!1}),e0.chacha8=(0,r.createCipher)(i0,{counterRight:!1,counterLength:4,rounds:8}),e0.chacha12=(0,r.createCipher)(i0,{counterRight:!1,counterLength:4,rounds:12});const s0=new Uint8Array(16),a0=(u0,h0)=>{u0.update(h0);const g0=h0.length%16;g0&&u0.update(s0.subarray(g0))},c0=new Uint8Array(32);function l0(u0,h0,g0,w0,m0){const S0=u0(h0,g0,c0),b0=n0.poly1305.create(S0);m0&&a0(b0,m0),a0(b0,w0);const T0=new Uint8Array(16),N0=(0,r0.createView)(T0);(0,r0.setBigUint64)(N0,0,BigInt(m0?m0.length:0),!0),(0,r0.setBigUint64)(N0,8,BigInt(w0.length),!0),b0.update(T0);const x0=b0.digest();return(0,r0.clean)(S0,T0),x0}e0._poly1305_aead=u0=>(h0,g0,w0)=>((0,t0.bytes)(h0,32),(0,t0.bytes)(g0),{encrypt(S0,b0){const T0=S0.length,N0=T0+16;b0?(0,t0.bytes)(b0,N0):b0=new Uint8Array(N0),u0(h0,g0,S0,b0,1);const x0=l0(u0,h0,g0,b0.subarray(0,-16),w0);return b0.set(x0,T0),(0,r0.clean)(x0),b0},decrypt(S0,b0){const T0=S0.length,N0=T0-16;if(T0<16)throw new Error("encrypted data must be at least 16 bytes");b0?(0,t0.bytes)(b0,N0):b0=new Uint8Array(N0);const x0=S0.subarray(0,-16),k0=S0.subarray(-16),B0=l0(u0,h0,g0,x0,w0);if(!(0,r0.equalBytes)(k0,B0))throw new Error("invalid tag");return u0(h0,g0,x0,b0,1),(0,r0.clean)(B0),b0}}),e0.chacha20poly1305=(0,r0.wrapCipher)({blockSize:64,nonceLength:12,tagLength:16},(0,e0._poly1305_aead)(e0.chacha20)),e0.xchacha20poly1305=(0,r0.wrapCipher)({blockSize:64,nonceLength:24,tagLength:16},(0,e0._poly1305_aead)(e0.xchacha20))}(Si),Object.defineProperty(Ei,"__esModule",{value:!0}),Ei.xchacha20=void 0;var Hi,Fi,zi,qi=Si;Ei.xchacha20=function(e0,r,t0){return(0,qi.xchacha20poly1305)(e0,r,t0)},function(e0){Object.defineProperty(e0,"__esModule",{value:!0}),e0.aesDecrypt=e0.aesEncrypt=e0.symDecrypt=e0.symEncrypt=void 0;var r=fe$1,t0=Ie$1,n0=_r,r0=Ei,i0=_e$1,o0=Ce$1;e0.symEncrypt=function(l0,u0,h0){return s0(a0,l0,u0,h0)};function s0(l0,u0,h0,g0){var w0=(0,i0.symmetricAlgorithm)();if(w0==="aes-256-gcm")return l0(n0.aes256gcm,u0,h0,(0,i0.symmetricNonceLength)(),o0.AEAD_TAG_LENGTH,g0);if(w0==="xchacha20")return l0(r0.xchacha20,u0,h0,o0.XCHACHA20_NONCE_LENGTH,o0.AEAD_TAG_LENGTH,g0);if(w0==="aes-256-cbc")return l0(n0.aes256cbc,u0,h0,16,0);throw new Error("Not implemented")}function a0(l0,u0,h0,g0,w0,m0){var S0=(0,t0.randomBytes)(g0),b0=l0(u0,S0,m0).encrypt(h0);if(w0===0)return(0,r.concatBytes)(S0,b0);var T0=b0.length-w0,N0=b0.subarray(0,T0),x0=b0.subarray(T0);return(0,r.concatBytes)(S0,x0,N0)}function c0(l0,u0,h0,g0,w0,m0){var S0=h0.subarray(0,g0),b0=l0(u0,Uint8Array.from(S0),m0),T0=h0.subarray(g0);if(w0===0)return b0.decrypt(T0);var N0=T0.subarray(0,w0),x0=T0.subarray(w0);return b0.decrypt((0,r.concatBytes)(x0,N0))}e0.symDecrypt=function(l0,u0,h0){return s0(c0,l0,u0,h0)},e0.aesEncrypt=e0.symEncrypt,e0.aesDecrypt=e0.symDecrypt}(Sr),Hi=Me,Fi=le&&le.__createBinding||(Object.create?function(e0,r,t0,n0){n0===void 0&&(n0=t0);var r0=Object.getOwnPropertyDescriptor(r,t0);r0&&!("get"in r0?!r.__esModule:r0.writable||r0.configurable)||(r0={enumerable:!0,get:function(){return r[t0]}}),Object.defineProperty(e0,n0,r0)}:function(e0,r,t0,n0){n0===void 0&&(n0=t0),e0[n0]=r[t0]}),zi=le&&le.__exportStar||function(e0,r){for(var t0 in e0)t0==="default"||Object.prototype.hasOwnProperty.call(r,t0)||Fi(r,e0,t0)},Object.defineProperty(Hi,"__esModule",{value:!0}),zi(Ae$1,Hi),zi(fr,Hi),zi(hr,Hi),zi(Sr,Hi);var Wi={};Object.defineProperty(Wi,"__esModule",{value:!0}),Wi.PublicKey=void 0;var Vi=fe$1,Gi=Me,Yi=function(){function e0(r){this.data=(0,Gi.convertPublicKeyFormat)(r,!0)}return e0.fromHex=function(r){return new e0((0,Gi.hexToPublicKey)(r))},Object.defineProperty(e0.prototype,"uncompressed",{get:function(){return _$1.from((0,Gi.convertPublicKeyFormat)(this.data,!1))},enumerable:!1,configurable:!0}),Object.defineProperty(e0.prototype,"compressed",{get:function(){return _$1.from(this.data)},enumerable:!1,configurable:!0}),e0.prototype.toHex=function(r){return r===void 0&&(r=!0),(0,Vi.bytesToHex)(r?this.data:this.uncompressed)},e0.prototype.decapsulate=function(r,t0){t0===void 0&&(t0=!1);var n0=t0?this.data:this.uncompressed,r0=r.multiply(this,t0);return(0,Gi.getSharedKey)(n0,r0)},e0.prototype.equals=function(r){return(0,Vi.equalBytes)(this.data,r.data)},e0}();Wi.PublicKey=Yi,Object.defineProperty(xe$1,"__esModule",{value:!0}),xe$1.PrivateKey=void 0;var Zi=fe$1,Ji=Me,Xi=Wi,Qi=function(){function e0(r){if(r===void 0)this.data=(0,Ji.getValidSecret)();else{if(!(0,Ji.isValidPrivateKey)(r))throw new Error("Invalid private key");this.data=r}this.publicKey=new Xi.PublicKey((0,Ji.getPublicKey)(this.data))}return e0.fromHex=function(r){return new e0((0,Ji.decodeHex)(r))},Object.defineProperty(e0.prototype,"secret",{get:function(){return _$1.from(this.data)},enumerable:!1,configurable:!0}),e0.prototype.toHex=function(){return(0,Zi.bytesToHex)(this.data)},e0.prototype.encapsulate=function(r,t0){t0===void 0&&(t0=!1);var n0=t0?this.publicKey.compressed:this.publicKey.uncompressed,r0=this.multiply(r,t0);return(0,Ji.getSharedKey)(n0,r0)},e0.prototype.multiply=function(r,t0){return t0===void 0&&(t0=!1),(0,Ji.getSharedPoint)(this.data,r.compressed,t0)},e0.prototype.equals=function(r){return(0,Zi.equalBytes)(this.data,r.data)},e0}();xe$1.PrivateKey=Qi,function(e0){Object.defineProperty(e0,"__esModule",{value:!0}),e0.PublicKey=e0.PrivateKey=void 0;var r=xe$1;Object.defineProperty(e0,"PrivateKey",{enumerable:!0,get:function(){return r.PrivateKey}});var t0=Wi;Object.defineProperty(e0,"PublicKey",{enumerable:!0,get:function(){return t0.PublicKey}})}(ke$1),function(e0){Object.defineProperty(e0,"__esModule",{value:!0}),e0.utils=e0.PublicKey=e0.PrivateKey=e0.ECIES_CONFIG=void 0,e0.encrypt=function(s0,a0){var c0=new n0.PrivateKey,l0=s0 instanceof Uint8Array?new n0.PublicKey(s0):n0.PublicKey.fromHex(s0),u0=c0.encapsulate(l0,(0,t0.isHkdfKeyCompressed)()),h0=(0,t0.isEphemeralKeyCompressed)()?c0.publicKey.compressed:c0.publicKey.uncompressed,g0=(0,r0.symEncrypt)(u0,a0);return _$1.from((0,r.concatBytes)(h0,g0))},e0.decrypt=function(s0,a0){var c0=s0 instanceof Uint8Array?new n0.PrivateKey(s0):n0.PrivateKey.fromHex(s0),l0=(0,t0.ephemeralKeySize)(),u0=new n0.PublicKey(a0.subarray(0,l0)),h0=a0.subarray(l0),g0=u0.decapsulate(c0,(0,t0.isHkdfKeyCompressed)());return _$1.from((0,r0.symDecrypt)(g0,h0))};var r=fe$1,t0=_e$1,n0=ke$1,r0=Me,i0=_e$1;Object.defineProperty(e0,"ECIES_CONFIG",{enumerable:!0,get:function(){return i0.ECIES_CONFIG}});var o0=ke$1;Object.defineProperty(e0,"PrivateKey",{enumerable:!0,get:function(){return o0.PrivateKey}}),Object.defineProperty(e0,"PublicKey",{enumerable:!0,get:function(){return o0.PublicKey}}),e0.utils={aesEncrypt:r0.aesEncrypt,aesDecrypt:r0.aesDecrypt,symEncrypt:r0.symEncrypt,symDecrypt:r0.symDecrypt,decodeHex:r0.decodeHex,getValidSecret:r0.getValidSecret,remove0x:r0.remove0x}}(he$1);const eo=t("KeyExchange:Layer"),to=t("SocketService:Layer"),no=t("Ecies:Layer"),ro=t("RemoteCommunication:Layer");eo.color="##95c44e",to.color="#f638d7",no.color="#465b9c",ro.color="#47a2be";const io={KeyExchange:eo,SocketService:to,Ecies:no,RemoteCommunication:ro};let oo,so=[],ao=[];const co=(e0,r)=>a(void 0,void 0,void 0,function*(){oo=r,ao.push(e0),function(t0){return a(this,void 0,void 0,function*(){if(!oo||!t0)return;(function(){const o0=ao;ao=so,so=o0})();const n0=oo.endsWith("/")?`${oo}evt`:`${oo}/evt`,r0=Object.assign({},t0);if(delete r0.params,t0.params)for(const[o0,s0]of Object.entries(t0.params))r0[o0]=s0;const i0=JSON.stringify(r0);io.RemoteCommunication(`[sendBufferedEvents] Sending ${so.length} analytics events to ${n0}`);try{const o0=yield e(n0,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:i0}),s0=yield o0.text();io.RemoteCommunication(`[sendBufferedEvents] Response: ${s0}`),so.length=0}catch{}})}(e0).catch(()=>{})});class lo{constructor(r){this.enabled=!0,r?.debug&&t.enable("Ecies:Layer"),this.ecies=r?.privateKey?he$1.PrivateKey.fromHex(r.privateKey):new he$1.PrivateKey,io.Ecies("[ECIES constructor()] initialized secret: ",this.ecies.toHex()),io.Ecies("[ECIES constructor()] initialized public: ",this.ecies.publicKey.toHex()),io.Ecies("[ECIES constructor()] init with",this)}generateECIES(){this.ecies=new he$1.PrivateKey}getPublicKey(){return this.ecies.publicKey.toHex()}encrypt(r,t0){let n0=r;if(this.enabled)try{io.Ecies("[ECIES: encrypt()] using otherPublicKey",t0);const r0=_$1.from(r),i0=he$1.encrypt(t0,r0);n0=_$1.from(i0).toString("base64")}catch(r0){throw io.Ecies("[ECIES: encrypt()] error encrypt:",r0),io.Ecies("[ECIES: encrypt()] private: ",this.ecies.toHex()),io.Ecies("[ECIES: encrypt()] data: ",r),io.Ecies("[ECIES: encrypt()] otherkey: ",t0),r0}return n0}decrypt(r){let t0=r;if(this.enabled)try{io.Ecies("[ECIES: decrypt()] using privateKey",this.ecies.toHex());const n0=_$1.from(r.toString(),"base64");t0=he$1.decrypt(this.ecies.toHex(),n0).toString()}catch(n0){throw io.Ecies("[ECIES: decrypt()] error decrypt",n0),io.Ecies("[ECIES: decrypt()] private: ",this.ecies.toHex()),io.Ecies("[ECIES: decrypt()] encryptedData: ",r),n0}return t0}getKeyInfo(){return{private:this.ecies.toHex(),public:this.ecies.publicKey.toHex()}}toString(){io.Ecies("[ECIES: toString()]",this.getKeyInfo())}}var uo={name:"@metamask/sdk-communication-layer",version:"0.32.0",description:"",homepage:"https://github.com/MetaMask/metamask-sdk#readme",bugs:{url:"https://github.com/MetaMask/metamask-sdk/issues"},repository:{type:"git",url:"https://github.com/MetaMask/metamask-sdk.git",directory:"packages/sdk-communication-layer"},main:"dist/node/cjs/metamask-sdk-communication-layer.js",unpkg:"dist/browser/umd/metamask-sdk-communication-layer.js",module:"dist/node/es/metamask-sdk-communication-layer.js",browser:"dist/browser/es/metamask-sdk-communication-layer.js","react-native":"dist/react-native/es/metamask-sdk-communication-layer.js",types:"dist/types/src/index.d.ts",files:["/dist"],scripts:{"build:types":"tsc --project tsconfig.build.json --emitDeclarationOnly --outDir dist/types","build:clean":"yarn clean && yarn build",build:"yarn build:types && rollup -c --bundleConfigAsCjs","build:dev":"yarn build:types && NODE_ENV=dev rollup -c --bundleConfigAsCjs",dev:'concurrently "tsc --watch" "rollup -c --bundleConfigAsCjs -w"',"build:post-tsc":"echo 'N/A'","build:pre-tsc":"echo 'N/A'",size:"size-limit",clean:"rimraf ./dist",lint:"yarn lint:eslint && yarn lint:misc --check","lint:changelog":"../../scripts/validate-changelog.sh @metamask/sdk-communication-layer","lint:eslint":"eslint . --cache --ext js,ts","lint:fix":"yarn lint:eslint --fix && yarn lint:misc --write","lint:misc":"prettier '**/*.json' '**/*.md' '!CHANGELOG.md' --ignore-path ../../.gitignore","publish:preview":"yarn npm publish --tag preview",prepack:"../../scripts/prepack.sh",reset:"yarn clean && rimraf ./node_modules/",test:'jest --testPathIgnorePatterns "/e2e/"',"test:e2e":'jest --testPathPattern "/e2e/"',"test:coverage":"jest --coverage","test:ci":'jest --coverage --passWithNoTests --setupFilesAfterEnv ./jest-preload.js --testPathIgnorePatterns "/e2e/"',"test:dev":"jest",watch:"rollup -c --bundleConfigAsCjs -w"},dependencies:{bufferutil:"^4.0.8","date-fns":"^2.29.3",debug:"^4.3.4","utf-8-validate":"^5.0.2",uuid:"^8.3.2"},devDependencies:{"@jest/globals":"^29.3.1","@lavamoat/allow-scripts":"^2.3.1","@metamask/auto-changelog":"3.1.0","@metamask/eslint-config":"^6.0.0","@metamask/eslint-config-nodejs":"^6.0.0","@metamask/eslint-config-typescript":"^6.0.0","@rollup/plugin-commonjs":"^25.0.0","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.2","@rollup/plugin-replace":"^6.0.1","@rollup/plugin-terser":"^0.4.4","@size-limit/preset-big-lib":"^11.0.2","@types/jest":"^29.2.4","@types/node":"^20.1.3","@types/uuid":"^9.0.0","@typescript-eslint/eslint-plugin":"^4.26.0","@typescript-eslint/parser":"^4.26.0",concurrently:"^9.1.2","cross-fetch":"^4.0.0",eciesjs:"^0.4.11",eslint:"^7.30.0","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.23.4","eslint-plugin-jest":"^24.4.0","eslint-plugin-jsdoc":"^36.1.0","eslint-plugin-node":"^11.1.0","eslint-plugin-prettier":"^3.4.0",eventemitter2:"^6.4.9",jest:"^29.3.1",prettier:"^2.3.0",rimraf:"^3.0.2",rollup:"^4.26.0","rollup-plugin-jscc":"^2.0.0","rollup-plugin-natives":"^0.7.5","rollup-plugin-node-builtins":"^2.1.2","rollup-plugin-node-globals":"^1.4.0","rollup-plugin-peer-deps-external":"^2.2.4","rollup-plugin-polyfill-node":"^0.13.0","rollup-plugin-sizes":"^1.0.6","rollup-plugin-typescript2":"^0.31.2","rollup-plugin-visualizer":"^5.12.0","size-limit":"^11.1.6","socket.io-client":"^4.5.1","stream-browserify":"^3.0.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^5.6.3"},peerDependencies:{"cross-fetch":"^4.0.0",eciesjs:"*",eventemitter2:"^6.4.9","readable-stream":"^3.6.2","socket.io-client":"^4.5.1"},publishConfig:{access:"public",registry:"https://registry.npmjs.org/"},lavamoat:{allowScripts:{"@lavamoat/preinstall-always-fail":!1,canvas:!0,"eciesjs>secp256k1":!1,"socket.io-client>engine.io-client>ws>bufferutil":!1,"socket.io-client>engine.io-client>ws>utf-8-validate":!1,bufferutil:!1,"utf-8-validate":!1}}};const ho="https://metamask-sdk.api.cx.metamask.io/",fo=["websocket"],po=6048e5,go=3e3,mo={METAMASK_GETPROVIDERSTATE:"metamask_getProviderState",ETH_REQUESTACCOUNTS:"eth_requestAccounts"};function yo(e0){const{context:r}=e0;io.RemoteCommunication(`[RemoteCommunication: clean()] context=${r}`),e0.channelConfig=void 0,e0.ready=!1,e0.originatorConnectStarted=!1}var vo,bo,wo,Eo,So,_o,Co;(Co=vo||(vo={})).DISCONNECTED="disconnected",Co.WAITING="waiting",Co.TIMEOUT="timeout",Co.LINKED="linked",Co.PAUSED="paused",Co.TERMINATED="terminated",function(e0){e0.KEY_INFO="key_info",e0.SERVICE_STATUS="service_status",e0.PROVIDER_UPDATE="provider_update",e0.RPC_UPDATE="rpc_update",e0.KEYS_EXCHANGED="keys_exchanged",e0.JOIN_CHANNEL="join_channel",e0.PUBLIC_KEY="public_key",e0.CHANNEL_CREATED="channel_created",e0.CLIENTS_CONNECTED="clients_connected",e0.CLIENTS_DISCONNECTED="clients_disconnected",e0.CLIENTS_WAITING="clients_waiting",e0.CLIENTS_READY="clients_ready",e0.REJECTED="rejected",e0.WALLET_INIT="wallet_init",e0.CHANNEL_PERSISTENCE="channel_persistence",e0.CONFIG="config",e0.MESSAGE_ACK="ack",e0.SOCKET_DISCONNECTED="socket_disconnected",e0.SOCKET_RECONNECT="socket_reconnect",e0.OTP="otp",e0.SDK_RPC_CALL="sdk_rpc_call",e0.AUTHORIZED="authorized",e0.CONNECTION_STATUS="connection_status",e0.MESSAGE="message",e0.TERMINATE="terminate"}(bo||(bo={})),(wo||(wo={})).KEY_EXCHANGE="key_exchange",function(e0){e0.KEY_HANDSHAKE_START="key_handshake_start",e0.KEY_HANDSHAKE_CHECK="key_handshake_check",e0.KEY_HANDSHAKE_SYN="key_handshake_SYN",e0.KEY_HANDSHAKE_SYNACK="key_handshake_SYNACK",e0.KEY_HANDSHAKE_ACK="key_handshake_ACK",e0.KEY_HANDSHAKE_WALLET="key_handshake_wallet",e0.KEY_HANDSHAKE_NONE="none"}(Eo||(Eo={}));class ko extends eventemitter2Exports.EventEmitter2{constructor({communicationLayer:r,otherPublicKey:t0,context:n0,ecies:r0,logging:i0}){super(),this.keysExchanged=!1,this.step=Eo.KEY_HANDSHAKE_NONE,this.debug=!1,this.context=n0,this.communicationLayer=r,r0?.privateKey&&t0&&(io.KeyExchange(`[KeyExchange: constructor()] otherPubKey=${t0} set keysExchanged to true!`,r0),this.keysExchanged=!0),this.myECIES=new lo(Object.assign(Object.assign({},r0),{debug:i0?.eciesLayer})),this.communicationLayer.state.eciesInstance=this.myECIES,this.myPublicKey=this.myECIES.getPublicKey(),this.debug=i0?.keyExchangeLayer===!0,t0&&this.setOtherPublicKey(t0),this.communicationLayer.on(wo.KEY_EXCHANGE,this.onKeyExchangeMessage.bind(this))}onKeyExchangeMessage(r){const{relayPersistence:t0}=this.communicationLayer.remote.state;if(io.KeyExchange(`[KeyExchange: onKeyExchangeMessage()] context=${this.context} keysExchanged=${this.keysExchanged} relayPersistence=${t0}`,r),t0)return void io.KeyExchange("[KeyExchange: onKeyExchangeMessage()] Ignoring key exchange message because relay persistence is activated");const{message:n0}=r;this.keysExchanged&&io.KeyExchange(`[KeyExchange: onKeyExchangeMessage()] context=${this.context} received handshake while already exchanged. step=${this.step} otherPubKey=${this.otherPublicKey}`),this.emit(bo.KEY_INFO,n0.type),n0.type===Eo.KEY_HANDSHAKE_SYN?(this.checkStep([Eo.KEY_HANDSHAKE_NONE,Eo.KEY_HANDSHAKE_ACK]),io.KeyExchange("[KeyExchange: onKeyExchangeMessage()] KEY_HANDSHAKE_SYN",n0),n0.pubkey&&this.setOtherPublicKey(n0.pubkey),this.communicationLayer.sendMessage({type:Eo.KEY_HANDSHAKE_SYNACK,pubkey:this.myPublicKey}).catch(r0=>{io.KeyExchange("[KeyExchange: onKeyExchangeMessage()] Error sending KEY_HANDSHAKE_SYNACK",r0)}),this.setStep(Eo.KEY_HANDSHAKE_ACK)):n0.type===Eo.KEY_HANDSHAKE_SYNACK?(this.checkStep([Eo.KEY_HANDSHAKE_SYNACK,Eo.KEY_HANDSHAKE_ACK,Eo.KEY_HANDSHAKE_NONE]),io.KeyExchange("[KeyExchange: onKeyExchangeMessage()] KEY_HANDSHAKE_SYNACK"),n0.pubkey&&this.setOtherPublicKey(n0.pubkey),this.communicationLayer.sendMessage({type:Eo.KEY_HANDSHAKE_ACK}).catch(r0=>{io.KeyExchange("[KeyExchange: onKeyExchangeMessage()] Error sending KEY_HANDSHAKE_ACK",r0)}),this.keysExchanged=!0,this.setStep(Eo.KEY_HANDSHAKE_ACK),this.emit(bo.KEYS_EXCHANGED)):n0.type===Eo.KEY_HANDSHAKE_ACK&&(io.KeyExchange("[KeyExchange: onKeyExchangeMessage()] KEY_HANDSHAKE_ACK set keysExchanged to true!"),this.checkStep([Eo.KEY_HANDSHAKE_ACK,Eo.KEY_HANDSHAKE_NONE]),this.keysExchanged=!0,this.setStep(Eo.KEY_HANDSHAKE_ACK),this.emit(bo.KEYS_EXCHANGED))}resetKeys(r){this.clean(),this.myECIES=new lo(r)}clean(){io.KeyExchange(`[KeyExchange: clean()] context=${this.context} reset handshake state`),this.setStep(Eo.KEY_HANDSHAKE_NONE),this.emit(bo.KEY_INFO,this.step),this.keysExchanged=!1}start({isOriginator:r,force:t0}){const{relayPersistence:n0,protocolVersion:r0}=this.communicationLayer.remote.state,i0=r0>=2;n0?io.KeyExchange("[KeyExchange: start()] Ignoring key exchange message because relay persistence is activated"):(io.KeyExchange(`[KeyExchange: start()] context=${this.context} protocolVersion=${r0} isOriginator=${r} step=${this.step} force=${t0} relayPersistence=${n0} keysExchanged=${this.keysExchanged}`),r?!(this.keysExchanged||this.step!==Eo.KEY_HANDSHAKE_NONE&&this.step!==Eo.KEY_HANDSHAKE_SYNACK)||t0?(io.KeyExchange(`[KeyExchange: start()] context=${this.context} -- start key exchange (force=${t0}) -- step=${this.step}`,this.step),this.clean(),this.setStep(Eo.KEY_HANDSHAKE_SYNACK),this.communicationLayer.sendMessage({type:Eo.KEY_HANDSHAKE_SYN,pubkey:this.myPublicKey,v:2}).catch(o0=>{io.KeyExchange("[KeyExchange: start()] Error sending KEY_HANDSHAKE_SYN",o0)})):io.KeyExchange(`[KeyExchange: start()] context=${this.context} -- key exchange already ${this.keysExchanged?"done":"in progress"} -- aborted.`,this.step):this.keysExchanged&&t0!==!0?io.KeyExchange("[KeyExchange: start()] don't send KEY_HANDSHAKE_START -- exchange already done."):i0?this.communicationLayer.sendMessage({type:Eo.KEY_HANDSHAKE_SYNACK,pubkey:this.myPublicKey,v:2}).catch(o0=>{io.KeyExchange("[KeyExchange: start()] Error sending KEY_HANDSHAKE_SYNACK",o0)}):(this.communicationLayer.sendMessage({type:Eo.KEY_HANDSHAKE_START}).catch(o0=>{io.KeyExchange("[KeyExchange: start()] Error sending KEY_HANDSHAKE_START",o0)}),this.clean()))}setStep(r){this.step=r,this.emit(bo.KEY_INFO,r)}checkStep(r){r.length>0&&r.indexOf(this.step.toString())}setRelayPersistence({localKey:r,otherKey:t0}){this.otherPublicKey=t0,this.myECIES=new lo({privateKey:r,debug:this.debug}),this.keysExchanged=!0}setKeysExchanged(r){this.keysExchanged=r}areKeysExchanged(){return this.keysExchanged}getMyPublicKey(){return this.myPublicKey}getOtherPublicKey(){return this.otherPublicKey}setOtherPublicKey(r){io.KeyExchange("[KeyExchange: setOtherPubKey()]",r),this.otherPublicKey=r}encryptMessage(r){if(!this.otherPublicKey)throw new Error("encryptMessage: Keys not exchanged - missing otherPubKey");return this.myECIES.encrypt(r,this.otherPublicKey)}decryptMessage(r){if(!this.otherPublicKey)throw new Error("decryptMessage: Keys not exchanged - missing otherPubKey");return this.myECIES.decrypt(r)}getKeyInfo(){return{ecies:Object.assign(Object.assign({},this.myECIES.getKeyInfo()),{otherPubKey:this.otherPublicKey}),step:this.step,keysExchanged:this.areKeysExchanged()}}toString(){const r={keyInfo:this.getKeyInfo(),keysExchanged:this.keysExchanged,step:this.step};return JSON.stringify(r)}}(function(e0){e0.TERMINATE="terminate",e0.ANSWER="answer",e0.OFFER="offer",e0.CANDIDATE="candidate",e0.JSONRPC="jsonrpc",e0.WALLET_INFO="wallet_info",e0.WALLET_INIT="wallet_init",e0.ORIGINATOR_INFO="originator_info",e0.PAUSE="pause",e0.OTP="otp",e0.AUTHORIZED="authorized",e0.PING="ping",e0.READY="ready"})(So||(So={})),function(e0){e0.REQUEST="sdk_connect_request_started",e0.REQUEST_MOBILE="sdk_connect_request_started_mobile",e0.RECONNECT="sdk_reconnect_request_started",e0.CONNECTED="sdk_connection_established",e0.CONNECTED_MOBILE="sdk_connection_established_mobile",e0.AUTHORIZED="sdk_connection_authorized",e0.REJECTED="sdk_connection_rejected",e0.TERMINATED="sdk_connection_terminated",e0.DISCONNECTED="sdk_disconnected",e0.SDK_USE_EXTENSION="sdk_use_extension",e0.SDK_RPC_REQUEST="sdk_rpc_request",e0.SDK_RPC_REQUEST_RECEIVED="sdk_rpc_request_received",e0.SDK_RPC_REQUEST_DONE="sdk_rpc_request_done",e0.SDK_EXTENSION_UTILIZED="sdk_extension_utilized",e0.SDK_USE_INAPP_BROWSER="sdk_use_inapp_browser"}(_o||(_o={}));const xo=(e0,r,t0)=>a(void 0,void 0,void 0,function*(){var n0,r0,i0,o0,s0,a0;const{remote:c0,state:l0}=e0,{channelId:u0,isOriginator:h0}=l0;if(r==="error_terminated")return io.SocketService(`handleJoinChannelResults: Channel ${u0} terminated`),void e0.emit(bo.TERMINATE);if(!t0)return void io.SocketService(`handleJoinChannelResults: No result for channel ${u0}`);const{persistence:g0,walletKey:w0,rejected:m0}=t0;if(io.SocketService(`handleJoinChannelResults: Channel ${u0} persistence=${g0} walletKey=${w0} rejected=${m0}`),m0)return io.SocketService(`handleJoinChannelResults: Channel ${u0} rejected`),yield e0.remote.disconnect({terminate:!0}),e0.remote.emit(bo.REJECTED,{channelId:u0}),void e0.remote.emitServiceStatusEvent();if(w0&&!(!((n0=c0.state.channelConfig)===null||n0===void 0)&&n0.otherKey)){e0.getKeyExchange().setOtherPublicKey(w0),(r0=e0.state.keyExchange)===null||r0===void 0||r0.setKeysExchanged(!0),c0.state.ready=!0,c0.state.authorized=!0,c0.emit(bo.AUTHORIZED);const{communicationLayer:S0,storageManager:b0}=c0.state,T0=Object.assign(Object.assign({},c0.state.channelConfig),{channelId:(i0=c0.state.channelId)!==null&&i0!==void 0?i0:"",validUntil:Date.now()+po,localKey:S0?.getKeyInfo().ecies.private,otherKey:w0});e0.sendMessage({type:Eo.KEY_HANDSHAKE_ACK}).catch(N0=>{}),(o0=e0.state.socket)===null||o0===void 0||o0.emit(So.PING,{id:u0,clientType:h0?"dapp":"wallet",context:"on_channel_reconnect",message:""}),yield b0?.persistChannelConfig(T0),c0.emitServiceStatusEvent(),c0.setConnectionStatus(vo.LINKED)}g0&&(e0.emit(bo.CHANNEL_PERSISTENCE),(s0=e0.state.keyExchange)===null||s0===void 0||s0.setKeysExchanged(!0),c0.state.ready=!0,c0.state.authorized=!0,c0.emit(bo.AUTHORIZED),co(Object.assign(Object.assign({id:u0??"",event:h0?_o.CONNECTED:_o.CONNECTED_MOBILE},e0.remote.state.originatorInfo),{sdkVersion:e0.remote.state.sdkVersion,commLayer:e0.state.communicationLayerPreference,commLayerVersion:uo.version,walletVersion:(a0=e0.remote.state.walletInfo)===null||a0===void 0?void 0:a0.version}),l0.communicationServerUrl).catch(S0=>{}))}),Mo=e0=>new Promise(r=>{setTimeout(r,e0)}),Ao=(e0,r,...t0)=>a(void 0,[e0,r,...t0],void 0,function*(n0,r0,i0=200){let o0;const s0=Date.now();let a0=!1;for(;!a0;){if(a0=Date.now()-s0>3e5,o0=r0[n0],o0.elapsedTime!==void 0)return o0;yield Mo(i0)}throw new Error(`RPC ${n0} timed out`)}),Io=e0=>a(void 0,void 0,void 0,function*(){const{state:r}=e0,{socket:t0,channelId:n0,context:r0,isOriginator:i0,isReconnecting:o0}=r;if(o0)return io.SocketService("[SocketService: reconnectSocket()] Reconnection already in progress, skipping",e0),!1;if(!t0)return io.SocketService("[SocketService: reconnectSocket()] socket is not defined",e0),!1;if(!n0)return!1;const{connected:s0}=t0;r.isReconnecting=!0,r.reconnectionAttempts=0,io.SocketService(`[SocketService: reconnectSocket()] connected=${s0} trying to reconnect after socketio disconnection`,e0);try{for(;3>r.reconnectionAttempts;){if(io.SocketService(`[SocketService: reconnectSocket()] Attempt ${r.reconnectionAttempts+1} of 3`,e0),yield Mo(200),t0.connected)return io.SocketService("Socket already connected --- ping to retrieve messages"),t0.emit(So.PING,{id:n0,clientType:i0?"dapp":"wallet",context:"on_channel_config",message:""}),!0;r.resumed=!0,t0.connect(),e0.emit(bo.SOCKET_RECONNECT);try{if(yield new Promise((a0,c0)=>{t0.emit(bo.JOIN_CHANNEL,{channelId:n0,context:`${r0}connect_again`,clientType:i0?"dapp":"wallet"},(l0,u0)=>a(void 0,void 0,void 0,function*(){try{yield xo(e0,l0,u0),a0()}catch(h0){c0(h0)}}))}),yield Mo(100),t0.connected)return io.SocketService(`Reconnection successful on attempt ${r.reconnectionAttempts+1}`),!0}catch(a0){io.SocketService(`Error during reconnection attempt ${r.reconnectionAttempts+1}:`,a0)}r.reconnectionAttempts+=1,3>r.reconnectionAttempts&&(yield Mo(200))}return io.SocketService("Failed to reconnect after 3 attempts"),!1}finally{r.isReconnecting=!1,r.reconnectionAttempts=0}});function Ro(e0,r){return a(this,void 0,void 0,function*(){var t0;const n0=(t0=e0.state.keyExchange)===null||t0===void 0?void 0:t0.encryptMessage(JSON.stringify(r)),r0={id:e0.state.channelId,context:e0.state.context,clientType:e0.state.isOriginator?"dapp":"wallet",message:n0,plaintext:e0.state.hasPlaintext?JSON.stringify(r):void 0};return io.SocketService(`[SocketService: encryptAndSendMessage()] context=${e0.state.context}`,r0),r.type===So.TERMINATE&&(e0.state.manualDisconnect=!0),new Promise((i0,o0)=>{var s0;(s0=e0.state.socket)===null||s0===void 0||s0.emit(bo.MESSAGE,r0,(a0,c0)=>{var l0;a0&&(io.SocketService(`[SocketService: encryptAndSendMessage()] error=${a0}`),o0(a0)),io.SocketService("[encryptAndSendMessage] response",c0),i0((l0=c0?.success)!==null&&l0!==void 0&&l0)})})})}var Po;(function(e0){e0.RPC_CHECK="rpcCheck",e0.SKIPPED_RPC="skippedRpc"})(Po||(Po={}));const To=["eth_sendTransaction","eth_signTypedData","eth_signTransaction","personal_sign","wallet_requestPermissions","wallet_switchEthereumChain","eth_signTypedData_v3","eth_signTypedData_v4","metamask_connectSign","metamask_connectWith","metamask_batch"].map(e0=>e0.toLowerCase()),Oo=[{event:bo.CLIENTS_CONNECTED,handler:function(e0,r){return t0=>a(this,void 0,void 0,function*(){var n0,r0,i0,o0,s0,a0,c0,l0,u0,h0,g0;const w0=(r0=(n0=e0.remote.state.channelConfig)===null||n0===void 0?void 0:n0.relayPersistence)!==null&&r0!==void 0&&r0;if(io.SocketService(`[SocketService: handleClientsConnected()] context=${e0.state.context} on 'clients_connected-${r}' relayPersistence=${w0} resumed=${e0.state.resumed}  clientsPaused=${e0.state.clientsPaused} keysExchanged=${(i0=e0.state.keyExchange)===null||i0===void 0?void 0:i0.areKeysExchanged()} isOriginator=${e0.state.isOriginator}`),e0.emit(bo.CLIENTS_CONNECTED,{isOriginator:e0.state.isOriginator,keysExchanged:(o0=e0.state.keyExchange)===null||o0===void 0?void 0:o0.areKeysExchanged(),context:e0.state.context}),e0.state.resumed)e0.state.isOriginator||(io.SocketService(`[SocketService: handleClientsConnected()] context=${e0.state.context} 'clients_connected' / keysExchanged=${(s0=e0.state.keyExchange)===null||s0===void 0?void 0:s0.areKeysExchanged()} -- backward compatibility`),(a0=e0.state.keyExchange)===null||a0===void 0||a0.start({isOriginator:(c0=e0.state.isOriginator)!==null&&c0!==void 0&&c0})),e0.state.resumed=!1;else if(e0.state.clientsPaused)io.SocketService("[SocketService: handleClientsConnected()] 'clients_connected' skip sending originatorInfo on pause");else if(!e0.state.isOriginator){const m0=!w0;io.SocketService(`[SocketService: handleClientsConnected()] context=${e0.state.context} on 'clients_connected' / keysExchanged=${(l0=e0.state.keyExchange)===null||l0===void 0?void 0:l0.areKeysExchanged()} -- force=${m0} -- backward compatibility`),io.SocketService(`[SocketService: handleClientsConnected()] context=${e0.state.context} on 'clients_connected' / keysExchanged=${(u0=e0.state.keyExchange)===null||u0===void 0?void 0:u0.areKeysExchanged()} -- force=${m0} -- backward compatibility`),(h0=e0.state.keyExchange)===null||h0===void 0||h0.start({isOriginator:(g0=e0.state.isOriginator)!==null&&g0!==void 0&&g0,force:m0})}e0.state.clientsConnected=!0,e0.state.clientsPaused=!1})}},{event:bo.CHANNEL_CREATED,handler:function(e0,r){return t0=>{io.SocketService(`[SocketService: handleChannelCreated()] context=${e0.state.context} on 'channel_created-${r}'`,t0),e0.emit(bo.CHANNEL_CREATED,t0)}}},{event:bo.CLIENTS_DISCONNECTED,handler:function(e0,r){return()=>{var t0;e0.state.clientsConnected=!1,io.SocketService(`[SocketService: handlesClientsDisconnected()] context=${e0.state.context} on 'clients_disconnected-${r}'`),e0.remote.state.relayPersistence?io.SocketService(`[SocketService: handlesClientsDisconnected()] context=${e0.state.context} on 'clients_disconnected-${r}' - relayPersistence enabled, skipping key exchange cleanup.`):(e0.state.isOriginator&&!e0.state.clientsPaused&&((t0=e0.state.keyExchange)===null||t0===void 0||t0.clean()),e0.emit(bo.CLIENTS_DISCONNECTED,r))}}},{event:bo.CONFIG,handler:function(e0,r){return t0=>a(this,void 0,void 0,function*(){var n0,r0,i0;io.SocketService(`[SocketService: handleChannelConfig()] update relayPersistence on 'config-${r}'`,t0);const{persistence:o0,walletKey:s0}=t0;e0.state.isOriginator&&e0.remote.state.channelConfig?(t0.walletKey&&!e0.remote.state.channelConfig.otherKey&&(io.SocketService(`Setting wallet key ${s0}`),e0.remote.state.channelConfig.otherKey=s0,e0.getKeyExchange().setOtherPublicKey(t0.walletKey),(n0=e0.state.keyExchange)===null||n0===void 0||n0.setKeysExchanged(!0),yield e0.remote.sendMessage({type:Eo.KEY_HANDSHAKE_ACK}),yield e0.remote.sendMessage({type:So.PING}),yield(r0=e0.remote.state.storageManager)===null||r0===void 0?void 0:r0.persistChannelConfig(e0.remote.state.channelConfig)),o0!==!0||e0.remote.state.channelConfig.relayPersistence||(io.SocketService(`Setting relay persistence ${o0}`),e0.remote.state.channelConfig.relayPersistence=o0,e0.remote.state.relayPersistence=!0,e0.remote.emit(bo.CHANNEL_PERSISTENCE),e0.remote.state.authorized=!0,e0.remote.state.ready=!0,e0.remote.emit(bo.AUTHORIZED),yield(i0=e0.remote.state.storageManager)===null||i0===void 0?void 0:i0.persistChannelConfig(e0.remote.state.channelConfig))):e0.state.isOriginator||t0.persistence&&(e0.remote.state.relayPersistence=!0,e0.remote.emit(bo.CHANNEL_PERSISTENCE))})}},{event:bo.MESSAGE,handler:function(e0,r){return t0=>{var n0,r0,i0,o0,s0,a0,c0,l0,u0,h0,g0,w0,m0,S0,b0,T0,N0,x0;const{ackId:k0,message:B0,error:H0}=t0,G0=(n0=e0.remote.state.relayPersistence)!==null&&n0!==void 0&&n0;if(io.SocketService(`[SocketService handleMessage()]  relayPersistence=${G0}  context=${e0.state.context} on 'message' ${r} keysExchanged=${(r0=e0.state.keyExchange)===null||r0===void 0?void 0:r0.areKeysExchanged()}`,t0),H0)throw io.SocketService(`
      [SocketService handleMessage()] context=${e0.state.context}::on 'message' error=${H0}`),new Error(H0);const V0=typeof B0=="string";if(!V0&&B0?.type===Eo.KEY_HANDSHAKE_START)return G0?void 0:(io.SocketService(`[SocketService handleMessage()] context=${e0.state.context}::on 'message' received HANDSHAKE_START isOriginator=${e0.state.isOriginator}`,B0),void((i0=e0.state.keyExchange)===null||i0===void 0||i0.start({isOriginator:(o0=e0.state.isOriginator)!==null&&o0!==void 0&&o0,force:!0})));if(!V0&&(!((s0=B0?.type)===null||s0===void 0)&&s0.startsWith("key_handshake")))return G0?void 0:(io.SocketService(`[SocketService handleMessage()] context=${e0.state.context}::on 'message' emit KEY_EXCHANGE`,B0),void e0.emit(wo.KEY_EXCHANGE,{message:B0,context:e0.state.context}));if(V0&&!(!((a0=e0.state.keyExchange)===null||a0===void 0)&&a0.areKeysExchanged())){let F0=!1;try{io.SocketService(`[SocketService handleMessage()] context=${e0.state.context}::on 'message' trying to decrypt message`),(c0=e0.state.keyExchange)===null||c0===void 0||c0.decryptMessage(B0),F0=!0}catch(O0){io.SocketService(`[SocketService handleMessage()] context=${e0.state.context}::on 'message' error`,O0)}if(!F0)return e0.state.isOriginator?(u0=e0.state.keyExchange)===null||u0===void 0||u0.start({isOriginator:(h0=e0.state.isOriginator)!==null&&h0!==void 0&&h0}):e0.sendMessage({type:Eo.KEY_HANDSHAKE_START}).catch(O0=>{}),void io.SocketService(`Message ignored because invalid key exchange status. step=${(g0=e0.state.keyExchange)===null||g0===void 0?void 0:g0.getKeyInfo().step}`,(w0=e0.state.keyExchange)===null||w0===void 0?void 0:w0.getKeyInfo(),B0);io.SocketService("Invalid key exchange status detected --- updating it."),(l0=e0.state.keyExchange)===null||l0===void 0||l0.setKeysExchanged(!0)}else if(!V0&&B0?.type)return void e0.emit(bo.MESSAGE,B0);if(!V0)return void e0.emit(bo.MESSAGE,B0);const K0=(m0=e0.state.keyExchange)===null||m0===void 0?void 0:m0.decryptMessage(B0),W0=JSON.parse(K0??"{}");if(k0&&k0?.length>0&&(io.SocketService(`[SocketService handleMessage()] context=${e0.state.context}::on 'message' ackid=${k0} channelId=${r}`),(S0=e0.state.socket)===null||S0===void 0||S0.emit(bo.MESSAGE_ACK,{ackId:k0,channelId:r,clientType:e0.state.isOriginator?"dapp":"wallet"})),e0.state.clientsPaused=W0?.type===So.PAUSE,e0.state.isOriginator&&W0.data){const F0=W0.data,O0=e0.state.rpcMethodTracker[F0.id];if(O0){const f0=Date.now()-O0.timestamp;io.SocketService(`[SocketService handleMessage()] context=${e0.state.context}::on 'message' received answer for id=${F0.id} method=${O0.method} responseTime=${f0}`,W0),e0.remote.state.analytics&&To.includes(O0.method.toLowerCase())&&co(Object.assign(Object.assign({id:(b0=e0.remote.state.channelId)!==null&&b0!==void 0?b0:"",event:_o.SDK_RPC_REQUEST_DONE,sdkVersion:e0.remote.state.sdkVersion,commLayerVersion:uo.version},e0.remote.state.originatorInfo),{walletVersion:(T0=e0.remote.state.walletInfo)===null||T0===void 0?void 0:T0.version,params:{method:O0.method,from:"mobile"}}),e0.remote.state.communicationServerUrl).catch(A0=>{});const p0=Object.assign(Object.assign({},O0),{result:F0.result,error:F0.error?{code:(N0=F0.error)===null||N0===void 0?void 0:N0.code,message:(x0=F0.error)===null||x0===void 0?void 0:x0.message}:void 0,elapsedTime:f0});e0.state.rpcMethodTracker[F0.id]=p0,e0.emit(bo.RPC_UPDATE,p0)}}e0.emit(bo.MESSAGE,{message:W0})}}},{event:bo.REJECTED,handler:function(e0,r){return t0=>a(this,void 0,void 0,function*(){var n0;e0.state.isOriginator&&!e0.remote.state.ready?(io.SocketService(`[SocketService: handleChannelRejected()] context=${e0.state.context} channelId=${r} isOriginator=${e0.state.isOriginator} ready=${e0.remote.state.ready}`,e0.remote.state.originatorInfo),co(Object.assign(Object.assign({id:r,event:_o.REJECTED},e0.remote.state.originatorInfo),{sdkVersion:e0.remote.state.sdkVersion,commLayer:e0.state.communicationLayerPreference,commLayerVersion:uo.version,walletVersion:(n0=e0.remote.state.walletInfo)===null||n0===void 0?void 0:n0.version}),e0.remote.state.communicationServerUrl).catch(r0=>{}),yield e0.remote.disconnect({terminate:!0}),e0.remote.emit(bo.REJECTED,{channelId:r}),e0.remote.setConnectionStatus(vo.DISCONNECTED)):io.SocketService(`[SocketService: handleChannelRejected()] SKIP -- channelId=${r} isOriginator=${e0.state.isOriginator} ready=${e0.remote.state.ready}`)})}},{event:"clients_waiting_to_join",handler:function(e0,r){return t0=>{io.SocketService(`[SocketService: handleClientsWaitingToJoin()] context=${e0.state.context} on 'clients_waiting_to_join-${r}'`,t0),e0.emit(bo.CLIENTS_WAITING,t0)}}}],Lo=[{event:bo.KEY_INFO,handler:function(e0){return r=>{io.SocketService("[SocketService: handleKeyInfo()] on 'KEY_INFO'",r),e0.emit(bo.KEY_INFO,r)}}},{event:bo.KEYS_EXCHANGED,handler:function(e0){return()=>{var r,t0,n0;io.SocketService(`[SocketService: handleKeysExchanged()] on 'keys_exchanged' keyschanged=${(r=e0.state.keyExchange)===null||r===void 0?void 0:r.areKeysExchanged()}`);const{channelConfig:r0}=e0.remote.state;if(r0){const o0=e0.getKeyExchange().getKeyInfo().ecies;r0.localKey=o0.private,r0.otherKey=o0.otherPubKey,e0.remote.state.channelConfig=r0,(t0=e0.remote.state.storageManager)===null||t0===void 0||t0.persistChannelConfig(r0).catch(s0=>{})}e0.emit(bo.KEYS_EXCHANGED,{keysExchanged:(n0=e0.state.keyExchange)===null||n0===void 0?void 0:n0.areKeysExchanged(),isOriginator:e0.state.isOriginator});const i0={keyInfo:e0.getKeyInfo()};e0.emit(bo.SERVICE_STATUS,i0)}}}];function No(e0,r){io.SocketService(`[SocketService: setupChannelListener()] context=${e0.state.context} setting socket listeners for channel ${r}...`);const{socket:t0}=e0.state,{keyExchange:n0}=e0.state;t0&&e0.state.isOriginator&&(e0.state.debug&&(t0?.io.on("error",r0=>{io.SocketService(`[SocketService: setupChannelListener()] context=${e0.state.context} socket event=error`,r0)}),t0?.io.on("reconnect",r0=>{io.SocketService(`[SocketService: setupChannelListener()] context=${e0.state.context} socket event=reconnect`,r0),Io(e0).catch(i0=>{})}),t0?.io.on("reconnect_error",r0=>{io.SocketService(`[SocketService: setupChannelListener()] context=${e0.state.context} socket event=reconnect_error`,r0)}),t0?.io.on("reconnect_failed",()=>{io.SocketService(`[SocketService: setupChannelListener()] context=${e0.state.context} socket event=reconnect_failed`)})),t0?.on("disconnect",r0=>(io.SocketService(`[SocketService: setupChannelListener()] on 'disconnect' -- MetaMaskSDK socket disconnected '${r0}' begin recovery...`),function(i0){return o0=>{io.SocketService(`[SocketService: handleDisconnect()] on 'disconnect' manualDisconnect=${i0.state.manualDisconnect}`,o0),i0.state.manualDisconnect||(i0.emit(bo.SOCKET_DISCONNECTED),Io(i0).catch(s0=>{}))}}(e0)(r0)))),Oo.forEach(({event:r0,handler:i0})=>{t0?.on(`${r0}-${r}`,i0(e0,r))}),Lo.forEach(({event:r0,handler:i0})=>{n0?.on(r0,i0(e0))}),e0.state.setupChannelListeners=!0}class $o extends eventemitter2Exports.EventEmitter2{constructor(r){super(),this.state={clientsConnected:!1,clientsPaused:!1,manualDisconnect:!1,lastRpcId:void 0,rpcMethodTracker:{},hasPlaintext:!1,communicationServerUrl:"",focusListenerAdded:!1,removeFocusListener:void 0,isReconnecting:!1,reconnectionAttempts:0},this.options=r;const{reconnect:t0,communicationLayerPreference:n0,communicationServerUrl:r0,context:i0,remote:o0,logging:s0}=r;this.state.resumed=t0,this.state.context=i0,this.state.isOriginator=o0.state.isOriginator,this.state.communicationLayerPreference=n0,this.state.debug=s0?.serviceLayer===!0,this.remote=o0,s0?.serviceLayer===!0&&t.enable("SocketService:Layer"),this.state.communicationServerUrl=r0,this.state.hasPlaintext=this.state.communicationServerUrl!==ho&&s0?.plaintext===!0,io.SocketService(`[SocketService: constructor()] Socket IO url: ${this.state.communicationServerUrl}`),this.initSocket()}initSocket(){var r;const{otherPublicKey:t0,ecies:n0,logging:r0}=this.options,i0={autoConnect:!1,transports:fo,withCredentials:!0},o0=this.state.communicationServerUrl;io.SocketService(`[SocketService: initSocket()] Socket IO url: ${o0}`),this.state.socket=lookup$1(o0,i0),function(a0){if(typeof window<"u"&&typeof document<"u"&&(io.SocketService(`[SocketService: setupSocketFocusListener()] hasFocus=${document.hasFocus()}`,a0),!a0.state.focusListenerAdded)){const c0=()=>{io.SocketService("Document has focus --- reconnecting socket"),Io(a0).catch(l0=>{})};window.addEventListener("focus",c0),a0.state.focusListenerAdded=!0,a0.state.removeFocusListener=()=>{window.removeEventListener("focus",c0),a0.state.focusListenerAdded=!1}}}(this);const s0={communicationLayer:this,otherPublicKey:t0,sendPublicKey:!1,context:(r=this.state.context)!==null&&r!==void 0?r:"",ecies:n0,logging:r0};this.state.keyExchange=new ko(s0)}resetKeys(){return io.SocketService("[SocketService: resetKeys()] Resetting keys."),void((r=this.state.keyExchange)===null||r===void 0||r.resetKeys());var r}createChannel(){return a(this,void 0,void 0,function*(){return function(r){return a(this,void 0,void 0,function*(){var t0,n0,r0;if(io.SocketService(`[SocketService: createChannel()] context=${r.state.context}`),r.state.socket||r.initSocket(),(t0=r.state.socket)===null||t0===void 0?void 0:t0.connected)throw new Error("socket already connected");(n0=r.state.socket)===null||n0===void 0||n0.connect(),r.state.manualDisconnect=!1,r.state.isOriginator=!0;const i0=v4();r.state.channelId=i0,No(r,i0),yield new Promise((s0,a0)=>{var c0;(c0=r.state.socket)===null||c0===void 0||c0.emit(bo.JOIN_CHANNEL,{channelId:i0,context:`${r.state.context}createChannel`,clientType:"dapp"},(l0,u0)=>a(this,void 0,void 0,function*(){try{yield xo(r,l0,u0),s0()}catch(h0){a0(h0)}}))});const o0=(r0=r.state.keyExchange)===null||r0===void 0?void 0:r0.getKeyInfo();return{channelId:i0,pubKey:o0?.ecies.public||"",privKey:o0?.ecies.private||""}})}(this)})}connectToChannel({channelId:r,withKeyExchange:t0=!1,authorized:n0}){return function(r0){return a(this,arguments,void 0,function*({options:i0,instance:o0}){const{channelId:s0,authorized:a0,withKeyExchange:c0}=i0,{state:l0,remote:u0}=o0,{isOriginator:h0=!1,socket:g0,keyExchange:w0}=l0,{channelConfig:m0}=u0.state;if(g0?.connected)throw new Error("socket already connected");if(h0&&m0?.relayPersistence){const{localKey:S0,otherKey:b0}=m0;S0&&b0&&w0?.setRelayPersistence({localKey:S0,otherKey:b0})}return Object.assign(l0,{manualDisconnect:!1,withKeyExchange:c0,isOriginator:h0,channelId:s0}),g0?.connect(),No(o0,s0),!h0&&a0&&(w0?.setKeysExchanged(!0),Object.assign(u0.state,{ready:!0,authorized:!0})),new Promise(S0=>{var b0;const T0=(b0=w0?.getKeyInfo())===null||b0===void 0?void 0:b0.ecies.public;g0?.emit(bo.JOIN_CHANNEL,{channelId:s0,context:`${l0.context}_connectToChannel`,clientType:h0?"dapp":"wallet",publicKey:a0&&!h0?T0:void 0},(N0,x0)=>a(this,void 0,void 0,function*(){yield xo(o0,N0,x0),S0()}))})})}({options:{channelId:r,withKeyExchange:t0,authorized:n0},instance:this})}getKeyInfo(){return this.state.keyExchange.getKeyInfo()}keyCheck(){var r,t0;(t0=(r=this).state.socket)===null||t0===void 0||t0.emit(bo.MESSAGE,{id:r.state.channelId,context:r.state.context,message:{type:Eo.KEY_HANDSHAKE_CHECK,pubkey:r.getKeyInfo().ecies.otherPubKey}})}getKeyExchange(){return this.state.keyExchange}sendMessage(r){return a(this,void 0,void 0,function*(){return function(t0,n0){return a(this,void 0,void 0,function*(){var r0,i0,o0;if(!t0.state.channelId)throw io.SocketService("handleSendMessage: no channelId - Create a channel first"),new Error("Create a channel first");if(io.SocketService(`[SocketService: handleSendMessage()] context=${t0.state.context} areKeysExchanged=${(r0=t0.state.keyExchange)===null||r0===void 0?void 0:r0.areKeysExchanged()}`,n0),(i0=n0?.type)===null||i0===void 0?void 0:i0.startsWith("key_handshake"))return function(a0,c0){var l0;io.SocketService(`[SocketService: handleKeyHandshake()] context=${a0.state.context}`,c0),(l0=a0.state.socket)===null||l0===void 0||l0.emit(bo.MESSAGE,{id:a0.state.channelId,context:a0.state.context,clientType:a0.state.isOriginator?"dapp":"wallet",message:c0})}(t0,n0),!0;(function(a0,c0){var l0;if(!(!((l0=a0.state.keyExchange)===null||l0===void 0)&&l0.areKeysExchanged())&&!a0.remote.state.relayPersistence)throw io.SocketService(`[SocketService: validateKeyExchange()] context=${a0.state.context} ERROR keys not exchanged`,c0),new Error("Keys not exchanged BBB")})(t0,n0),function(a0,c0){var l0;const u0=(l0=c0?.method)!==null&&l0!==void 0?l0:"",h0=c0?.id;a0.state.isOriginator&&h0&&(a0.state.rpcMethodTracker[h0]={id:h0,timestamp:Date.now(),method:u0},a0.emit(bo.RPC_UPDATE,a0.state.rpcMethodTracker[h0]))}(t0,n0);const s0=yield Ro(t0,n0);return t0.remote.state.analytics&&t0.remote.state.isOriginator&&n0.method&&To.includes(n0.method.toLowerCase())&&co({id:(o0=t0.remote.state.channelId)!==null&&o0!==void 0?o0:"",event:_o.SDK_RPC_REQUEST,params:{method:n0.method,from:"mobile"}},t0.remote.state.communicationServerUrl).catch(a0=>{}),function(a0,c0){return a(this,void 0,void 0,function*(){var l0;const u0=c0?.id,h0=(l0=c0?.method)!==null&&l0!==void 0?l0:"";if(a0.state.isOriginator&&u0)try{const g0=Ao(u0,a0.state.rpcMethodTracker,200).then(S0=>({type:Po.RPC_CHECK,result:S0})),w0=(()=>a(this,void 0,void 0,function*(){const S0=yield(T0=>a(void 0,[T0],void 0,function*({rpcId:N0,instance:x0}){for(;x0.state.lastRpcId===N0||x0.state.lastRpcId===void 0;)yield Mo(200);return x0.state.lastRpcId}))({instance:a0,rpcId:u0}),b0=yield Ao(S0,a0.state.rpcMethodTracker,200);return{type:Po.SKIPPED_RPC,result:b0}}))(),m0=yield Promise.race([g0,w0]);if(m0.type===Po.RPC_CHECK){const S0=m0.result;io.SocketService(`[SocketService:handleRpcReplies()] id=${c0.id} ${h0} ( ${S0.elapsedTime} ms)`,S0.result)}else{if(m0.type!==Po.SKIPPED_RPC)throw new Error(`Error handling RPC replies for ${u0}`);{const S0=Object.assign(Object.assign({},a0.state.rpcMethodTracker[u0]),{error:new Error("SDK_CONNECTION_ISSUE")});a0.emit(bo.RPC_UPDATE,S0);const b0={data:Object.assign(Object.assign({},S0),{jsonrpc:"2.0"}),name:"metamask-provider"};a0.emit(bo.MESSAGE,{message:b0})}}}catch(g0){throw g0}})}(t0,n0).catch(a0=>{}),s0})}(this,r)})}ping(){return function(r){return a(this,void 0,void 0,function*(){var t0,n0;io.SocketService(`[SocketService: ping()] context=${r.state.context} originator=${r.state.isOriginator} keysExchanged=${(t0=r.state.keyExchange)===null||t0===void 0?void 0:t0.areKeysExchanged()}`),(n0=r.state.socket)===null||n0===void 0||n0.emit(So.PING,{id:r.state.channelId,context:"ping",clientType:r.remote.state.isOriginator?"dapp":"wallet",message:""})})}(this)}pause(){return function(r){return a(this,void 0,void 0,function*(){var t0,n0;io.SocketService(`[SocketService: pause()] context=${r.state.context}`),r.state.manualDisconnect=!0,!((t0=r.state.keyExchange)===null||t0===void 0)&&t0.areKeysExchanged()&&(yield r.sendMessage({type:So.PAUSE})),(n0=r.state.socket)===null||n0===void 0||n0.disconnect()})}(this)}isConnected(){var r;return(r=this.state.socket)===null||r===void 0?void 0:r.connected}resume(){return function(r){return a(this,void 0,void 0,function*(){const{state:t0,remote:n0}=r,{socket:r0,channelId:i0,context:o0,keyExchange:s0,isOriginator:a0}=t0,{isOriginator:c0}=n0.state;if(io.SocketService(`[SocketService: resume()] channelId=${i0} context=${o0} connected=${r0?.connected} manualDisconnect=${t0.manualDisconnect} resumed=${t0.resumed} keysExchanged=${s0?.areKeysExchanged()}`),!i0)throw io.SocketService("[SocketService: resume()] channelId is not defined"),new Error("ChannelId is not defined");r0?.connected?(io.SocketService("[SocketService: resume()] already connected."),r0.emit(So.PING,{id:i0,clientType:c0?"dapp":"wallet",context:"on_channel_config",message:""}),n0.hasRelayPersistence()||s0?.areKeysExchanged()||(a0?yield r.sendMessage({type:So.READY}):s0?.start({isOriginator:!1}))):(r0?.connect(),io.SocketService(`[SocketService: resume()] after connecting socket --> connected=${r0?.connected}`),r0?.emit(bo.JOIN_CHANNEL,{channelId:i0,context:`${o0}_resume`,clientType:c0?"dapp":"wallet"},(l0,u0)=>a(this,void 0,void 0,function*(){try{yield xo(r,l0,u0)}catch{}}))),t0.manualDisconnect=!1,t0.resumed=!0})}(this)}getRPCMethodTracker(){return this.state.rpcMethodTracker}disconnect(r){return function(t0,n0){var r0,i0,o0,s0,a0;io.SocketService(`[SocketService: disconnect()] context=${t0.state.context}`,n0),n0?.terminate&&((i0=(r0=t0.state).removeFocusListener)===null||i0===void 0||i0.call(r0),t0.state.channelId=n0.channelId,(o0=t0.state.socket)===null||o0===void 0||o0.removeAllListeners(),(s0=t0.state.keyExchange)===null||s0===void 0||s0.clean(),t0.remote.state.ready=!1,t0.state.socket=void 0,t0.state.rpcMethodTracker={}),t0.state.manualDisconnect=!0,(a0=t0.state.socket)===null||a0===void 0||a0.disconnect()}(this,r)}}var Do,Bo,Ko;function jo(e0){return()=>a(this,void 0,void 0,function*(){var r,t0,n0;const{state:r0}=e0;if(r0.authorized)return;yield(()=>a(this,void 0,void 0,function*(){for(;!r0.walletInfo;)yield Mo(500)}))();const i0="7.3".localeCompare(((r=r0.walletInfo)===null||r===void 0?void 0:r.version)||"");if(io.RemoteCommunication(`[RemoteCommunication: handleAuthorizedEvent()] HACK 'authorized' version=${(t0=r0.walletInfo)===null||t0===void 0?void 0:t0.version} compareValue=${i0}`),i0!==1)return;const o0=r0.platformType===Bo.MobileWeb||r0.platformType===Bo.ReactNative||r0.platformType===Bo.MetaMaskMobileWebview;io.RemoteCommunication(`[RemoteCommunication: handleAuthorizedEvent()] HACK 'authorized' platform=${r0.platformType} secure=${o0} channel=${r0.channelId} walletVersion=${(n0=r0.walletInfo)===null||n0===void 0?void 0:n0.version}`),o0&&(r0.authorized=!0,e0.emit(bo.AUTHORIZED))})}function Uo(e0){return r=>{const{state:t0}=e0;io.RemoteCommunication(`[RemoteCommunication: handleChannelCreatedEvent()] context=${t0.context} on 'channel_created' channelId=${r}`),e0.emit(bo.CHANNEL_CREATED,r)}}function Ho(e0,r){return()=>{var t0,n0,r0,i0;const{state:o0}=e0;io.RemoteCommunication(`[RemoteCommunication: handleClientsConnectedEvent()] on 'clients_connected' channel=${o0.channelId} keysExchanged=${(n0=(t0=o0.communicationLayer)===null||t0===void 0?void 0:t0.getKeyInfo())===null||n0===void 0?void 0:n0.keysExchanged}`),o0.analytics&&co(Object.assign(Object.assign({id:(r0=o0.channelId)!==null&&r0!==void 0?r0:"",event:o0.reconnection?_o.RECONNECT:o0.isOriginator?_o.REQUEST:_o.REQUEST_MOBILE},o0.originatorInfo),{commLayer:r,sdkVersion:o0.sdkVersion,walletVersion:(i0=o0.walletInfo)===null||i0===void 0?void 0:i0.version,commLayerVersion:uo.version}),o0.communicationServerUrl).catch(s0=>{}),o0.clientsConnected=!0,o0.originatorInfoSent=!1,e0.emit(bo.CLIENTS_CONNECTED)}}function Fo(e0){return r=>{const{state:t0}=e0;io.RemoteCommunication(`[RemoteCommunication: handleClientsDisconnectedEvent()] context=${t0.context} on 'clients_disconnected' channelId=${r}`),t0.relayPersistence||(t0.clientsConnected=!1,t0.ready=!1,t0.authorized=!1),e0.emit(bo.CLIENTS_DISCONNECTED,t0.channelId),e0.setConnectionStatus(vo.DISCONNECTED)}}function zo(e0){return r=>{var t0;const{state:n0}=e0;if(io.RemoteCommunication(`[RemoteCommunication: handleClientsWaitingEvent()] context=${n0.context} on 'clients_waiting' numberUsers=${r} ready=${n0.ready} autoStarted=${n0.originatorConnectStarted}`),e0.setConnectionStatus(vo.WAITING),e0.emit(bo.CLIENTS_WAITING,r),n0.originatorConnectStarted){io.RemoteCommunication(`[RemoteCommunication: handleClientsWaitingEvent()] on 'clients_waiting' watch autoStarted=${n0.originatorConnectStarted} timeout`,n0.autoConnectOptions);const r0=((t0=n0.autoConnectOptions)===null||t0===void 0?void 0:t0.timeout)||3e3,i0=setTimeout(()=>{io.RemoteCommunication(`[RemoteCommunication: handleClientsWaitingEvent()] setTimeout(${r0}) terminate channelConfig`,n0.autoConnectOptions),n0.originatorConnectStarted=!1,n0.ready||e0.setConnectionStatus(vo.TIMEOUT),clearTimeout(i0)},r0)}}}function qo(e0,r){return t0=>{var n0,r0,i0,o0,s0,a0,c0,l0;const{state:u0}=e0;if(io.RemoteCommunication(`[RemoteCommunication: handleKeysExchangedEvent()] context=${u0.context} on commLayer.'keys_exchanged' channel=${u0.channelId}`,t0),(r0=(n0=u0.communicationLayer)===null||n0===void 0?void 0:n0.getKeyInfo())===null||r0===void 0?void 0:r0.keysExchanged){const h0=Object.assign(Object.assign({},u0.channelConfig),{channelId:(i0=u0.channelId)!==null&&i0!==void 0?i0:"",validUntil:((o0=u0.channelConfig)===null||o0===void 0?void 0:o0.validUntil)||po,localKey:u0.communicationLayer.getKeyInfo().ecies.private,otherKey:u0.communicationLayer.getKeyInfo().ecies.otherPubKey});(s0=u0.storageManager)===null||s0===void 0||s0.persistChannelConfig(h0).catch(g0=>{}),e0.setConnectionStatus(vo.LINKED)}(function(h0,g0){var w0,m0,S0,b0,T0,N0,x0,k0;const{state:B0}=h0;io.RemoteCommunication(`[RemoteCommunication: setLastActiveDate()] channel=${B0.channelId}`,g0);const H0=Object.assign(Object.assign({},B0.channelConfig),{channelId:(w0=B0.channelId)!==null&&w0!==void 0?w0:"",validUntil:(S0=(m0=B0.channelConfig)===null||m0===void 0?void 0:m0.validUntil)!==null&&S0!==void 0?S0:0,relayPersistence:B0.relayPersistence,localKey:(T0=(b0=B0.communicationLayer)===null||b0===void 0?void 0:b0.state.keyExchange)===null||T0===void 0?void 0:T0.getKeyInfo().ecies.private,otherKey:(x0=(N0=B0.communicationLayer)===null||N0===void 0?void 0:N0.state.keyExchange)===null||x0===void 0?void 0:x0.getKeyInfo().ecies.otherPubKey,lastActive:g0.getTime()});(k0=B0.storageManager)===null||k0===void 0||k0.persistChannelConfig(H0)})(e0,new Date),u0.analytics&&u0.channelId&&co(Object.assign(Object.assign({id:u0.channelId,event:t0.isOriginator?_o.CONNECTED:_o.CONNECTED_MOBILE},u0.originatorInfo),{sdkVersion:u0.sdkVersion,commLayer:r,commLayerVersion:uo.version,walletVersion:(a0=u0.walletInfo)===null||a0===void 0?void 0:a0.version}),u0.communicationServerUrl).catch(h0=>{}),u0.isOriginator=t0.isOriginator,t0.isOriginator||((c0=u0.communicationLayer)===null||c0===void 0||c0.sendMessage({type:So.READY}),u0.ready=!0,u0.paused=!1),t0.isOriginator&&!u0.originatorInfoSent&&((l0=u0.communicationLayer)===null||l0===void 0||l0.sendMessage({type:So.ORIGINATOR_INFO,originatorInfo:u0.originatorInfo,originator:u0.originatorInfo}),u0.originatorInfoSent=!0)}}function Wo(e0){return r=>{let t0=r;r.message&&(t0=t0.message),function(n0,r0){const{state:i0}=r0;if(io.RemoteCommunication(`[RemoteCommunication: onCommunicationLayerMessage()] context=${i0.context} on 'message' typeof=${typeof n0}`,n0),r0.state.ready=!0,i0.isOriginator||n0.type!==So.ORIGINATOR_INFO)if(i0.isOriginator&&n0.type===So.WALLET_INFO)(function(o0,s0){const{state:a0}=o0;a0.walletInfo=s0.walletInfo,a0.paused=!1})(r0,n0);else{if(i0.isOriginator&&n0.type===So.WALLET_INIT)(function(o0,s0){return a(this,void 0,void 0,function*(){var a0,c0,l0;const{state:u0}=o0;if(u0.isOriginator){const h0=s0.data||{};if(typeof h0=="object"&&"accounts"in h0&&"chainId"in h0&&"walletKey"in h0)try{const{channelConfig:g0}=o0.state;if(io.RemoteCommunication("WALLET_INIT: channelConfig",JSON.stringify(g0,null,2)),g0){const w0=h0.accounts,m0=h0.chainId,S0=h0.walletKey;let b0,T0=!1;"deeplinkProtocol"in h0&&(T0=!!h0.deeplinkProtocol,o0.state.deeplinkProtocolAvailable=T0),"walletVersion"in h0&&(b0=h0.walletVersion),yield(a0=o0.state.storageManager)===null||a0===void 0?void 0:a0.persistChannelConfig(Object.assign(Object.assign({},g0),{otherKey:S0,walletVersion:b0,deeplinkProtocolAvailable:T0,relayPersistence:!0})),yield(c0=o0.state.storageManager)===null||c0===void 0?void 0:c0.persistAccounts(w0),yield(l0=o0.state.storageManager)===null||l0===void 0?void 0:l0.persistChainId(m0)}o0.emit(bo.WALLET_INIT,{accounts:h0.accounts,chainId:h0.chainId})}catch{}}})})(r0,n0).catch(o0=>{io.RemoteCommunication(`[RemoteCommunication: onCommunicationLayerMessage()] error=${o0}`)});else if(n0.type===So.TERMINATE)(function(o0){return a(this,void 0,void 0,function*(){const{state:s0}=o0;s0.isOriginator&&(yield Jo({options:{terminate:!0,sendMessage:!1},instance:o0}),o0.emit(bo.TERMINATE))})})(r0).catch(o0=>{io.RemoteCommunication(`[RemoteCommunication: onCommunicationLayerMessage()] error=${o0}`)});else if(n0.type===So.PAUSE)(function(o0){const{state:s0}=o0;s0.paused=!0,o0.setConnectionStatus(vo.PAUSED)})(r0);else if(n0.type===So.READY&&i0.isOriginator)(function(o0){const{state:s0}=o0;o0.setConnectionStatus(vo.LINKED);const a0=s0.paused;s0.paused=!1,o0.emit(bo.CLIENTS_READY,{isOriginator:s0.isOriginator,walletInfo:s0.walletInfo}),a0&&(s0.authorized=!0,o0.emit(bo.AUTHORIZED))})(r0);else{if(n0.type===So.OTP&&i0.isOriginator)return void function(o0,s0){var a0;const{state:c0}=o0;o0.emit(bo.OTP,s0.otpAnswer),"6.6".localeCompare(((a0=c0.walletInfo)===null||a0===void 0?void 0:a0.version)||"")===1&&o0.emit(bo.SDK_RPC_CALL,{method:mo.ETH_REQUESTACCOUNTS,params:[]})}(r0,n0);n0.type===So.AUTHORIZED&&i0.isOriginator&&function(o0){const{state:s0}=o0;s0.authorized=!0,o0.emit(bo.AUTHORIZED)}(r0)}r0.emit(bo.MESSAGE,n0)}else(function(o0,s0){var a0;const{state:c0}=o0;(a0=c0.communicationLayer)===null||a0===void 0||a0.sendMessage({type:So.WALLET_INFO,walletInfo:c0.walletInfo}),c0.originatorInfo=s0.originatorInfo||s0.originator,o0.emit(bo.CLIENTS_READY,{isOriginator:c0.isOriginator,originatorInfo:c0.originatorInfo}),c0.paused=!1})(r0,n0)}(t0,e0)}}function Vo(e0){return()=>{const{state:r}=e0;io.RemoteCommunication("[RemoteCommunication: handleSocketReconnectEvent()] on 'socket_reconnect' -- reset key exchange status / set ready to false"),r.ready=!1,r.authorized=!1,yo(r),e0.emitServiceStatusEvent({context:"socket_reconnect"})}}function Go(e0){return()=>{const{state:r}=e0;io.RemoteCommunication("[RemoteCommunication: handleSocketDisconnectedEvent()] on 'socket_Disconnected' set ready to false"),r.ready=!1}}function Yo(e0){return()=>a(this,void 0,void 0,function*(){var r,t0,n0,r0,i0,o0,s0;const{state:a0}=e0;io.RemoteCommunication(`[RemoteCommunication: handleFullPersistenceEvent()] context=${a0.context}`),e0.state.ready=!0,e0.state.clientsConnected=!0,e0.state.authorized=!0,e0.state.relayPersistence=!0,(r=e0.state.communicationLayer)===null||r===void 0||r.getKeyExchange().setKeysExchanged(!0),e0.emit(bo.KEYS_EXCHANGED,{keysExchanged:!0,isOriginator:!0}),e0.emit(bo.AUTHORIZED),e0.emit(bo.CLIENTS_READY),e0.emit(bo.CHANNEL_PERSISTENCE);try{a0.channelConfig=Object.assign(Object.assign({},a0.channelConfig),{localKey:(t0=a0.communicationLayer)===null||t0===void 0?void 0:t0.getKeyExchange().getKeyInfo().ecies.private,otherKey:(n0=a0.communicationLayer)===null||n0===void 0?void 0:n0.getKeyExchange().getOtherPublicKey(),channelId:(r0=a0.channelId)!==null&&r0!==void 0?r0:"",validUntil:(o0=(i0=a0.channelConfig)===null||i0===void 0?void 0:i0.validUntil)!==null&&o0!==void 0?o0:po,relayPersistence:!0}),yield(s0=a0.storageManager)===null||s0===void 0?void 0:s0.persistChannelConfig(a0.channelConfig)}catch{}})}function Zo({communicationLayerPreference:e0,otherPublicKey:r,reconnect:t0,ecies:n0,communicationServerUrl:r0=ho,instance:i0}){var o0,s0,a0,c0,l0,u0,h0,g0,w0,m0,S0;const{state:b0}=i0;if(io.RemoteCommunication("[initCommunicationLayer()] ",JSON.stringify(b0,null,2)),e0!==Do.SOCKET)throw new Error("Invalid communication protocol");b0.communicationLayer=new $o({communicationLayerPreference:e0,otherPublicKey:r,reconnect:t0,transports:b0.transports,communicationServerUrl:r0,context:b0.context,ecies:n0,logging:b0.logging,remote:i0});let T0=typeof document<"u"&&document.URL||"",N0=typeof document<"u"&&document.title||"";!((o0=b0.dappMetadata)===null||o0===void 0)&&o0.url&&(T0=b0.dappMetadata.url),!((s0=b0.dappMetadata)===null||s0===void 0)&&s0.name&&(N0=b0.dappMetadata.name);const x0=(u0=(c0=(a0=b0.dappMetadata)===null||a0===void 0?void 0:a0.name)!==null&&c0!==void 0?c0:(l0=b0.dappMetadata)===null||l0===void 0?void 0:l0.url)!==null&&u0!==void 0?u0:"N/A",k0=typeof window<"u"&&window.location!==void 0&&(h0=window.location.hostname)!==null&&h0!==void 0?h0:x0,B0={url:T0,title:N0,source:(g0=b0.dappMetadata)===null||g0===void 0?void 0:g0.source,dappId:k0,icon:((w0=b0.dappMetadata)===null||w0===void 0?void 0:w0.iconUrl)||((m0=b0.dappMetadata)===null||m0===void 0?void 0:m0.base64Icon),platform:b0.platformType,apiVersion:uo.version,connector:(S0=b0.dappMetadata)===null||S0===void 0?void 0:S0.connector};b0.originatorInfo=B0;const H0={[bo.AUTHORIZED]:jo(i0),[bo.MESSAGE]:Wo(i0),[bo.CHANNEL_PERSISTENCE]:Yo(i0),[bo.CLIENTS_CONNECTED]:Ho(i0,e0),[bo.KEYS_EXCHANGED]:qo(i0,e0),[bo.SOCKET_DISCONNECTED]:Go(i0),[bo.SOCKET_RECONNECT]:Vo(i0),[bo.CLIENTS_DISCONNECTED]:Fo(i0),[bo.KEY_INFO]:()=>{},[bo.CHANNEL_CREATED]:Uo(i0),[bo.CLIENTS_WAITING]:zo(i0),[bo.RPC_UPDATE]:G0=>{i0.emit(bo.RPC_UPDATE,G0)}};for(const[G0,V0]of Object.entries(H0))try{b0.communicationLayer.on(G0,V0)}catch{}}function Jo(e0){return a(this,arguments,void 0,function*({options:r,instance:t0}){const{state:n0}=t0;return io.RemoteCommunication(`[RemoteCommunication: disconnect()] channel=${n0.channelId}`,r),new Promise((r0,i0)=>{var o0,s0,a0,c0,l0,u0;r?.terminate?(t0.state.ready&&co({id:(o0=t0.state.channelId)!==null&&o0!==void 0?o0:"",event:_o.TERMINATED},t0.state.communicationServerUrl).catch(h0=>{}),n0.ready=!1,n0.paused=!1,(s0=n0.storageManager)===null||s0===void 0||s0.terminate((a0=n0.channelId)!==null&&a0!==void 0?a0:""),t0.state.terminated=!0,r.sendMessage?!((c0=n0.communicationLayer)===null||c0===void 0)&&c0.getKeyInfo().keysExchanged&&t0.state.communicationLayer&&Ro(t0.state.communicationLayer,{type:So.TERMINATE}).then(()=>{r0(!0)}).catch(h0=>{i0(h0)}):r0(!0),n0.authorized=!1,n0.relayPersistence=!1,n0.channelId=v4(),r.channelId=n0.channelId,n0.channelConfig=void 0,n0.originatorConnectStarted=!1,(l0=n0.communicationLayer)===null||l0===void 0||l0.disconnect(r),t0.setConnectionStatus(vo.TERMINATED)):((u0=n0.communicationLayer)===null||u0===void 0||u0.disconnect(r),t0.setConnectionStatus(vo.DISCONNECTED),r0(!0))})})}(Do||(Do={})).SOCKET="socket",function(e0){e0.NonBrowser="nodejs",e0.MetaMaskMobileWebview="in-app-browser",e0.DesktopWeb="web-desktop",e0.MobileWeb="web-mobile",e0.ReactNative="react-native"}(Bo||(Bo={}));class Xo extends eventemitter2Exports.EventEmitter2{constructor(r){super(),this.state={ready:!1,authorized:!1,isOriginator:!1,terminated:!1,protocolVersion:1,paused:!1,deeplinkProtocolAvailable:!1,platformType:"metamask-mobile",analytics:!1,reconnection:!1,originatorInfoSent:!1,communicationServerUrl:ho,context:"",persist:!1,clientsConnected:!1,sessionDuration:po,originatorConnectStarted:!1,debug:!1,_connectionStatus:vo.DISCONNECTED},this._options=r;const{platformType:t0,communicationLayerPreference:n0,otherPublicKey:r0,reconnect:i0,walletInfo:o0,dappMetadata:s0,protocolVersion:a0,transports:c0,context:l0,relayPersistence:u0,ecies:h0,analytics:g0=!1,storage:w0,sdkVersion:m0,communicationServerUrl:S0=ho,logging:b0,autoConnect:T0={timeout:go}}=r;this.state.otherPublicKey=r0,this.state.dappMetadata=s0,this.state.walletInfo=o0,this.state.transports=c0,this.state.platformType=t0,this.state.analytics=g0,this.state.protocolVersion=a0??1,this.state.isOriginator=!r0,this.state.relayPersistence=u0,this.state.communicationServerUrl=S0,this.state.context=l0,this.state.terminated=!1,this.state.sdkVersion=m0,this.setMaxListeners(50),this.setConnectionStatus(vo.DISCONNECTED),w0?.duration&&(this.state.sessionDuration=po),this.state.storageOptions=w0,this.state.autoConnectOptions=T0,this.state.debug=b0?.remoteLayer===!0,b0?.remoteLayer===!0&&t.enable("RemoteCommunication:Layer"),b0?.serviceLayer===!0&&t.enable("SocketService:Layer"),b0?.eciesLayer===!0&&t.enable("ECIES:Layer"),b0?.keyExchangeLayer===!0&&t.enable("KeyExchange:Layer"),this.state.logging=b0,w0?.storageManager&&(this.state.storageManager=w0.storageManager),io.RemoteCommunication(`[RemoteCommunication: constructor()] protocolVersion=${a0} relayPersistence=${u0} isOriginator=${this.state.isOriginator} communicationLayerPreference=${n0} otherPublicKey=${r0} reconnect=${i0}`),this.state.isOriginator||Zo({communicationLayerPreference:n0,otherPublicKey:r0,reconnect:i0,ecies:h0,communicationServerUrl:S0,instance:this}),this.emitServiceStatusEvent({context:"constructor"})}initFromDappStorage(){return a(this,void 0,void 0,function*(){var r;if(this.state.storageManager){const t0=yield this.state.storageManager.getPersistedChannelConfig({});t0&&(this.state.channelConfig=t0,this.state.channelId=t0.channelId,this.state.deeplinkProtocolAvailable=(r=t0.deeplinkProtocolAvailable)!==null&&r!==void 0&&r,t0.relayPersistence&&(this.state.authorized=!0,this.state.ready=!0,this.setConnectionStatus(vo.LINKED),yield this.connectToChannel({channelId:t0.channelId})))}Zo({communicationLayerPreference:Do.SOCKET,otherPublicKey:this.state.otherPublicKey,reconnect:this._options.reconnect,ecies:this._options.ecies,communicationServerUrl:this.state.communicationServerUrl,instance:this})})}originatorSessionConnect(){return a(this,void 0,void 0,function*(){return yield function(r){return a(this,void 0,void 0,function*(){var t0;const{state:n0}=r;if(!n0.storageManager)return void io.RemoteCommunication("[RemoteCommunication: originatorSessionConnect()] no storage manager defined - skip");const r0=yield n0.storageManager.getPersistedChannelConfig({});if(io.RemoteCommunication(`[RemoteCommunication: originatorSessionConnect()] autoStarted=${n0.originatorConnectStarted} channelConfig`,r0),(t0=n0.communicationLayer)===null||t0===void 0?void 0:t0.isConnected())return io.RemoteCommunication("[RemoteCommunication: originatorSessionConnect()] socket already connected - skip"),r0;if(r0){if(r0.validUntil>Date.now())return n0.channelConfig=r0,n0.originatorConnectStarted=!0,n0.channelId=r0?.channelId,n0.reconnection=!0,r0;io.RemoteCommunication("[RemoteCommunication: autoConnect()] Session has expired")}n0.originatorConnectStarted=!1})}(this)})}generateChannelIdConnect(){return a(this,void 0,void 0,function*(){return function(r){return a(this,void 0,void 0,function*(){var t0,n0,r0,i0,o0,s0;if(!r.communicationLayer)throw new Error("communication layer not initialized");if(r.ready)throw new Error("Channel already connected");if(r.channelId&&(!((t0=r.communicationLayer)===null||t0===void 0)&&t0.isConnected()))return r.channelConfig=Object.assign(Object.assign({},r.channelConfig),{channelId:r.channelId,validUntil:Date.now()+r.sessionDuration}),(n0=r.storageManager)===null||n0===void 0||n0.persistChannelConfig(r.channelConfig),{channelId:r.channelId,privKey:(i0=(r0=r.communicationLayer)===null||r0===void 0?void 0:r0.getKeyInfo())===null||i0===void 0?void 0:i0.ecies.private,pubKey:(s0=(o0=r.communicationLayer)===null||o0===void 0?void 0:o0.getKeyInfo())===null||s0===void 0?void 0:s0.ecies.public};io.RemoteCommunication("[RemoteCommunication: generateChannelId()]");const a0=yield r.communicationLayer.createChannel();io.RemoteCommunication("[RemoteCommunication: generateChannelId()] channel created",a0);const c0=Object.assign(Object.assign({},r.channelConfig),{channelId:a0.channelId,localKey:a0.privKey,validUntil:Date.now()+r.sessionDuration});return r.channelId=a0.channelId,r.channelConfig=c0,{channelId:r.channelId,pubKey:a0.pubKey,privKey:a0.privKey}})}(this.state)})}clean(){return yo(this.state)}connectToChannel({channelId:r,withKeyExchange:t0,authorized:n0}){return function(r0){return a(this,arguments,void 0,function*({channelId:i0,withKeyExchange:o0,authorized:s0,state:a0}){var c0,l0,u0;if(!validate$1(i0))throw io.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${a0.context} invalid channel channelId=${i0}`),new Error(`Invalid channel ${i0}`);if(io.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${a0.context} channelId=${i0} withKeyExchange=${o0}`),(c0=a0.communicationLayer)===null||c0===void 0?void 0:c0.isConnected())return void io.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${a0.context} already connected - interrupt connection.`);a0.channelId=i0,yield(l0=a0.communicationLayer)===null||l0===void 0?void 0:l0.connectToChannel({channelId:i0,authorized:s0,withKeyExchange:o0});const h0=Object.assign(Object.assign({},a0.channelConfig),{channelId:i0,validUntil:Date.now()+a0.sessionDuration});a0.channelConfig=h0,(u0=a0.storageManager)===null||u0===void 0||u0.persistChannelConfig(h0)})}({channelId:r,authorized:n0,withKeyExchange:t0,state:this.state})}sendMessage(r){return function(t0,n0){return a(this,void 0,void 0,function*(){var r0,i0;const{state:o0}=t0;io.RemoteCommunication(`[RemoteCommunication: sendMessage()] context=${o0.context} paused=${o0.paused} ready=${o0.ready} relayPersistence=${o0.relayPersistence} authorized=${o0.authorized} socket=${(r0=o0.communicationLayer)===null||r0===void 0?void 0:r0.isConnected()} clientsConnected=${o0.clientsConnected} status=${o0._connectionStatus}`,n0),o0.relayPersistence||o0.ready&&(!((i0=o0.communicationLayer)===null||i0===void 0)&&i0.isConnected())&&o0.clientsConnected||(io.RemoteCommunication(`[RemoteCommunication: sendMessage()] context=${o0.context}  SKIP message waiting for MM mobile readiness.`),yield new Promise(s0=>{t0.once(bo.CLIENTS_READY,s0)}),io.RemoteCommunication(`[RemoteCommunication: sendMessage()] context=${o0.context}  AFTER SKIP / READY -- sending pending message`));try{return yield function(a0,c0){return a(this,void 0,void 0,function*(){return new Promise(l0=>{var u0;const{state:h0}=a0;io.RemoteCommunication(`[RemoteCommunication: handleAuthorization()] context=${h0.context} ready=${h0.ready} authorized=${h0.authorized} method=${c0.method}`),!h0.isOriginator||h0.authorized||h0.relayPersistence?(u0=h0.communicationLayer)===null||u0===void 0||u0.sendMessage(c0).then(g0=>{l0(g0)}).catch(g0=>{l0(!1)}):a0.once(bo.AUTHORIZED,()=>{var g0;io.RemoteCommunication(`[RemoteCommunication: handleAuthorization()] context=${h0.context}  AFTER SKIP / AUTHORIZED -- sending pending message`),(g0=h0.communicationLayer)===null||g0===void 0||g0.sendMessage(c0).then(w0=>{l0(w0)}).catch(w0=>{l0(!1)})})})})}(t0,n0)}catch(s0){throw s0}})}(this,r)}testStorage(){return a(this,void 0,void 0,function*(){return function(r){return a(this,void 0,void 0,function*(){var t0;const n0=yield(t0=r.storageManager)===null||t0===void 0?void 0:t0.getPersistedChannelConfig();io.RemoteCommunication("[RemoteCommunication: testStorage()] res",n0)})}(this.state)})}hasDeeplinkProtocol(){return this.state.deeplinkProtocolAvailable}getChannelConfig(){return this.state.channelConfig}isReady(){return this.state.ready}isConnected(){var r;return(r=this.state.communicationLayer)===null||r===void 0?void 0:r.isConnected()}isAuthorized(){return this.state.authorized}isPaused(){return this.state.paused}getCommunicationLayer(){return this.state.communicationLayer}ping(){return a(this,void 0,void 0,function*(){var r;io.RemoteCommunication(`[RemoteCommunication: ping()] channel=${this.state.channelId}`),yield(r=this.state.communicationLayer)===null||r===void 0?void 0:r.ping()})}testLogger(){io.RemoteCommunication(`testLogger() channel=${this.state.channelId}`),io.SocketService(`testLogger() channel=${this.state.channelId}`),io.Ecies(`testLogger() channel=${this.state.channelId}`),io.KeyExchange(`testLogger() channel=${this.state.channelId}`)}keyCheck(){var r;io.RemoteCommunication(`[RemoteCommunication: keyCheck()] channel=${this.state.channelId}`),(r=this.state.communicationLayer)===null||r===void 0||r.keyCheck()}setConnectionStatus(r){this.state._connectionStatus!==r&&(this.state._connectionStatus=r,this.emit(bo.CONNECTION_STATUS,r),this.emitServiceStatusEvent({context:"setConnectionStatus"}))}emitServiceStatusEvent(r={}){this.emit(bo.SERVICE_STATUS,this.getServiceStatus())}getConnectionStatus(){return this.state._connectionStatus}getServiceStatus(){return{originatorInfo:this.state.originatorInfo,keyInfo:this.getKeyInfo(),connectionStatus:this.state._connectionStatus,channelConfig:this.state.channelConfig,channelId:this.state.channelId}}getKeyInfo(){var r;return(r=this.state.communicationLayer)===null||r===void 0?void 0:r.getKeyInfo()}resetKeys(){var r;(r=this.state.communicationLayer)===null||r===void 0||r.resetKeys()}setOtherPublicKey(r){var t0;const n0=(t0=this.state.communicationLayer)===null||t0===void 0?void 0:t0.getKeyExchange();if(!n0)throw new Error("KeyExchange is not initialized.");n0.getOtherPublicKey()!==r&&n0.setOtherPublicKey(r)}pause(){return a(this,void 0,void 0,function*(){var r;io.RemoteCommunication(`[RemoteCommunication: pause()] channel=${this.state.channelId}`),yield(r=this.state.communicationLayer)===null||r===void 0?void 0:r.pause(),this.setConnectionStatus(vo.PAUSED)})}getVersion(){return uo.version}hasRelayPersistence(){var r;return(r=this.state.relayPersistence)!==null&&r!==void 0&&r}resume(){return a(this,void 0,void 0,function*(){return function(r){return a(this,void 0,void 0,function*(){var t0;const{state:n0}=r;io.RemoteCommunication(`[RemoteCommunication: resume()] channel=${n0.channelId}`),yield(t0=n0.communicationLayer)===null||t0===void 0?void 0:t0.resume(),r.setConnectionStatus(vo.LINKED)})}(this)})}encrypt(r){var t0,n0,r0;const i0=(t0=this.state.communicationLayer)===null||t0===void 0?void 0:t0.getKeyExchange(),o0=i0?.getOtherPublicKey();if(!o0)throw new Error("KeyExchange not completed");return(r0=(n0=this.state.communicationLayer)===null||n0===void 0?void 0:n0.state.eciesInstance)===null||r0===void 0?void 0:r0.encrypt(r,o0)}decrypt(r){var t0,n0,r0;if(!(!((t0=this.state.communicationLayer)===null||t0===void 0)&&t0.state.eciesInstance))throw new Error("ECIES instance is not initialized");return(r0=(n0=this.state.communicationLayer)===null||n0===void 0?void 0:n0.state.eciesInstance)===null||r0===void 0?void 0:r0.decrypt(r)}getChannelId(){return this.state.channelId}getRPCMethodTracker(){var r;return(r=this.state.communicationLayer)===null||r===void 0?void 0:r.getRPCMethodTracker()}reject({channelId:r}){return function(t0){return a(this,arguments,void 0,function*({channelId:n0,state:r0}){var i0,o0,s0;if(!validate$1(n0))throw io.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${r0.context} invalid channel channelId=${n0}`),new Error(`Invalid channel ${n0}`);if(r0.isOriginator)return void io.RemoteCommunication(`[RemoteCommunication: reject()] context=${r0.context} isOriginator=${r0.isOriginator} channelId=${n0}`);const{socket:a0}=(o0=(i0=r0.communicationLayer)===null||i0===void 0?void 0:i0.state)!==null&&o0!==void 0?o0:{};a0?.connected||(io.RemoteCommunication(`[RemoteCommunication: reject()] context=${r0.context} socket already connected`),a0?.connect()),co(Object.assign(Object.assign({id:n0,event:_o.REJECTED},r0.originatorInfo),{sdkVersion:r0.sdkVersion,commLayerVersion:uo.version,walletVersion:(s0=r0.walletInfo)===null||s0===void 0?void 0:s0.version}),r0.communicationServerUrl).catch(c0=>{}),yield new Promise((c0,l0)=>{a0?.emit(bo.REJECTED,{channelId:n0},(u0,h0)=>{io.RemoteCommunication(`[RemoteCommunication: reject()] context=${r0.context} socket=${a0?.id}`,{error:u0,response:h0}),u0?l0(u0):c0(h0)})})})}({channelId:r,state:this.state})}disconnect(r){return a(this,void 0,void 0,function*(){return Jo({options:r,instance:this})})}}(function(e0){e0.RENEW="renew",e0.LINK="link"})(Ko||(Ko={}));var Qo="ERC721",es="ERC1155",ts={errors:{disconnected:()=>"MetaMask: Disconnected from chain. Attempting to connect.",permanentlyDisconnected:()=>"MetaMask: Disconnected from MetaMask background. Page reload required.",sendSiteMetadata:()=>"MetaMask: Failed to send site metadata. This is an internal error, please report this bug.",unsupportedSync:e0=>`MetaMask: The MetaMask Ethereum provider does not support synchronous methods like ${e0} without a callback parameter.`,invalidDuplexStream:()=>"Must provide a Node.js-style duplex stream.",invalidNetworkParams:()=>"MetaMask: Received invalid network parameters. Please report this bug.",invalidRequestArgs:()=>"Expected a single, non-array, object argument.",invalidRequestMethod:()=>"'args.method' must be a non-empty string.",invalidRequestParams:()=>"'args.params' must be an object or array if provided.",invalidLoggerObject:()=>"'args.logger' must be an object if provided.",invalidLoggerMethod:e0=>`'args.logger' must include required method '${e0}'.`},info:{connected:e0=>`MetaMask: Connected to chain with ID "${e0}".`},warnings:{chainIdDeprecation:`MetaMask: 'ethereum.chainId' is deprecated and may be removed in the future. Please use the 'eth_chainId' RPC method instead.
For more information, see: https://github.com/MetaMask/metamask-improvement-proposals/discussions/23`,networkVersionDeprecation:`MetaMask: 'ethereum.networkVersion' is deprecated and may be removed in the future. Please use the 'net_version' RPC method instead.
For more information, see: https://github.com/MetaMask/metamask-improvement-proposals/discussions/23`,selectedAddressDeprecation:`MetaMask: 'ethereum.selectedAddress' is deprecated and may be removed in the future. Please use the 'eth_accounts' RPC method instead.
For more information, see: https://github.com/MetaMask/metamask-improvement-proposals/discussions/23`,enableDeprecation:`MetaMask: 'ethereum.enable()' is deprecated and may be removed in the future. Please use the 'eth_requestAccounts' RPC method instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1102`,sendDeprecation:`MetaMask: 'ethereum.send(...)' is deprecated and may be removed in the future. Please use 'ethereum.sendAsync(...)' or 'ethereum.request(...)' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193`,events:{close:`MetaMask: The event 'close' is deprecated and may be removed in the future. Please use 'disconnect' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193#disconnect`,data:`MetaMask: The event 'data' is deprecated and will be removed in the future. Use 'message' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193#message`,networkChanged:`MetaMask: The event 'networkChanged' is deprecated and may be removed in the future. Use 'chainChanged' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193#chainchanged`,notification:`MetaMask: The event 'notification' is deprecated and may be removed in the future. Use 'message' instead.
For more information, see: https://eips.ethereum.org/EIPS/eip-1193#message`},rpc:{ethDecryptDeprecation:`MetaMask: The RPC method 'eth_decrypt' is deprecated and may be removed in the future.
For more information, see: https://medium.com/metamask/metamask-api-method-deprecation-2b0564a84686`,ethGetEncryptionPublicKeyDeprecation:`MetaMask: The RPC method 'eth_getEncryptionPublicKey' is deprecated and may be removed in the future.
For more information, see: https://medium.com/metamask/metamask-api-method-deprecation-2b0564a84686`,walletWatchAssetNFTExperimental:`MetaMask: The RPC method 'wallet_watchAsset' is experimental for ERC721/ERC1155 assets and may change in the future.
For more information, see: https://github.com/MetaMask/metamask-improvement-proposals/blob/main/MIPs/mip-1.md and https://github.com/MetaMask/metamask-improvement-proposals/blob/main/PROCESS-GUIDE.md#proposal-lifecycle`},experimentalMethods:"MetaMask: 'ethereum._metamask' exposes non-standard, experimental methods. They may be removed or changed without warning."}};function ns(e0){const r={ethDecryptDeprecation:!1,ethGetEncryptionPublicKeyDeprecation:!1,walletWatchAssetNFTExperimental:!1};return(t0,n0,r0)=>{r.ethDecryptDeprecation||t0.method!=="eth_decrypt"?r.ethGetEncryptionPublicKeyDeprecation||t0.method!=="eth_getEncryptionPublicKey"?!r.walletWatchAssetNFTExperimental&&t0.method==="wallet_watchAsset"&&[Qo,es].includes(t0.params?.type||"")&&(e0.warn(ts.warnings.rpc.walletWatchAssetNFTExperimental),r.walletWatchAssetNFTExperimental=!0):(e0.warn(ts.warnings.rpc.ethGetEncryptionPublicKeyDeprecation),r.ethGetEncryptionPublicKeyDeprecation=!0):(e0.warn(ts.warnings.rpc.ethDecryptDeprecation),r.ethDecryptDeprecation=!0),r0()}}var rs=4294967295,is$1=Math.floor(Math.random()*rs);function os(){return(e0,r,t0,n0)=>{const r0=e0.id,i0=is$1=(is$1+1)%rs;e0.id=i0,r.id=i0,t0(o0=>{e0.id=r0,r.id=r0,o0()})}}var ss=(e0,r,t0)=>{if(!r.has(e0))throw TypeError("Cannot "+t0)},as=(e0,r,t0)=>(ss(e0,r,"read from private field"),t0?t0.call(e0):r.get(e0)),cs=(e0,r,t0)=>{if(r.has(e0))throw TypeError("Cannot add the same private member more than once");r instanceof WeakSet?r.add(e0):r.set(e0,t0)},ls=(e0,r,t0,n0)=>(ss(e0,r,"write to private field"),r.set(e0,t0),t0),ds=(e0,r,t0)=>(ss(e0,r,"access private method"),t0),us={invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},hs={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};function fs(e0){return!!e0&&typeof e0=="object"&&!Array.isArray(e0)}var ps=(e0,r)=>Object.hasOwnProperty.call(e0,r);class gs extends TypeError{constructor(r,t0){let n0;const{message:r0,explanation:i0,...o0}=r,{path:s0}=r,a0=s0.length===0?r0:`At path: ${s0.join(".")} -- ${r0}`;super(i0??a0),i0!=null&&(this.cause=a0),Object.assign(this,o0),this.name=this.constructor.name,this.failures=()=>n0??(n0=[r,...t0()])}}function ms(e0){return typeof e0=="object"&&e0!=null}function ys(e0){return typeof e0=="symbol"?e0.toString():typeof e0=="string"?JSON.stringify(e0):`${e0}`}function vs(e0,r,t0,n0){if(e0===!0)return;e0===!1?e0={}:typeof e0=="string"&&(e0={message:e0});const{path:r0,branch:i0}=r,{type:o0}=t0,{refinement:s0,message:a0=`Expected a value of type \`${o0}\`${s0?` with refinement \`${s0}\``:""}, but received: \`${ys(n0)}\``}=e0;return{value:n0,type:o0,refinement:s0,key:r0[r0.length-1],path:r0,branch:i0,...e0,message:a0}}function*bs(e0,r,t0,n0){(function(r0){return ms(r0)&&typeof r0[Symbol.iterator]=="function"})(e0)||(e0=[e0]);for(const r0 of e0){const i0=vs(r0,r,t0,n0);i0&&(yield i0)}}function*ws(e0,r,t0={}){const{path:n0=[],branch:r0=[e0],coerce:i0=!1,mask:o0=!1}=t0,s0={path:n0,branch:r0};if(i0&&(e0=r.coercer(e0,s0),o0&&r.type!=="type"&&ms(r.schema)&&ms(e0)&&!Array.isArray(e0)))for(const c0 in e0)r.schema[c0]===void 0&&delete e0[c0];let a0="valid";for(const c0 of r.validator(e0,s0))c0.explanation=t0.message,a0="not_valid",yield[c0,void 0];for(let[c0,l0,u0]of r.entries(e0,s0)){const h0=ws(l0,u0,{path:c0===void 0?n0:[...n0,c0],branch:c0===void 0?r0:[...r0,l0],coerce:i0,mask:o0,message:t0.message});for(const g0 of h0)g0[0]?(a0=g0[0].refinement!=null?"not_refined":"not_valid",yield[g0[0],void 0]):i0&&(l0=g0[1],c0===void 0?e0=l0:e0 instanceof Map?e0.set(c0,l0):e0 instanceof Set?e0.add(l0):ms(e0)&&(l0!==void 0||c0 in e0)&&(e0[c0]=l0))}if(a0!=="not_valid")for(const c0 of r.refiner(e0,s0))c0.explanation=t0.message,a0="not_refined",yield[c0,void 0];a0==="valid"&&(yield[void 0,e0])}class Es{constructor(r){const{type:t0,schema:n0,validator:r0,refiner:i0,coercer:o0=a0=>a0,entries:s0=function*(){}}=r;this.type=t0,this.schema=n0,this.entries=s0,this.coercer=o0,this.validator=r0?(a0,c0)=>bs(r0(a0,c0),c0,this,a0):()=>[],this.refiner=i0?(a0,c0)=>bs(i0(a0,c0),c0,this,a0):()=>[]}assert(r,t0){return Ss(r,this,t0)}create(r,t0){return _s(r,this,t0)}is(r){return Cs(r,this)}mask(r,t0){return function(n0,r0,i0){const o0=ks(n0,r0,{coerce:!0,mask:!0,message:i0});if(o0[0])throw o0[0];return o0[1]}(r,this,t0)}validate(r,t0={}){return ks(r,this,t0)}}function Ss(e0,r,t0){const n0=ks(e0,r,{message:t0});if(n0[0])throw n0[0]}function _s(e0,r,t0){const n0=ks(e0,r,{coerce:!0,message:t0});if(n0[0])throw n0[0];return n0[1]}function Cs(e0,r){return!ks(e0,r)[0]}function ks(e0,r,t0={}){const n0=ws(e0,r,t0),r0=function(i0){const{done:o0,value:s0}=i0.next();return o0?void 0:s0}(n0);return r0[0]?[new gs(r0[0],function*(){for(const o0 of n0)o0[0]&&(yield o0[0])}),void 0]:[void 0,r0[1]]}function xs(e0,r){return new Es({type:e0,schema:null,validator:r})}function Ms(e0){let r;return new Es({type:"lazy",schema:null,*entries(t0,n0){r??(r=e0()),yield*r.entries(t0,n0)},validator:(t0,n0)=>(r??(r=e0()),r.validator(t0,n0)),coercer:(t0,n0)=>(r??(r=e0()),r.coercer(t0,n0)),refiner:(t0,n0)=>(r??(r=e0()),r.refiner(t0,n0))})}function As(e0){return new Es({type:"array",schema:e0,*entries(r){if(e0&&Array.isArray(r))for(const[t0,n0]of r.entries())yield[t0,n0,e0]},coercer:r=>Array.isArray(r)?r.slice():r,validator:r=>Array.isArray(r)||`Expected an array value, but received: ${ys(r)}`})}function Is(e0){const r=ys(e0),t0=typeof e0;return new Es({type:"literal",schema:t0==="string"||t0==="number"||t0==="boolean"?e0:null,validator:n0=>n0===e0||`Expected the literal \`${r}\`, but received: ${ys(n0)}`})}function Rs(){return xs("number",e0=>typeof e0=="number"&&!isNaN(e0)||`Expected a number, but received: ${ys(e0)}`)}function Ps(e0){const r=e0?Object.keys(e0):[],t0=xs("never",()=>!1);return new Es({type:"object",schema:e0||null,*entries(n0){if(e0&&ms(n0)){const r0=new Set(Object.keys(n0));for(const i0 of r)r0.delete(i0),yield[i0,n0[i0],e0[i0]];for(const i0 of r0)yield[i0,n0[i0],t0]}},validator:n0=>ms(n0)||`Expected an object, but received: ${ys(n0)}`,coercer:n0=>ms(n0)?{...n0}:n0})}function Ts(e0){return new Es({...e0,validator:(r,t0)=>r===void 0||e0.validator(r,t0),refiner:(r,t0)=>r===void 0||e0.refiner(r,t0)})}function Os(e0,r){return new Es({type:"record",schema:null,*entries(t0){if(ms(t0))for(const n0 in t0){const r0=t0[n0];yield[n0,n0,e0],yield[n0,r0,r]}},validator:t0=>ms(t0)||`Expected an object, but received: ${ys(t0)}`})}function Ls(){return xs("string",e0=>typeof e0=="string"||`Expected a string, but received: ${ys(e0)}`)}function Ns(e0){const r=e0.map(t0=>t0.type).join(" | ");return new Es({type:"union",schema:null,coercer(t0){for(const n0 of e0){const[r0,i0]=n0.validate(t0,{coerce:!0});if(!r0)return i0}return t0},validator(t0,n0){const r0=[];for(const i0 of e0){const[...o0]=ws(t0,i0,n0),[s0]=o0;if(!s0[0])return[];for(const[a0]of o0)a0&&r0.push(a0)}return[`Expected the value to satisfy a union of \`${r}\`, but received: ${ys(t0)}`,...r0]}})}function $s(e0){return function(r){return function(t0){return typeof t0=="object"&&t0!==null&&"message"in t0}(r)&&typeof r.message=="string"?r.message:r==null?"":String(r)}(e0).replace(/\.$/u,"")}function Ds(e0,r){return t0=e0,typeof t0?.prototype?.constructor?.name=="string"?new e0({message:r}):e0({message:r});var t0}var Bs=class extends Error{constructor(e0){super(e0.message),this.code="ERR_ASSERTION"}};function Ks(){throw new Error("setTimeout has not been defined")}function js(){throw new Error("clearTimeout has not been defined")}var Us=Ks,Hs=js;function Fs(e0){if(Us===setTimeout)return setTimeout(e0,0);if((Us===Ks||!Us)&&setTimeout)return Us=setTimeout,setTimeout(e0,0);try{return Us(e0,0)}catch{try{return Us.call(null,e0,0)}catch{return Us.call(this,e0,0)}}}typeof c.setTimeout=="function"&&(Us=setTimeout),typeof c.clearTimeout=="function"&&(Hs=clearTimeout);var zs,qs=[],Ws=!1,Vs=-1;function Gs(){Ws&&zs&&(Ws=!1,zs.length?qs=zs.concat(qs):Vs=-1,qs.length&&Ys())}function Ys(){if(!Ws){var e0=Fs(Gs);Ws=!0;for(var r=qs.length;r;){for(zs=qs,qs=[];++Vs<r;)zs&&zs[Vs].run();Vs=-1,r=qs.length}zs=null,Ws=!1,function(t0){if(Hs===clearTimeout)return clearTimeout(t0);if((Hs===js||!Hs)&&clearTimeout)return Hs=clearTimeout,clearTimeout(t0);try{return Hs(t0)}catch{try{return Hs.call(null,t0)}catch{return Hs.call(this,t0)}}}(e0)}}function Zs(e0,r){this.fun=e0,this.array=r}Zs.prototype.run=function(){this.fun.apply(null,this.array)};function Js(){}var Xs=Js,Qs=Js,ea=Js,ta=Js,na=Js,ra=Js,ia=Js,oa=c.performance||{},sa=oa.now||oa.mozNow||oa.msNow||oa.oNow||oa.webkitNow||function(){return new Date().getTime()},aa=new Date,ca={nextTick:function(e0){var r=new Array(arguments.length-1);if(arguments.length>1)for(var t0=1;t0<arguments.length;t0++)r[t0-1]=arguments[t0];qs.push(new Zs(e0,r)),qs.length!==1||Ws||Fs(Ys)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:Xs,addListener:Qs,once:ea,off:ta,removeListener:na,removeAllListeners:ra,emit:ia,binding:function(e0){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e0){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e0){var r=.001*sa.call(oa),t0=Math.floor(r),n0=Math.floor(r%1*1e9);return e0&&(t0-=e0[0],(n0-=e0[1])<0&&(t0--,n0+=1e9)),[t0,n0]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-aa)/1e3}},la=e0=>Ps(e0);function da({path:e0,branch:r}){const t0=e0[e0.length-1];return ps(r[r.length-2],t0)}function ua(e0){return new Es({...e0,type:`optional ${e0.type}`,validator:(r,t0)=>!da(t0)||e0.validator(r,t0),refiner:(r,t0)=>!da(t0)||e0.refiner(r,t0)})}var ha,fa,pa,ga=Ns([Is(null),xs("boolean",e0=>typeof e0=="boolean"),xs("finite number",e0=>Cs(e0,Rs())&&Number.isFinite(e0)),Ls(),As(Ms(()=>ga)),Os(Ls(),Ms(()=>ga))]),ma=(ha=ga,fa=xs("any",()=>!0),pa=e0=>(function(r,t0,n0="Assertion failed",r0=Bs){try{Ss(r,t0)}catch(i0){throw Ds(r0,`${n0}: ${$s(i0)}.`)}}(e0,ga),JSON.parse(JSON.stringify(e0,(r,t0)=>{if(r!=="__proto__"&&r!=="constructor")return t0}))),new Es({...ha,coercer:(e0,r)=>Cs(e0,fa)?ha.coercer(pa(e0,r),r):ha.coercer(e0,r)}));function ya(e0){try{return function(r){_s(r,ma)}(e0),!0}catch{return!1}}var va=Is("2.0"),ba=function(e0){return new Es({...e0,validator:(r,t0)=>r===null||e0.validator(r,t0),refiner:(r,t0)=>r===null||e0.refiner(r,t0)})}(Ns([Rs(),Ls()])),wa=la({code:xs("integer",e0=>typeof e0=="number"&&!isNaN(e0)&&Number.isInteger(e0)||`Expected an integer, but received: ${ys(e0)}`),message:Ls(),data:ua(ma),stack:ua(Ls())}),Ea=Ns([Os(Ls(),ma),As(ma)]),Sa=la({id:ba,jsonrpc:va,method:Ls(),params:ua(Ea)}),_a=la({jsonrpc:va,method:Ls(),params:ua(Ea)});function Ca(e0){return Cs(e0,Sa)}function ka(e0){return Cs(e0,wa)}Ps({id:ba,jsonrpc:va,result:Ts(xs("unknown",()=>!0)),error:Ts(wa)}),Ns([la({id:ba,jsonrpc:va,result:ma}),la({id:ba,jsonrpc:va,error:wa})]);var xa=us.internal,Ma="Unspecified error message. This is a bug, please report it.",Aa={code:xa,message:Ra(xa)},Ia="Unspecified server error.";function Ra(e0,r=Ma){if(function(t0){return Number.isInteger(t0)}(e0)){const t0=e0.toString();if(ps(hs,t0))return hs[t0].message;if(function(n0){return n0>=-32099&&n0<=-32e3}(e0))return Ia}return r}function Pa(e0,{fallbackError:r=Aa,shouldIncludeStack:t0=!0}={}){if(!ka(r))throw new Error("Must provide fallback error with integer number code and string message.");const n0=function(r0,i0){if(r0&&typeof r0=="object"&&"serialize"in r0&&typeof r0.serialize=="function")return r0.serialize();if(ka(r0))return r0;const o0=Ta(r0);return{...i0,data:{cause:o0}}}(e0,r);return t0||delete n0.stack,n0}function Ta(e0){return Array.isArray(e0)?e0.map(r=>ya(r)?r:fs(r)?Oa(r):null):fs(e0)?Oa(e0):ya(e0)?e0:null}function Oa(e0){return Object.getOwnPropertyNames(e0).reduce((r,t0)=>{const n0=e0[t0];return ya(n0)&&(r[t0]=n0),r},{})}var La=ja;ja.default=ja,ja.stable=za,ja.stableStringify=za;var Na="[...]",$a="[Circular]",Da=[],Ba=[];function Ka(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function ja(e0,r,t0,n0){var r0;n0===void 0&&(n0=Ka()),Ha(e0,"",0,[],void 0,0,n0);try{r0=Ba.length===0?JSON.stringify(e0,r,t0):JSON.stringify(e0,Wa(r),t0)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Da.length!==0;){var i0=Da.pop();i0.length===4?Object.defineProperty(i0[0],i0[1],i0[3]):i0[0][i0[1]]=i0[2]}}return r0}function Ua(e0,r,t0,n0){var r0=Object.getOwnPropertyDescriptor(n0,t0);r0.get!==void 0?r0.configurable?(Object.defineProperty(n0,t0,{value:e0}),Da.push([n0,t0,r,r0])):Ba.push([r,t0,e0]):(n0[t0]=e0,Da.push([n0,t0,r]))}function Ha(e0,r,t0,n0,r0,i0,o0){var s0;if(i0+=1,typeof e0=="object"&&e0!==null){for(s0=0;s0<n0.length;s0++)if(n0[s0]===e0)return void Ua($a,e0,r,r0);if(o0.depthLimit!==void 0&&i0>o0.depthLimit||o0.edgesLimit!==void 0&&t0+1>o0.edgesLimit)return void Ua(Na,e0,r,r0);if(n0.push(e0),Array.isArray(e0))for(s0=0;s0<e0.length;s0++)Ha(e0[s0],s0,s0,n0,e0,i0,o0);else{var a0=Object.keys(e0);for(s0=0;s0<a0.length;s0++){var c0=a0[s0];Ha(e0[c0],c0,s0,n0,e0,i0,o0)}}n0.pop()}}function Fa(e0,r){return e0<r?-1:e0>r?1:0}function za(e0,r,t0,n0){n0===void 0&&(n0=Ka());var r0,i0=qa(e0,"",0,[],void 0,0,n0)||e0;try{r0=Ba.length===0?JSON.stringify(i0,r,t0):JSON.stringify(i0,Wa(r),t0)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;Da.length!==0;){var o0=Da.pop();o0.length===4?Object.defineProperty(o0[0],o0[1],o0[3]):o0[0][o0[1]]=o0[2]}}return r0}function qa(e0,r,t0,n0,r0,i0,o0){var s0;if(i0+=1,typeof e0=="object"&&e0!==null){for(s0=0;s0<n0.length;s0++)if(n0[s0]===e0)return void Ua($a,e0,r,r0);try{if(typeof e0.toJSON=="function")return}catch{return}if(o0.depthLimit!==void 0&&i0>o0.depthLimit||o0.edgesLimit!==void 0&&t0+1>o0.edgesLimit)return void Ua(Na,e0,r,r0);if(n0.push(e0),Array.isArray(e0))for(s0=0;s0<e0.length;s0++)qa(e0[s0],s0,s0,n0,e0,i0,o0);else{var a0={},c0=Object.keys(e0).sort(Fa);for(s0=0;s0<c0.length;s0++){var l0=c0[s0];qa(e0[l0],l0,s0,n0,e0,i0,o0),a0[l0]=e0[l0]}if(r0===void 0)return a0;Da.push([r0,r,e0]),r0[r]=a0}n0.pop()}}function Wa(e0){return e0=e0!==void 0?e0:function(r,t0){return t0},function(r,t0){if(Ba.length>0)for(var n0=0;n0<Ba.length;n0++){var r0=Ba[n0];if(r0[1]===r&&r0[0]===t0){t0=r0[2],Ba.splice(n0,1);break}}return e0.call(this,r,t0)}}var Va=de(La),Ga=class extends Error{constructor(e0,r,t0){if(!Number.isInteger(e0))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a non-empty string.');super(r),this.code=e0,t0!==void 0&&(this.data=t0)}serialize(){const e0={code:this.code,message:this.message};return this.data!==void 0&&(e0.data=this.data,function(r){if(typeof r!="object"||r===null)return!1;try{let t0=r;for(;Object.getPrototypeOf(t0)!==null;)t0=Object.getPrototypeOf(t0);return Object.getPrototypeOf(r)===t0}catch{return!1}}(this.data)&&(e0.data.cause=Ta(this.data.cause))),this.stack&&(e0.stack=this.stack),e0}toString(){return Va(this.serialize(),Ya,2)}};function Ya(e0,r){if(r!=="[Circular]")return r}var Za=e0=>Ja(us.invalidRequest,e0);function Ja(e0,r){const[t0,n0]=function(r0){if(r0){if(typeof r0=="string")return[r0];if(typeof r0=="object"&&!Array.isArray(r0)){const{message:i0,data:o0}=r0;if(i0&&typeof i0!="string")throw new Error("Must specify string message.");return[i0??void 0,o0]}}return[]}(r);return new Ga(e0,t0??Ra(e0),n0)}var Xa={};function Qa(){}function ec(){ec.init.call(this)}function tc(e0){return e0._maxListeners===void 0?ec.defaultMaxListeners:e0._maxListeners}function nc(e0,r,t0,n0){var r0,i0,o0;if(typeof t0!="function")throw new TypeError('"listener" argument must be a function');if((i0=e0._events)?(i0.newListener&&(e0.emit("newListener",r,t0.listener?t0.listener:t0),i0=e0._events),o0=i0[r]):(i0=e0._events=new Qa,e0._eventsCount=0),o0){if(typeof o0=="function"?o0=i0[r]=n0?[t0,o0]:[o0,t0]:n0?o0.unshift(t0):o0.push(t0),!o0.warned&&(r0=tc(e0))&&r0>0&&o0.length>r0){o0.warned=!0;var s0=new Error("Possible EventEmitter memory leak detected. "+o0.length+" "+r+" listeners added. Use emitter.setMaxListeners() to increase limit");s0.name="MaxListenersExceededWarning",s0.emitter=e0,s0.type=r,s0.count=o0.length,function(a0){typeof console.warn=="function"?console.warn(a0):console.log(a0)}(s0)}}else o0=i0[r]=t0,++e0._eventsCount;return e0}function rc(e0,r,t0){var n0=!1;function r0(){e0.removeListener(r,r0),n0||(n0=!0,t0.apply(e0,arguments))}return r0.listener=t0,r0}function ic(e0){var r=this._events;if(r){var t0=r[e0];if(typeof t0=="function")return 1;if(t0)return t0.length}return 0}function oc(e0,r){for(var t0=new Array(r);r--;)t0[r]=e0[r];return t0}Qa.prototype=Object.create(null),ec.EventEmitter=ec,ec.usingDomains=!1,ec.prototype.domain=void 0,ec.prototype._events=void 0,ec.prototype._maxListeners=void 0,ec.defaultMaxListeners=10,ec.init=function(){this.domain=null,ec.usingDomains&&(void 0).active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new Qa,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},ec.prototype.setMaxListeners=function(e0){if(typeof e0!="number"||e0<0||isNaN(e0))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e0,this},ec.prototype.getMaxListeners=function(){return tc(this)},ec.prototype.emit=function(e0){var r,t0,n0,r0,i0,o0,s0,a0=e0==="error";if(o0=this._events)a0=a0&&o0.error==null;else if(!a0)return!1;if(s0=this.domain,a0){if(r=arguments[1],!s0){if(r instanceof Error)throw r;var c0=new Error('Uncaught, unspecified "error" event. ('+r+")");throw c0.context=r,c0}return r||(r=new Error('Uncaught, unspecified "error" event')),r.domainEmitter=this,r.domain=s0,r.domainThrown=!1,s0.emit("error",r),!1}if(!(t0=o0[e0]))return!1;var l0=typeof t0=="function";switch(n0=arguments.length){case 1:(function(u0,h0,g0){if(h0)u0.call(g0);else for(var w0=u0.length,m0=oc(u0,w0),S0=0;S0<w0;++S0)m0[S0].call(g0)})(t0,l0,this);break;case 2:(function(u0,h0,g0,w0){if(h0)u0.call(g0,w0);else for(var m0=u0.length,S0=oc(u0,m0),b0=0;b0<m0;++b0)S0[b0].call(g0,w0)})(t0,l0,this,arguments[1]);break;case 3:(function(u0,h0,g0,w0,m0){if(h0)u0.call(g0,w0,m0);else for(var S0=u0.length,b0=oc(u0,S0),T0=0;T0<S0;++T0)b0[T0].call(g0,w0,m0)})(t0,l0,this,arguments[1],arguments[2]);break;case 4:(function(u0,h0,g0,w0,m0,S0){if(h0)u0.call(g0,w0,m0,S0);else for(var b0=u0.length,T0=oc(u0,b0),N0=0;N0<b0;++N0)T0[N0].call(g0,w0,m0,S0)})(t0,l0,this,arguments[1],arguments[2],arguments[3]);break;default:for(r0=new Array(n0-1),i0=1;i0<n0;i0++)r0[i0-1]=arguments[i0];(function(u0,h0,g0,w0){if(h0)u0.apply(g0,w0);else for(var m0=u0.length,S0=oc(u0,m0),b0=0;b0<m0;++b0)S0[b0].apply(g0,w0)})(t0,l0,this,r0)}return!0},ec.prototype.addListener=function(e0,r){return nc(this,e0,r,!1)},ec.prototype.on=ec.prototype.addListener,ec.prototype.prependListener=function(e0,r){return nc(this,e0,r,!0)},ec.prototype.once=function(e0,r){if(typeof r!="function")throw new TypeError('"listener" argument must be a function');return this.on(e0,rc(this,e0,r)),this},ec.prototype.prependOnceListener=function(e0,r){if(typeof r!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(e0,rc(this,e0,r)),this},ec.prototype.removeListener=function(e0,r){var t0,n0,r0,i0,o0;if(typeof r!="function")throw new TypeError('"listener" argument must be a function');if(!(n0=this._events))return this;if(!(t0=n0[e0]))return this;if(t0===r||t0.listener&&t0.listener===r)--this._eventsCount==0?this._events=new Qa:(delete n0[e0],n0.removeListener&&this.emit("removeListener",e0,t0.listener||r));else if(typeof t0!="function"){for(r0=-1,i0=t0.length;i0-- >0;)if(t0[i0]===r||t0[i0].listener&&t0[i0].listener===r){o0=t0[i0].listener,r0=i0;break}if(r0<0)return this;if(t0.length===1){if(t0[0]=void 0,--this._eventsCount==0)return this._events=new Qa,this;delete n0[e0]}else(function(s0,a0){for(var c0=a0,l0=c0+1,u0=s0.length;l0<u0;c0+=1,l0+=1)s0[c0]=s0[l0];s0.pop()})(t0,r0);n0.removeListener&&this.emit("removeListener",e0,o0||r)}return this},ec.prototype.off=function(e0,r){return this.removeListener(e0,r)},ec.prototype.removeAllListeners=function(e0){var r,t0;if(!(t0=this._events))return this;if(!t0.removeListener)return arguments.length===0?(this._events=new Qa,this._eventsCount=0):t0[e0]&&(--this._eventsCount==0?this._events=new Qa:delete t0[e0]),this;if(arguments.length===0){for(var n0,r0=Object.keys(t0),i0=0;i0<r0.length;++i0)(n0=r0[i0])!=="removeListener"&&this.removeAllListeners(n0);return this.removeAllListeners("removeListener"),this._events=new Qa,this._eventsCount=0,this}if(typeof(r=t0[e0])=="function")this.removeListener(e0,r);else if(r)do this.removeListener(e0,r[r.length-1]);while(r[0]);return this},ec.prototype.listeners=function(e0){var r,t0,n0=this._events;return t0=n0&&(r=n0[e0])?typeof r=="function"?[r.listener||r]:function(r0){for(var i0=new Array(r0.length),o0=0;o0<i0.length;++o0)i0[o0]=r0[o0].listener||r0[o0];return i0}(r):[],t0},ec.listenerCount=function(e0,r){return typeof e0.listenerCount=="function"?e0.listenerCount(r):ic.call(e0,r)},ec.prototype.listenerCount=ic,ec.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var sc=ue$1(Object.freeze({__proto__:null,EventEmitter:ec,default:ec}));Object.defineProperty(Xa,"__esModule",{value:!0});const ac=sc;function cc(e0,r,t0){try{Reflect.apply(e0,r,t0)}catch(n0){setTimeout(()=>{throw n0})}}let lc=class extends ac.EventEmitter{emit(e0,...r){let t0=e0==="error";const n0=this._events;if(n0!==void 0)t0=t0&&n0.error===void 0;else if(!t0)return!1;if(t0){let i0;if(r.length>0&&([i0]=r),i0 instanceof Error)throw i0;const o0=new Error("Unhandled error."+(i0?` (${i0.message})`:""));throw o0.context=i0,o0}const r0=n0[e0];if(r0===void 0)return!1;if(typeof r0=="function")cc(r0,this,r);else{const i0=r0.length,o0=function(s0){const a0=s0.length,c0=new Array(a0);for(let l0=0;l0<a0;l0+=1)c0[l0]=s0[l0];return c0}(r0);for(let s0=0;s0<i0;s0+=1)cc(o0[s0],this,r)}return!0}};var dc,uc,hc,fc,pc,gc,mc,yc,vc,bc,wc,Ec,Sc,_c,Cc,kc,xc,Mc,Ac,Ic=Xa.default=lc,Rc=class am extends Ic{constructor({notificationHandler:r}={}){super(),cs(this,fc),cs(this,gc),cs(this,yc),cs(this,dc,!1),cs(this,uc,void 0),cs(this,hc,void 0),ls(this,uc,[]),ls(this,hc,r)}destroy(){as(this,uc).forEach(r=>{"destroy"in r&&typeof r.destroy=="function"&&r.destroy()}),ls(this,uc,[]),ls(this,dc,!0)}push(r){ds(this,fc,pc).call(this),as(this,uc).push(r)}handle(r,t0){if(ds(this,fc,pc).call(this),t0&&typeof t0!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(r)?t0?ds(this,gc,mc).call(this,r,t0):ds(this,gc,mc).call(this,r):t0?ds(this,yc,vc).call(this,r,t0):this._promiseHandle(r)}asMiddleware(){return ds(this,fc,pc).call(this),async(r,t0,n0,r0)=>{var i0,o0;try{const[s0,a0,c0]=await ds(i0=am,Ec,Sc).call(i0,r,t0,as(this,uc));return a0?(await ds(o0=am,kc,xc).call(o0,c0),r0(s0)):n0(async l0=>{var u0;try{await ds(u0=am,kc,xc).call(u0,c0)}catch(h0){return l0(h0)}return l0()})}catch(s0){return r0(s0)}}}async _promiseHandle(r){return new Promise((t0,n0)=>{ds(this,yc,vc).call(this,r,(r0,i0)=>{r0&&i0===void 0?n0(r0):t0(i0)}).catch(n0)})}};dc=new WeakMap,uc=new WeakMap,hc=new WeakMap,fc=new WeakSet,pc=function(){if(as(this,dc))throw new Error("This engine is destroyed and can no longer be used.")},gc=new WeakSet,mc=async function(e0,r){try{if(e0.length===0){const n0=[{id:null,jsonrpc:"2.0",error:new Ga(us.invalidRequest,"Request batch must contain plain objects. Received an empty array")}];return r?r(null,n0):n0}const t0=(await Promise.all(e0.map(this._promiseHandle.bind(this)))).filter(n0=>n0!==void 0);return r?r(null,t0):t0}catch(t0){if(r)return r(t0);throw t0}},yc=new WeakSet,vc=async function(e0,r){var t0;if(!e0||Array.isArray(e0)||typeof e0!="object"){const o0=new Ga(us.invalidRequest,"Requests must be plain objects. Received: "+typeof e0,{request:e0});return r(o0,{id:null,jsonrpc:"2.0",error:o0})}if(typeof e0.method!="string"){const o0=new Ga(us.invalidRequest,"Must specify a string method. Received: "+typeof e0.method,{request:e0});return as(this,hc)&&!Ca(e0)?r(null):r(o0,{id:e0.id??null,jsonrpc:"2.0",error:o0})}if(as(this,hc)&&Cs(e0,_a)&&!Ca(e0)){try{await as(this,hc).call(this,e0)}catch(o0){return r(o0)}return r(null)}let n0=null;const r0={...e0},i0={id:r0.id,jsonrpc:r0.jsonrpc};try{await ds(t0=Rc,bc,wc).call(t0,r0,i0,as(this,uc))}catch(o0){n0=o0}return n0&&(delete i0.result,i0.error||(i0.error=Pa(n0))),r(n0,i0)},bc=new WeakSet,wc=async function(e0,r,t0){var n0,r0,i0;const[o0,s0,a0]=await ds(n0=Rc,Ec,Sc).call(n0,e0,r,t0);if(ds(r0=Rc,Mc,Ac).call(r0,e0,r,s0),await ds(i0=Rc,kc,xc).call(i0,a0),o0)throw o0},Ec=new WeakSet,Sc=async function(e0,r,t0){var n0;const r0=[];let i0=null,o0=!1;for(const s0 of t0)if([i0,o0]=await ds(n0=Rc,_c,Cc).call(n0,e0,r,s0,r0),o0)break;return[i0,o0,r0.reverse()]},_c=new WeakSet,Cc=async function(e0,r,t0,n0){return new Promise(r0=>{const i0=s0=>{const a0=s0||r.error;a0&&(r.error=Pa(a0)),r0([a0,!0])},o0=s0=>{r.error?i0(r.error):(s0&&(typeof s0!="function"&&i0(new Ga(us.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof s0}" for request:
${Tc(e0)}`,{request:e0})),n0.push(s0)),r0([null,!1]))};try{t0(e0,r,o0,i0)}catch(s0){i0(s0)}})},kc=new WeakSet,xc=async function(e0){for(const r of e0)await new Promise((t0,n0)=>{r(r0=>r0?n0(r0):t0())})},Mc=new WeakSet,Ac=function(e0,r,t0){if(!ps(r,"result")&&!ps(r,"error"))throw new Ga(us.internal,`JsonRpcEngine: Response has no error or result for request:
${Tc(e0)}`,{request:e0});if(!t0)throw new Ga(us.internal,`JsonRpcEngine: Nothing ended request:
${Tc(e0)}`,{request:e0})},cs(Rc,bc),cs(Rc,Ec),cs(Rc,_c),cs(Rc,kc),cs(Rc,Mc);var Pc=Rc;function Tc(e0){return JSON.stringify(e0,null,2)}var Oc=Object.freeze(["eth_subscription"]),Lc=(e0=console)=>[os(),Nc(e0),ns(e0)];function Nc(e0){return(r,t0,n0)=>{typeof r.method=="string"&&r.method||(t0.error=Za({message:"The request 'method' must be a non-empty string.",data:r})),n0(r0=>{const{error:i0}=t0;return i0&&e0.error(`MetaMask - RPC Error: ${i0.message}`,i0),r0()})}}var $c=(e0,r,t0=!0)=>(n0,r0)=>{n0||r0.error?r(n0||r0.error):!t0||Array.isArray(r0)?e0(r0):e0(r0.result)},Dc=e0=>!!e0&&typeof e0=="string"&&e0.startsWith("0x"),Bc=()=>{};async function Kc(e0,r){try{const t0=await async function(){return{name:jc(window),icon:await Uc(window)}}();e0.handle({jsonrpc:"2.0",id:1,method:"metamask_sendDomainMetadata",params:t0},Bc)}catch(t0){r.error({message:ts.errors.sendSiteMetadata(),originalError:t0})}}function jc(e0){const{document:r}=e0,t0=r.querySelector('head > meta[property="og:site_name"]');if(t0)return t0.content;const n0=r.querySelector('head > meta[name="title"]');return n0?n0.content:r.title&&r.title.length>0?r.title:window.location.hostname}async function Uc(e0){const{document:r}=e0,t0=r.querySelectorAll('head > link[rel~="icon"]');for(const n0 of Array.from(t0))if(n0&&await Hc(n0.href))return n0.href;return null}async function Hc(e0){return new Promise((r,t0)=>{try{const n0=document.createElement("img");n0.onload=()=>r(!0),n0.onerror=()=>r(!1),n0.src=e0}catch(n0){t0(n0)}})}var Fc=(e0,r,t0)=>{if(!r.has(e0))throw TypeError("Cannot "+t0)},zc=(e0,r,t0)=>(Fc(e0,r,"read from private field"),t0?t0.call(e0):r.get(e0)),qc=(e0,r,t0)=>{if(r.has(e0))throw TypeError("Cannot add the same private member more than once");r instanceof WeakSet?r.add(e0):r.set(e0,t0)},Wc=(e0,r,t0,n0)=>(Fc(e0,r,"write to private field"),r.set(e0,t0),t0);function Vc(e0,r,t0){try{Reflect.apply(e0,r,t0)}catch(n0){setTimeout(()=>{throw n0})}}class Gc extends ec{emit(r,...t0){let n0=r==="error";const r0=this._events;if(r0!==void 0)n0=n0&&r0.error===void 0;else if(!n0)return!1;if(n0){let o0;if(t0.length>0&&([o0]=t0),o0 instanceof Error)throw o0;const s0=new Error("Unhandled error."+(o0?` (${o0.message})`:""));throw s0.context=o0,s0}const i0=r0[r];if(i0===void 0)return!1;if(typeof i0=="function")Vc(i0,this,t0);else{const o0=i0.length,s0=function(a0){const c0=a0.length,l0=new Array(c0);for(let u0=0;u0<c0;u0+=1)l0[u0]=a0[u0];return l0}(i0);for(let a0=0;a0<o0;a0+=1)Vc(s0[a0],this,t0)}return!0}}var Yc,Zc,Jc=function e0(r,t0){if(r===t0)return!0;if(r&&t0&&typeof r=="object"&&typeof t0=="object"){if(r.constructor!==t0.constructor)return!1;var n0,r0,i0;if(Array.isArray(r)){if((n0=r.length)!=t0.length)return!1;for(r0=n0;r0--!=0;)if(!e0(r[r0],t0[r0]))return!1;return!0}if(r.constructor===RegExp)return r.source===t0.source&&r.flags===t0.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===t0.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===t0.toString();if((n0=(i0=Object.keys(r)).length)!==Object.keys(t0).length)return!1;for(r0=n0;r0--!=0;)if(!Object.prototype.hasOwnProperty.call(t0,i0[r0]))return!1;for(r0=n0;r0--!=0;){var o0=i0[r0];if(!e0(r[o0],t0[o0]))return!1}return!0}return r!=r&&t0!=t0},Xc=de(Jc),Qc=class Jm extends Gc{constructor({logger:r=console,maxEventListeners:t0=100,rpcMiddleware:n0=[]}={}){super(),qc(this,Yc,void 0),qc(this,Zc,void 0),this._log=r,this.setMaxListeners(t0),this._state={...Jm._defaultState},Wc(this,Zc,null),Wc(this,Yc,null),this._handleAccountsChanged=this._handleAccountsChanged.bind(this),this._handleConnect=this._handleConnect.bind(this),this._handleChainChanged=this._handleChainChanged.bind(this),this._handleDisconnect=this._handleDisconnect.bind(this),this._handleUnlockStateChanged=this._handleUnlockStateChanged.bind(this),this._rpcRequest=this._rpcRequest.bind(this),this.request=this.request.bind(this);const r0=new Pc;n0.forEach(i0=>r0.push(i0)),this._rpcEngine=r0}get chainId(){return zc(this,Yc)}get selectedAddress(){return zc(this,Zc)}isConnected(){return this._state.isConnected}async request(r){if(!r||typeof r!="object"||Array.isArray(r))throw Za({message:ts.errors.invalidRequestArgs(),data:r});const{method:t0,params:n0}=r;if(typeof t0!="string"||t0.length===0)throw Za({message:ts.errors.invalidRequestMethod(),data:r});if(n0!==void 0&&!Array.isArray(n0)&&(typeof n0!="object"||n0===null))throw Za({message:ts.errors.invalidRequestParams(),data:r});const r0=n0==null?{method:t0}:{method:t0,params:n0};return new Promise((i0,o0)=>{this._rpcRequest(r0,$c(i0,o0))})}_initializeState(r){if(this._state.initialized)throw new Error("Provider already initialized.");if(r){const{accounts:t0,chainId:n0,isUnlocked:r0,networkVersion:i0}=r;this._handleConnect(n0),this._handleChainChanged({chainId:n0,networkVersion:i0}),this._handleUnlockStateChanged({accounts:t0,isUnlocked:r0}),this._handleAccountsChanged(t0)}this._state.initialized=!0,this.emit("_initialized")}_rpcRequest(r,t0){let n0=t0;return Array.isArray(r)||(r.jsonrpc||(r.jsonrpc="2.0"),r.method!=="eth_accounts"&&r.method!=="eth_requestAccounts"||(n0=(r0,i0)=>{this._handleAccountsChanged(i0.result??[],r.method==="eth_accounts"),t0(r0,i0)})),this._rpcEngine.handle(r,n0)}_handleConnect(r){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{chainId:r}),this._log.debug(ts.info.connected(r)))}_handleDisconnect(r,t0){if(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!r){let n0;this._state.isConnected=!1,r?(n0=new Ga(1013,t0??ts.errors.disconnected()),this._log.debug(n0)):(n0=new Ga(1011,t0??ts.errors.permanentlyDisconnected()),this._log.error(n0),Wc(this,Yc,null),this._state.accounts=null,Wc(this,Zc,null),this._state.isUnlocked=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",n0)}}_handleChainChanged({chainId:r}={}){Dc(r)?(this._handleConnect(r),r!==zc(this,Yc)&&(Wc(this,Yc,r),this._state.initialized&&this.emit("chainChanged",zc(this,Yc)))):this._log.error(ts.errors.invalidNetworkParams(),{chainId:r})}_handleAccountsChanged(r,t0=!1){let n0=r;Array.isArray(r)||(this._log.error("MetaMask: Received invalid accounts parameter. Please report this bug.",r),n0=[]);for(const r0 of r)if(typeof r0!="string"){this._log.error("MetaMask: Received non-string account. Please report this bug.",r),n0=[];break}if(!Xc(this._state.accounts,n0)&&(t0&&this._state.accounts!==null&&this._log.error("MetaMask: 'eth_accounts' unexpectedly updated accounts. Please report this bug.",n0),this._state.accounts=n0,zc(this,Zc)!==n0[0]&&Wc(this,Zc,n0[0]||null),this._state.initialized)){const r0=[...n0];this.emit("accountsChanged",r0)}}_handleUnlockStateChanged({accounts:r,isUnlocked:t0}={}){typeof t0=="boolean"?t0!==this._state.isUnlocked&&(this._state.isUnlocked=t0,this._handleAccountsChanged(r??[])):this._log.error("MetaMask: Received invalid isUnlocked parameter. Please report this bug.")}};Yc=new WeakMap,Zc=new WeakMap,Qc._defaultState={accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1};var el,tl,nl=Qc,rl={exports:{}};function il(){return tl?el:(tl=1,el=sc.EventEmitter)}var ol,sl=ue$1(ce);ol=typeof Object.create=="function"?function(e0,r){e0.super_=r,e0.prototype=Object.create(r.prototype,{constructor:{value:e0,enumerable:!1,writable:!0,configurable:!0}})}:function(e0,r){e0.super_=r;var t0=function(){};t0.prototype=r.prototype,e0.prototype=new t0,e0.prototype.constructor=e0};var al=Object.getOwnPropertyDescriptors||function(e0){for(var r=Object.keys(e0),t0={},n0=0;n0<r.length;n0++)t0[r[n0]]=Object.getOwnPropertyDescriptor(e0,r[n0]);return t0},cl=/%[sdj%]/g;function ll(e0){if(!kl(e0)){for(var r=[],t0=0;t0<arguments.length;t0++)r.push(pl(arguments[t0]));return r.join(" ")}t0=1;for(var n0=arguments,r0=n0.length,i0=String(e0).replace(cl,function(s0){if(s0==="%%")return"%";if(t0>=r0)return s0;switch(s0){case"%s":return String(n0[t0++]);case"%d":return Number(n0[t0++]);case"%j":try{return JSON.stringify(n0[t0++])}catch{return"[Circular]"}default:return s0}}),o0=n0[t0];t0<r0;o0=n0[++t0])Sl(o0)||!Il(o0)?i0+=" "+o0:i0+=" "+pl(o0);return i0}function dl(e0,r){if(Ml(c.process))return function(){return dl(e0,r).apply(this,arguments)};if(ca.noDeprecation===!0)return e0;var t0=!1;return function(){if(!t0){if(ca.throwDeprecation)throw new Error(r);ca.traceDeprecation?console.trace(r):console.error(r),t0=!0}return e0.apply(this,arguments)}}var ul,hl={};function fl(e0){return Ml(ul)&&(ul=ca.env.NODE_DEBUG||""),e0=e0.toUpperCase(),!hl[e0]&&(new RegExp("\\b"+e0+"\\b","i").test(ul)?hl[e0]=function(){var r=ll.apply(null,arguments);console.error("%s %d: %s",e0,0,r)}:hl[e0]=function(){}),hl[e0]}function pl(e0,r){var t0={seen:[],stylize:ml};return arguments.length>=3&&(t0.depth=arguments[2]),arguments.length>=4&&(t0.colors=arguments[3]),El(r)?t0.showHidden=r:r&&Kl(t0,r),Ml(t0.showHidden)&&(t0.showHidden=!1),Ml(t0.depth)&&(t0.depth=2),Ml(t0.colors)&&(t0.colors=!1),Ml(t0.customInspect)&&(t0.customInspect=!0),t0.colors&&(t0.stylize=gl),yl(t0,e0,t0.depth)}function gl(e0,r){var t0=pl.styles[r];return t0?"\x1B["+pl.colors[t0][0]+"m"+e0+"\x1B["+pl.colors[t0][1]+"m":e0}function ml(e0,r){return e0}function yl(e0,r,t0){if(e0.customInspect&&r&&Tl(r.inspect)&&r.inspect!==pl&&(!r.constructor||r.constructor.prototype!==r)){var n0=r.inspect(t0,e0);return kl(n0)||(n0=yl(e0,n0,t0)),n0}var r0=function(h0,g0){if(Ml(g0))return h0.stylize("undefined","undefined");if(kl(g0)){var w0="'"+JSON.stringify(g0).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return h0.stylize(w0,"string")}if(Cl(g0))return h0.stylize(""+g0,"number");if(El(g0))return h0.stylize(""+g0,"boolean");if(Sl(g0))return h0.stylize("null","null")}(e0,r);if(r0)return r0;var i0=Object.keys(r),o0=function(h0){var g0={};return h0.forEach(function(w0,m0){g0[w0]=!0}),g0}(i0);if(e0.showHidden&&(i0=Object.getOwnPropertyNames(r)),Pl(r)&&(i0.indexOf("message")>=0||i0.indexOf("description")>=0))return vl(r);if(i0.length===0){if(Tl(r)){var s0=r.name?": "+r.name:"";return e0.stylize("[Function"+s0+"]","special")}if(Al(r))return e0.stylize(RegExp.prototype.toString.call(r),"regexp");if(Rl(r))return e0.stylize(Date.prototype.toString.call(r),"date");if(Pl(r))return vl(r)}var a0,c0="",l0=!1,u0=["{","}"];return wl(r)&&(l0=!0,u0=["[","]"]),Tl(r)&&(c0=" [Function"+(r.name?": "+r.name:"")+"]"),Al(r)&&(c0=" "+RegExp.prototype.toString.call(r)),Rl(r)&&(c0=" "+Date.prototype.toUTCString.call(r)),Pl(r)&&(c0=" "+vl(r)),i0.length!==0||l0&&r.length!=0?t0<0?Al(r)?e0.stylize(RegExp.prototype.toString.call(r),"regexp"):e0.stylize("[Object]","special"):(e0.seen.push(r),a0=l0?function(h0,g0,w0,m0,S0){for(var b0=[],T0=0,N0=g0.length;T0<N0;++T0)jl(g0,String(T0))?b0.push(bl(h0,g0,w0,m0,String(T0),!0)):b0.push("");return S0.forEach(function(x0){x0.match(/^\d+$/)||b0.push(bl(h0,g0,w0,m0,x0,!0))}),b0}(e0,r,t0,o0,i0):i0.map(function(h0){return bl(e0,r,t0,o0,h0,l0)}),e0.seen.pop(),function(h0,g0,w0){var m0=h0.reduce(function(S0,b0){return b0.indexOf(`
`),S0+b0.replace(/\u001b\[\d\d?m/g,"").length+1},0);return m0>60?w0[0]+(g0===""?"":g0+`
 `)+" "+h0.join(`,
  `)+" "+w0[1]:w0[0]+g0+" "+h0.join(", ")+" "+w0[1]}(a0,c0,u0)):u0[0]+c0+u0[1]}function vl(e0){return"["+Error.prototype.toString.call(e0)+"]"}function bl(e0,r,t0,n0,r0,i0){var o0,s0,a0;if((a0=Object.getOwnPropertyDescriptor(r,r0)||{value:r[r0]}).get?s0=a0.set?e0.stylize("[Getter/Setter]","special"):e0.stylize("[Getter]","special"):a0.set&&(s0=e0.stylize("[Setter]","special")),jl(n0,r0)||(o0="["+r0+"]"),s0||(e0.seen.indexOf(a0.value)<0?(s0=Sl(t0)?yl(e0,a0.value,null):yl(e0,a0.value,t0-1)).indexOf(`
`)>-1&&(s0=i0?s0.split(`
`).map(function(c0){return"  "+c0}).join(`
`).substr(2):`
`+s0.split(`
`).map(function(c0){return"   "+c0}).join(`
`)):s0=e0.stylize("[Circular]","special")),Ml(o0)){if(i0&&r0.match(/^\d+$/))return s0;(o0=JSON.stringify(""+r0)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o0=o0.substr(1,o0.length-2),o0=e0.stylize(o0,"name")):(o0=o0.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o0=e0.stylize(o0,"string"))}return o0+": "+s0}function wl(e0){return Array.isArray(e0)}function El(e0){return typeof e0=="boolean"}function Sl(e0){return e0===null}function _l(e0){return e0==null}function Cl(e0){return typeof e0=="number"}function kl(e0){return typeof e0=="string"}function xl(e0){return typeof e0=="symbol"}function Ml(e0){return e0===void 0}function Al(e0){return Il(e0)&&Nl(e0)==="[object RegExp]"}function Il(e0){return typeof e0=="object"&&e0!==null}function Rl(e0){return Il(e0)&&Nl(e0)==="[object Date]"}function Pl(e0){return Il(e0)&&(Nl(e0)==="[object Error]"||e0 instanceof Error)}function Tl(e0){return typeof e0=="function"}function Ol(e0){return e0===null||typeof e0=="boolean"||typeof e0=="number"||typeof e0=="string"||typeof e0=="symbol"||e0===void 0}function Ll(e0){return _$1.isBuffer(e0)}function Nl(e0){return Object.prototype.toString.call(e0)}function $l(e0){return e0<10?"0"+e0.toString(10):e0.toString(10)}pl.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},pl.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var Dl=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Bl(){console.log("%s - %s",function(){var e0=new Date,r=[$l(e0.getHours()),$l(e0.getMinutes()),$l(e0.getSeconds())].join(":");return[e0.getDate(),Dl[e0.getMonth()],r].join(" ")}(),ll.apply(null,arguments))}function Kl(e0,r){if(!r||!Il(r))return e0;for(var t0=Object.keys(r),n0=t0.length;n0--;)e0[t0[n0]]=r[t0[n0]];return e0}function jl(e0,r){return Object.prototype.hasOwnProperty.call(e0,r)}var Ul=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function Hl(e0){if(typeof e0!="function")throw new TypeError('The "original" argument must be of type Function');if(Ul&&e0[Ul]){var r;if(typeof(r=e0[Ul])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(r,Ul,{value:r,enumerable:!1,writable:!1,configurable:!0}),r}function r(){for(var t0,n0,r0=new Promise(function(s0,a0){t0=s0,n0=a0}),i0=[],o0=0;o0<arguments.length;o0++)i0.push(arguments[o0]);i0.push(function(s0,a0){s0?n0(s0):t0(a0)});try{e0.apply(this,i0)}catch(s0){n0(s0)}return r0}return Object.setPrototypeOf(r,Object.getPrototypeOf(e0)),Ul&&Object.defineProperty(r,Ul,{value:r,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(r,al(e0))}function Fl(e0,r){if(!e0){var t0=new Error("Promise was rejected with a falsy value");t0.reason=e0,e0=t0}return r(e0)}function zl(e0){if(typeof e0!="function")throw new TypeError('The "original" argument must be of type Function');function r(){for(var t0=[],n0=0;n0<arguments.length;n0++)t0.push(arguments[n0]);var r0=t0.pop();if(typeof r0!="function")throw new TypeError("The last argument must be of type Function");var i0=this,o0=function(){return r0.apply(i0,arguments)};e0.apply(this,t0).then(function(s0){ca.nextTick(o0.bind(null,null,s0))},function(s0){ca.nextTick(Fl.bind(null,s0,o0))})}return Object.setPrototypeOf(r,Object.getPrototypeOf(e0)),Object.defineProperties(r,al(e0)),r}Hl.custom=Ul;var ql,Wl,Vl,Gl,Yl={inherits:ol,_extend:Kl,log:Bl,isBuffer:Ll,isPrimitive:Ol,isFunction:Tl,isError:Pl,isDate:Rl,isObject:Il,isRegExp:Al,isUndefined:Ml,isSymbol:xl,isString:kl,isNumber:Cl,isNullOrUndefined:_l,isNull:Sl,isBoolean:El,isArray:wl,inspect:pl,deprecate:dl,format:ll,debuglog:fl,promisify:Hl,callbackify:zl},Zl=ue$1(Object.freeze({__proto__:null,_extend:Kl,callbackify:zl,debuglog:fl,default:Yl,deprecate:dl,format:ll,inherits:ol,inspect:pl,isArray:wl,isBoolean:El,isBuffer:Ll,isDate:Rl,isError:Pl,isFunction:Tl,isNull:Sl,isNullOrUndefined:_l,isNumber:Cl,isObject:Il,isPrimitive:Ol,isRegExp:Al,isString:kl,isSymbol:xl,isUndefined:Ml,log:Bl,promisify:Hl}));function Jl(){if(Wl)return ql;function e0(a0,c0){var l0=Object.keys(a0);if(Object.getOwnPropertySymbols){var u0=Object.getOwnPropertySymbols(a0);c0&&(u0=u0.filter(function(h0){return Object.getOwnPropertyDescriptor(a0,h0).enumerable})),l0.push.apply(l0,u0)}return l0}function r(a0){for(var c0=1;c0<arguments.length;c0++){var l0=arguments[c0]!=null?arguments[c0]:{};c0%2?e0(Object(l0),!0).forEach(function(u0){t0(a0,u0,l0[u0])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a0,Object.getOwnPropertyDescriptors(l0)):e0(Object(l0)).forEach(function(u0){Object.defineProperty(a0,u0,Object.getOwnPropertyDescriptor(l0,u0))})}return a0}function t0(a0,c0,l0){return(c0=r0(c0))in a0?Object.defineProperty(a0,c0,{value:l0,enumerable:!0,configurable:!0,writable:!0}):a0[c0]=l0,a0}function n0(a0,c0,l0){return c0&&function(u0,h0){for(var g0=0;g0<h0.length;g0++){var w0=h0[g0];w0.enumerable=w0.enumerable||!1,w0.configurable=!0,"value"in w0&&(w0.writable=!0),Object.defineProperty(u0,r0(w0.key),w0)}}(a0.prototype,c0),Object.defineProperty(a0,"prototype",{writable:!1}),a0}function r0(a0){var c0=function(l0,u0){if(typeof l0!="object"||l0===null)return l0;var h0=l0[Symbol.toPrimitive];if(h0!==void 0){var g0=h0.call(l0,u0||"default");if(typeof g0!="object")return g0;throw new TypeError("@@toPrimitive must return a primitive value.")}return(u0==="string"?String:Number)(l0)}(a0,"string");return typeof c0=="symbol"?c0:String(c0)}Wl=1;var i0=sl.Buffer,o0=Zl.inspect,s0=o0&&o0.custom||"inspect";return ql=function(){function a0(){(function(c0,l0){if(!(c0 instanceof l0))throw new TypeError("Cannot call a class as a function")})(this,a0),this.head=null,this.tail=null,this.length=0}return n0(a0,[{key:"push",value:function(c0){var l0={data:c0,next:null};this.length>0?this.tail.next=l0:this.head=l0,this.tail=l0,++this.length}},{key:"unshift",value:function(c0){var l0={data:c0,next:this.head};this.length===0&&(this.tail=l0),this.head=l0,++this.length}},{key:"shift",value:function(){if(this.length!==0){var c0=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,c0}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(c0){if(this.length===0)return"";for(var l0=this.head,u0=""+l0.data;l0=l0.next;)u0+=c0+l0.data;return u0}},{key:"concat",value:function(c0){if(this.length===0)return i0.alloc(0);for(var l0,u0,h0,g0=i0.allocUnsafe(c0>>>0),w0=this.head,m0=0;w0;)l0=w0.data,u0=g0,h0=m0,i0.prototype.copy.call(l0,u0,h0),m0+=w0.data.length,w0=w0.next;return g0}},{key:"consume",value:function(c0,l0){var u0;return c0<this.head.data.length?(u0=this.head.data.slice(0,c0),this.head.data=this.head.data.slice(c0)):u0=c0===this.head.data.length?this.shift():l0?this._getString(c0):this._getBuffer(c0),u0}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(c0){var l0=this.head,u0=1,h0=l0.data;for(c0-=h0.length;l0=l0.next;){var g0=l0.data,w0=c0>g0.length?g0.length:c0;if(w0===g0.length?h0+=g0:h0+=g0.slice(0,c0),(c0-=w0)===0){w0===g0.length?(++u0,l0.next?this.head=l0.next:this.head=this.tail=null):(this.head=l0,l0.data=g0.slice(w0));break}++u0}return this.length-=u0,h0}},{key:"_getBuffer",value:function(c0){var l0=i0.allocUnsafe(c0),u0=this.head,h0=1;for(u0.data.copy(l0),c0-=u0.data.length;u0=u0.next;){var g0=u0.data,w0=c0>g0.length?g0.length:c0;if(g0.copy(l0,l0.length-c0,0,w0),(c0-=w0)===0){w0===g0.length?(++h0,u0.next?this.head=u0.next:this.head=this.tail=null):(this.head=u0,u0.data=g0.slice(w0));break}++h0}return this.length-=h0,l0}},{key:s0,value:function(c0,l0){return o0(this,r(r({},l0),{},{depth:0,customInspect:!1}))}}]),a0}(),ql}function Xl(){if(Gl)return Vl;function e0(n0,r0){t0(n0,r0),r(n0)}function r(n0){n0._writableState&&!n0._writableState.emitClose||n0._readableState&&!n0._readableState.emitClose||n0.emit("close")}function t0(n0,r0){n0.emit("error",r0)}return Gl=1,Vl={destroy:function(n0,r0){var i0=this,o0=this._readableState&&this._readableState.destroyed,s0=this._writableState&&this._writableState.destroyed;return o0||s0?(r0?r0(n0):n0&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,ca.nextTick(t0,this,n0)):ca.nextTick(t0,this,n0)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(n0||null,function(a0){!r0&&a0?i0._writableState?i0._writableState.errorEmitted?ca.nextTick(r,i0):(i0._writableState.errorEmitted=!0,ca.nextTick(e0,i0,a0)):ca.nextTick(e0,i0,a0):r0?(ca.nextTick(r,i0),r0(a0)):ca.nextTick(r,i0)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(n0,r0){var i0=n0._readableState,o0=n0._writableState;i0&&i0.autoDestroy||o0&&o0.autoDestroy?n0.destroy(r0):n0.emit("error",r0)}},Vl}var Ql={},ed,td,nd={};function rd(e0,r,t0){t0||(t0=Error);var n0=function(r0){var i0,o0;function s0(a0,c0,l0){return r0.call(this,function(u0,h0,g0){return typeof r=="string"?r:r(u0,h0,g0)}(a0,c0,l0))||this}return o0=r0,(i0=s0).prototype=Object.create(o0.prototype),i0.prototype.constructor=i0,i0.__proto__=o0,s0}(t0);n0.prototype.name=t0.name,n0.prototype.code=e0,nd[e0]=n0}function id(e0,r){if(Array.isArray(e0)){var t0=e0.length;return e0=e0.map(function(n0){return String(n0)}),t0>2?"one of ".concat(r," ").concat(e0.slice(0,t0-1).join(", "),", or ")+e0[t0-1]:t0===2?"one of ".concat(r," ").concat(e0[0]," or ").concat(e0[1]):"of ".concat(r," ").concat(e0[0])}return"of ".concat(r," ").concat(String(e0))}function od(){if(td)return ed;td=1;var e0=Ql.codes.ERR_INVALID_OPT_VALUE;return ed={getHighWaterMark:function(r,t0,n0,r0){var i0=function(o0,s0,a0){return o0.highWaterMark!=null?o0.highWaterMark:s0?o0[a0]:null}(t0,r0,n0);if(i0!=null){if(!isFinite(i0)||Math.floor(i0)!==i0||i0<0)throw new e0(r0?n0:"highWaterMark",i0);return Math.floor(i0)}return r.objectMode?16:16384}}}rd("ERR_INVALID_OPT_VALUE",function(e0,r){return'The value "'+r+'" is invalid for option "'+e0+'"'},TypeError),rd("ERR_INVALID_ARG_TYPE",function(e0,r,t0){var n0,r0,i0;if(typeof r=="string"&&(r0="not ",r.substr(0,r0.length)===r0)?(n0="must not be",r=r.replace(/^not /,"")):n0="must be",function(s0,a0,c0){return(c0===void 0||c0>s0.length)&&(c0=s0.length),s0.substring(c0-a0.length,c0)===a0}(e0," argument"))i0="The ".concat(e0," ").concat(n0," ").concat(id(r,"type"));else{var o0=function(s0,a0,c0){return typeof c0!="number"&&(c0=0),!(c0+a0.length>s0.length)&&s0.indexOf(a0,c0)!==-1}(e0,".")?"property":"argument";i0='The "'.concat(e0,'" ').concat(o0," ").concat(n0," ").concat(id(r,"type"))}return i0+=". Received type ".concat(typeof t0)},TypeError),rd("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),rd("ERR_METHOD_NOT_IMPLEMENTED",function(e0){return"The "+e0+" method is not implemented"}),rd("ERR_STREAM_PREMATURE_CLOSE","Premature close"),rd("ERR_STREAM_DESTROYED",function(e0){return"Cannot call "+e0+" after a stream was destroyed"}),rd("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),rd("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),rd("ERR_STREAM_WRITE_AFTER_END","write after end"),rd("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),rd("ERR_UNKNOWN_ENCODING",function(e0){return"Unknown encoding: "+e0},TypeError),rd("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Ql.codes=nd;var sd,ad,cd,ld,dd,ud,hd=typeof Object.create=="function"?function(e0,r){e0.super_=r,e0.prototype=Object.create(r.prototype,{constructor:{value:e0,enumerable:!1,writable:!0,configurable:!0}})}:function(e0,r){e0.super_=r;var t0=function(){};t0.prototype=r.prototype,e0.prototype=new t0,e0.prototype.constructor=e0},fd=ue$1(Object.freeze({__proto__:null,default:hd}));function pd(){if(ad)return sd;function e0(r){try{if(!le.localStorage)return!1}catch{return!1}var t0=le.localStorage[r];return t0!=null&&String(t0).toLowerCase()==="true"}return ad=1,sd=function(r,t0){if(e0("noDeprecation"))return r;var n0=!1;return function(){if(!n0){if(e0("throwDeprecation"))throw new Error(t0);e0("traceDeprecation")?console.trace(t0):console.warn(t0),n0=!0}return r.apply(this,arguments)}},sd}function gd(){if(ld)return cd;function e0(F0){var O0=this;this.next=null,this.entry=null,this.finish=function(){(function(f0,p0,A0){var $0=f0.entry;for(f0.entry=null;$0;){var y0=$0.callback;p0.pendingcb--,y0(A0),$0=$0.next}p0.corkedRequestsFree.next=f0})(O0,F0)}}var r;ld=1,cd=k0,k0.WritableState=x0;var t0={deprecate:pd()},n0=il(),r0=sl.Buffer,i0=(le!==void 0?le:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},o0,s0=Xl(),a0=od().getHighWaterMark,c0=Ql.codes,l0=c0.ERR_INVALID_ARG_TYPE,u0=c0.ERR_METHOD_NOT_IMPLEMENTED,h0=c0.ERR_MULTIPLE_CALLBACK,g0=c0.ERR_STREAM_CANNOT_PIPE,w0=c0.ERR_STREAM_DESTROYED,m0=c0.ERR_STREAM_NULL_VALUES,S0=c0.ERR_STREAM_WRITE_AFTER_END,b0=c0.ERR_UNKNOWN_ENCODING,T0=s0.errorOrDestroy;function N0(){}function x0(F0,O0,f0){r=r||md(),F0=F0||{},typeof f0!="boolean"&&(f0=O0 instanceof r),this.objectMode=!!F0.objectMode,f0&&(this.objectMode=this.objectMode||!!F0.writableObjectMode),this.highWaterMark=a0(this,F0,"writableHighWaterMark",f0),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var p0=F0.decodeStrings===!1;this.decodeStrings=!p0,this.defaultEncoding=F0.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(A0){(function($0,y0){var v0=$0._writableState,I0=v0.sync,E0=v0.writecb;if(typeof E0!="function")throw new h0;if(function(_0){_0.writing=!1,_0.writecb=null,_0.length-=_0.writelen,_0.writelen=0}(v0),y0)(function(_0,C0,L0,D0,j0){--C0.pendingcb,L0?(ca.nextTick(j0,D0),ca.nextTick(W0,_0,C0),_0._writableState.errorEmitted=!0,T0(_0,D0)):(j0(D0),_0._writableState.errorEmitted=!0,T0(_0,D0),W0(_0,C0))})($0,v0,I0,y0,E0);else{var d0=V0(v0)||$0.destroyed;d0||v0.corked||v0.bufferProcessing||!v0.bufferedRequest||G0($0,v0),I0?ca.nextTick(H0,$0,v0,d0,E0):H0($0,v0,d0,E0)}})(O0,A0)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=F0.emitClose!==!1,this.autoDestroy=!!F0.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e0(this)}function k0(F0){var O0=this instanceof(r=r||md());if(!O0&&!o0.call(k0,this))return new k0(F0);this._writableState=new x0(F0,this,O0),this.writable=!0,F0&&(typeof F0.write=="function"&&(this._write=F0.write),typeof F0.writev=="function"&&(this._writev=F0.writev),typeof F0.destroy=="function"&&(this._destroy=F0.destroy),typeof F0.final=="function"&&(this._final=F0.final)),n0.call(this)}function B0(F0,O0,f0,p0,A0,$0,y0){O0.writelen=p0,O0.writecb=y0,O0.writing=!0,O0.sync=!0,O0.destroyed?O0.onwrite(new w0("write")):f0?F0._writev(A0,O0.onwrite):F0._write(A0,$0,O0.onwrite),O0.sync=!1}function H0(F0,O0,f0,p0){f0||function(A0,$0){$0.length===0&&$0.needDrain&&($0.needDrain=!1,A0.emit("drain"))}(F0,O0),O0.pendingcb--,p0(),W0(F0,O0)}function G0(F0,O0){O0.bufferProcessing=!0;var f0=O0.bufferedRequest;if(F0._writev&&f0&&f0.next){var p0=O0.bufferedRequestCount,A0=new Array(p0),$0=O0.corkedRequestsFree;$0.entry=f0;for(var y0=0,v0=!0;f0;)A0[y0]=f0,f0.isBuf||(v0=!1),f0=f0.next,y0+=1;A0.allBuffers=v0,B0(F0,O0,!0,O0.length,A0,"",$0.finish),O0.pendingcb++,O0.lastBufferedRequest=null,$0.next?(O0.corkedRequestsFree=$0.next,$0.next=null):O0.corkedRequestsFree=new e0(O0),O0.bufferedRequestCount=0}else{for(;f0;){var I0=f0.chunk,E0=f0.encoding,d0=f0.callback;if(B0(F0,O0,!1,O0.objectMode?1:I0.length,I0,E0,d0),f0=f0.next,O0.bufferedRequestCount--,O0.writing)break}f0===null&&(O0.lastBufferedRequest=null)}O0.bufferedRequest=f0,O0.bufferProcessing=!1}function V0(F0){return F0.ending&&F0.length===0&&F0.bufferedRequest===null&&!F0.finished&&!F0.writing}function K0(F0,O0){F0._final(function(f0){O0.pendingcb--,f0&&T0(F0,f0),O0.prefinished=!0,F0.emit("prefinish"),W0(F0,O0)})}function W0(F0,O0){var f0=V0(O0);if(f0&&(function(A0,$0){$0.prefinished||$0.finalCalled||(typeof A0._final!="function"||$0.destroyed?($0.prefinished=!0,A0.emit("prefinish")):($0.pendingcb++,$0.finalCalled=!0,ca.nextTick(K0,A0,$0)))}(F0,O0),O0.pendingcb===0&&(O0.finished=!0,F0.emit("finish"),O0.autoDestroy))){var p0=F0._readableState;(!p0||p0.autoDestroy&&p0.endEmitted)&&F0.destroy()}return f0}return fd(k0,n0),x0.prototype.getBuffer=function(){for(var F0=this.bufferedRequest,O0=[];F0;)O0.push(F0),F0=F0.next;return O0},function(){try{Object.defineProperty(x0.prototype,"buffer",{get:t0.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(o0=Function.prototype[Symbol.hasInstance],Object.defineProperty(k0,Symbol.hasInstance,{value:function(F0){return!!o0.call(this,F0)||this===k0&&F0&&F0._writableState instanceof x0}})):o0=function(F0){return F0 instanceof this},k0.prototype.pipe=function(){T0(this,new g0)},k0.prototype.write=function(F0,O0,f0){var p0,A0=this._writableState,$0=!1,y0=!A0.objectMode&&(p0=F0,r0.isBuffer(p0)||p0 instanceof i0);return y0&&!r0.isBuffer(F0)&&(F0=function(v0){return r0.from(v0)}(F0)),typeof O0=="function"&&(f0=O0,O0=null),y0?O0="buffer":O0||(O0=A0.defaultEncoding),typeof f0!="function"&&(f0=N0),A0.ending?function(v0,I0){var E0=new S0;T0(v0,E0),ca.nextTick(I0,E0)}(this,f0):(y0||function(v0,I0,E0,d0){var _0;return E0===null?_0=new m0:typeof E0=="string"||I0.objectMode||(_0=new l0("chunk",["string","Buffer"],E0)),!_0||(T0(v0,_0),ca.nextTick(d0,_0),!1)}(this,A0,F0,f0))&&(A0.pendingcb++,$0=function(v0,I0,E0,d0,_0,C0){if(!E0){var L0=function(Y0,Z0,X0){return Y0.objectMode||Y0.decodeStrings===!1||typeof Z0!="string"||(Z0=r0.from(Z0,X0)),Z0}(I0,d0,_0);d0!==L0&&(E0=!0,_0="buffer",d0=L0)}var D0=I0.objectMode?1:d0.length;I0.length+=D0;var j0=I0.length<I0.highWaterMark;if(j0||(I0.needDrain=!0),I0.writing||I0.corked){var z0=I0.lastBufferedRequest;I0.lastBufferedRequest={chunk:d0,encoding:_0,isBuf:E0,callback:C0,next:null},z0?z0.next=I0.lastBufferedRequest:I0.bufferedRequest=I0.lastBufferedRequest,I0.bufferedRequestCount+=1}else B0(v0,I0,!1,D0,d0,_0,C0);return j0}(this,A0,y0,F0,O0,f0)),$0},k0.prototype.cork=function(){this._writableState.corked++},k0.prototype.uncork=function(){var F0=this._writableState;F0.corked&&(F0.corked--,F0.writing||F0.corked||F0.bufferProcessing||!F0.bufferedRequest||G0(this,F0))},k0.prototype.setDefaultEncoding=function(F0){if(typeof F0=="string"&&(F0=F0.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((F0+"").toLowerCase())>-1))throw new b0(F0);return this._writableState.defaultEncoding=F0,this},Object.defineProperty(k0.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(k0.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),k0.prototype._write=function(F0,O0,f0){f0(new u0("_write()"))},k0.prototype._writev=null,k0.prototype.end=function(F0,O0,f0){var p0=this._writableState;return typeof F0=="function"?(f0=F0,F0=null,O0=null):typeof O0=="function"&&(f0=O0,O0=null),F0!=null&&this.write(F0,O0),p0.corked&&(p0.corked=1,this.uncork()),p0.ending||function(A0,$0,y0){$0.ending=!0,W0(A0,$0),y0&&($0.finished?ca.nextTick(y0):A0.once("finish",y0)),$0.ended=!0,A0.writable=!1}(this,p0,f0),this},Object.defineProperty(k0.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(k0.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(F0){this._writableState&&(this._writableState.destroyed=F0)}}),k0.prototype.destroy=s0.destroy,k0.prototype._undestroy=s0.undestroy,k0.prototype._destroy=function(F0,O0){O0(F0)},cd}function md(){if(ud)return dd;ud=1;var e0=Object.keys||function(c0){var l0=[];for(var u0 in c0)l0.push(u0);return l0};dd=o0;var r=Od(),t0=gd();fd(o0,r);for(var n0=e0(t0.prototype),r0=0;r0<n0.length;r0++){var i0=n0[r0];o0.prototype[i0]||(o0.prototype[i0]=t0.prototype[i0])}function o0(c0){if(!(this instanceof o0))return new o0(c0);r.call(this,c0),t0.call(this,c0),this.allowHalfOpen=!0,c0&&(c0.readable===!1&&(this.readable=!1),c0.writable===!1&&(this.writable=!1),c0.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",s0)))}function s0(){this._writableState.ended||ca.nextTick(a0,this)}function a0(c0){c0.end()}return Object.defineProperty(o0.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o0.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o0.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(o0.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(c0){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=c0,this._writableState.destroyed=c0)}}),dd}var yd=_$1.isEncoding||function(e0){switch(e0&&e0.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function vd(e0){switch(this.encoding=(e0||"utf8").toLowerCase().replace(/[-_]/,""),function(r){if(r&&!yd(r))throw new Error("Unknown encoding: "+r)}(e0),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=wd;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=Ed;break;default:return void(this.write=bd)}this.charBuffer=new _$1(6),this.charReceived=0,this.charLength=0}function bd(e0){return e0.toString(this.encoding)}function wd(e0){this.charReceived=e0.length%2,this.charLength=this.charReceived?2:0}function Ed(e0){this.charReceived=e0.length%3,this.charLength=this.charReceived?3:0}vd.prototype.write=function(e0){for(var r="";this.charLength;){var t0=e0.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e0.length;if(e0.copy(this.charBuffer,this.charReceived,0,t0),this.charReceived+=t0,this.charReceived<this.charLength)return"";if(e0=e0.slice(t0,e0.length),!((r0=(r=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(r.length-1))>=55296&&r0<=56319)){if(this.charReceived=this.charLength=0,e0.length===0)return r;break}this.charLength+=this.surrogateSize,r=""}this.detectIncompleteChar(e0);var n0=e0.length;this.charLength&&(e0.copy(this.charBuffer,0,e0.length-this.charReceived,n0),n0-=this.charReceived);var r0;if(n0=(r+=e0.toString(this.encoding,0,n0)).length-1,(r0=r.charCodeAt(n0))>=55296&&r0<=56319){var i0=this.surrogateSize;return this.charLength+=i0,this.charReceived+=i0,this.charBuffer.copy(this.charBuffer,i0,0,i0),e0.copy(this.charBuffer,0,0,i0),r.substring(0,n0)}return r},vd.prototype.detectIncompleteChar=function(e0){for(var r=e0.length>=3?3:e0.length;r>0;r--){var t0=e0[e0.length-r];if(r==1&&t0>>5==6){this.charLength=2;break}if(r<=2&&t0>>4==14){this.charLength=3;break}if(r<=3&&t0>>3==30){this.charLength=4;break}}this.charReceived=r},vd.prototype.end=function(e0){var r="";if(e0&&e0.length&&(r=this.write(e0)),this.charReceived){var t0=this.charReceived,n0=this.charBuffer,r0=this.encoding;r+=n0.slice(0,t0).toString(r0)}return r};var Sd=ue$1(Object.freeze({__proto__:null,StringDecoder:vd})),_d=Ql.codes.ERR_STREAM_PREMATURE_CLOSE;function Cd(){}var kd,xd,Md,Ad,Id,Rd,Pd=function e0(r,t0,n0){if(typeof t0=="function")return e0(r,null,t0);t0||(t0={}),n0=function(w0){var m0=!1;return function(){if(!m0){m0=!0;for(var S0=arguments.length,b0=new Array(S0),T0=0;T0<S0;T0++)b0[T0]=arguments[T0];w0.apply(this,b0)}}}(n0||Cd);var r0=t0.readable||t0.readable!==!1&&r.readable,i0=t0.writable||t0.writable!==!1&&r.writable,o0=function(){r.writable||a0()},s0=r._writableState&&r._writableState.finished,a0=function(){i0=!1,s0=!0,r0||n0.call(r)},c0=r._readableState&&r._readableState.endEmitted,l0=function(){r0=!1,c0=!0,i0||n0.call(r)},u0=function(w0){n0.call(r,w0)},h0=function(){var w0;return r0&&!c0?(r._readableState&&r._readableState.ended||(w0=new _d),n0.call(r,w0)):i0&&!s0?(r._writableState&&r._writableState.ended||(w0=new _d),n0.call(r,w0)):void 0},g0=function(){r.req.on("finish",a0)};return function(w0){return w0.setHeader&&typeof w0.abort=="function"}(r)?(r.on("complete",a0),r.on("abort",h0),r.req?g0():r.on("request",g0)):i0&&!r._writableState&&(r.on("end",o0),r.on("close",o0)),r.on("end",l0),r.on("finish",a0),t0.error!==!1&&r.on("error",u0),r.on("close",h0),function(){r.removeListener("complete",a0),r.removeListener("abort",h0),r.removeListener("request",g0),r.req&&r.req.removeListener("finish",a0),r.removeListener("end",o0),r.removeListener("close",o0),r.removeListener("finish",a0),r.removeListener("end",l0),r.removeListener("error",u0),r.removeListener("close",h0)}};function Td(){if(xd)return kd;var e0;function r(m0,S0,b0){return(S0=function(T0){var N0=function(x0,k0){if(typeof x0!="object"||x0===null)return x0;var B0=x0[Symbol.toPrimitive];if(B0!==void 0){var H0=B0.call(x0,k0||"default");if(typeof H0!="object")return H0;throw new TypeError("@@toPrimitive must return a primitive value.")}return(k0==="string"?String:Number)(x0)}(T0,"string");return typeof N0=="symbol"?N0:String(N0)}(S0))in m0?Object.defineProperty(m0,S0,{value:b0,enumerable:!0,configurable:!0,writable:!0}):m0[S0]=b0,m0}xd=1;var t0=Pd,n0=Symbol("lastResolve"),r0=Symbol("lastReject"),i0=Symbol("error"),o0=Symbol("ended"),s0=Symbol("lastPromise"),a0=Symbol("handlePromise"),c0=Symbol("stream");function l0(m0,S0){return{value:m0,done:S0}}function u0(m0){var S0=m0[n0];if(S0!==null){var b0=m0[c0].read();b0!==null&&(m0[s0]=null,m0[n0]=null,m0[r0]=null,S0(l0(b0,!1)))}}function h0(m0){ca.nextTick(u0,m0)}var g0=Object.getPrototypeOf(function(){}),w0=Object.setPrototypeOf((r(e0={get stream(){return this[c0]},next:function(){var m0=this,S0=this[i0];if(S0!==null)return Promise.reject(S0);if(this[o0])return Promise.resolve(l0(void 0,!0));if(this[c0].destroyed)return new Promise(function(x0,k0){ca.nextTick(function(){m0[i0]?k0(m0[i0]):x0(l0(void 0,!0))})});var b0,T0=this[s0];if(T0)b0=new Promise(function(x0,k0){return function(B0,H0){x0.then(function(){k0[o0]?B0(l0(void 0,!0)):k0[a0](B0,H0)},H0)}}(T0,this));else{var N0=this[c0].read();if(N0!==null)return Promise.resolve(l0(N0,!1));b0=new Promise(this[a0])}return this[s0]=b0,b0}},Symbol.asyncIterator,function(){return this}),r(e0,"return",function(){var m0=this;return new Promise(function(S0,b0){m0[c0].destroy(null,function(T0){T0?b0(T0):S0(l0(void 0,!0))})})}),e0),g0);return kd=function(m0){var S0,b0=Object.create(w0,(r(S0={},c0,{value:m0,writable:!0}),r(S0,n0,{value:null,writable:!0}),r(S0,r0,{value:null,writable:!0}),r(S0,i0,{value:null,writable:!0}),r(S0,o0,{value:m0._readableState.endEmitted,writable:!0}),r(S0,a0,{value:function(T0,N0){var x0=b0[c0].read();x0?(b0[s0]=null,b0[n0]=null,b0[r0]=null,T0(l0(x0,!1))):(b0[n0]=T0,b0[r0]=N0)},writable:!0}),S0));return b0[s0]=null,t0(m0,function(T0){if(T0&&T0.code!=="ERR_STREAM_PREMATURE_CLOSE"){var N0=b0[r0];return N0!==null&&(b0[s0]=null,b0[n0]=null,b0[r0]=null,N0(T0)),void(b0[i0]=T0)}var x0=b0[n0];x0!==null&&(b0[s0]=null,b0[n0]=null,b0[r0]=null,x0(l0(void 0,!0))),b0[o0]=!0}),m0.on("readable",h0.bind(null,b0)),b0},kd}function Od(){if(Rd)return Id;var e0;Rd=1,Id=k0,k0.ReadableState=x0,sc.EventEmitter;var r=function(d0,_0){return d0.listeners(_0).length},t0=il(),n0=sl.Buffer,r0=(le!==void 0?le:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},i0,o0=Zl;i0=o0&&o0.debuglog?o0.debuglog("stream"):function(){};var s0,a0,c0,l0=Jl(),u0=Xl(),h0=od().getHighWaterMark,g0=Ql.codes,w0=g0.ERR_INVALID_ARG_TYPE,m0=g0.ERR_STREAM_PUSH_AFTER_EOF,S0=g0.ERR_METHOD_NOT_IMPLEMENTED,b0=g0.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;fd(k0,t0);var T0=u0.errorOrDestroy,N0=["error","close","destroy","pause","resume"];function x0(d0,_0,C0){e0=e0||md(),d0=d0||{},typeof C0!="boolean"&&(C0=_0 instanceof e0),this.objectMode=!!d0.objectMode,C0&&(this.objectMode=this.objectMode||!!d0.readableObjectMode),this.highWaterMark=h0(this,d0,"readableHighWaterMark",C0),this.buffer=new l0,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=d0.emitClose!==!1,this.autoDestroy=!!d0.autoDestroy,this.destroyed=!1,this.defaultEncoding=d0.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,d0.encoding&&(s0||(s0=Sd.StringDecoder),this.decoder=new s0(d0.encoding),this.encoding=d0.encoding)}function k0(d0){if(e0=e0||md(),!(this instanceof k0))return new k0(d0);var _0=this instanceof e0;this._readableState=new x0(d0,this,_0),this.readable=!0,d0&&(typeof d0.read=="function"&&(this._read=d0.read),typeof d0.destroy=="function"&&(this._destroy=d0.destroy)),t0.call(this)}function B0(d0,_0,C0,L0,D0){i0("readableAddChunk",_0);var j0,z0=d0._readableState;if(_0===null)z0.reading=!1,function(Y0,Z0){if(i0("onEofChunk"),!Z0.ended){if(Z0.decoder){var X0=Z0.decoder.end();X0&&X0.length&&(Z0.buffer.push(X0),Z0.length+=Z0.objectMode?1:X0.length)}Z0.ended=!0,Z0.sync?K0(Y0):(Z0.needReadable=!1,Z0.emittedReadable||(Z0.emittedReadable=!0,W0(Y0)))}}(d0,z0);else if(D0||(j0=function(Y0,Z0){var X0;J0=Z0,n0.isBuffer(J0)||J0 instanceof r0||typeof Z0=="string"||Z0===void 0||Y0.objectMode||(X0=new w0("chunk",["string","Buffer","Uint8Array"],Z0));var J0;return X0}(z0,_0)),j0)T0(d0,j0);else if(z0.objectMode||_0&&_0.length>0)if(typeof _0=="string"||z0.objectMode||Object.getPrototypeOf(_0)===n0.prototype||(_0=function(Y0){return n0.from(Y0)}(_0)),L0)z0.endEmitted?T0(d0,new b0):H0(d0,z0,_0,!0);else if(z0.ended)T0(d0,new m0);else{if(z0.destroyed)return!1;z0.reading=!1,z0.decoder&&!C0?(_0=z0.decoder.write(_0),z0.objectMode||_0.length!==0?H0(d0,z0,_0,!1):F0(d0,z0)):H0(d0,z0,_0,!1)}else L0||(z0.reading=!1,F0(d0,z0));return!z0.ended&&(z0.length<z0.highWaterMark||z0.length===0)}function H0(d0,_0,C0,L0){_0.flowing&&_0.length===0&&!_0.sync?(_0.awaitDrain=0,d0.emit("data",C0)):(_0.length+=_0.objectMode?1:C0.length,L0?_0.buffer.unshift(C0):_0.buffer.push(C0),_0.needReadable&&K0(d0)),F0(d0,_0)}Object.defineProperty(k0.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(d0){this._readableState&&(this._readableState.destroyed=d0)}}),k0.prototype.destroy=u0.destroy,k0.prototype._undestroy=u0.undestroy,k0.prototype._destroy=function(d0,_0){_0(d0)},k0.prototype.push=function(d0,_0){var C0,L0=this._readableState;return L0.objectMode?C0=!0:typeof d0=="string"&&((_0=_0||L0.defaultEncoding)!==L0.encoding&&(d0=n0.from(d0,_0),_0=""),C0=!0),B0(this,d0,_0,!1,C0)},k0.prototype.unshift=function(d0){return B0(this,d0,null,!0,!1)},k0.prototype.isPaused=function(){return this._readableState.flowing===!1},k0.prototype.setEncoding=function(d0){s0||(s0=Sd.StringDecoder);var _0=new s0(d0);this._readableState.decoder=_0,this._readableState.encoding=this._readableState.decoder.encoding;for(var C0=this._readableState.buffer.head,L0="";C0!==null;)L0+=_0.write(C0.data),C0=C0.next;return this._readableState.buffer.clear(),L0!==""&&this._readableState.buffer.push(L0),this._readableState.length=L0.length,this};var G0=1073741824;function V0(d0,_0){return d0<=0||_0.length===0&&_0.ended?0:_0.objectMode?1:d0!=d0?_0.flowing&&_0.length?_0.buffer.head.data.length:_0.length:(d0>_0.highWaterMark&&(_0.highWaterMark=function(C0){return C0>=G0?C0=G0:(C0--,C0|=C0>>>1,C0|=C0>>>2,C0|=C0>>>4,C0|=C0>>>8,C0|=C0>>>16,C0++),C0}(d0)),d0<=_0.length?d0:_0.ended?_0.length:(_0.needReadable=!0,0))}function K0(d0){var _0=d0._readableState;i0("emitReadable",_0.needReadable,_0.emittedReadable),_0.needReadable=!1,_0.emittedReadable||(i0("emitReadable",_0.flowing),_0.emittedReadable=!0,ca.nextTick(W0,d0))}function W0(d0){var _0=d0._readableState;i0("emitReadable_",_0.destroyed,_0.length,_0.ended),_0.destroyed||!_0.length&&!_0.ended||(d0.emit("readable"),_0.emittedReadable=!1),_0.needReadable=!_0.flowing&&!_0.ended&&_0.length<=_0.highWaterMark,$0(d0)}function F0(d0,_0){_0.readingMore||(_0.readingMore=!0,ca.nextTick(O0,d0,_0))}function O0(d0,_0){for(;!_0.reading&&!_0.ended&&(_0.length<_0.highWaterMark||_0.flowing&&_0.length===0);){var C0=_0.length;if(i0("maybeReadMore read 0"),d0.read(0),C0===_0.length)break}_0.readingMore=!1}function f0(d0){var _0=d0._readableState;_0.readableListening=d0.listenerCount("readable")>0,_0.resumeScheduled&&!_0.paused?_0.flowing=!0:d0.listenerCount("data")>0&&d0.resume()}function p0(d0){i0("readable nexttick read 0"),d0.read(0)}function A0(d0,_0){i0("resume",_0.reading),_0.reading||d0.read(0),_0.resumeScheduled=!1,d0.emit("resume"),$0(d0),_0.flowing&&!_0.reading&&d0.read(0)}function $0(d0){var _0=d0._readableState;for(i0("flow",_0.flowing);_0.flowing&&d0.read()!==null;);}function y0(d0,_0){return _0.length===0?null:(_0.objectMode?C0=_0.buffer.shift():!d0||d0>=_0.length?(C0=_0.decoder?_0.buffer.join(""):_0.buffer.length===1?_0.buffer.first():_0.buffer.concat(_0.length),_0.buffer.clear()):C0=_0.buffer.consume(d0,_0.decoder),C0);var C0}function v0(d0){var _0=d0._readableState;i0("endReadable",_0.endEmitted),_0.endEmitted||(_0.ended=!0,ca.nextTick(I0,_0,d0))}function I0(d0,_0){if(i0("endReadableNT",d0.endEmitted,d0.length),!d0.endEmitted&&d0.length===0&&(d0.endEmitted=!0,_0.readable=!1,_0.emit("end"),d0.autoDestroy)){var C0=_0._writableState;(!C0||C0.autoDestroy&&C0.finished)&&_0.destroy()}}function E0(d0,_0){for(var C0=0,L0=d0.length;C0<L0;C0++)if(d0[C0]===_0)return C0;return-1}return k0.prototype.read=function(d0){i0("read",d0),d0=parseInt(d0,10);var _0=this._readableState,C0=d0;if(d0!==0&&(_0.emittedReadable=!1),d0===0&&_0.needReadable&&((_0.highWaterMark!==0?_0.length>=_0.highWaterMark:_0.length>0)||_0.ended))return i0("read: emitReadable",_0.length,_0.ended),_0.length===0&&_0.ended?v0(this):K0(this),null;if((d0=V0(d0,_0))===0&&_0.ended)return _0.length===0&&v0(this),null;var L0,D0=_0.needReadable;return i0("need readable",D0),(_0.length===0||_0.length-d0<_0.highWaterMark)&&i0("length less than watermark",D0=!0),_0.ended||_0.reading?i0("reading or ended",D0=!1):D0&&(i0("do read"),_0.reading=!0,_0.sync=!0,_0.length===0&&(_0.needReadable=!0),this._read(_0.highWaterMark),_0.sync=!1,_0.reading||(d0=V0(C0,_0))),(L0=d0>0?y0(d0,_0):null)===null?(_0.needReadable=_0.length<=_0.highWaterMark,d0=0):(_0.length-=d0,_0.awaitDrain=0),_0.length===0&&(_0.ended||(_0.needReadable=!0),C0!==d0&&_0.ended&&v0(this)),L0!==null&&this.emit("data",L0),L0},k0.prototype._read=function(d0){T0(this,new S0("_read()"))},k0.prototype.pipe=function(d0,_0){var C0=this,L0=this._readableState;switch(L0.pipesCount){case 0:L0.pipes=d0;break;case 1:L0.pipes=[L0.pipes,d0];break;default:L0.pipes.push(d0)}L0.pipesCount+=1,i0("pipe count=%d opts=%j",L0.pipesCount,_0);var D0=(!_0||_0.end!==!1)&&d0!==ca.stdout&&d0!==ca.stderr?z0:vg;function j0(bg,wg){i0("onunpipe"),bg===C0&&wg&&wg.hasUnpiped===!1&&(wg.hasUnpiped=!0,i0("cleanup"),d0.removeListener("close",yg),d0.removeListener("finish",_g),d0.removeListener("drain",Y0),d0.removeListener("error",J0),d0.removeListener("unpipe",j0),C0.removeListener("end",z0),C0.removeListener("end",vg),C0.removeListener("data",X0),Z0=!0,!L0.awaitDrain||d0._writableState&&!d0._writableState.needDrain||Y0())}function z0(){i0("onend"),d0.end()}L0.endEmitted?ca.nextTick(D0):C0.once("end",D0),d0.on("unpipe",j0);var Y0=function(bg){return function(){var wg=bg._readableState;i0("pipeOnDrain",wg.awaitDrain),wg.awaitDrain&&wg.awaitDrain--,wg.awaitDrain===0&&r(bg,"data")&&(wg.flowing=!0,$0(bg))}}(C0);d0.on("drain",Y0);var Z0=!1;function X0(bg){i0("ondata");var wg=d0.write(bg);i0("dest.write",wg),wg===!1&&((L0.pipesCount===1&&L0.pipes===d0||L0.pipesCount>1&&E0(L0.pipes,d0)!==-1)&&!Z0&&(i0("false write response, pause",L0.awaitDrain),L0.awaitDrain++),C0.pause())}function J0(bg){i0("onerror",bg),vg(),d0.removeListener("error",J0),r(d0,"error")===0&&T0(d0,bg)}function yg(){d0.removeListener("finish",_g),vg()}function _g(){i0("onfinish"),d0.removeListener("close",yg),vg()}function vg(){i0("unpipe"),C0.unpipe(d0)}return C0.on("data",X0),function(bg,wg,Eg){if(typeof bg.prependListener=="function")return bg.prependListener(wg,Eg);bg._events&&bg._events[wg]?Array.isArray(bg._events[wg])?bg._events[wg].unshift(Eg):bg._events[wg]=[Eg,bg._events[wg]]:bg.on(wg,Eg)}(d0,"error",J0),d0.once("close",yg),d0.once("finish",_g),d0.emit("pipe",C0),L0.flowing||(i0("pipe resume"),C0.resume()),d0},k0.prototype.unpipe=function(d0){var _0=this._readableState,C0={hasUnpiped:!1};if(_0.pipesCount===0)return this;if(_0.pipesCount===1)return d0&&d0!==_0.pipes||(d0||(d0=_0.pipes),_0.pipes=null,_0.pipesCount=0,_0.flowing=!1,d0&&d0.emit("unpipe",this,C0)),this;if(!d0){var L0=_0.pipes,D0=_0.pipesCount;_0.pipes=null,_0.pipesCount=0,_0.flowing=!1;for(var j0=0;j0<D0;j0++)L0[j0].emit("unpipe",this,{hasUnpiped:!1});return this}var z0=E0(_0.pipes,d0);return z0===-1||(_0.pipes.splice(z0,1),_0.pipesCount-=1,_0.pipesCount===1&&(_0.pipes=_0.pipes[0]),d0.emit("unpipe",this,C0)),this},k0.prototype.on=function(d0,_0){var C0=t0.prototype.on.call(this,d0,_0),L0=this._readableState;return d0==="data"?(L0.readableListening=this.listenerCount("readable")>0,L0.flowing!==!1&&this.resume()):d0==="readable"&&(L0.endEmitted||L0.readableListening||(L0.readableListening=L0.needReadable=!0,L0.flowing=!1,L0.emittedReadable=!1,i0("on readable",L0.length,L0.reading),L0.length?K0(this):L0.reading||ca.nextTick(p0,this))),C0},k0.prototype.addListener=k0.prototype.on,k0.prototype.removeListener=function(d0,_0){var C0=t0.prototype.removeListener.call(this,d0,_0);return d0==="readable"&&ca.nextTick(f0,this),C0},k0.prototype.removeAllListeners=function(d0){var _0=t0.prototype.removeAllListeners.apply(this,arguments);return d0!=="readable"&&d0!==void 0||ca.nextTick(f0,this),_0},k0.prototype.resume=function(){var d0=this._readableState;return d0.flowing||(i0("resume"),d0.flowing=!d0.readableListening,function(_0,C0){C0.resumeScheduled||(C0.resumeScheduled=!0,ca.nextTick(A0,_0,C0))}(this,d0)),d0.paused=!1,this},k0.prototype.pause=function(){return i0("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(i0("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},k0.prototype.wrap=function(d0){var _0=this,C0=this._readableState,L0=!1;for(var D0 in d0.on("end",function(){if(i0("wrapped end"),C0.decoder&&!C0.ended){var z0=C0.decoder.end();z0&&z0.length&&_0.push(z0)}_0.push(null)}),d0.on("data",function(z0){i0("wrapped data"),C0.decoder&&(z0=C0.decoder.write(z0)),C0.objectMode&&z0==null||(C0.objectMode||z0&&z0.length)&&(_0.push(z0)||(L0=!0,d0.pause()))}),d0)this[D0]===void 0&&typeof d0[D0]=="function"&&(this[D0]=function(z0){return function(){return d0[z0].apply(d0,arguments)}}(D0));for(var j0=0;j0<N0.length;j0++)d0.on(N0[j0],this.emit.bind(this,N0[j0]));return this._read=function(z0){i0("wrapped _read",z0),L0&&(L0=!1,d0.resume())},this},typeof Symbol=="function"&&(k0.prototype[Symbol.asyncIterator]=function(){return a0===void 0&&(a0=Td()),a0(this)}),Object.defineProperty(k0.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(k0.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(k0.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(d0){this._readableState&&(this._readableState.flowing=d0)}}),k0._fromList=y0,Object.defineProperty(k0.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(k0.from=function(d0,_0){return c0===void 0&&(c0=Ad?Md:(Ad=1,Md=function(){throw new Error("Readable.from is not available in the browser")})),c0(k0,d0,_0)}),Id}var Ld=Hd,Nd=Ql.codes,$d=Nd.ERR_METHOD_NOT_IMPLEMENTED,Dd=Nd.ERR_MULTIPLE_CALLBACK,Bd=Nd.ERR_TRANSFORM_ALREADY_TRANSFORMING,Kd=Nd.ERR_TRANSFORM_WITH_LENGTH_0,jd=md();function Ud(e0,r){var t0=this._transformState;t0.transforming=!1;var n0=t0.writecb;if(n0===null)return this.emit("error",new Dd);t0.writechunk=null,t0.writecb=null,r!=null&&this.push(r),n0(e0);var r0=this._readableState;r0.reading=!1,(r0.needReadable||r0.length<r0.highWaterMark)&&this._read(r0.highWaterMark)}function Hd(e0){if(!(this instanceof Hd))return new Hd(e0);jd.call(this,e0),this._transformState={afterTransform:Ud.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e0&&(typeof e0.transform=="function"&&(this._transform=e0.transform),typeof e0.flush=="function"&&(this._flush=e0.flush)),this.on("prefinish",Fd)}function Fd(){var e0=this;typeof this._flush!="function"||this._readableState.destroyed?zd(this,null,null):this._flush(function(r,t0){zd(e0,r,t0)})}function zd(e0,r,t0){if(r)return e0.emit("error",r);if(t0!=null&&e0.push(t0),e0._writableState.length)throw new Kd;if(e0._transformState.transforming)throw new Bd;return e0.push(null)}fd(Hd,jd),Hd.prototype.push=function(e0,r){return this._transformState.needTransform=!1,jd.prototype.push.call(this,e0,r)},Hd.prototype._transform=function(e0,r,t0){t0(new $d("_transform()"))},Hd.prototype._write=function(e0,r,t0){var n0=this._transformState;if(n0.writecb=t0,n0.writechunk=e0,n0.writeencoding=r,!n0.transforming){var r0=this._readableState;(n0.needTransform||r0.needReadable||r0.length<r0.highWaterMark)&&this._read(r0.highWaterMark)}},Hd.prototype._read=function(e0){var r=this._transformState;r.writechunk===null||r.transforming?r.needTransform=!0:(r.transforming=!0,this._transform(r.writechunk,r.writeencoding,r.afterTransform))},Hd.prototype._destroy=function(e0,r){jd.prototype._destroy.call(this,e0,function(t0){r(t0)})};var qd,Wd=Gd,Vd=Ld;function Gd(e0){if(!(this instanceof Gd))return new Gd(e0);Vd.call(this,e0)}fd(Gd,Vd),Gd.prototype._transform=function(e0,r,t0){t0(null,e0)};var Yd=Ql.codes,Zd=Yd.ERR_MISSING_ARGS,Jd=Yd.ERR_STREAM_DESTROYED;function Xd(e0){if(e0)throw e0}function Qd(e0){e0()}function eu(e0,r){return e0.pipe(r)}var tu=function(){for(var e0=arguments.length,r=new Array(e0),t0=0;t0<e0;t0++)r[t0]=arguments[t0];var n0,r0=function(o0){return o0.length?typeof o0[o0.length-1]!="function"?Xd:o0.pop():Xd}(r);if(Array.isArray(r[0])&&(r=r[0]),r.length<2)throw new Zd("streams");var i0=r.map(function(o0,s0){var a0=s0<r.length-1;return function(c0,l0,u0,h0){h0=function(m0){var S0=!1;return function(){S0||(S0=!0,m0.apply(void 0,arguments))}}(h0);var g0=!1;c0.on("close",function(){g0=!0}),qd===void 0&&(qd=Pd),qd(c0,{readable:l0,writable:u0},function(m0){if(m0)return h0(m0);g0=!0,h0()});var w0=!1;return function(m0){if(!g0&&!w0)return w0=!0,function(S0){return S0.setHeader&&typeof S0.abort=="function"}(c0)?c0.abort():typeof c0.destroy=="function"?c0.destroy():void h0(m0||new Jd("pipe"))}}(o0,a0,s0>0,function(c0){n0||(n0=c0),c0&&i0.forEach(Qd),a0||(i0.forEach(Qd),r0(n0))})});return r.reduce(eu)};(function(e0,r){(r=rl.exports=Od()).Stream=r,r.Readable=r,r.Writable=gd(),r.Duplex=md(),r.Transform=Ld,r.PassThrough=Wd,r.finished=Pd,r.pipeline=tu})(0,rl.exports);var nu=rl.exports;function ru(e0={}){const r={},t0=new nu.Duplex({objectMode:!0,read:()=>{},write:function(i0,o0,s0){let a0=null;try{i0.id?function(c0){const{id:l0}=c0;if(l0===null)return;const u0=r[l0];if(!u0)return void console.warn(`StreamMiddleware - Unknown response id "${l0}"`);delete r[l0],Object.assign(u0.res,c0),setTimeout(u0.end)}(i0):function(c0){e0?.retryOnMessage&&c0.method===e0.retryOnMessage&&Object.values(r).forEach(({req:l0,retryCount:u0=0})=>{if(!l0.id)return;if(u0>=3)throw new Error(`StreamMiddleware - Retry limit exceeded for request id "${l0.id}"`);const h0=r[l0.id];h0&&(h0.retryCount=u0+1),r0(l0)}),n0.emit("notification",c0)}(i0)}catch(c0){a0=c0}s0(a0)}}),n0=new Ic;return{events:n0,middleware:(i0,o0,s0,a0)=>{r[i0.id]={req:i0,res:o0,next:s0,end:a0},r0(i0)},stream:t0};function r0(i0){t0.push(i0)}}var iu={},ou={exports:{}},su=function e0(r,t0){if(r&&t0)return e0(r)(t0);if(typeof r!="function")throw new TypeError("need wrapper function");return Object.keys(r).forEach(function(r0){n0[r0]=r[r0]}),n0;function n0(){for(var r0=new Array(arguments.length),i0=0;i0<r0.length;i0++)r0[i0]=arguments[i0];var o0=r.apply(this,r0),s0=r0[r0.length-1];return typeof o0=="function"&&o0!==s0&&Object.keys(s0).forEach(function(a0){o0[a0]=s0[a0]}),o0}},au=su;function cu(e0){var r=function(){return r.called?r.value:(r.called=!0,r.value=e0.apply(this,arguments))};return r.called=!1,r}function lu(e0){var r=function(){if(r.called)throw new Error(r.onceError);return r.called=!0,r.value=e0.apply(this,arguments)},t0=e0.name||"Function wrapped with `once`";return r.onceError=t0+" shouldn't be called more than once",r.called=!1,r}ou.exports=au(cu),ou.exports.strict=au(lu),cu.proto=cu(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return cu(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return lu(this)},configurable:!0})});var du=ou.exports,uu={};Object.defineProperty(uu,"__esModule",{value:!0}),uu.Substream=void 0;const hu=nu;class fu extends hu.Duplex{constructor({parent:r,name:t0}){super({objectMode:!0}),this._parent=r,this._name=t0}_read(){}_write(r,t0,n0){this._parent.push({name:this._name,data:r}),n0()}}uu.Substream=fu;var pu=le&&le.__importDefault||function(e0){return e0&&e0.__esModule?e0:{default:e0}};Object.defineProperty(iu,"__esModule",{value:!0}),iu.ObjectMultiplex=void 0;const gu=nu,mu=pu(du),yu=uu,vu=Symbol("IGNORE_SUBSTREAM");let bu=class extends gu.Duplex{constructor(e0={}){super(Object.assign(Object.assign({},e0),{objectMode:!0})),this._substreams={}}createStream(e0){if(this.destroyed)throw new Error(`ObjectMultiplex - parent stream for name "${e0}" already destroyed`);if(this._readableState.ended||this._writableState.ended)throw new Error(`ObjectMultiplex - parent stream for name "${e0}" already ended`);if(!e0)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e0])throw new Error(`ObjectMultiplex - Substream for name "${e0}" already exists`);const r=new yu.Substream({parent:this,name:e0});return this._substreams[e0]=r,function(t0,n0){const r0=(0,mu.default)(n0);(0,gu.finished)(t0,{readable:!1},r0),(0,gu.finished)(t0,{writable:!1},r0)}(this,t0=>r.destroy(t0||void 0)),r}ignoreStream(e0){if(!e0)throw new Error("ObjectMultiplex - name must not be empty");if(this._substreams[e0])throw new Error(`ObjectMultiplex - Substream for name "${e0}" already exists`);this._substreams[e0]=vu}_read(){}_write(e0,r,t0){const{name:n0,data:r0}=e0;if(!n0)return console.warn(`ObjectMultiplex - malformed chunk without name "${e0}"`),t0();const i0=this._substreams[n0];return i0?(i0!==vu&&i0.push(r0),t0()):(console.warn(`ObjectMultiplex - orphaned data for stream "${n0}"`),t0())}};iu.ObjectMultiplex=bu;var wu=de(iu.ObjectMultiplex);const Eu=e0=>e0!==null&&typeof e0=="object"&&typeof e0.pipe=="function";Eu.writable=e0=>Eu(e0)&&e0.writable!==!1&&typeof e0._write=="function"&&typeof e0._writableState=="object",Eu.readable=e0=>Eu(e0)&&e0.readable!==!1&&typeof e0._read=="function"&&typeof e0._readableState=="object",Eu.duplex=e0=>Eu.writable(e0)&&Eu.readable(e0),Eu.transform=e0=>Eu.duplex(e0)&&typeof e0._transform=="function";var Su,_u=Eu,Cu=class extends nl{constructor(e0,{jsonRpcStreamName:r,logger:t0=console,maxEventListeners:n0=100,rpcMiddleware:r0=[]}){if(super({logger:t0,maxEventListeners:n0,rpcMiddleware:r0}),!_u.duplex(e0))throw new Error(ts.errors.invalidDuplexStream());this._handleStreamDisconnect=this._handleStreamDisconnect.bind(this);const i0=new wu;nu.pipeline(e0,i0,e0,this._handleStreamDisconnect.bind(this,"MetaMask")),this._jsonRpcConnection=ru({retryOnMessage:"METAMASK_EXTENSION_CONNECT_CAN_RETRY"}),nu.pipeline(this._jsonRpcConnection.stream,i0.createStream(r),this._jsonRpcConnection.stream,this._handleStreamDisconnect.bind(this,"MetaMask RpcProvider")),this._rpcEngine.push(this._jsonRpcConnection.middleware),this._jsonRpcConnection.events.on("notification",o0=>{const{method:s0,params:a0}=o0;s0==="metamask_accountsChanged"?this._handleAccountsChanged(a0):s0==="metamask_unlockStateChanged"?this._handleUnlockStateChanged(a0):s0==="metamask_chainChanged"?this._handleChainChanged(a0):Oc.includes(s0)?this.emit("message",{type:s0,data:a0}):s0==="METAMASK_STREAM_FAILURE"&&e0.destroy(new Error(ts.errors.permanentlyDisconnected()))})}async _initializeStateAsync(){let e0;try{e0=await this.request({method:"metamask_getProviderState"})}catch(r){this._log.error("MetaMask: Failed to get initial state. Please report this bug.",r)}this._initializeState(e0)}_handleStreamDisconnect(e0,r){let t0=`MetaMask: Lost connection to "${e0}".`;r?.stack&&(t0+=`
${r.stack}`),this._log.warn(t0),this.listenerCount("error")>0&&this.emit("error",t0),this._handleDisconnect(!1,r?r.message:void 0)}_handleChainChanged({chainId:e0,networkVersion:r}={}){Dc(e0)&&(t0=>!!t0&&typeof t0=="string")(r)?r==="loading"?this._handleDisconnect(!0):super._handleChainChanged({chainId:e0}):this._log.error(ts.errors.invalidNetworkParams(),{chainId:e0,networkVersion:r})}},ku=class extends Cu{constructor(e0,{jsonRpcStreamName:r="metamask-provider",logger:t0=console,maxEventListeners:n0=100,shouldSendMetadata:r0}={}){if(super(e0,{jsonRpcStreamName:r,logger:t0,maxEventListeners:n0,rpcMiddleware:Lc(t0)}),this._sentWarnings={chainId:!1,networkVersion:!1,selectedAddress:!1,enable:!1,experimentalMethods:!1,send:!1,events:{close:!1,data:!1,networkChanged:!1,notification:!1}},qc(this,Su,void 0),this._initializeStateAsync(),Wc(this,Su,null),this.isMetaMask=!0,this._sendSync=this._sendSync.bind(this),this.enable=this.enable.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this._warnOfDeprecation=this._warnOfDeprecation.bind(this),this._metamask=this._getExperimentalApi(),this._jsonRpcConnection.events.on("notification",i0=>{const{method:o0}=i0;Oc.includes(o0)&&(this.emit("data",i0),this.emit("notification",i0.params.result))}),r0)if(document.readyState==="complete")Kc(this._rpcEngine,this._log);else{const i0=()=>{Kc(this._rpcEngine,this._log),window.removeEventListener("DOMContentLoaded",i0)};window.addEventListener("DOMContentLoaded",i0)}}get chainId(){return this._sentWarnings.chainId||(this._log.warn(ts.warnings.chainIdDeprecation),this._sentWarnings.chainId=!0),super.chainId}get networkVersion(){return this._sentWarnings.networkVersion||(this._log.warn(ts.warnings.networkVersionDeprecation),this._sentWarnings.networkVersion=!0),zc(this,Su)}get selectedAddress(){return this._sentWarnings.selectedAddress||(this._log.warn(ts.warnings.selectedAddressDeprecation),this._sentWarnings.selectedAddress=!0),super.selectedAddress}sendAsync(e0,r){this._rpcRequest(e0,r)}addListener(e0,r){return this._warnOfDeprecation(e0),super.addListener(e0,r)}on(e0,r){return this._warnOfDeprecation(e0),super.on(e0,r)}once(e0,r){return this._warnOfDeprecation(e0),super.once(e0,r)}prependListener(e0,r){return this._warnOfDeprecation(e0),super.prependListener(e0,r)}prependOnceListener(e0,r){return this._warnOfDeprecation(e0),super.prependOnceListener(e0,r)}_handleDisconnect(e0,r){super._handleDisconnect(e0,r),zc(this,Su)&&!e0&&Wc(this,Su,null)}_warnOfDeprecation(e0){this._sentWarnings?.events[e0]===!1&&(this._log.warn(ts.warnings.events[e0]),this._sentWarnings.events[e0]=!0)}async enable(){return this._sentWarnings.enable||(this._log.warn(ts.warnings.enableDeprecation),this._sentWarnings.enable=!0),new Promise((e0,r)=>{try{this._rpcRequest({method:"eth_requestAccounts",params:[]},$c(e0,r))}catch(t0){r(t0)}})}send(e0,r){return this._sentWarnings.send||(this._log.warn(ts.warnings.sendDeprecation),this._sentWarnings.send=!0),typeof e0!="string"||r&&!Array.isArray(r)?e0&&typeof e0=="object"&&typeof r=="function"?this._rpcRequest(e0,r):this._sendSync(e0):new Promise((t0,n0)=>{try{this._rpcRequest({method:e0,params:r},$c(t0,n0,!1))}catch(r0){n0(r0)}})}_sendSync(e0){let r;switch(e0.method){case"eth_accounts":r=this.selectedAddress?[this.selectedAddress]:[];break;case"eth_coinbase":r=this.selectedAddress??null;break;case"eth_uninstallFilter":this._rpcRequest(e0,Bc),r=!0;break;case"net_version":r=zc(this,Su)??null;break;default:throw new Error(ts.errors.unsupportedSync(e0.method))}return{id:e0.id,jsonrpc:e0.jsonrpc,result:r}}_getExperimentalApi(){return new Proxy({isUnlocked:async()=>(this._state.initialized||await new Promise(e0=>{this.on("_initialized",()=>e0())}),this._state.isUnlocked),requestBatch:async e0=>{if(!Array.isArray(e0))throw Za({message:"Batch requests must be made with an array of request objects.",data:e0});return new Promise((r,t0)=>{this._rpcRequest(e0,$c(r,t0))})}},{get:(e0,r,...t0)=>(this._sentWarnings.experimentalMethods||(this._log.warn(ts.warnings.experimentalMethods),this._sentWarnings.experimentalMethods=!0),Reflect.get(e0,r,...t0))})}_handleChainChanged({chainId:e0,networkVersion:r}={}){super._handleChainChanged({chainId:e0,networkVersion:r}),this._state.isConnected&&r!==zc(this,Su)&&(Wc(this,Su,r),this._state.initialized&&this.emit("networkChanged",zc(this,Su)))}};Su=new WeakMap;const xu=t("MM_SDK");xu.color="#FFAC1C";var Mu={},Au={};Object.defineProperty(Au,"__esModule",{value:!0}),Au.EthereumProviderError=Au.EthereumRpcError=void 0;const Iu=La;class Ru extends Error{constructor(r,t0,n0){if(!Number.isInteger(r))throw new Error('"code" must be an integer.');if(!t0||typeof t0!="string")throw new Error('"message" must be a nonempty string.');super(t0),this.code=r,n0!==void 0&&(this.data=n0)}serialize(){const r={code:this.code,message:this.message};return this.data!==void 0&&(r.data=this.data),this.stack&&(r.stack=this.stack),r}toString(){return Iu.default(this.serialize(),Pu,2)}}Au.EthereumRpcError=Ru;function Pu(e0,r){if(r!=="[Circular]")return r}Au.EthereumProviderError=class extends Ru{constructor(e0,r,t0){if(!function(n0){return Number.isInteger(n0)&&n0>=1e3&&n0<=4999}(e0))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e0,r,t0)}};var Tu={},Ou={};Object.defineProperty(Ou,"__esModule",{value:!0}),Ou.errorValues=Ou.errorCodes=void 0,Ou.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},Ou.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}},function(e0){Object.defineProperty(e0,"__esModule",{value:!0}),e0.serializeError=e0.isValidCode=e0.getMessageFromCode=e0.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const r=Ou,t0=Au,n0=r.errorCodes.rpc.internal,r0="Unspecified error message. This is a bug, please report it.",i0={code:n0,message:o0(n0)};function o0(u0,h0=r0){if(Number.isInteger(u0)){const g0=u0.toString();if(l0(r.errorValues,g0))return r.errorValues[g0].message;if(a0(u0))return e0.JSON_RPC_SERVER_ERROR_MESSAGE}return h0}function s0(u0){if(!Number.isInteger(u0))return!1;const h0=u0.toString();return!!r.errorValues[h0]||!!a0(u0)}function a0(u0){return u0>=-32099&&u0<=-32e3}function c0(u0){return u0&&typeof u0=="object"&&!Array.isArray(u0)?Object.assign({},u0):u0}function l0(u0,h0){return Object.prototype.hasOwnProperty.call(u0,h0)}e0.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.",e0.getMessageFromCode=o0,e0.isValidCode=s0,e0.serializeError=function(u0,{fallbackError:h0=i0,shouldIncludeStack:g0=!1}={}){var w0,m0;if(!h0||!Number.isInteger(h0.code)||typeof h0.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(u0 instanceof t0.EthereumRpcError)return u0.serialize();const S0={};if(u0&&typeof u0=="object"&&!Array.isArray(u0)&&l0(u0,"code")&&s0(u0.code)){const T0=u0;S0.code=T0.code,T0.message&&typeof T0.message=="string"?(S0.message=T0.message,l0(T0,"data")&&(S0.data=T0.data)):(S0.message=o0(S0.code),S0.data={originalError:c0(u0)})}else{S0.code=h0.code;const T0=(w0=u0)===null||w0===void 0?void 0:w0.message;S0.message=T0&&typeof T0=="string"?T0:h0.message,S0.data={originalError:c0(u0)}}const b0=(m0=u0)===null||m0===void 0?void 0:m0.stack;return g0&&u0&&b0&&typeof b0=="string"&&(S0.stack=b0),S0}}(Tu);var Lu={};Object.defineProperty(Lu,"__esModule",{value:!0}),Lu.ethErrors=void 0;const Nu=Au,$u=Tu,Du=Ou;function Bu(e0,r){const[t0,n0]=ju(r);return new Nu.EthereumRpcError(e0,t0||$u.getMessageFromCode(e0),n0)}function Ku(e0,r){const[t0,n0]=ju(r);return new Nu.EthereumProviderError(e0,t0||$u.getMessageFromCode(e0),n0)}function ju(e0){if(e0){if(typeof e0=="string")return[e0];if(typeof e0=="object"&&!Array.isArray(e0)){const{message:r,data:t0}=e0;if(r&&typeof r!="string")throw new Error("Must specify string message.");return[r||void 0,t0]}}return[]}Lu.ethErrors={rpc:{parse:e0=>Bu(Du.errorCodes.rpc.parse,e0),invalidRequest:e0=>Bu(Du.errorCodes.rpc.invalidRequest,e0),invalidParams:e0=>Bu(Du.errorCodes.rpc.invalidParams,e0),methodNotFound:e0=>Bu(Du.errorCodes.rpc.methodNotFound,e0),internal:e0=>Bu(Du.errorCodes.rpc.internal,e0),server:e0=>{if(!e0||typeof e0!="object"||Array.isArray(e0))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:r}=e0;if(!Number.isInteger(r)||r>-32005||r<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Bu(r,e0)},invalidInput:e0=>Bu(Du.errorCodes.rpc.invalidInput,e0),resourceNotFound:e0=>Bu(Du.errorCodes.rpc.resourceNotFound,e0),resourceUnavailable:e0=>Bu(Du.errorCodes.rpc.resourceUnavailable,e0),transactionRejected:e0=>Bu(Du.errorCodes.rpc.transactionRejected,e0),methodNotSupported:e0=>Bu(Du.errorCodes.rpc.methodNotSupported,e0),limitExceeded:e0=>Bu(Du.errorCodes.rpc.limitExceeded,e0)},provider:{userRejectedRequest:e0=>Ku(Du.errorCodes.provider.userRejectedRequest,e0),unauthorized:e0=>Ku(Du.errorCodes.provider.unauthorized,e0),unsupportedMethod:e0=>Ku(Du.errorCodes.provider.unsupportedMethod,e0),disconnected:e0=>Ku(Du.errorCodes.provider.disconnected,e0),chainDisconnected:e0=>Ku(Du.errorCodes.provider.chainDisconnected,e0),custom:e0=>{if(!e0||typeof e0!="object"||Array.isArray(e0))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:r,message:t0,data:n0}=e0;if(!t0||typeof t0!="string")throw new Error('"message" must be a nonempty string');return new Nu.EthereumProviderError(r,t0,n0)}}},function(e0){Object.defineProperty(e0,"__esModule",{value:!0}),e0.getMessageFromCode=e0.serializeError=e0.EthereumProviderError=e0.EthereumRpcError=e0.ethErrors=e0.errorCodes=void 0;const r=Au;Object.defineProperty(e0,"EthereumRpcError",{enumerable:!0,get:function(){return r.EthereumRpcError}}),Object.defineProperty(e0,"EthereumProviderError",{enumerable:!0,get:function(){return r.EthereumProviderError}});const t0=Tu;Object.defineProperty(e0,"serializeError",{enumerable:!0,get:function(){return t0.serializeError}}),Object.defineProperty(e0,"getMessageFromCode",{enumerable:!0,get:function(){return t0.getMessageFromCode}});const n0=Lu;Object.defineProperty(e0,"ethErrors",{enumerable:!0,get:function(){return n0.ethErrors}});const r0=Ou;Object.defineProperty(e0,"errorCodes",{enumerable:!0,get:function(){return r0.errorCodes}})}(Mu);var Uu={exports:{}};Uu.exports=function(e0){var r={};function t0(n0){if(r[n0])return r[n0].exports;var r0=r[n0]={i:n0,l:!1,exports:{}};return e0[n0].call(r0.exports,r0,r0.exports,t0),r0.l=!0,r0.exports}return t0.m=e0,t0.c=r,t0.d=function(n0,r0,i0){t0.o(n0,r0)||Object.defineProperty(n0,r0,{enumerable:!0,get:i0})},t0.r=function(n0){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n0,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n0,"__esModule",{value:!0})},t0.t=function(n0,r0){if(1&r0&&(n0=t0(n0)),8&r0||4&r0&&typeof n0=="object"&&n0&&n0.__esModule)return n0;var i0=Object.create(null);if(t0.r(i0),Object.defineProperty(i0,"default",{enumerable:!0,value:n0}),2&r0&&typeof n0!="string")for(var o0 in n0)t0.d(i0,o0,function(s0){return n0[s0]}.bind(null,o0));return i0},t0.n=function(n0){var r0=n0&&n0.__esModule?function(){return n0.default}:function(){return n0};return t0.d(r0,"a",r0),r0},t0.o=function(n0,r0){return Object.prototype.hasOwnProperty.call(n0,r0)},t0.p="",t0(t0.s=90)}({17:function(e0,r,t0){r.__esModule=!0,r.default=void 0;var n0=t0(18),r0=function(){function i0(){}return i0.getFirstMatch=function(o0,s0){var a0=s0.match(o0);return a0&&a0.length>0&&a0[1]||""},i0.getSecondMatch=function(o0,s0){var a0=s0.match(o0);return a0&&a0.length>1&&a0[2]||""},i0.matchAndReturnConst=function(o0,s0,a0){if(o0.test(s0))return a0},i0.getWindowsVersionName=function(o0){switch(o0){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},i0.getMacOSVersionName=function(o0){var s0=o0.split(".").splice(0,2).map(function(a0){return parseInt(a0,10)||0});if(s0.push(0),s0[0]===10)switch(s0[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},i0.getAndroidVersionName=function(o0){var s0=o0.split(".").splice(0,2).map(function(a0){return parseInt(a0,10)||0});if(s0.push(0),!(s0[0]===1&&s0[1]<5))return s0[0]===1&&s0[1]<6?"Cupcake":s0[0]===1&&s0[1]>=6?"Donut":s0[0]===2&&s0[1]<2?"Eclair":s0[0]===2&&s0[1]===2?"Froyo":s0[0]===2&&s0[1]>2?"Gingerbread":s0[0]===3?"Honeycomb":s0[0]===4&&s0[1]<1?"Ice Cream Sandwich":s0[0]===4&&s0[1]<4?"Jelly Bean":s0[0]===4&&s0[1]>=4?"KitKat":s0[0]===5?"Lollipop":s0[0]===6?"Marshmallow":s0[0]===7?"Nougat":s0[0]===8?"Oreo":s0[0]===9?"Pie":void 0},i0.getVersionPrecision=function(o0){return o0.split(".").length},i0.compareVersions=function(o0,s0,a0){a0===void 0&&(a0=!1);var c0=i0.getVersionPrecision(o0),l0=i0.getVersionPrecision(s0),u0=Math.max(c0,l0),h0=0,g0=i0.map([o0,s0],function(w0){var m0=u0-i0.getVersionPrecision(w0),S0=w0+new Array(m0+1).join(".0");return i0.map(S0.split("."),function(b0){return new Array(20-b0.length).join("0")+b0}).reverse()});for(a0&&(h0=u0-Math.min(c0,l0)),u0-=1;u0>=h0;){if(g0[0][u0]>g0[1][u0])return 1;if(g0[0][u0]===g0[1][u0]){if(u0===h0)return 0;u0-=1}else if(g0[0][u0]<g0[1][u0])return-1}},i0.map=function(o0,s0){var a0,c0=[];if(Array.prototype.map)return Array.prototype.map.call(o0,s0);for(a0=0;a0<o0.length;a0+=1)c0.push(s0(o0[a0]));return c0},i0.find=function(o0,s0){var a0,c0;if(Array.prototype.find)return Array.prototype.find.call(o0,s0);for(a0=0,c0=o0.length;a0<c0;a0+=1){var l0=o0[a0];if(s0(l0,a0))return l0}},i0.assign=function(o0){for(var s0,a0,c0=o0,l0=arguments.length,u0=new Array(l0>1?l0-1:0),h0=1;h0<l0;h0++)u0[h0-1]=arguments[h0];if(Object.assign)return Object.assign.apply(Object,[o0].concat(u0));var g0=function(){var w0=u0[s0];typeof w0=="object"&&w0!==null&&Object.keys(w0).forEach(function(m0){c0[m0]=w0[m0]})};for(s0=0,a0=u0.length;s0<a0;s0+=1)g0();return o0},i0.getBrowserAlias=function(o0){return n0.BROWSER_ALIASES_MAP[o0]},i0.getBrowserTypeByAlias=function(o0){return n0.BROWSER_MAP[o0]||""},i0}();r.default=r0,e0.exports=r.default},18:function(e0,r,t0){r.__esModule=!0,r.ENGINE_MAP=r.OS_MAP=r.PLATFORMS_MAP=r.BROWSER_MAP=r.BROWSER_ALIASES_MAP=void 0,r.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},r.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},r.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},r.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},r.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e0,r,t0){r.__esModule=!0,r.default=void 0;var n0,r0=(n0=t0(91))&&n0.__esModule?n0:{default:n0},i0=t0(18);function o0(a0,c0){for(var l0=0;l0<c0.length;l0++){var u0=c0[l0];u0.enumerable=u0.enumerable||!1,u0.configurable=!0,"value"in u0&&(u0.writable=!0),Object.defineProperty(a0,u0.key,u0)}}var s0=function(){function a0(){}var c0,l0,u0;return a0.getParser=function(h0,g0){if(g0===void 0&&(g0=!1),typeof h0!="string")throw new Error("UserAgent should be a string");return new r0.default(h0,g0)},a0.parse=function(h0){return new r0.default(h0).getResult()},c0=a0,u0=[{key:"BROWSER_MAP",get:function(){return i0.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return i0.ENGINE_MAP}},{key:"OS_MAP",get:function(){return i0.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return i0.PLATFORMS_MAP}}],(l0=null)&&o0(c0.prototype,l0),u0&&o0(c0,u0),a0}();r.default=s0,e0.exports=r.default},91:function(e0,r,t0){r.__esModule=!0,r.default=void 0;var n0=a0(t0(92)),r0=a0(t0(93)),i0=a0(t0(94)),o0=a0(t0(95)),s0=a0(t0(17));function a0(l0){return l0&&l0.__esModule?l0:{default:l0}}var c0=function(){function l0(h0,g0){if(g0===void 0&&(g0=!1),h0==null||h0==="")throw new Error("UserAgent parameter can't be empty");this._ua=h0,this.parsedResult={},g0!==!0&&this.parse()}var u0=l0.prototype;return u0.getUA=function(){return this._ua},u0.test=function(h0){return h0.test(this._ua)},u0.parseBrowser=function(){var h0=this;this.parsedResult.browser={};var g0=s0.default.find(n0.default,function(w0){if(typeof w0.test=="function")return w0.test(h0);if(w0.test instanceof Array)return w0.test.some(function(m0){return h0.test(m0)});throw new Error("Browser's test function is not valid")});return g0&&(this.parsedResult.browser=g0.describe(this.getUA())),this.parsedResult.browser},u0.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},u0.getBrowserName=function(h0){return h0?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},u0.getBrowserVersion=function(){return this.getBrowser().version},u0.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},u0.parseOS=function(){var h0=this;this.parsedResult.os={};var g0=s0.default.find(r0.default,function(w0){if(typeof w0.test=="function")return w0.test(h0);if(w0.test instanceof Array)return w0.test.some(function(m0){return h0.test(m0)});throw new Error("Browser's test function is not valid")});return g0&&(this.parsedResult.os=g0.describe(this.getUA())),this.parsedResult.os},u0.getOSName=function(h0){var g0=this.getOS().name;return h0?String(g0).toLowerCase()||"":g0||""},u0.getOSVersion=function(){return this.getOS().version},u0.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},u0.getPlatformType=function(h0){h0===void 0&&(h0=!1);var g0=this.getPlatform().type;return h0?String(g0).toLowerCase()||"":g0||""},u0.parsePlatform=function(){var h0=this;this.parsedResult.platform={};var g0=s0.default.find(i0.default,function(w0){if(typeof w0.test=="function")return w0.test(h0);if(w0.test instanceof Array)return w0.test.some(function(m0){return h0.test(m0)});throw new Error("Browser's test function is not valid")});return g0&&(this.parsedResult.platform=g0.describe(this.getUA())),this.parsedResult.platform},u0.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},u0.getEngineName=function(h0){return h0?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},u0.parseEngine=function(){var h0=this;this.parsedResult.engine={};var g0=s0.default.find(o0.default,function(w0){if(typeof w0.test=="function")return w0.test(h0);if(w0.test instanceof Array)return w0.test.some(function(m0){return h0.test(m0)});throw new Error("Browser's test function is not valid")});return g0&&(this.parsedResult.engine=g0.describe(this.getUA())),this.parsedResult.engine},u0.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},u0.getResult=function(){return s0.default.assign({},this.parsedResult)},u0.satisfies=function(h0){var g0=this,w0={},m0=0,S0={},b0=0;if(Object.keys(h0).forEach(function(V0){var K0=h0[V0];typeof K0=="string"?(S0[V0]=K0,b0+=1):typeof K0=="object"&&(w0[V0]=K0,m0+=1)}),m0>0){var T0=Object.keys(w0),N0=s0.default.find(T0,function(V0){return g0.isOS(V0)});if(N0){var x0=this.satisfies(w0[N0]);if(x0!==void 0)return x0}var k0=s0.default.find(T0,function(V0){return g0.isPlatform(V0)});if(k0){var B0=this.satisfies(w0[k0]);if(B0!==void 0)return B0}}if(b0>0){var H0=Object.keys(S0),G0=s0.default.find(H0,function(V0){return g0.isBrowser(V0,!0)});if(G0!==void 0)return this.compareVersion(S0[G0])}},u0.isBrowser=function(h0,g0){g0===void 0&&(g0=!1);var w0=this.getBrowserName().toLowerCase(),m0=h0.toLowerCase(),S0=s0.default.getBrowserTypeByAlias(m0);return g0&&S0&&(m0=S0.toLowerCase()),m0===w0},u0.compareVersion=function(h0){var g0=[0],w0=h0,m0=!1,S0=this.getBrowserVersion();if(typeof S0=="string")return h0[0]===">"||h0[0]==="<"?(w0=h0.substr(1),h0[1]==="="?(m0=!0,w0=h0.substr(2)):g0=[],h0[0]===">"?g0.push(1):g0.push(-1)):h0[0]==="="?w0=h0.substr(1):h0[0]==="~"&&(m0=!0,w0=h0.substr(1)),g0.indexOf(s0.default.compareVersions(S0,w0,m0))>-1},u0.isOS=function(h0){return this.getOSName(!0)===String(h0).toLowerCase()},u0.isPlatform=function(h0){return this.getPlatformType(!0)===String(h0).toLowerCase()},u0.isEngine=function(h0){return this.getEngineName(!0)===String(h0).toLowerCase()},u0.is=function(h0,g0){return g0===void 0&&(g0=!1),this.isBrowser(h0,g0)||this.isOS(h0)||this.isPlatform(h0)},u0.some=function(h0){var g0=this;return h0===void 0&&(h0=[]),h0.some(function(w0){return g0.is(w0)})},l0}();r.default=c0,e0.exports=r.default},92:function(e0,r,t0){r.__esModule=!0,r.default=void 0;var n0,r0=(n0=t0(17))&&n0.__esModule?n0:{default:n0},i0=/version\/(\d+(\.?_?\d+)+)/i,o0=[{test:[/googlebot/i],describe:function(s0){var a0={name:"Googlebot"},c0=r0.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,s0)||r0.default.getFirstMatch(i0,s0);return c0&&(a0.version=c0),a0}},{test:[/opera/i],describe:function(s0){var a0={name:"Opera"},c0=r0.default.getFirstMatch(i0,s0)||r0.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,s0);return c0&&(a0.version=c0),a0}},{test:[/opr\/|opios/i],describe:function(s0){var a0={name:"Opera"},c0=r0.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,s0)||r0.default.getFirstMatch(i0,s0);return c0&&(a0.version=c0),a0}},{test:[/SamsungBrowser/i],describe:function(s0){var a0={name:"Samsung Internet for Android"},c0=r0.default.getFirstMatch(i0,s0)||r0.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,s0);return c0&&(a0.version=c0),a0}},{test:[/Whale/i],describe:function(s0){var a0={name:"NAVER Whale Browser"},c0=r0.default.getFirstMatch(i0,s0)||r0.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,s0);return c0&&(a0.version=c0),a0}},{test:[/MZBrowser/i],describe:function(s0){var a0={name:"MZ Browser"},c0=r0.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,s0)||r0.default.getFirstMatch(i0,s0);return c0&&(a0.version=c0),a0}},{test:[/focus/i],describe:function(s0){var a0={name:"Focus"},c0=r0.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,s0)||r0.default.getFirstMatch(i0,s0);return c0&&(a0.version=c0),a0}},{test:[/swing/i],describe:function(s0){var a0={name:"Swing"},c0=r0.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,s0)||r0.default.getFirstMatch(i0,s0);return c0&&(a0.version=c0),a0}},{test:[/coast/i],describe:function(s0){var a0={name:"Opera Coast"},c0=r0.default.getFirstMatch(i0,s0)||r0.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,s0);return c0&&(a0.version=c0),a0}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(s0){var a0={name:"Opera Touch"},c0=r0.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,s0)||r0.default.getFirstMatch(i0,s0);return c0&&(a0.version=c0),a0}},{test:[/yabrowser/i],describe:function(s0){var a0={name:"Yandex Browser"},c0=r0.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,s0)||r0.default.getFirstMatch(i0,s0);return c0&&(a0.version=c0),a0}},{test:[/ucbrowser/i],describe:function(s0){var a0={name:"UC Browser"},c0=r0.default.getFirstMatch(i0,s0)||r0.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,s0);return c0&&(a0.version=c0),a0}},{test:[/Maxthon|mxios/i],describe:function(s0){var a0={name:"Maxthon"},c0=r0.default.getFirstMatch(i0,s0)||r0.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,s0);return c0&&(a0.version=c0),a0}},{test:[/epiphany/i],describe:function(s0){var a0={name:"Epiphany"},c0=r0.default.getFirstMatch(i0,s0)||r0.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,s0);return c0&&(a0.version=c0),a0}},{test:[/puffin/i],describe:function(s0){var a0={name:"Puffin"},c0=r0.default.getFirstMatch(i0,s0)||r0.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,s0);return c0&&(a0.version=c0),a0}},{test:[/sleipnir/i],describe:function(s0){var a0={name:"Sleipnir"},c0=r0.default.getFirstMatch(i0,s0)||r0.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,s0);return c0&&(a0.version=c0),a0}},{test:[/k-meleon/i],describe:function(s0){var a0={name:"K-Meleon"},c0=r0.default.getFirstMatch(i0,s0)||r0.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,s0);return c0&&(a0.version=c0),a0}},{test:[/micromessenger/i],describe:function(s0){var a0={name:"WeChat"},c0=r0.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,s0)||r0.default.getFirstMatch(i0,s0);return c0&&(a0.version=c0),a0}},{test:[/qqbrowser/i],describe:function(s0){var a0={name:/qqbrowserlite/i.test(s0)?"QQ Browser Lite":"QQ Browser"},c0=r0.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,s0)||r0.default.getFirstMatch(i0,s0);return c0&&(a0.version=c0),a0}},{test:[/msie|trident/i],describe:function(s0){var a0={name:"Internet Explorer"},c0=r0.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,s0);return c0&&(a0.version=c0),a0}},{test:[/\sedg\//i],describe:function(s0){var a0={name:"Microsoft Edge"},c0=r0.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,s0);return c0&&(a0.version=c0),a0}},{test:[/edg([ea]|ios)/i],describe:function(s0){var a0={name:"Microsoft Edge"},c0=r0.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,s0);return c0&&(a0.version=c0),a0}},{test:[/vivaldi/i],describe:function(s0){var a0={name:"Vivaldi"},c0=r0.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,s0);return c0&&(a0.version=c0),a0}},{test:[/seamonkey/i],describe:function(s0){var a0={name:"SeaMonkey"},c0=r0.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,s0);return c0&&(a0.version=c0),a0}},{test:[/sailfish/i],describe:function(s0){var a0={name:"Sailfish"},c0=r0.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,s0);return c0&&(a0.version=c0),a0}},{test:[/silk/i],describe:function(s0){var a0={name:"Amazon Silk"},c0=r0.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,s0);return c0&&(a0.version=c0),a0}},{test:[/phantom/i],describe:function(s0){var a0={name:"PhantomJS"},c0=r0.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,s0);return c0&&(a0.version=c0),a0}},{test:[/slimerjs/i],describe:function(s0){var a0={name:"SlimerJS"},c0=r0.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,s0);return c0&&(a0.version=c0),a0}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(s0){var a0={name:"BlackBerry"},c0=r0.default.getFirstMatch(i0,s0)||r0.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,s0);return c0&&(a0.version=c0),a0}},{test:[/(web|hpw)[o0]s/i],describe:function(s0){var a0={name:"WebOS Browser"},c0=r0.default.getFirstMatch(i0,s0)||r0.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,s0);return c0&&(a0.version=c0),a0}},{test:[/bada/i],describe:function(s0){var a0={name:"Bada"},c0=r0.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,s0);return c0&&(a0.version=c0),a0}},{test:[/tizen/i],describe:function(s0){var a0={name:"Tizen"},c0=r0.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,s0)||r0.default.getFirstMatch(i0,s0);return c0&&(a0.version=c0),a0}},{test:[/qupzilla/i],describe:function(s0){var a0={name:"QupZilla"},c0=r0.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,s0)||r0.default.getFirstMatch(i0,s0);return c0&&(a0.version=c0),a0}},{test:[/firefox|iceweasel|fxios/i],describe:function(s0){var a0={name:"Firefox"},c0=r0.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,s0);return c0&&(a0.version=c0),a0}},{test:[/electron/i],describe:function(s0){var a0={name:"Electron"},c0=r0.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,s0);return c0&&(a0.version=c0),a0}},{test:[/MiuiBrowser/i],describe:function(s0){var a0={name:"Miui"},c0=r0.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,s0);return c0&&(a0.version=c0),a0}},{test:[/chromium/i],describe:function(s0){var a0={name:"Chromium"},c0=r0.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,s0)||r0.default.getFirstMatch(i0,s0);return c0&&(a0.version=c0),a0}},{test:[/chrome|crios|crmo/i],describe:function(s0){var a0={name:"Chrome"},c0=r0.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,s0);return c0&&(a0.version=c0),a0}},{test:[/GSA/i],describe:function(s0){var a0={name:"Google Search"},c0=r0.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,s0);return c0&&(a0.version=c0),a0}},{test:function(s0){var a0=!s0.test(/like android/i),c0=s0.test(/android/i);return a0&&c0},describe:function(s0){var a0={name:"Android Browser"},c0=r0.default.getFirstMatch(i0,s0);return c0&&(a0.version=c0),a0}},{test:[/playstation 4/i],describe:function(s0){var a0={name:"PlayStation 4"},c0=r0.default.getFirstMatch(i0,s0);return c0&&(a0.version=c0),a0}},{test:[/safari|applewebkit/i],describe:function(s0){var a0={name:"Safari"},c0=r0.default.getFirstMatch(i0,s0);return c0&&(a0.version=c0),a0}},{test:[/.*/i],describe:function(s0){var a0=s0.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:r0.default.getFirstMatch(a0,s0),version:r0.default.getSecondMatch(a0,s0)}}}];r.default=o0,e0.exports=r.default},93:function(e0,r,t0){r.__esModule=!0,r.default=void 0;var n0,r0=(n0=t0(17))&&n0.__esModule?n0:{default:n0},i0=t0(18),o0=[{test:[/Roku\/DVP/],describe:function(s0){var a0=r0.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,s0);return{name:i0.OS_MAP.Roku,version:a0}}},{test:[/windows phone/i],describe:function(s0){var a0=r0.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,s0);return{name:i0.OS_MAP.WindowsPhone,version:a0}}},{test:[/windows /i],describe:function(s0){var a0=r0.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,s0),c0=r0.default.getWindowsVersionName(a0);return{name:i0.OS_MAP.Windows,version:a0,versionName:c0}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(s0){var a0={name:i0.OS_MAP.iOS},c0=r0.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,s0);return c0&&(a0.version=c0),a0}},{test:[/macintosh/i],describe:function(s0){var a0=r0.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,s0).replace(/[_\s]/g,"."),c0=r0.default.getMacOSVersionName(a0),l0={name:i0.OS_MAP.MacOS,version:a0};return c0&&(l0.versionName=c0),l0}},{test:[/(ipod|iphone|ipad)/i],describe:function(s0){var a0=r0.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,s0).replace(/[_\s]/g,".");return{name:i0.OS_MAP.iOS,version:a0}}},{test:function(s0){var a0=!s0.test(/like android/i),c0=s0.test(/android/i);return a0&&c0},describe:function(s0){var a0=r0.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,s0),c0=r0.default.getAndroidVersionName(a0),l0={name:i0.OS_MAP.Android,version:a0};return c0&&(l0.versionName=c0),l0}},{test:[/(web|hpw)[o0]s/i],describe:function(s0){var a0=r0.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,s0),c0={name:i0.OS_MAP.WebOS};return a0&&a0.length&&(c0.version=a0),c0}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(s0){var a0=r0.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,s0)||r0.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,s0)||r0.default.getFirstMatch(/\bbb(\d+)/i,s0);return{name:i0.OS_MAP.BlackBerry,version:a0}}},{test:[/bada/i],describe:function(s0){var a0=r0.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,s0);return{name:i0.OS_MAP.Bada,version:a0}}},{test:[/tizen/i],describe:function(s0){var a0=r0.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,s0);return{name:i0.OS_MAP.Tizen,version:a0}}},{test:[/linux/i],describe:function(){return{name:i0.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:i0.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(s0){var a0=r0.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,s0);return{name:i0.OS_MAP.PlayStation4,version:a0}}}];r.default=o0,e0.exports=r.default},94:function(e0,r,t0){r.__esModule=!0,r.default=void 0;var n0,r0=(n0=t0(17))&&n0.__esModule?n0:{default:n0},i0=t0(18),o0=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(s0){var a0=r0.default.getFirstMatch(/(can-l01)/i,s0)&&"Nova",c0={type:i0.PLATFORMS_MAP.mobile,vendor:"Huawei"};return a0&&(c0.model=a0),c0}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:i0.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:i0.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:i0.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:i0.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:i0.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:i0.PLATFORMS_MAP.tablet}}},{test:function(s0){var a0=s0.test(/ipod|iphone/i),c0=s0.test(/like (ipod|iphone)/i);return a0&&!c0},describe:function(s0){var a0=r0.default.getFirstMatch(/(ipod|iphone)/i,s0);return{type:i0.PLATFORMS_MAP.mobile,vendor:"Apple",model:a0}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:i0.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:i0.PLATFORMS_MAP.mobile}}},{test:function(s0){return s0.getBrowserName(!0)==="blackberry"},describe:function(){return{type:i0.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(s0){return s0.getBrowserName(!0)==="bada"},describe:function(){return{type:i0.PLATFORMS_MAP.mobile}}},{test:function(s0){return s0.getBrowserName()==="windows phone"},describe:function(){return{type:i0.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(s0){var a0=Number(String(s0.getOSVersion()).split(".")[0]);return s0.getOSName(!0)==="android"&&a0>=3},describe:function(){return{type:i0.PLATFORMS_MAP.tablet}}},{test:function(s0){return s0.getOSName(!0)==="android"},describe:function(){return{type:i0.PLATFORMS_MAP.mobile}}},{test:function(s0){return s0.getOSName(!0)==="macos"},describe:function(){return{type:i0.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(s0){return s0.getOSName(!0)==="windows"},describe:function(){return{type:i0.PLATFORMS_MAP.desktop}}},{test:function(s0){return s0.getOSName(!0)==="linux"},describe:function(){return{type:i0.PLATFORMS_MAP.desktop}}},{test:function(s0){return s0.getOSName(!0)==="playstation 4"},describe:function(){return{type:i0.PLATFORMS_MAP.tv}}},{test:function(s0){return s0.getOSName(!0)==="roku"},describe:function(){return{type:i0.PLATFORMS_MAP.tv}}}];r.default=o0,e0.exports=r.default},95:function(e0,r,t0){r.__esModule=!0,r.default=void 0;var n0,r0=(n0=t0(17))&&n0.__esModule?n0:{default:n0},i0=t0(18),o0=[{test:function(s0){return s0.getBrowserName(!0)==="microsoft edge"},describe:function(s0){if(/\sedg\//i.test(s0))return{name:i0.ENGINE_MAP.Blink};var a0=r0.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,s0);return{name:i0.ENGINE_MAP.EdgeHTML,version:a0}}},{test:[/trident/i],describe:function(s0){var a0={name:i0.ENGINE_MAP.Trident},c0=r0.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,s0);return c0&&(a0.version=c0),a0}},{test:function(s0){return s0.test(/presto/i)},describe:function(s0){var a0={name:i0.ENGINE_MAP.Presto},c0=r0.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,s0);return c0&&(a0.version=c0),a0}},{test:function(s0){var a0=s0.test(/gecko/i),c0=s0.test(/like gecko/i);return a0&&!c0},describe:function(s0){var a0={name:i0.ENGINE_MAP.Gecko},c0=r0.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,s0);return c0&&(a0.version=c0),a0}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:i0.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(s0){var a0={name:i0.ENGINE_MAP.WebKit},c0=r0.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,s0);return c0&&(a0.version=c0),a0}}];r.default=o0,e0.exports=r.default}});var Hu=de(Uu.exports);const Fu={Initialized:"initialized",DisplayURI:"display_uri",ProviderUpdate:"provider_update",ConnectWithResponse:"connectWithResponse",ConnectionStatus:"connection_status",ServiceStatus:"service_status"};class zu{constructor({shouldSetOnWindow:r,connectionStream:t0,shouldSendMetadata:n0=!1,shouldShimWeb3:r0,sdkInstance:i0}){const o0=new Vu({connectionStream:t0,shouldSendMetadata:n0,shouldSetOnWindow:r,shouldShimWeb3:r0,autoRequestAccounts:!1}),s0=new Proxy(o0,{deleteProperty:()=>!0});if(this.provider=s0,this.sdkInstance=i0,r&&typeof window<"u")try{a0=o0,window.ethereum=a0,window.dispatchEvent(new Event("ethereum#initialized"))}catch(c0){xu("[Ethereum] Unable to set global provider - window.ethereum may be read-only",c0)}var a0;if(r0&&typeof window<"u")try{(function(c0,l0=console){let u0=!1,h0=!1;if(!window.web3){const g0="__isMetaMaskShim__";let w0={currentProvider:c0};Object.defineProperty(w0,g0,{value:!0,enumerable:!0,configurable:!1,writable:!1}),w0=new Proxy(w0,{get:(m0,S0,...b0)=>(S0!=="currentProvider"||u0?S0==="currentProvider"||S0===g0||h0||(h0=!0,l0.error("MetaMask no longer injects web3. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3"),c0.request({method:"metamask_logWeb3ShimUsage"}).catch(T0=>{l0.debug("MetaMask: Failed to log web3 shim usage.",T0)})):(u0=!0,l0.warn("You are accessing the MetaMask window.web3.currentProvider shim. This property is deprecated; use window.ethereum instead. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3")),Reflect.get(m0,S0,...b0)),set:(...m0)=>(l0.warn("You are accessing the MetaMask window.web3 shim. This object is deprecated; use window.ethereum instead. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3"),Reflect.set(...m0))}),Object.defineProperty(window,"web3",{value:w0,enumerable:!1,configurable:!0,writable:!0})}})(this.provider)}catch(c0){xu("[Ethereum] Unable to shim web3 - window.web3 may be read-only",c0)}this.provider.on("display_uri",c0=>{this.sdkInstance.emit(Fu.DisplayURI,c0)}),this.provider.on("_initialized",()=>{const c0={chainId:this.provider.getChainId(),isConnected:this.provider.isConnected(),isMetaMask:this.provider.isMetaMask,selectedAddress:this.provider.getSelectedAddress(),networkVersion:this.provider.getNetworkVersion()};this.sdkInstance.emit(Fu.Initialized,c0),xu("[Ethereum: constructor()] provider initialized",c0)})}static init(r){var t0;return xu("[Ethereum: init()] Initializing Ethereum service"),this.instance=new zu(r),(t0=this.instance)===null||t0===void 0?void 0:t0.provider}static destroy(){}static getInstance(){var r;if(!(!((r=this.instance)===null||r===void 0)&&r.provider))throw new Error("Ethereum instance not intiialized - call Ethereum.factory first.");return this.instance}static getProvider(){var r;if(!(!((r=this.instance)===null||r===void 0)&&r.provider))throw new Error("Ethereum instance not intiialized - call Ethereum.factory first.");return this.instance.provider}}class qu{constructor({useDeepLink:r,preferredOpenLink:t0,debug:n0=!1}){this.state={platformType:void 0,useDeeplink:!1,preferredOpenLink:void 0,debug:!1},this.state.platformType=this.getPlatformType(),this.state.useDeeplink=r,this.state.preferredOpenLink=t0,this.state.debug=n0}openDeeplink(r,t0,n0){return function(r0,i0,o0,s0){const{state:a0}=r0;xu(`[PlatfformManager: openDeeplink()] universalLink --> ${i0}`),xu(`[PlatfformManager: openDeeplink()] deepLink --> ${o0}`);try{if(a0.preferredOpenLink)return void a0.preferredOpenLink(a0.useDeeplink?o0:i0,s0);if(xu(`[PlatfformManager: openDeeplink()] open link now useDeepLink=${a0.useDeeplink} link=${a0.useDeeplink?o0:i0}`),a0.useDeeplink)typeof window<"u"&&(window.location.href=o0);else if(typeof document<"u"){const c0=document.createElement("a");c0.href=i0,c0.target="_self",c0.rel="noreferrer noopener",c0.click()}}catch(c0){console.log("[PlatfformManager: openDeeplink()] can't open link",c0)}}(this,r,t0,n0)}isReactNative(){var r;return this.isNotBrowser()&&typeof window<"u"&&window?.navigator&&((r=window.navigator)===null||r===void 0?void 0:r.product)==="ReactNative"}isMetaMaskInstalled(){return function(){const r=zu.getProvider()||window?.ethereum;return xu(`[PlatfformManager: isMetaMaskInstalled()] isMetaMask=${r?.isMetaMask} isConnected=${r?.isConnected()}`),r?.isMetaMask&&r?.isConnected()}()}isDesktopWeb(){return this.isBrowser()&&!this.isMobileWeb()}isMobile(){var r,t0;const n0=Hu.parse(window.navigator.userAgent);return((r=n0?.platform)===null||r===void 0?void 0:r.type)==="mobile"||((t0=n0?.platform)===null||t0===void 0?void 0:t0.type)==="tablet"}isSecure(){return this.isReactNative()||this.isMobileWeb()}isMetaMaskMobileWebView(){return typeof window<"u"&&!!window.ReactNativeWebView&&!!navigator.userAgent.endsWith("MetaMaskMobile")}isMobileWeb(){return this.state.platformType===Bo.MobileWeb}static isNotBrowser(){var r;return typeof window>"u"||!window?.navigator||c!==void 0&&((r=c?.navigator)===null||r===void 0?void 0:r.product)==="ReactNative"||navigator?.product==="ReactNative"}isNotBrowser(){return qu.isNotBrowser()}static isBrowser(){return!this.isNotBrowser()}isBrowser(){return qu.isBrowser()}isNodeJS(){return this.isNotBrowser()&&!this.isReactNative()}isUseDeepLink(){return this.state.useDeeplink}getPlatformType(){return function(r){const{state:t0}=r;return t0.platformType?t0.platformType:r.isReactNative()?Bo.ReactNative:r.isNotBrowser()?Bo.NonBrowser:r.isMetaMaskMobileWebView()?Bo.MetaMaskMobileWebview:r.isMobile()?Bo.MobileWeb:Bo.DesktopWeb}(this)}}const Wu=e0=>a(void 0,void 0,void 0,function*(){if(qu.isBrowser()){const{StorageManagerWeb:t0}=yield Promise.resolve().then(function(){return nf});return new t0(e0)}const r={persistChannelConfig:()=>a(void 0,void 0,void 0,function*(){}),getPersistedChannelConfig:()=>a(void 0,void 0,void 0,function*(){}),persistAccounts:()=>a(void 0,void 0,void 0,function*(){}),getCachedAccounts:()=>a(void 0,void 0,void 0,function*(){return[]}),persistChainId:()=>a(void 0,void 0,void 0,function*(){}),getCachedChainId:()=>a(void 0,void 0,void 0,function*(){}),terminate:()=>a(void 0,void 0,void 0,function*(){})};return Promise.resolve(r)});class Vu extends ku{constructor({connectionStream:r,shouldSendMetadata:t0,autoRequestAccounts:n0=!1}){super(r,{logger:console,maxEventListeners:100,shouldSendMetadata:t0}),this.state={accounts:null,autoRequestAccounts:!1,providerStateRequested:!1,chainId:"",networkVersion:""},xu(`[SDKProvider: constructor()] autoRequestAccounts=${n0}`),this.state.autoRequestAccounts=n0}forceInitializeState(){return a(this,void 0,void 0,function*(){return xu(`[SDKProvider: forceInitializeState()] autoRequestAccounts=${this.state.autoRequestAccounts}`),this._initializeStateAsync()})}_setConnected(){xu("[SDKProvider: _setConnected()] Setting connected state"),this._state.isConnected=!0}getState(){return this._state}getSDKProviderState(){return this.state}getSelectedAddress(){var r;const{accounts:t0}=this._state;return t0&&t0.length!==0?((r=t0[0])===null||r===void 0?void 0:r.toLowerCase())||"":(xu("[SDKProvider: getSelectedAddress] No accounts found"),null)}getChainId(){return this.state.chainId}getNetworkVersion(){return this.state.networkVersion}setSDKProviderState(r){this.state=Object.assign(Object.assign({},this.state),r)}handleAccountsChanged(r,t0){return this._handleAccountsChanged(r,t0)}handleDisconnect({terminate:r=!1}){(function({terminate:t0=!1,instance:n0}){const{state:r0}=n0;xu(`[SDKProvider: handleDisconnect()] cleaning up provider state terminate=${t0}`,n0),t0&&(n0._state.accounts=null,n0._state.isUnlocked=!1,n0._state.isPermanentlyDisconnected=!0,n0._state.initialized=!1),n0._handleAccountsChanged([]),n0._state.isConnected=!1,n0.emit("disconnect",Mu.ethErrors.provider.disconnected()),r0.providerStateRequested=!1})({terminate:r,instance:this})}_initializeStateAsync(){return a(this,void 0,void 0,function*(){return function(r){var t0,n0;return a(this,void 0,void 0,function*(){r.state===void 0&&(r.state={accounts:null,autoRequestAccounts:!1,providerStateRequested:!1,chainId:""});const{state:r0}=r;let i0;if(r0.providerStateRequested)xu("[SDKProvider: initializeStateAsync()] initialization already in progress");else{let o0;r0.providerStateRequested=!0;let s0=null,a0=!1,c0=!1;const l0=yield Wu({enabled:!0});if(l0){const u0=yield l0.getPersistedChannelConfig({});a0=(t0=u0?.relayPersistence)!==null&&t0!==void 0&&t0,o0=yield l0.getCachedChainId();const h0=yield l0.getCachedAccounts();h0.length>0&&(s0=h0[0])}if(xu(`[SDKProvider: initializeStateAsync()] relayPersistence=${a0}`,{relayPersistence:a0,cachedChainId:o0,cachedSelectedAddress:s0}),a0)if(o0&&s0)i0={accounts:[s0],chainId:o0,isUnlocked:!1},c0=!0;else try{i0=yield r.request({method:"metamask_getProviderState"})}catch(u0){return r._log.error("MetaMask: Failed to get initial state. Please report this bug.",u0),void(r0.providerStateRequested=!1)}if(((n0=i0?.accounts)===null||n0===void 0?void 0:n0.length)===0)if(r.getSelectedAddress())i0.accounts=[r.getSelectedAddress()];else{xu("[SDKProvider: initializeStateAsync()] Fetch accounts remotely.");const u0=yield r.request({method:"eth_requestAccounts",params:[]});i0.accounts=u0}r._initializeState(i0),r0.providerStateRequested=!1,c0&&(r._state.isConnected=!0,r.emit("connect",{chainId:i0?.chainId}))}})}(this)})}_initializeState(r){return xu("[SDKProvider: _initializeState()]",r),function(t0,n0,r0){return xu("[SDKProvider: initializeState()] set state._initialized to false"),t0._state.initialized=!1,n0(r0)}(this,super._initializeState.bind(this),r)}_handleChainChanged({chainId:r,networkVersion:t0}={}){this.state.chainId=r,this.state.networkVersion=t0,function({instance:n0,chainId:r0,networkVersion:i0,superHandleChainChanged:o0}){xu(`[SDKProvider: handleChainChanged()] chainId=${r0} networkVersion=${i0}`);let s0=i0;i0||(xu("[SDKProvider: handleChainChanged()] forced network version to prevent provider error"),s0="1"),n0._state.isConnected=!0,n0.emit("connect",{chainId:r0}),o0({chainId:r0,networkVersion:s0})}({instance:this,chainId:r,networkVersion:t0,superHandleChainChanged:super._handleChainChanged.bind(this)})}}var Gu,Yu={name:"@metamask/sdk",version:"0.32.1",description:"",homepage:"https://github.com/MetaMask/metamask-sdk#readme",bugs:{url:"https://github.com/MetaMask/metamask-sdk/issues"},repository:{type:"git",url:"https://github.com/MetaMask/metamask-sdk",directory:"packages/sdk"},main:"dist/node/cjs/metamask-sdk.js",module:"dist/browser/es/metamask-sdk.js",browser:"dist/browser/es/metamask-sdk.js",unpkg:"dist/browser/umd/metamask-sdk.js","react-native":"dist/react-native/es/metamask-sdk.js",types:"dist/types/src/index.d.ts",sideEffects:!1,files:["/dist"],scripts:{"build:types":"tsc --project tsconfig.build.json --emitDeclarationOnly --outDir dist/types",build:"yarn build:types && rollup -c --bundleConfigAsCjs","build:clean":"yarn clean && yarn build","build:post-tsc":"echo 'N/A'","build:pre-tsc":"echo 'N/A'",typecheck:"tsc --noEmit",clean:"rimraf ./dist",size:"node bundle-size && size-limit",lint:"yarn lint:eslint && yarn lint:misc --check","lint:changelog":"../../scripts/validate-changelog.sh @metamask/sdk","lint:eslint":"eslint . --cache --ext js,ts","lint:fix":"yarn lint:eslint --fix && yarn lint:misc --write","lint:misc":"prettier '**/*.json' '**/*.md' '!CHANGELOG.md' --ignore-path ../../.gitignore",prepack:"../../scripts/prepack.sh","publish:preview":"yarn npm publish --tag preview",reset:"yarn clean && rimraf ./node_modules/",test:'jest --testPathIgnorePatterns "/e2e/"',"test:coverage":'jest --coverage --testPathIgnorePatterns "/e2e/"',"test:e2e":'jest --testPathPattern "/e2e/"',"test:ci":'jest --coverage --passWithNoTests --setupFilesAfterEnv ./jest-preload.js --testPathIgnorePatterns "/e2e/"',"test:dev":'jest -c ./jest.config.ts --detectOpenHandles  --testPathIgnorePatterns "/e2e/"',watch:"rollup -c -w",dev:'concurrently "tsc --watch" "rollup -c -w --bundleConfigAsCjs"',"build:dev":"yarn build:types && NODE_ENV=dev rollup -c --bundleConfigAsCjs"},dependencies:{"@babel/runtime":"^7.26.0","@metamask/onboarding":"^1.0.1","@metamask/providers":"16.1.0","@metamask/sdk-communication-layer":"workspace:*","@metamask/sdk-install-modal-web":"workspace:*","@paulmillr/qr":"^0.2.1",bowser:"^2.9.0","cross-fetch":"^4.0.0",debug:"^4.3.4",eciesjs:"^0.4.11","eth-rpc-errors":"^4.0.3",eventemitter2:"^6.4.9","obj-multiplex":"^1.0.0",pump:"^3.0.0","readable-stream":"^3.6.2","socket.io-client":"^4.5.1",tslib:"^2.6.0",util:"^0.12.4",uuid:"^8.3.2"},devDependencies:{"@jest/globals":"^29.3.1","@lavamoat/allow-scripts":"^2.3.1","@metamask/auto-changelog":"3.1.0","@metamask/eslint-config":"^6.0.0","@metamask/eslint-config-nodejs":"^6.0.0","@metamask/eslint-config-typescript":"^6.0.0","@react-native-async-storage/async-storage":"^1.19.6","@rollup/plugin-alias":"^5.1.1","@rollup/plugin-commonjs":"^25.0.7","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.2","@rollup/plugin-replace":"^6.0.1","@rollup/plugin-terser":"^0.4.1","@size-limit/preset-big-lib":"^11.0.2","@types/dom-screen-wake-lock":"^1.0.2","@types/node":"^20.1.3","@types/pump":"^1.1.1","@types/qrcode-terminal":"^0.12.0","@types/uuid":"^10.0.0","@typescript-eslint/eslint-plugin":"^4.26.0","@typescript-eslint/parser":"^4.26.0","browserify-zlib":"^0.2.0",buffer:"^6.0.3",concurrently:"^9.1.2","crypto-browserify":"^3.12.0",eslint:"^7.30.0","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.23.4","eslint-plugin-jest":"^24.4.0","eslint-plugin-jsdoc":"^36.1.0","eslint-plugin-node":"^11.1.0","eslint-plugin-prettier":"^3.4.0","https-browserify":"^1.0.0",jest:"^29.3.1","jest-environment-jsdom":"^29.3.1",prettier:"^2.3.0",process:"^0.11.10",rimraf:"^4.4.0",rollup:"^4.26.0","rollup-plugin-analyzer":"^4.0.0","rollup-plugin-jscc":"^2.0.0","rollup-plugin-natives":"^0.7.5","rollup-plugin-node-builtins":"^2.1.2","rollup-plugin-polyfill-node":"^0.13.0","rollup-plugin-sizes":"^1.0.6","rollup-plugin-typescript2":"^0.31.2","rollup-plugin-visualizer":"^5.12.0","size-limit":"^11.0.2","stream-browserify":"^3.0.0","stream-http":"^3.2.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^4.3.2",url:"^0.11.0",webpack:"^5.0.0"},publishConfig:{access:"public",registry:"https://registry.npmjs.org/"},lavamoat:{allowScripts:{"eciesjs>secp256k1":!1,"socket.io-client>engine.io-client>ws>bufferutil":!1,"socket.io-client>engine.io-client>ws>utf-8-validate":!1,"@metamask/sdk-communication-layer>bufferutil":!1,"@metamask/sdk-communication-layer>eciesjs>secp256k1":!1,"@metamask/sdk-communication-layer>utf-8-validate":!1}}};(function(e0){e0.INPAGE="metamask-inpage",e0.CONTENT_SCRIPT="metamask-contentscript",e0.PROVIDER="metamask-provider"})(Gu||(Gu={}));const Zu="direct",Ju="https://metamask.app.link/connect",Xu="metamask://connect",Qu={NAME:"MetaMask",RDNS:["io.metamask","io.metamask.flask"]},eh=/(?:^[a-f0-9]{8}-[a-f0-9]{4}-4[a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}$)|(?:^0{8}-0{4}-0{4}-0{4}-0{12}$)/u,th={METAMASK_GETPROVIDERSTATE:"metamask_getProviderState",METAMASK_CONNECTSIGN:"metamask_connectSign",METAMASK_CONNECTWITH:"metamask_connectWith",METAMASK_OPEN:"metamask_open",METAMASK_BATCH:"metamask_batch",PERSONAL_SIGN:"personal_sign",WALLET_REQUESTPERMISSIONS:"wallet_requestPermissions",WALLET_REVOKEPERMISSIONS:"wallet_revokePermissions",WALLET_GETPERMISSIONS:"wallet_getPermissions",WALLET_WATCHASSET:"wallet_watchAsset",WALLET_ADDETHEREUMCHAIN:"wallet_addEthereumChain",WALLET_SWITCHETHETHEREUMCHAIN:"wallet_switchEthereumChain",ETH_REQUESTACCOUNTS:"eth_requestAccounts",ETH_ACCOUNTS:"eth_accounts",ETH_CHAINID:"eth_chainId",ETH_SENDTRANSACTION:"eth_sendTransaction",ETH_SIGNTYPEDDATA:"eth_signTypedData",ETH_SIGNTYPEDDATA_V3:"eth_signTypedData_v3",ETH_SIGNTYPEDDATA_V4:"eth_signTypedData_v4",ETH_SIGNTRANSACTION:"eth_signTransaction",ETH_SIGN:"eth_sign",PERSONAL_EC_RECOVER:"personal_ecRecover"},nh={[th.ETH_REQUESTACCOUNTS]:!0,[th.ETH_SENDTRANSACTION]:!0,[th.ETH_SIGNTRANSACTION]:!0,[th.ETH_SIGN]:!0,[th.PERSONAL_SIGN]:!0,[th.ETH_ACCOUNTS]:!1,[th.ETH_CHAINID]:!1,[th.PERSONAL_SIGN]:!0,[th.ETH_SIGNTYPEDDATA]:!0,[th.ETH_SIGNTYPEDDATA_V3]:!0,[th.ETH_SIGNTYPEDDATA_V4]:!0,[th.WALLET_REQUESTPERMISSIONS]:!0,[th.WALLET_GETPERMISSIONS]:!0,[th.WALLET_WATCHASSET]:!0,[th.WALLET_ADDETHEREUMCHAIN]:!0,[th.WALLET_SWITCHETHETHEREUMCHAIN]:!0,[th.METAMASK_CONNECTSIGN]:!0,[th.METAMASK_CONNECTWITH]:!0,[th.PERSONAL_EC_RECOVER]:!0,[th.METAMASK_BATCH]:!0,[th.METAMASK_OPEN]:!0},rh=Object.keys(nh).filter(e0=>nh[e0]===!0).map(e0=>e0.toLowerCase()),ih=["eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sign"].map(e0=>e0.toLowerCase()),oh=".sdk-comm",sh="providerType",ah=".MMSDK_cached_address",ch=".MMSDK_cached_chainId",lh={CHAIN_CHANGED:"chainChanged",ACCOUNTS_CHANGED:"accountsChanged",DISCONNECT:"disconnect",CONNECT:"connect",CONNECTED:"connected"},dh=1e6;var uh;(function(e0){e0.TERMINATE="terminate",e0.EXTENSION="extension",e0.INITIALIZED="initialized"})(uh||(uh={}));const hh=typeof window<"u"&&window.localStorage;function fh({instance:e0,msg:r}){return a(this,void 0,void 0,function*(){if(e0._initialized||(xu("[MetaMaskSDK: connectAndSign()] provider not ready -- wait for init()"),yield e0.init()),xu(`[MetaMaskSDK: connectAndSign()] activeProvider=${e0.activeProvider}`),!e0.activeProvider)throw new Error("SDK state invalid -- undefined provider");const t0=/^0x([0-9A-Fa-f]{2})*$/u.test(r)?r:function(n0){let r0;if(_$1!==void 0)r0=_$1.from(n0,"utf8").toString("hex");else if(typeof TextEncoder<"u"){const i0=new TextEncoder().encode(n0);r0=Array.from(i0).map(o0=>o0.toString(16).padStart(2,"0")).join("")}else{if(typeof c!="object"||!("Buffer"in c))throw new Error("Unable to convert string to hex: No available method.");r0=c.Buffer.from(n0,"utf8").toString("hex")}return`0x${r0}`}(r);return e0.activeProvider.request({method:th.METAMASK_CONNECTWITH,params:[{method:th.PERSONAL_SIGN,params:[t0]}]})})}function ph(e0){var r,t0;return a(this,void 0,void 0,function*(){xu("[MetaMaskSDK: connectWithExtensionProvider()] ",e0),e0.sdkProvider=e0.activeProvider,e0.activeProvider=window.extension,window.ethereum=window.extension;try{const n0=yield(r=window.extension)===null||r===void 0?void 0:r.request({method:"eth_requestAccounts"});xu(`[MetaMaskSDK: connectWithExtensionProvider()] accounts=${n0}`)}catch(n0){return void console.warn("[MetaMaskSDK: connectWithExtensionProvider()] can't request accounts error",n0)}localStorage.setItem(sh,"extension"),e0.extensionActive=!0,e0.emit(Fu.ProviderUpdate,uh.EXTENSION),e0.options.enableAnalytics&&((t0=e0.analytics)===null||t0===void 0||t0.send({event:_o.SDK_USE_EXTENSION}))})}function gh(e0){let r;if(_$1!==void 0)r=_$1.from(e0,"utf8").toString("base64");else if(typeof btoa=="function")r=btoa(encodeURIComponent(e0).replace(/%([0-9A-F]{2})/gu,(t0,n0)=>String.fromCharCode(parseInt(n0,16))));else{if(typeof c!="object"||!("Buffer"in c))throw new Error("Unable to base64 encode: No available method.");r=c.Buffer.from(e0,"utf8").toString("base64")}return r}function mh(e0,r,t0,n0){var r0,i0,o0,s0,a0,c0,l0,u0,h0,g0,w0,m0,S0,b0,T0,N0,x0,k0,B0,H0;return a(this,void 0,void 0,function*(){const G0=(r0=e0.state.remote)===null||r0===void 0?void 0:r0.isReady(),V0=(i0=e0.state.remote)===null||i0===void 0?void 0:i0.isConnected(),K0=(o0=e0.state.remote)===null||o0===void 0?void 0:o0.isPaused(),W0=zu.getProvider(),F0=(s0=e0.state.remote)===null||s0===void 0?void 0:s0.getChannelId(),O0=(a0=e0.state.remote)===null||a0===void 0?void 0:a0.isAuthorized(),{deeplinkProtocol:f0}=e0.state,{method:p0,data:A0,triggeredInstaller:$0}=(E0=>{var d0,_0,C0,L0;let D0;_$1.isBuffer(E0)?(D0=E0.toJSON(),D0._isBuffer=!0):D0=E0;const j0=(d0=D0?.data)===null||d0===void 0?void 0:d0.method;let z0=!1;return typeof((_0=D0?.data)===null||_0===void 0?void 0:_0.params)=="object"&&((L0=(C0=D0?.data)===null||C0===void 0?void 0:C0.params)===null||L0===void 0?void 0:L0.__triggeredInstaller)===!0&&(z0=!0,D0.data.params=D0.data.params.wrappedParams),{method:j0,data:D0,triggeredInstaller:z0}})(r);if(xu(`[RCPMS: write()] method='${p0}' isRemoteReady=${G0} channelId=${F0} isSocketConnected=${V0} isRemotePaused=${K0} providerConnected=${W0.isConnected()}`,r),!F0)return p0!==th.METAMASK_GETPROVIDERSTATE&&xu(`[RCPMS: write()] ${p0} --> channelId is undefined`),n0(new Error("disconnected"));xu(`[RCPMS: write()] remote.isPaused()=${(c0=e0.state.remote)===null||c0===void 0?void 0:c0.isPaused()} authorized=${O0} ready=${G0} socketConnected=${V0}`,r);const y0=(l0=e0.state.platformManager)===null||l0===void 0?void 0:l0.isSecure(),v0=(h0=(u0=e0.state.platformManager)===null||u0===void 0?void 0:u0.isMobileWeb())!==null&&h0!==void 0&&h0,I0=(w0=(g0=e0.state.remote)===null||g0===void 0?void 0:g0.hasDeeplinkProtocol())!==null&&w0!==void 0&&w0&&v0&&O0;try{if(!$0){const _0=JSON.stringify(A0?.data);if(_0.length>dh)return n0(new Error(`Message size ${_0.length} exceeds maximum allowed size of 1000000 bytes`));(m0=e0.state.remote)===null||m0===void 0||m0.sendMessage(A0?.data).then(()=>{xu(`[RCPMS: _write()] ${p0} sent successfully`)}).catch(C0=>{xu("[RCPMS: _write()] error sending message",C0)})}if(!y0)return xu(`[RCPMS: _write()] unsecure platform for method ${p0} -- return callback`),n0();if($0)return xu("[RCPMS: _write()] prevent deeplink -- installation completed separately."),n0();const E0=(T0=(b0=(S0=e0.state.remote)===null||S0===void 0?void 0:S0.getKeyInfo())===null||b0===void 0?void 0:b0.ecies.public)!==null&&T0!==void 0?T0:"";let d0=encodeURI(`channelId=${F0}&pubkey=${E0}&comm=socket&t=d&v=2`);if(I0){const _0=JSON.stringify(A0?.data),C0=(N0=e0.state.remote)===null||N0===void 0?void 0:N0.encrypt(_0);if(!C0)return xu("[RCPMS: _write()] error encrypting message"),n0(new Error("RemoteCommunicationPostMessageStream - disconnected"));d0+=`&scheme=${f0}&rpc=${gh(C0)}`}if(!(!((x0=e0.state.platformManager)===null||x0===void 0)&&x0.isMetaMaskInstalled()))return xu("[RCPMS: _write()] prevent deeplink until installation is completed."),n0();nh[p0]?(xu(`[RCPMS: _write()] redirect link for '${p0}' socketConnected=${V0} connect?${d0}`),(k0=e0.state.platformManager)===null||k0===void 0||k0.openDeeplink(`${Ju}?${d0}`,`${Xu}?${d0}`,"_self")):!((B0=e0.state.remote)===null||B0===void 0)&&B0.isPaused()?(xu(`[RCPMS: _write()] MM is PAUSED! deeplink with connect! targetMethod=${p0}`),(H0=e0.state.platformManager)===null||H0===void 0||H0.openDeeplink(`${Ju}?redirect=true&${d0}`,`${Xu}?redirect=true&${d0}`,"_self")):xu(`[RCPMS: _write()] method ${p0} doesn't need redirect.`)}catch(E0){return xu("[RCPMS: _write()] error sending message",E0),n0(new Error("RemoteCommunicationPostMessageStream - disconnected"))}return n0()})}class yh extends nu.Duplex{constructor({name:r,remote:t0,deeplinkProtocol:n0,platformManager:r0}){super({objectMode:!0}),this.state={_name:null,remote:null,deeplinkProtocol:!1,platformManager:null},this.state._name=r,this.state.remote=t0,this.state.deeplinkProtocol=n0,this.state.platformManager=r0,this._onMessage=this._onMessage.bind(this),this.state.remote.on(bo.MESSAGE,this._onMessage)}_write(r,t0,n0){return a(this,void 0,void 0,function*(){return mh(this,r,0,n0)})}_read(){}_onMessage(r){return function(t0,n0){try{if(xu("[RCPMS: onMessage()] message",n0),!n0||typeof n0!="object"||typeof n0?.data!="object")return;if(!n0?.name)return void xu("[RCPMS: onMessage()] ignore message without name",n0);if(n0?.name!==Gu.PROVIDER)return void xu(`[RCPMS: onMessage()] ignore message with wrong name message=${n0}`);if(_$1.isBuffer(n0)){const r0=_$1.from(n0);t0.push(r0)}else t0.push(n0)}catch(r0){xu(`[RCPMS: onMessage()] ignore message error err=${r0}`)}}(this,r)}start(){}}let vh=1;const bh=e0=>new Promise(r=>{setTimeout(()=>{r(!0)},e0)}),wh=({checkInstallationOnAllCalls:e0=!1,communicationLayerPreference:r,injectProvider:t0,shouldShimWeb3:n0,platformManager:r0,installer:i0,sdk:o0,remoteConnection:s0,debug:a0})=>a(void 0,void 0,void 0,function*(){var c0,l0;const u0=(({name:K0,remoteConnection:W0})=>{if(!W0||!W0?.getConnector())throw new Error("Missing remote connection parameter");return new yh({name:K0,remote:W0?.getConnector(),deeplinkProtocol:W0?.state.deeplinkProtocol,platformManager:W0?.getPlatformManager()})})({name:Gu.INPAGE,target:Gu.CONTENT_SCRIPT,platformManager:r0,communicationLayerPreference:r,remoteConnection:s0}),h0=r0.getPlatformType(),g0=o0.options.dappMetadata,w0=`Sdk/Javascript SdkVersion/${Yu.version} Platform/${h0} dApp/${(c0=g0.url)!==null&&c0!==void 0?c0:g0.name} dAppTitle/${g0.name}`;let m0=null,S0=null;const b0=(l0=o0.options.storage)===null||l0===void 0?void 0:l0.storageManager;if(b0){try{const K0=yield b0.getCachedAccounts();K0.length>0&&(m0=K0[0])}catch(K0){console.error(`[initializeMobileProvider] failed to get cached addresses: ${K0}`)}try{const K0=yield b0.getCachedChainId();K0&&(S0=K0)}catch(K0){console.error(`[initializeMobileProvider] failed to parse cached chainId: ${K0}`)}}xu(`[initializeMobileProvider] cachedAccountAddress: ${m0}, cachedChainId: ${S0}`);const T0=!(!t0||h0===Bo.NonBrowser||h0===Bo.ReactNative),N0=zu.init({shouldSetOnWindow:T0,connectionStream:u0,shouldShimWeb3:n0,sdkInstance:o0});let x0=!1;const k0=K0=>{x0=K0},B0=()=>x0,H0=(K0,W0,F0,O0)=>a(void 0,void 0,void 0,function*(){var f0,p0,A0,$0,y0,v0,I0,E0,d0;const _0=zu.getProvider();if(x0){_0.emit("display_uri",s0?.state.qrcodeLink||""),s0?.showActiveModal();let J0=B0();for(;J0;){const yg=B0(),_g=s0?.isAuthorized();J0=yg&&!_g,xu(`[initializeMobileProvider: sendRequest()] waiting for initialization to complete - initializing: ${yg} authorized: ${_g}`),yield bh(1e3)}return xu("[initializeMobileProvider: sendRequest()] initial method completed -- prevent installation and call provider"),F0(...W0)}const C0=r0.isMetaMaskInstalled(),L0=s0?.isConnected();let D0=null,j0=null,z0=null;if(D0=(f0=_0.getSelectedAddress())!==null&&f0!==void 0?f0:m0,z0=_0.getChainId()||S0,D0&&b0&&D0!==m0&&b0.persistAccounts([D0]).catch(J0=>{console.error(`[initializeMobileProvider] failed to persist account: ${J0}`)}),z0&&(S0=z0,b0&&b0.persistChainId(z0).catch(J0=>{console.error(`[initializeMobileProvider] failed to persist chainId: ${J0}`)})),xu("[initializeMobileProvider: sendRequest()]",{selectedAddress:D0,chainId:z0}),O0&&xu(`[initializeMobileProvider: sendRequest()] method=${K0} ongoing=${x0} selectedAddress=${D0} isInstalled=${C0} checkInstallationOnAllCalls=${e0} socketConnected=${L0}`),D0&&K0.toLowerCase()===th.ETH_ACCOUNTS.toLowerCase())return[D0];if(z0&&K0.toLowerCase()===th.ETH_CHAINID.toLowerCase())return z0;const Y0=[th.ETH_REQUESTACCOUNTS,th.WALLET_REQUESTPERMISSIONS,th.METAMASK_CONNECTSIGN,th.METAMASK_CONNECTWITH],Z0=!nh[K0],X0=(p0=o0.options.readonlyRPCMap)===null||p0===void 0?void 0:p0[z0];if(X0&&Z0)try{const J0=(A0=W0?.[0])===null||A0===void 0?void 0:A0.params,yg=yield(({rpcEndpoint:_g,method:vg,sdkInfo:bg,params:wg})=>a(void 0,void 0,void 0,function*(){const Eg=JSON.stringify({jsonrpc:"2.0",method:vg,params:wg,id:(vh+=1,vh)}),Ag={Accept:"application/json","Content-Type":"application/json"};let Ig;_g.includes("infura")&&(Ag["Metamask-Sdk-Info"]=bg);try{Ig=yield e(_g,{method:"POST",headers:Ag,body:Eg})}catch(Sg){throw Sg instanceof Error?new Error(`Failed to fetch from RPC: ${Sg.message}`):new Error(`Failed to fetch from RPC: ${Sg}`)}if(!Ig.ok)throw new Error(`Server responded with a status of ${Ig.status}`);return(yield Ig.json()).result}))({rpcEndpoint:X0,sdkInfo:w0,method:K0,params:J0||[]});return O0&&xu(`initializeProvider::ReadOnlyRPCResponse ${yg}`),yg}catch(J0){console.warn(`[initializeMobileProvider: sendRequest()] method=${K0} readOnlyRPCRequest failed:`,J0)}if((!C0||C0&&!L0)&&K0!==th.METAMASK_GETPROVIDERSTATE){const J0=(($0=W0?.[0])===null||$0===void 0?void 0:$0.params)||[];if(Y0.indexOf(K0)!==-1||e0){k0(!0);const yg=K0===th.METAMASK_CONNECTWITH,_g=`${Date.now()}`;try{yield i0.start({wait:!1,connectWith:yg?{method:K0,id:_g,params:J0}:void 0}),yield new Promise((vg,bg)=>{s0?.isAuthorized()&&(xu("[initializeMobileProvider: sendRequest()] already authorized"),vg(!0)),s0?.getConnector().once(bo.AUTHORIZED,()=>{vg(!0)}),o0.once(bo.PROVIDER_UPDATE,wg=>{xu(`[initializeMobileProvider: sendRequest()] PROVIDER_UPDATE --- remote provider request interupted type=${wg}`),wg===uh.EXTENSION?bg(bo.PROVIDER_UPDATE):bg(new Error("Connection Terminated"))})})}catch(vg){if(uh.EXTENSION===vg){if(xu(`[initializeMobileProvider: sendRequest()] extension provider detect: re-create ${K0} on the active provider`),K0.toLowerCase()===th.METAMASK_CONNECTSIGN.toLowerCase()){const bg=yield(y0=o0.getProvider())===null||y0===void 0?void 0:y0.request({method:th.ETH_REQUESTACCOUNTS,params:[]});if(!bg.length)throw new Error("SDK state invalid -- undefined accounts");const wg=yield(v0=o0.getProvider())===null||v0===void 0?void 0:v0.request({method:th.PERSONAL_SIGN,params:[J0[0],bg[0]]});return o0.emit(Fu.ConnectWithResponse,wg),wg}if(K0.toLowerCase()===th.METAMASK_CONNECTWITH.toLowerCase()){const[bg]=J0,wg=yield(({method:Eg,sdk:Ag,params:Ig})=>a(void 0,void 0,void 0,function*(){var Sg,Ng,Rg,Mg;if(!Ag.isExtensionActive())throw new Error("SDK state invalid -- extension is not active");xu("[MetaMaskProvider: extensionConnectWithOverwrite()] Overwriting request method",Eg,Ig);const Dg=yield(Sg=Ag.getProvider())===null||Sg===void 0?void 0:Sg.request({method:th.ETH_REQUESTACCOUNTS,params:[]});if(!Dg.length)throw new Error("SDK state invalid -- undefined accounts");if(Eg?.toLowerCase()===th.PERSONAL_SIGN.toLowerCase()){const Lg={method:Eg,params:[Ig[0],Dg[0]]};return yield(Ng=Ag.getProvider())===null||Ng===void 0?void 0:Ng.request(Lg)}if(Eg?.toLowerCase()===th.ETH_SENDTRANSACTION.toLowerCase()){const Lg={method:Eg,params:[Object.assign(Object.assign({},Ig[0]),{from:Dg[0]})]};return yield(Rg=Ag.getProvider())===null||Rg===void 0?void 0:Rg.request(Lg)}return ih.includes(Eg.toLowerCase())?(console.warn(`MetaMaskSDK connectWith method=${Eg} -- not handled by the extension -- call separately`),Dg):yield(Mg=Ag.getProvider())===null||Mg===void 0?void 0:Mg.request({method:Eg,params:Ig})}))({method:bg.method,sdk:o0,params:bg.params});return o0.emit(Fu.ConnectWithResponse,wg),wg}return xu(`[initializeMobileProvider: sendRequest()] sending '${K0}' on active provider`,J0),yield(I0=o0.getProvider())===null||I0===void 0?void 0:I0.request({method:K0,params:J0})}throw vg===bo.REJECTED?(s0?.closeModal(),(E0=o0.getProvider())===null||E0===void 0||E0.handleDisconnect({terminate:!1}),Object.assign(new Error("User rejected connection"),{code:4001})):(xu(`[initializeMobileProvider: sendRequest()] failed to start installer: ${vg}`),vg)}finally{k0(!1)}if(K0===th.ETH_REQUESTACCOUNTS)return j0=yield new Promise(vg=>{const bg=setInterval(()=>{const{accounts:wg}=_0.getState();wg&&(clearInterval(bg),vg(wg))},100)}),xu(`[initializeMobileProvider: sendRequest()] selectedAddress: ${D0} --- SKIP rpc call`),j0;if(K0===th.METAMASK_CONNECTWITH)try{let vg=0;const bg=5,wg=({resolve:Sg,reject:Ng})=>{vg+=1;const Rg=s0?.getConnector().getRPCMethodTracker(),Mg=Rg?.[_g];return xu(`TRACKER: update method ${_g}`,Mg),Mg?.result?(xu("[initializeMobileProvider: sendRequest()] found result",Mg.result),o0.emit(Fu.ConnectWithResponse,Mg.result),void Sg(Mg.result)):Mg?.error?(xu("[initializeMobileProvider: sendRequest()] found error",Mg.error),void Ng(Mg.error)):vg>=bg?(xu("[initializeMobileProvider: sendRequest()] max message count reached without result"),void Ng(new Error("Max message count reached without result"))):void xu("[initializeMobileProvider: sendRequest()] not found yet, need to wait for next update")};let Eg,Ag;const Ig=yield new Promise((Sg,Ng)=>{const Rg=s0?.getConnector().getRPCMethodTracker();xu(`TRACKER: method ${_g}`,Rg),Rg?.[_g].result?(xu("[initializeMobileProvider: sendRequest()] found result",Rg?.[_g].result),Sg(Rg?.[_g].result)):Rg?.[_g].error&&(xu("[initializeMobileProvider: sendRequest()] found error",Rg?.[_g].error),Ng(Rg?.[_g].error)),Ag=()=>wg({resolve:Sg,reject:Ng}),Eg=s0?.getConnector().on(bo.RPC_UPDATE,Ag)});return Ag&&Eg?.off(bo.RPC_UPDATE,Ag),xu("TRACKER: result",Ig),Ig}catch(vg){throw xu("[initializeMobileProvider: sendRequest()] error:",vg),vg}return W0[0]&&typeof W0[0]=="object"&&(W0[0].params={__triggeredInstaller:!0,wrappedParams:W0[0].params}),F0(...W0)}if(r0.isSecure()&&nh[K0])return F0(...W0);if(o0.isExtensionActive())return xu(`[initializeMobileProvider: sendRequest()] EXTENSION active - redirect request '${K0}' to it`,W0,J0),yield(d0=o0.getProvider())===null||d0===void 0?void 0:d0.request({method:K0,params:J0});throw xu(`[initializeMobileProvider: sendRequest()] method=${K0} --- skip --- not connected/installed`),new Error("MetaMask is not connected/installed, please call eth_requestAccounts to connect first.")}try{const J0=yield F0(...W0);if(xu(`[initializeMobileProvider: sendRequest()] method=${K0} rpcResponse`,J0),K0===th.WALLET_REQUESTPERMISSIONS){const yg=J0.reduce((_g,vg)=>{var bg;if(vg.parentCapability==="eth_accounts"){const wg=(bg=vg.caveats.find(Eg=>Eg.type==="restrictReturnedAccounts"))===null||bg===void 0?void 0:bg.value;wg&&_g.push(...wg)}return _g},[]);xu("[initializeMobileProvider: sendRequest()] accountsToPersist:",yg),yg.length>0&&(_0.handleAccountsChanged(yg,!1),b0?.persistAccounts(yg))}return J0}catch(J0){throw console.error("[initializeMobileProvider: sendRequest()] error:",J0),J0}}),{request:G0}=N0;N0.request=(...K0)=>a(void 0,void 0,void 0,function*(){return H0(K0?.[0].method,K0,G0,a0)});const{send:V0}=N0;return N0.send=(...K0)=>a(void 0,void 0,void 0,function*(){return H0(K0?.[0],K0,V0,a0)}),xu("[initializeMobileProvider: sendRequest()] metamaskStream.start()"),u0.start(),N0});function Eh(e0){var r,t0,n0,r0;return a(this,void 0,void 0,function*(){const{options:i0}=e0,o0={communicationLayerPreference:(r=i0.communicationLayerPreference)!==null&&r!==void 0?r:Do.SOCKET,platformManager:e0.platformManager,sdk:e0,checkInstallationOnAllCalls:i0.checkInstallationOnAllCalls,injectProvider:(t0=i0.injectProvider)===null||t0===void 0||t0,shouldShimWeb3:(n0=i0.shouldShimWeb3)===null||n0===void 0||n0,extensionOnly:(r0=i0.extensionOnly)===null||r0===void 0||r0,installer:e0.installer,remoteConnection:e0.remoteConnection,debug:e0.debug},s0=yield wh(o0);e0.activeProvider=s0,function(a0){var c0,l0,u0,h0;(l0=(c0=a0.remoteConnection)===null||c0===void 0?void 0:c0.getConnector())===null||l0===void 0||l0.on(Fu.ConnectionStatus,g0=>{a0.emit(Fu.ConnectionStatus,g0)}),(h0=(u0=a0.remoteConnection)===null||u0===void 0?void 0:u0.getConnector())===null||h0===void 0||h0.on(Fu.ServiceStatus,g0=>{a0.emit(Fu.ServiceStatus,g0)})}(e0)})}const Sh="sdk";class _h{constructor({serverUrl:r,enabled:t0,originatorInfo:n0}){this.serverURL=ho,this.serverURL=r,this.originatorInfo=n0,this.enabled=t0==null||t0}send({event:r,params:t0}){if(!this.enabled)return;const n0=Object.assign(Object.assign({id:Sh,event:r,sdkVersion:Yu.version},this.originatorInfo),{params:t0});xu(`[Analytics: send()] event: ${r}`,n0),co(n0,this.serverURL).catch(r0=>{xu(`[Analytics: send()] error: ${r0}`)})}}const Ch=()=>{if(typeof document>"u")return;let e0;const r=document.getElementsByTagName("link");for(let t0=0;t0<r.length;t0++)r[t0].getAttribute("rel")!=="icon"&&r[t0].getAttribute("rel")!=="shortcut icon"||(e0=r[t0].getAttribute("href"));return e0},kh=163400;function xh(e0){var r,t0,n0;const{dappMetadata:r0}=e0,i0=function({url:l0,name:u0}){var h0;const g0=l0+u0,w0=gh(g0);if(!localStorage)return"";let m0=(h0=localStorage.getItem(w0))!==null&&h0!==void 0?h0:"";if(!m0){m0=v4();try{localStorage.setItem(w0,m0)}catch{return""}}return m0}({url:(r=r0?.url)!==null&&r!==void 0?r:"no_url",name:(t0=r0?.name)!==null&&t0!==void 0?t0:"no_name"}),o0=(n0=e0.platformManager)===null||n0===void 0?void 0:n0.getPlatformType(),s0=o0===Bo.DesktopWeb,a0=o0===Bo.MetaMaskMobileWebview;let c0="N/A";return s0?c0="extension":a0&&(c0="mobile"),{id:i0,from:c0}}const Mh=({provider:e0,sdkInstance:r})=>{if("state"in e0)throw new Error("INVALID EXTENSION PROVIDER");return new Proxy(e0,{get:(t0,n0)=>n0==="request"?function(r0){var i0,o0;return a(this,void 0,void 0,function*(){xu("[wrapExtensionProvider()] Overwriting request method",r0);const{method:s0,params:a0}=r0,c0=rh.includes(s0.toLowerCase()),{id:l0,from:u0}=xh(r);if(c0&&((i0=r.analytics)===null||i0===void 0||i0.send({event:_o.SDK_RPC_REQUEST,params:{method:s0,from:u0,id:l0}})),s0===th.METAMASK_BATCH&&Array.isArray(a0))return(({target:g0,args:w0,trackEvent:m0,sdkInstance:S0})=>a(void 0,void 0,void 0,function*(){var b0,T0;if(w0.method!=="metamask_batch")throw new Error("Invalid usage");const N0=[],x0=(b0=w0?.params)!==null&&b0!==void 0?b0:[];for(const H0 of x0){const G0=yield g0?.request({method:H0.method,params:H0.params});N0.push(G0)}const{id:k0,from:B0}=xh(S0);return m0&&((T0=S0.analytics)===null||T0===void 0||T0.send({event:_o.SDK_RPC_REQUEST_DONE,params:{method:w0.method,from:B0,id:k0}})),N0}))({target:t0,args:r0,trackEvent:c0,sdkInstance:r});if(s0.toLowerCase()===th.METAMASK_CONNECTSIGN.toLowerCase()&&Array.isArray(a0))return(({target:g0,params:w0})=>a(void 0,void 0,void 0,function*(){const m0=yield g0.request({method:th.ETH_REQUESTACCOUNTS,params:[]});if(!m0.length)throw new Error("SDK state invalid -- undefined accounts");return yield g0.request({method:th.PERSONAL_SIGN,params:[w0[0],m0[0]]})}))({target:t0,params:a0});if(s0.toLowerCase()===th.METAMASK_CONNECTWITH.toLowerCase()&&Array.isArray(a0))return(({target:g0,params:w0})=>a(void 0,void 0,void 0,function*(){const[m0]=w0,S0=m0.method,b0=m0.params,T0=yield g0.request({method:th.ETH_REQUESTACCOUNTS,params:[]});if(!T0.length)throw new Error("SDK state invalid -- undefined accounts");return S0?.toLowerCase()===th.PERSONAL_SIGN.toLowerCase()?yield g0.request({method:S0,params:[b0[0],T0[0]]}):S0?.toLowerCase()===th.ETH_SENDTRANSACTION.toLowerCase()?yield g0.request({method:S0,params:[Object.assign(Object.assign({},b0[0]),{from:T0[0]})]}):ih.includes(S0.toLowerCase())?(console.warn(`MetaMaskSDK connectWith method=${S0} -- not handled by the extension -- call separately`),T0):yield g0.request({method:S0,params:b0})}))({target:t0,params:a0});let h0;try{return h0=yield t0.request(r0),h0}finally{c0&&((o0=r.analytics)===null||o0===void 0||o0.send({event:_o.SDK_RPC_REQUEST_DONE,params:{method:s0,from:u0,id:l0}}))}})}:n0==="getChainId"?function(){return e0.chainId}:n0==="getNetworkVersion"?function(){return e0.networkVersion}:n0==="getSelectedAddress"?function(){return e0.selectedAddress}:n0==="isConnected"?function(){return e0._state.isConnected}:t0[n0]})};var Ah;function Ih({mustBeMetaMask:e0,sdkInstance:r}){return a(this,void 0,void 0,function*(){if(typeof window>"u")throw new Error("window not available");try{const t0=yield new Promise((n0,r0)=>{const i0=setTimeout(()=>{r0(new Error("eip6963RequestProvider timed out"))},500);window.addEventListener(Ah.Announce,o0=>{const s0=o0,{detail:{info:a0,provider:c0}={}}=s0,{name:l0,rdns:u0,uuid:h0}=a0??{};eh.test(h0)&&l0.startsWith(Qu.NAME)&&Qu.RDNS.includes(u0)&&(clearTimeout(i0),n0(c0))}),window.dispatchEvent(new Event(Ah.Request))});return Mh({provider:t0,sdkInstance:r})}catch{if(!e0&&window.ethereum)return Mh({provider:window.ethereum,sdkInstance:r});throw new Error("Provider not found")}})}(function(e0){e0.Announce="eip6963:announceProvider",e0.Request="eip6963:requestProvider"})(Ah||(Ah={}));const Rh=e0=>a(void 0,void 0,void 0,function*(){const{options:r}=e0,{infuraAPIKey:t0}=r;if(!t0)return;const n0={"0x1":`https://mainnet.infura.io/v3/${t0}`,"0x5":`https://goerli.infura.io/v3/${t0}`,"0xaa36a7":`https://sepolia.infura.io/v3/${t0}`,"0xe708":`https://linea-mainnet.infura.io/v3/${t0}`,"0xe704":`https://linea-goerli.infura.io/v3/${t0}`,"0x89":`https://polygon-mainnet.infura.io/v3/${t0}`,"0x13881":`https://polygon-mumbai.infura.io/v3/${t0}`,"0x45":`https://optimism-mainnet.infura.io/v3/${t0}`,"0x1a4":`https://optimism-goerli.infura.io/v3/${t0}`,"0xa4b1":`https://arbitrum-mainnet.infura.io/v3/${t0}`,"0x66eed":`https://arbitrum-goerli.infura.io/v3/${t0}`,"0x2a15c308d":`https://palm-mainnet.infura.io/v3/${t0}`,"0x2a15c3083":`https://palm-testnet.infura.io/v3/${t0}`,"0xa86a":`https://avalanche-mainnet.infura.io/v3/${t0}`,"0xa869":`https://avalanche-fuji.infura.io/v3/${t0}`,"0x4e454152":`https://aurora-mainnet.infura.io/v3/${t0}`,"0x4e454153":`https://aurora-testnet.infura.io/v3/${t0}`,"0x534e5f4d41494e":`https://starknet-mainnet.infura.io/v3/${t0}`,"0x534e5f474f45524c49":`https://starknet-goerli.infura.io/v3/${t0}`,"0x534e5f474f45524c4932":`https://starknet-goerli2.infura.io/v3/${t0}`,"0xa4ec":`https://celo-mainnet.infura.io/v3/${t0}`,"0xaef3":`https://celo-alfajores.infura.io/v3/${t0}`};e0.options.readonlyRPCMap?e0.options.readonlyRPCMap=Object.assign(Object.assign({},e0.options.readonlyRPCMap),n0):e0.options.readonlyRPCMap=n0}),Ph=e0=>a(void 0,void 0,void 0,function*(){const{options:r}=e0,{readonlyRPCMap:t0}=r;if(t0)try{xu("[MetaMaskSDK: setupReadOnlyRPCProviders()] Setting up Readonly RPC Providers",t0),e0.setReadOnlyRPCCalls(!0)}catch{throw new Error("Invalid Infura Settings")}});function Th(e0,r,t0,n0){return new(t0||(t0=Promise))(function(r0,i0){function o0(c0){try{a0(n0.next(c0))}catch(l0){i0(l0)}}function s0(c0){try{a0(n0.throw(c0))}catch(l0){i0(l0)}}function a0(c0){var l0;c0.done?r0(c0.value):(l0=c0.value,l0 instanceof t0?l0:new t0(function(u0){u0(l0)})).then(o0,s0)}a0((n0=n0.apply(e0,[])).next())})}function Oh(e0,r){var t0,n0,r0,i0,o0={label:0,sent:function(){if(1&r0[0])throw r0[1];return r0[1]},trys:[],ops:[]};return i0={next:s0(0),throw:s0(1),return:s0(2)},typeof Symbol=="function"&&(i0[Symbol.iterator]=function(){return this}),i0;function s0(a0){return function(c0){return function(l0){if(t0)throw new TypeError("Generator is already executing.");for(;o0;)try{if(t0=1,n0&&(r0=2&l0[0]?n0.return:l0[0]?n0.throw||((r0=n0.return)&&r0.call(n0),0):n0.next)&&!(r0=r0.call(n0,l0[1])).done)return r0;switch(n0=0,r0&&(l0=[2&l0[0],r0.value]),l0[0]){case 0:case 1:r0=l0;break;case 4:return o0.label++,{value:l0[1],done:!1};case 5:o0.label++,n0=l0[1],l0=[0];continue;case 7:l0=o0.ops.pop(),o0.trys.pop();continue;default:if(r0=o0.trys,!((r0=r0.length>0&&r0[r0.length-1])||l0[0]!==6&&l0[0]!==2)){o0=0;continue}if(l0[0]===3&&(!r0||l0[1]>r0[0]&&l0[1]<r0[3])){o0.label=l0[1];break}if(l0[0]===6&&o0.label<r0[1]){o0.label=r0[1],r0=l0;break}if(r0&&o0.label<r0[2]){o0.label=r0[2],o0.ops.push(l0);break}r0[2]&&o0.ops.pop(),o0.trys.pop();continue}l0=r.call(e0,o0)}catch(u0){l0=[6,u0],n0=0}finally{t0=r0=0}if(5&l0[0])throw l0[1];return{value:l0[0]?l0[1]:void 0,done:!0}}([a0,c0])}}}var Lh="INSTALLED",Nh="NOT_INSTALLED",$h="REGISTERED",Dh="REGISTERING",Bh="RELOADING",Kh={CHROME:"https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn",FIREFOX:"https://addons.mozilla.org/firefox/addon/ether-metamask/",DEFAULT:"https://metamask.io"},jh="REGISTRATION_IN_PROGRESS",Uh="FORWARDER_ID",Hh=function(){function e0(r){var t0=r===void 0?{}:r,n0=t0.forwarderOrigin,r0=n0===void 0?"https://fwd.metamask.io":n0,i0=t0.forwarderMode,o0=i0===void 0?e0.FORWARDER_MODE.INJECT:i0;this.forwarderOrigin=r0,this.forwarderMode=o0,this.state=e0.isMetaMaskInstalled()?Lh:Nh;var s0=e0._detectBrowser();this.downloadUrl=s0?Kh[s0]:Kh.DEFAULT,this._onMessage=this._onMessage.bind(this),this._onMessageFromForwarder=this._onMessageFromForwarder.bind(this),this._openForwarder=this._openForwarder.bind(this),this._openDownloadPage=this._openDownloadPage.bind(this),this.startOnboarding=this.startOnboarding.bind(this),this.stopOnboarding=this.stopOnboarding.bind(this),window.addEventListener("message",this._onMessage),o0===e0.FORWARDER_MODE.INJECT&&sessionStorage.getItem(jh)==="true"&&e0._injectForwarder(this.forwarderOrigin)}return e0.prototype._onMessage=function(r){if(r.origin===this.forwarderOrigin)return r.data.type==="metamask:reload"?this._onMessageFromForwarder(r):void console.debug("Unknown message from '"+r.origin+"' with data "+JSON.stringify(r.data))},e0.prototype._onMessageUnknownStateError=function(r){throw new Error("Unknown state: '"+r+"'")},e0.prototype._onMessageFromForwarder=function(r){return Th(this,0,void 0,function(){return Oh(this,function(t0){switch(t0.label){case 0:switch(this.state){case Bh:return[3,1];case Nh:return[3,2];case Lh:return[3,3];case Dh:return[3,5];case $h:return[3,6]}return[3,7];case 1:return console.debug("Ignoring message while reloading"),[3,8];case 2:return console.debug("Reloading now to register with MetaMask"),this.state=Bh,location.reload(),[3,8];case 3:return console.debug("Registering with MetaMask"),this.state=Dh,[4,e0._register()];case 4:return t0.sent(),this.state=$h,r.source.postMessage({type:"metamask:registrationCompleted"},r.origin),this.stopOnboarding(),[3,8];case 5:return console.debug("Already registering - ignoring reload message"),[3,8];case 6:return console.debug("Already registered - ignoring reload message"),[3,8];case 7:this._onMessageUnknownStateError(this.state),t0.label=8;case 8:return[2]}})})},e0.prototype.startOnboarding=function(){sessionStorage.setItem(jh,"true"),this._openDownloadPage(),this._openForwarder()},e0.prototype.stopOnboarding=function(){sessionStorage.getItem(jh)==="true"&&(this.forwarderMode===e0.FORWARDER_MODE.INJECT&&(console.debug("Removing forwarder"),e0._removeForwarder()),sessionStorage.setItem(jh,"false"))},e0.prototype._openForwarder=function(){this.forwarderMode===e0.FORWARDER_MODE.OPEN_TAB?window.open(this.forwarderOrigin,"_blank"):e0._injectForwarder(this.forwarderOrigin)},e0.prototype._openDownloadPage=function(){window.open(this.downloadUrl,"_blank")},e0.isMetaMaskInstalled=function(){return!!(window.ethereum&&window.ethereum.isMetaMask)},e0._register=function(){return window.ethereum.request({method:"wallet_registerOnboarding"})},e0._injectForwarder=function(r){var t0=document.body,n0=document.createElement("iframe");n0.setAttribute("height","0"),n0.setAttribute("width","0"),n0.setAttribute("style","display: none;"),n0.setAttribute("src",r),n0.setAttribute("id",Uh),t0.insertBefore(n0,t0.children[0])},e0._removeForwarder=function(){var r;(r=document.getElementById(Uh))===null||r===void 0||r.remove()},e0._detectBrowser=function(){var r=Hu.parse(window.navigator.userAgent);return r.browser.name==="Firefox"?"FIREFOX":["Chrome","Chromium"].includes(r.browser.name||"")?"CHROME":null},e0.FORWARDER_MODE={INJECT:"INJECT",OPEN_TAB:"OPEN_TAB"},e0}();function Fh(e0,{wait:r=!1}){return a(this,void 0,void 0,function*(){return xu(`[MetamaskInstaller: startInstaller()] wait=${r}`),r&&(yield bh(1e3)),yield e0.checkInstallation()})}class zh{constructor({remote:r,preferDesktop:t0,platformManager:n0,debug:r0=!1}){this.state={isInstalling:!1,hasInstalled:!1,resendRequest:null,preferDesktop:!1,platformManager:null,remote:null,debug:!1,connectWith:void 0},this.state.remote=r,this.state.preferDesktop=t0,this.state.platformManager=n0,this.state.debug=r0}startDesktopOnboarding(){return function(){return a(this,void 0,void 0,function*(){xu("[MetamaskInstaller: startDesktopOnboarding() starting desktop onboarding"),window.ethereum&&(window.ethereum=void 0),new Hh().startOnboarding()})}()}redirectToProperInstall(){return a(this,void 0,void 0,function*(){return function(r){var t0,n0;return a(this,void 0,void 0,function*(){const{state:r0}=r,i0=(t0=r0.platformManager)===null||t0===void 0?void 0:t0.getPlatformType();if(xu(`[MetamaskInstaller: redirectToProperInstall()] platform=${i0}`),i0===Bo.MetaMaskMobileWebview)return!1;r0.isInstalling=!0;try{yield(n0=r0.remote)===null||n0===void 0?void 0:n0.startConnection({connectWith:r0.connectWith}),r0.isInstalling=!1,r0.hasInstalled=!0}catch(o0){throw r0.isInstalling=!1,o0}return!0})}(this)})}checkInstallation(){return a(this,void 0,void 0,function*(){return function(r){var t0;return a(this,void 0,void 0,function*(){const{state:n0}=r,r0=(t0=n0.platformManager)===null||t0===void 0?void 0:t0.isMetaMaskInstalled();return xu(`[MetamaskInstaller: checkInstallation()] isInstalled=${r0}`),!!r0||(yield r.redirectToProperInstall())})}(this)})}start({wait:r=!1,connectWith:t0}){return a(this,void 0,void 0,function*(){this.state.connectWith=t0,xu(`[MetaMaskInstaller: start()] wait=${r}`,t0),yield Fh(this,{wait:r})})}}class qh{constructor({debug:r,sdkVersion:t0}){this.containers={install:void 0,pending:void 0,select:void 0},this.defined={install:!1,pending:!1,select:!1},this.debug=r!=null&&r,this.sdkVersion=t0}loadComponent(r){return a(this,void 0,void 0,function*(){if(!this.defined[r]){this.defined[r]=!0;try{const t0=yield Promise.resolve().then(function(){return Rp});console.log("loader",t0),t0.defineCustomElements()}catch(t0){console.error(`Failed to load ${r} modal:`,t0)}}})}renderInstallModal(r){var t0;return a(this,void 0,void 0,function*(){this.debug&&console.debug("ModalLoader: renderInstallModal",r),this.containers.install=r.parentElement,yield this.loadComponent("install");const n0=document.createElement("mm-install-modal");n0.link=r.link,n0.preferDesktop=r.preferDesktop,n0.sdkVersion=(t0=r.sdkVersion)!==null&&t0!==void 0?t0:this.sdkVersion,n0.addEventListener("close",({detail:{shouldTerminate:r0}})=>r.onClose(r0)),n0.addEventListener("startDesktopOnboarding",r.metaMaskInstaller.startDesktopOnboarding),n0.addEventListener("trackAnalytics",r0=>{var i0;return(i0=r.onAnalyticsEvent)===null||i0===void 0?void 0:i0.call(r,r0.detail)}),r.parentElement.appendChild(n0)})}renderSelectModal(r){var t0;return a(this,void 0,void 0,function*(){this.containers.select=r.parentElement,yield this.loadComponent("select");const n0=document.createElement("mm-select-modal");n0.link=r.link,n0.sdkVersion=(t0=r.sdkVersion)!==null&&t0!==void 0?t0:this.sdkVersion,n0.preferDesktop=r.preferDesktop,n0.addEventListener("close",({detail:{shouldTerminate:r0}})=>r.onClose(r0)),n0.addEventListener("connectWithExtension",r.connectWithExtension),r.parentElement.appendChild(n0),setTimeout(()=>this.updateQRCode(r.link),100)})}renderPendingModal(r){var t0;return a(this,void 0,void 0,function*(){this.containers.pending=r.parentElement,yield this.loadComponent("pending");const n0=document.createElement("mm-pending-modal");n0.sdkVersion=(t0=r.sdkVersion)!==null&&t0!==void 0?t0:this.sdkVersion,n0.displayOTP=r.displayOTP,n0.addEventListener("close",r.onClose),n0.addEventListener("updateOTPValue",({detail:{otpValue:r0}})=>r.updateOTPValue(r0)),r.onDisconnect&&n0.addEventListener("disconnect",r.onDisconnect),r.parentElement.appendChild(n0)})}updateOTPValue(r){const t0=()=>{var n0;const r0=(n0=this.containers.pending)===null||n0===void 0?void 0:n0.querySelector("mm-pending-modal");return!!r0&&(r0.otpCode=r,!0)};setTimeout(()=>{t0()},800)}updateQRCode(r){var t0,n0;const r0=(t0=this.containers.install)===null||t0===void 0?void 0:t0.querySelector("mm-install-modal");if(r0)r0.link=r;else{const i0=(n0=this.containers.select)===null||n0===void 0?void 0:n0.querySelector("mm-select-modal");i0&&(i0.link=r)}}unmount(){Object.entries(this.containers).forEach(([r,t0])=>{var n0;(n0=t0?.parentNode)===null||n0===void 0||n0.removeChild(t0),this.containers[r]=void 0})}}const Wh=({link:e0,debug:r,installer:t0,terminate:n0,connectWithExtension:r0,preferDesktop:i0,onAnalyticsEvent:o0})=>{let s0=null,a0=null;xu("[UI: InstallModal-web: sdkWebInstallModal()] ################## Installing Modal #################"),xu(`[UI: InstallModal-web: sdkWebInstallModal()] link=${e0}`),xu(`[UI: InstallModal-web: sdkWebInstallModal()] npx uri-scheme open "${e0}" --ios`),xu(`[UI: InstallModal-web: sdkWebInstallModal()] npx uri-scheme open "${e0}" --android`),xu(`[UI: InstallModal-web: sdkWebInstallModal()] adb shell am start -a android.intent.action.VIEW -d "${e0}"`);const c0=l0=>{var u0;xu("[UI: InstallModal-web: sdkWebInstallModal()] installModal-web unmounting install modal -- shouldTerminate:",l0,a0),a0?.parentNode&&((u0=a0.parentNode)===null||u0===void 0||u0.removeChild(a0)),a0=null,s0=null,l0===!0&&n0?.()};return{mount:l0=>{if(xu("[UI: InstallModal-web: sdkWebInstallModal()] installModal-web mounting install modal",a0),a0)return a0.style.display="block",void(s0==null||s0.updateQRCode(l0));s0=new qh({debug:r,sdkVersion:Yu.version}),a0=document.createElement("div"),document.body.appendChild(a0),window.extension?s0.renderSelectModal({parentElement:a0,connectWithExtension:()=>{c0(),r0?.()},onClose:c0,link:e0,preferDesktop:i0!=null&&i0}).catch(u0=>{console.error(u0)}):s0.renderInstallModal({parentElement:a0,preferDesktop:i0!=null&&i0,link:e0,metaMaskInstaller:t0,onClose:c0,onAnalyticsEvent:o0}).catch(u0=>{console.error("[UI: InstallModal-web: sdkWebInstallModal()]",u0)})},unmount:c0}},Vh=({onDisconnect:e0,debug:r})=>{let t0=null,n0=null;const r0=()=>{xu("[UI: pendingModal-web: sdkWebPendingModal()] pendingModal-web unmount",t0),t0?.parentNode&&t0.parentNode.removeChild(t0),t0=null,n0=null},i0=s0=>{xu("[UI: pendingModal-web: sdkWebPendingModal()] pendingModal-web updateOTPValue",s0),n0&&n0.updateOTPValue(s0)},o0=({displayOTP:s0}={displayOTP:!0})=>{xu("[UI: pendingModal-web: sdkWebPendingModal()] pendingModal-web mount",t0),t0?t0.style.display="block":(n0=new qh({debug:r,sdkVersion:Yu.version}),t0=document.createElement("div"),document.body.appendChild(t0),n0.renderPendingModal({parentElement:t0,onClose:r0,onDisconnect:e0,updateOTPValue:i0,displayOTP:s0}).catch(a0=>{console.error("[UI: pendingModal-web: sdkWebPendingModal()]",a0)}))};return o0(),{mount:o0,unmount:r0,updateOTPValue:i0}};function Gh(e0,r){var t0,n0,r0,i0;e0.connector||(xu("[RemoteConnection: initializeConnector()] initialize connector"),e0.connector=new Xo({platformType:r.platformManager.getPlatformType(),communicationLayerPreference:r.communicationLayerPreference,transports:r.transports,dappMetadata:Object.assign(Object.assign({},r.dappMetadata),{source:r._source}),analytics:r.enableAnalytics,communicationServerUrl:r.communicationServerUrl,sdkVersion:Yu.version,context:"dapp",ecies:r.ecies,storage:r.storage,logging:r.logging}),r.timer&&(xu("[RemoteConnection: initializeConnector()] reset background timer",r.timer),(n0=(t0=r.timer)===null||t0===void 0?void 0:t0.stopBackgroundTimer)===null||n0===void 0||n0.call(t0),(i0=(r0=r.timer)===null||r0===void 0?void 0:r0.runBackgroundTimer)===null||i0===void 0||i0.call(r0,()=>!1,1e4)))}function Yh(e0){e0.listeners.forEach(({event:r,handler:t0})=>{var n0;(n0=e0.connector)===null||n0===void 0||n0.off(r,t0)}),e0.listeners=[]}function Zh(e0,r,t0){return a(this,void 0,void 0,function*(){return new Promise((n0,r0)=>{if(!e0.connector)return void r0(new Error("No connector available"));xu("[RemoteConnection: connectWithModalInstaller()]",{state:e0,options:r,linkParams:t0});const i0=`${e0.useDeeplink?Xu:Ju}?${t0}`;(function(o0,s0,a0){var c0,l0,u0,h0;o0.installModal=(l0=(c0=s0.modals).install)===null||l0===void 0?void 0:l0.call(c0,{link:a0,preferDesktop:o0.preferDesktop,installer:s0.getMetaMaskInstaller(),terminate:()=>{xu("[RemoteConnection: showInstallModal() => terminate()] terminate connection"),s0.sdk.terminate().catch(g0=>{console.warn("[MMSDK] failed to terminate connection",g0)})},debug:o0.developerMode,connectWithExtension:()=>{var g0;return(g0=s0.connectWithExtensionProvider)===null||g0===void 0||g0.call(s0),!1},onAnalyticsEvent:({event:g0,params:w0})=>{var m0,S0,b0;const T0=Object.assign(Object.assign({},w0),{sdkVersion:s0.sdk.getVersion(),dappId:(m0=s0.dappMetadata)===null||m0===void 0?void 0:m0.name,source:s0._source,url:(S0=s0.dappMetadata)===null||S0===void 0?void 0:S0.url});(b0=o0.analytics)===null||b0===void 0||b0.send({event:g0,params:T0})}}),(h0=(u0=o0.installModal)===null||u0===void 0?void 0:u0.mount)===null||h0===void 0||h0.call(u0,a0)})(e0,r,i0),r.sdk.once(bo.PROVIDER_UPDATE,o0=>a(this,void 0,void 0,function*(){xu("[RemoteConnection: connectWithModalInstaller()] once provider_update -- resolving startConnection promise"),o0!==uh.TERMINATE?r0(o0):r0({code:4001,message:"User rejected the request."})})),e0.connector.once(bo.AUTHORIZED,()=>{n0()}),e0.connector.once(bo.REJECTED,()=>{r0(bo.REJECTED)}),e0.connector.once(bo.CLIENTS_READY,()=>a(this,void 0,void 0,function*(){xu("[RemoteConnection: connectWithModalInstaller()] once clients_ready -- resolving startConnection promise"),n0()}))})})}function Jh(e0,r){function t0(n0,r0){var i0;(i0=e0.connector)===null||i0===void 0||i0.on(n0,r0),e0.listeners.push({event:n0,handler:r0})}e0.connector&&(Yh(e0),t0(bo.WALLET_INIT,({accounts:n0,chainId:r0})=>a(this,void 0,void 0,function*(){xu(`[RemoteConnection: setupListeners() => EventType.WALLET_INIT] 'wallet_init' accounts=${n0} chainId=${r0}`);const i0=zu.getProvider();i0._setConnected();const o0={accounts:n0,chainId:r0,isUnlocked:!1};i0._initializeState(o0),i0.emit("chainChanged",r0),i0.emit("accountsChanged",n0)})),t0(bo.AUTHORIZED,()=>a(this,void 0,void 0,function*(){var n0,r0,i0,o0;try{xu("[RemoteConnection: setupListeners() => EventType.AUTHORIZED] 'authorized' closing modals",e0.pendingModal,e0.installModal);const s0=zu.getProvider();s0._setConnected(),(r0=(n0=e0.pendingModal)===null||n0===void 0?void 0:n0.unmount)===null||r0===void 0||r0.call(n0),(o0=(i0=e0.installModal)===null||i0===void 0?void 0:i0.unmount)===null||o0===void 0||o0.call(i0,!1),e0.otpAnswer=void 0,e0.authorized=!0,xu("[RemoteConnection: setupListeners() => EventType.AUTHORIZED] 'authorized' provider.state",s0.getState()),yield s0.forceInitializeState()}catch{}})),t0(bo.TERMINATE,()=>{var n0,r0,i0,o0,s0;(r0=(n0=e0.pendingModal)===null||n0===void 0?void 0:n0.unmount)===null||r0===void 0||r0.call(n0),(o0=(i0=e0.installModal)===null||i0===void 0?void 0:i0.unmount)===null||o0===void 0||o0.call(i0,!0),e0.pendingModal=void 0,e0.installModal=void 0,e0.otpAnswer=void 0,(s0=e0.connector)===null||s0===void 0||s0.disconnect({terminate:!0}),e0.authorized=!1,zu.getProvider().handleDisconnect({terminate:!0}),Yh(e0),xu("[RemoteConnection: setupListeners()] All listeners cleaned up")}))}function Xh(e0,r,{initialCheck:t0,connectWith:n0}={}){var r0,i0,o0,s0,a0,c0,l0,u0,h0,g0,w0,m0,S0,b0,T0,N0,x0,k0,B0;return a(this,void 0,void 0,function*(){try{if(Gh(e0,r),!e0.connector)throw new Error("no connector defined");Jh(e0);const H0=zu.getProvider();e0.authorized=!1,H0.emit("connecting");const G0=yield(r0=e0.connector)===null||r0===void 0?void 0:r0.originatorSessionConnect();xu(`[RemoteConnection: startConnection()] after originatorSessionConnect initialCheck=${t0}`,G0);let V0=(i0=G0?.channelId)!==null&&i0!==void 0?i0:"",K0=(s0=(o0=e0.connector.getKeyInfo())===null||o0===void 0?void 0:o0.ecies.public)!==null&&s0!==void 0?s0:"",W0=(c0=(a0=e0.connector.getKeyInfo())===null||a0===void 0?void 0:a0.ecies.private)!==null&&c0!==void 0?c0:"";if(t0&&!G0)return Promise.resolve();if(!G0&&!t0){const L0=yield e0.connector.generateChannelIdConnect();V0=(l0=L0.channelId)!==null&&l0!==void 0?l0:"",K0=(u0=L0.pubKey)!==null&&u0!==void 0?u0:"",W0=(h0=L0.privKey)!==null&&h0!==void 0?h0:"";const D0=Date.now();(g0=e0.connector.state.storageManager)===null||g0===void 0||g0.persistChannelConfig({channelId:V0,localKey:W0,lastActive:D0,validUntil:D0+po})}if(t0&&G0?.channelId)return!((w0=e0.connector)===null||w0===void 0)&&w0.isConnected()||(xu(`[RemoteConnection: startConnection()] reconnecting to channel initialCheck=${t0}`,G0),yield(m0=e0.connector)===null||m0===void 0?void 0:m0.connectToChannel({channelId:V0})),Promise.resolve();G0&&!(!((S0=e0.connector)===null||S0===void 0)&&S0.isConnected())&&(xu("[RemoteConnection: startConnection()] reconnecting to channel",G0),yield(b0=e0.connector)===null||b0===void 0?void 0:b0.connectToChannel({channelId:V0}));const F0=!((T0=e0.platformManager)===null||T0===void 0)&&T0.isSecure()?"":"&t=q",O0=Yu.version,{iconUrl:f0,name:p0,url:A0,scheme:$0}=r.dappMetadata||{},y0=(N0=e0.platformManager)===null||N0===void 0?void 0:N0.getPlatformType();let v0="N/A";typeof window<"u"&&window.location&&window.location.hostname?v0=window.location.hostname:p0!==void 0?v0=p0:A0!==void 0&&(v0=A0);const I0={url:A0??"",title:p0??"",icon:f0,scheme:$0??"",apiVersion:O0,dappId:v0||A0||"N/A",platform:y0??"",source:(x0=r._source)!==null&&x0!==void 0?x0:""},E0=gh(JSON.stringify(I0));let d0=`channelId=${V0}&v=2&comm=${(k0=e0.communicationLayerPreference)!==null&&k0!==void 0?k0:""}&pubkey=${K0}${F0}&originatorInfo=${E0}`;if(n0){d0+=`&rpc=${gh(JSON.stringify(n0))}`;const L0=e0.connector.getRPCMethodTracker();L0&&(L0[`${n0.id}`]=Object.assign(Object.assign({},n0),{id:`${n0.id}`,timestamp:Date.now()}))}const _0=encodeURI(d0),C0=`${e0.useDeeplink?Xu:Ju}?${d0}`;return e0.qrcodeLink=C0,e0.developerMode&&xu(`[RemoteConnection: startConnection()] qrcodeLink=${_0}`),H0.emit("display_uri",C0),!((B0=e0.platformManager)===null||B0===void 0)&&B0.isSecure()?(yield function(L0,D0){var j0,z0;return a(this,void 0,void 0,function*(){const Y0=`${Ju}?${D0}`,Z0=`${Xu}?${D0}`;(z0=(j0=L0.platformManager)===null||j0===void 0?void 0:j0.openDeeplink)===null||z0===void 0||z0.call(j0,Y0,Z0,"_self")})}(e0,_0),new Promise((L0,D0)=>{var j0,z0,Y0;!((j0=e0.connector)===null||j0===void 0)&&j0.isAuthorized()?L0():((z0=e0.connector)===null||z0===void 0||z0.once(bo.AUTHORIZED,()=>{L0()}),(Y0=e0.connector)===null||Y0===void 0||Y0.once(bo.REJECTED,()=>{D0(bo.REJECTED)}))})):Zh(e0,r,_0)}catch(H0){throw console.error("[startConnection] error",H0),H0}})}class Qh{constructor(r){var t0,n0,r0;this.state={connector:void 0,qrcodeLink:void 0,analytics:void 0,developerMode:!1,authorized:!1,reconnection:!1,preferDesktop:!1,deeplinkProtocol:!1,listeners:[],communicationLayerPreference:void 0,platformManager:void 0,pendingModal:void 0,installModal:void 0,otpAnswer:void 0},this.options=r;const i0=((t0=r.logging)===null||t0===void 0?void 0:t0.developerMode)===!0||((n0=r.logging)===null||n0===void 0?void 0:n0.sdk)===!0;this.state.developerMode=i0,this.state.analytics=r.analytics,this.state.preferDesktop=(r0=r.preferDesktop)!==null&&r0!==void 0&&r0,this.state.useDeeplink=r.sdk.options.useDeeplink,this.state.communicationLayerPreference=r.communicationLayerPreference,this.state.platformManager=r.platformManager,r.modals.install||(r.modals.install=Wh),r.modals.otp||(r.modals.otp=Vh)}startConnection(r){return a(this,void 0,void 0,function*(){return Xh(this.state,this.options,r)})}initRemoteCommunication({sdkInstance:r}){var t0,n0,r0;return a(this,void 0,void 0,function*(){const i0=yield(n0=(t0=r.options.storage)===null||t0===void 0?void 0:t0.storageManager)===null||n0===void 0?void 0:n0.getPersistedChannelConfig();if(!this.options.ecies){const o0={privateKey:i0?.localKey};this.options.ecies=o0}Gh(this.state,this.options),yield(r0=this.getConnector())===null||r0===void 0?void 0:r0.initFromDappStorage(),Jh(this.state,this.options)})}showActiveModal(){return function(r){var t0,n0,r0,i0;r.authorized?xu("[RemoteConnection: showActiveModal()] already authorized"):r.pendingModal?(n0=(t0=r.pendingModal).mount)===null||n0===void 0||n0.call(t0):r.installModal&&((i0=(r0=r.installModal).mount)===null||i0===void 0||i0.call(r0,r.qrcodeLink||""))}(this.state)}closeModal(){var r,t0,n0,r0;(t0=(r=this.state.pendingModal)===null||r===void 0?void 0:r.unmount)===null||t0===void 0||t0.call(r),(r0=(n0=this.state.installModal)===null||n0===void 0?void 0:n0.unmount)===null||r0===void 0||r0.call(n0,!1)}getUniversalLink(){if(!this.state.qrcodeLink)throw new Error("connection not started. run startConnection() first.");return this.state.qrcodeLink}getChannelConfig(){var r;return(r=this.state.connector)===null||r===void 0?void 0:r.getChannelConfig()}getKeyInfo(){var r;return(r=this.state.connector)===null||r===void 0?void 0:r.getKeyInfo()}getConnector(){if(!this.state.connector)throw new Error("invalid remote connector");return this.state.connector}getPlatformManager(){if(!this.state.platformManager)throw new Error("PlatformManager not available");return this.state.platformManager}isConnected(){var r;return((r=this.state.connector)===null||r===void 0?void 0:r.isReady())||!1}isAuthorized(){var r;return((r=this.state.connector)===null||r===void 0?void 0:r.isAuthorized())||!1}isPaused(){var r;return(r=this.state.connector)===null||r===void 0?void 0:r.isPaused()}disconnect(r){var t0,n0,r0;xu("[RemoteConnection: disconnect()]",r),r?.terminate&&(zu.getProvider().handleDisconnect({terminate:!0}),(n0=(t0=this.state.pendingModal)===null||t0===void 0?void 0:t0.unmount)===null||n0===void 0||n0.call(t0),this.state.otpAnswer=void 0),(r0=this.state.connector)===null||r0===void 0||r0.disconnect(r),function(i0){xu("[RemoteConnection: cleanupConnector()] cleaning up connector"),i0.connector&&(Yh(i0),i0.connector.disconnect({terminate:!0}).catch(o0=>{xu("[RemoteConnection: cleanupConnector()] error disconnecting connector",o0)}))}(this.state)}}function ef(e0){var r,t0,n0,r0,i0,o0,s0,a0,c0,l0,u0;return a(this,void 0,void 0,function*(){const{options:h0}=e0;if(h0.logging=(r=h0.logging)!==null&&r!==void 0?r:{},h0.communicationLayerPreference=(t0=h0.communicationLayerPreference)!==null&&t0!==void 0?t0:Do.SOCKET,h0.enableDebug!==void 0&&(t.enable("MM_SDK"),console.warn("enableDebug is removed. Please use enableAnalytics instead.")),h0.enableAnalytics=(n0=h0.enableAnalytics)===null||n0===void 0||n0,h0.injectProvider=(r0=h0.injectProvider)===null||r0===void 0||r0,h0.shouldShimWeb3=(i0=h0.shouldShimWeb3)===null||i0===void 0||i0,h0.extensionOnly=(o0=h0.extensionOnly)===null||o0===void 0||o0,h0.useDeeplink=(s0=h0.useDeeplink)===null||s0===void 0||s0,h0.storage=(a0=h0.storage)!==null&&a0!==void 0?a0:{enabled:!0},h0.headless){t("[MetaMaskSDK: performSDKInitialization()] headless mode enabled");const T0=()=>{},N0={install:()=>({mount:T0,unmount:T0})},x0={installer:T0};h0.modals=N0,h0.ui=x0}const g0=((c0=h0.logging)===null||c0===void 0?void 0:c0.developerMode)===!0;e0.debug=((l0=h0.logging)===null||l0===void 0?void 0:l0.sdk)||g0,xu("[MetaMaskSDK: performSDKInitialization()] options",e0.options);const w0=Object.assign({},h0.logging);g0&&(w0.sdk=!0,w0.eciesLayer=!0,w0.keyExchangeLayer=!0,w0.remoteLayer=!0,w0.serviceLayer=!0,w0.plaintext=!0),yield function(T0){var N0;return a(this,void 0,void 0,function*(){const{options:x0}=T0;T0.platformManager=new qu({useDeepLink:(N0=x0.useDeeplink)!==null&&N0!==void 0&&N0,preferredOpenLink:x0.openDeeplink,debug:T0.debug})})}(e0),yield function(T0){var N0,x0,k0,B0,H0,G0,V0,K0,W0;return a(this,void 0,void 0,function*(){const{options:F0}=T0,O0=(N0=T0.platformManager)===null||N0===void 0?void 0:N0.getPlatformType();T0.analytics=new _h({serverUrl:(x0=F0.communicationServerUrl)!==null&&x0!==void 0?x0:ho,enabled:F0.enableAnalytics,originatorInfo:{url:(k0=F0.dappMetadata.url)!==null&&k0!==void 0?k0:"",title:(B0=F0.dappMetadata.name)!==null&&B0!==void 0?B0:"",dappId:typeof window>"u"||window.location===void 0?(K0=(G0=(H0=F0.dappMetadata)===null||H0===void 0?void 0:H0.name)!==null&&G0!==void 0?G0:(V0=F0.dappMetadata)===null||V0===void 0?void 0:V0.url)!==null&&K0!==void 0?K0:"N/A":window.location.hostname,platform:O0??"",source:(W0=F0._source)!==null&&W0!==void 0?W0:""}})})}(e0),yield function(T0){var N0;return a(this,void 0,void 0,function*(){const{options:x0}=T0;((N0=x0.storage)===null||N0===void 0?void 0:N0.enabled)!==!0||x0.storage.storageManager||(x0.storage.storageManager=yield Wu(x0.storage))})}(e0),yield function(T0){return a(this,void 0,void 0,function*(){const{options:N0}=T0,x0=/^(http|https):\/\/[^\s]*$/;if(N0.dappMetadata){N0.dappMetadata.iconUrl&&!x0.test(N0.dappMetadata.iconUrl)&&(console.warn("Invalid dappMetadata.iconUrl: URL must start with http:// or https://"),N0.dappMetadata.iconUrl=void 0),N0.dappMetadata.base64Icon&&N0.dappMetadata.base64Icon.length>kh&&(console.warn("Invalid dappMetadata.base64Icon: Base64-encoded icon string length must be less than 163400 characters"),N0.dappMetadata.base64Icon=void 0),N0.dappMetadata.url&&!x0.test(N0.dappMetadata.url)&&console.warn("Invalid dappMetadata.url: URL must start with http:// or https://");const k0=Ch();if(k0&&!N0.dappMetadata.iconUrl&&!N0.dappMetadata.base64Icon){const B0=`${window.location.protocol}//${window.location.host}${k0}`;N0.dappMetadata.iconUrl=B0}}T0.dappMetadata=N0.dappMetadata})}(e0),yield Rh(e0),yield Ph(e0);const{metamaskBrowserExtension:m0,preferExtension:S0,shouldReturn:b0}=yield function(T0){var N0,x0,k0,B0;return a(this,void 0,void 0,function*(){const{options:H0}=T0;let G0,V0=!1,K0=!1;if(typeof window<"u"&&window.ethereum&&!(!((N0=T0.platformManager)===null||N0===void 0)&&N0.isMetaMaskMobileWebView())){V0=localStorage.getItem(sh)==="extension";try{G0=yield Ih({mustBeMetaMask:!0,sdkInstance:T0}),window.extension=G0,G0.on(lh.CHAIN_CHANGED,W0=>{xu(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE chainChanged chainId=${W0}`),T0.sdkProvider&&T0.getMobileProvider().emit(lh.CHAIN_CHANGED,W0)}),G0.on(lh.ACCOUNTS_CHANGED,W0=>a(this,void 0,void 0,function*(){var F0;xu(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE accountsChanged accounts=${W0}`);const O0=!!T0.sdkProvider,f0=!!T0.extensionActive;if(O0&&T0.getMobileProvider().emit(lh.ACCOUNTS_CHANGED,W0),f0&&W0?.length===0&&(yield(F0=T0.getProvider())===null||F0===void 0?void 0:F0.request({method:th.WALLET_GETPERMISSIONS,params:[]})).length===0)try{yield T0.terminate()}catch(p0){xu("[MetaMaskSDK: setupExtensionPreferences()] error terminating on permissions revoked",p0)}})),G0.on(lh.DISCONNECT,W0=>{xu(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE disconnect error=${W0}`),T0.sdkProvider&&T0.getMobileProvider().emit(lh.DISCONNECT,W0)}),G0.on(lh.CONNECT,W0=>{xu(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE connect args=${W0}`),T0.sdkProvider&&T0.getMobileProvider().emit(lh.CONNECT,W0)}),G0.on(lh.CONNECTED,W0=>{xu("[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE connected",W0),T0.sdkProvider&&T0.getMobileProvider().emit(lh.CONNECTED,W0)})}catch{window.extension=void 0}}else!((x0=T0.platformManager)===null||x0===void 0)&&x0.isMetaMaskMobileWebView()&&((k0=T0.analytics)===null||k0===void 0||k0.send({event:_o.SDK_USE_INAPP_BROWSER}),T0.activeProvider=Mh({provider:window.ethereum,sdkInstance:T0}),T0._initialized=!0,K0=!0);return G0&&H0.extensionOnly&&(xu("[MetaMaskSDK: setupExtensionPreferences()] EXTENSION ONLY --- prevent sdk initialization"),(B0=T0.analytics)===null||B0===void 0||B0.send({event:_o.SDK_USE_EXTENSION}),T0.activeProvider=G0,T0.extensionActive=!0,T0.extension=G0,T0._initialized=!0,K0=!0),{preferExtension:V0,shouldReturn:K0,metamaskBrowserExtension:G0}})}(e0);if(b0)xu("[MetaMaskSDK: performSDKInitialization()] shouldReturn=true --- prevent sdk initialization");else{yield function(T0,N0){var x0,k0,B0,H0,G0;return a(this,void 0,void 0,function*(){const{options:V0}=T0,K0=Object.assign({},V0.logging);T0.remoteConnection=new Qh({preferDesktop:(x0=V0.preferDesktop)!==null&&x0!==void 0&&x0,communicationLayerPreference:(k0=V0.communicationLayerPreference)!==null&&k0!==void 0?k0:Do.SOCKET,analytics:T0.analytics,dappMetadata:V0.dappMetadata,_source:V0._source,enableAnalytics:(B0=V0.enableAnalytics)===null||B0===void 0||B0,timer:V0.timer,sdk:T0,platformManager:T0.platformManager,transports:V0.transports,communicationServerUrl:V0.communicationServerUrl,storage:(H0=V0.storage)!==null&&H0!==void 0?H0:{enabled:!0},getMetaMaskInstaller:()=>{if(!T0.installer)throw new Error("Invalid SDK status -- installer not initialized");return T0.installer},logging:K0,connectWithExtensionProvider:N0===void 0?void 0:()=>ph(T0),modals:Object.assign(Object.assign({},V0.modals),{onPendingModalDisconnect:T0.terminate.bind(T0)})}),yield T0.remoteConnection.initRemoteCommunication({sdkInstance:T0}),T0.installer=new zh({remote:T0.remoteConnection,preferDesktop:(G0=V0.preferDesktop)!==null&&G0!==void 0&&G0,platformManager:T0.platformManager,debug:T0.debug})})}(e0,m0),yield Eh(e0),yield function(T0,N0){var x0,k0;return a(this,void 0,void 0,function*(){const{options:B0}=T0;N0?(xu("[MetaMaskSDK: handleAutoAndExtensionConnections()] preferExtension is detected -- connect with it."),(x0=T0.analytics)===null||x0===void 0||x0.send({event:_o.SDK_EXTENSION_UTILIZED}),ph(T0).catch(H0=>{console.warn("Can't connect with MetaMask extension...",H0),localStorage.removeItem(sh)})):B0.checkInstallationImmediately&&(!((k0=T0.platformManager)===null||k0===void 0)&&k0.isDesktopWeb()?(xu("[MetaMaskSDK: handleAutoAndExtensionConnections()] checkInstallationImmediately"),T0.connect().catch(H0=>{xu(`[MetaMaskSDK: handleAutoAndExtensionConnections()] checkInstallationImmediately --- IGNORED --- error on autoconnect _err=${H0}`)})):console.warn("[handleAutoAndExtensionConnections()] checkInstallationImmediately --- IGNORED --- only for web desktop")),T0._initialized=!0})}(e0,S0);try{yield(u0=e0.remoteConnection)===null||u0===void 0?void 0:u0.startConnection({initialCheck:!0})}catch(T0){console.error("[MetaMaskSDK: setupRemoteConnectionAndInstaller()] Error while checking installation",T0)}e0.emit(Fu.ProviderUpdate,uh.INITIALIZED)}})}class tf extends n{constructor(r={storage:{enabled:!0},injectProvider:!0,forceInjectProvider:!1,enableAnalytics:!0,shouldShimWeb3:!0,useDeeplink:!0,extensionOnly:!0,headless:!1,dappMetadata:{name:"",url:"",iconUrl:""},_source:Zu,i18nOptions:{enabled:!1}}){var t0,n0,r0;super(),this.extensionActive=!1,this._initialized=!1,this.sdkInitPromise=void 0,this.debug=!1,this.readonlyRPCCalls=!1,this.availableLanguages=["en"],t.disable();const i0=((t0=r.logging)===null||t0===void 0?void 0:t0.developerMode)===!0;if((!((n0=r.logging)===null||n0===void 0)&&n0.sdk||i0)&&t.enable("MM_SDK"),xu("[MetaMaskSDK: constructor()]: begin."),this.setMaxListeners(50),!(!((r0=r.dappMetadata)===null||r0===void 0)&&r0.url)){if(typeof window>"u"||typeof document>"u")throw new Error("You must provide dAppMetadata url");r.dappMetadata=Object.assign(Object.assign({},r.dappMetadata),{url:`${window.location.protocol}//${window.location.host}`})}this.options=r,this.options._source||(r._source=Zu),this.init().then(()=>{xu("[MetaMaskSDK: constructor()]: initialized successfully."),typeof window<"u"&&(window.mmsdk=this)}).catch(o0=>{console.error("[MetaMaskSDK: constructor()] error during initialization",o0)})}init(){return a(this,void 0,void 0,function*(){return function(r){var t0;return a(this,void 0,void 0,function*(){if(typeof window<"u"&&(!((t0=window.mmsdk)===null||t0===void 0)&&t0.isInitialized()))return xu("[MetaMaskSDK: initializeMetaMaskSDK()] already initialized"),Promise.resolve(window.mmsdk);if(r._initialized)return xu("[MetaMaskSDK: initializeMetaMaskSDK()] already initialized"),r.sdkInitPromise;if(r.sdkInitPromise)return xu("[MetaMaskSDK: initializeMetaMaskSDK()] already initializing"),r.sdkInitPromise;try{r.sdkInitPromise=ef(r),yield r.sdkInitPromise}catch(n0){throw console.error(n0),n0}return r.sdkInitPromise})}(this)})}isExtensionActive(){return this.extensionActive}checkExtensionAvailability(){var r;return typeof window<"u"&&!!(!((r=window.ethereum)===null||r===void 0)&&r.isMetaMask)}connect(){return a(this,void 0,void 0,function*(){return function(r){return a(this,void 0,void 0,function*(){if(r._initialized||(xu("[MetaMaskSDK: connect()] provider not ready -- wait for init()"),yield r.init()),xu(`[MetaMaskSDK: connect()] isExtensionActive=${r.isExtensionActive()} activeProvider`,r.activeProvider),!r.activeProvider)throw new Error("SDK state invalid -- undefined provider");const t0=r.activeProvider.getSelectedAddress();return t0?[t0]:r.activeProvider.request({method:th.ETH_REQUESTACCOUNTS,params:[]})})}(this)})}connectAndSign({msg:r}){return a(this,void 0,void 0,function*(){return fh({instance:this,msg:r})})}connectWith(r){return a(this,void 0,void 0,function*(){return function({instance:t0,rpc:n0}){return a(this,void 0,void 0,function*(){if(t0._initialized||(xu("[MetaMaskSDK: connectWith()] provider not ready -- wait for init()"),yield t0.init()),xu(`[MetaMaskSDK: connectWith()] method: ${n0.method} rpc=${n0}`),!t0.activeProvider)throw new Error("SDK state invalid -- undefined provider");return t0.activeProvider.request({method:th.METAMASK_CONNECTWITH,params:[n0]})})}({instance:this,rpc:r})})}resume(){return function(r){var t0,n0,r0;return a(this,void 0,void 0,function*(){if(!(!((n0=(t0=r.remoteConnection)===null||t0===void 0?void 0:t0.getConnector())===null||n0===void 0)&&n0.isReady()))return xu("[MetaMaskSDK: resume()] channel is not ready -- starting connection"),void((r0=r.remoteConnection)===null||r0===void 0||r0.startConnection());xu("[MetaMaskSDK: resume()] channel is ready")})}(this)}disconnect(){return console.warn("MetaMaskSDK.disconnect() is deprecated, use terminate()"),this.terminate()}isAuthorized(){var r;(r=this.remoteConnection)===null||r===void 0||r.isAuthorized()}terminate(){return function(r){var t0,n0,r0;return a(this,void 0,void 0,function*(){if(!(!((t0=r.platformManager)===null||t0===void 0)&&t0.isMetaMaskMobileWebView())){if(hh&&(window.localStorage.removeItem(sh),window.localStorage.removeItem(ch),window.localStorage.removeItem(ah)),r.extensionActive){try{yield(n0=r.activeProvider)===null||n0===void 0?void 0:n0.request({method:th.WALLET_REVOKEPERMISSIONS,params:[{eth_accounts:{}}]})}catch(i0){xu("[MetaMaskSDK: terminate()] error revoking permissions",i0)}return r.options.extensionOnly?(r.emit(Fu.ProviderUpdate,uh.TERMINATE),void xu("[MetaMaskSDK: terminate()] extensionOnly --- prevent switching providers")):(r.activeProvider=r.sdkProvider,window.ethereum=r.activeProvider,r.extensionActive=!1,void r.emit(Fu.ProviderUpdate,uh.TERMINATE))}r.emit(Fu.ProviderUpdate,uh.TERMINATE),xu(`[MetaMaskSDK: terminate()] remoteConnection=${r.remoteConnection}`),(r0=r.remoteConnection)===null||r0===void 0||r0.disconnect({terminate:!0,sendMessage:!0})}})}(this)}isInitialized(){return this._initialized}setReadOnlyRPCCalls(r){this.readonlyRPCCalls=r}hasReadOnlyRPCCalls(){return this.readonlyRPCCalls}getProvider(){if(this.activeProvider)return this.activeProvider;console.warn("MetaMaskSDK: No active provider found")}getMobileProvider(){if(!this.sdkProvider)throw new Error("SDK state invalid -- undefined mobile provider");return this.sdkProvider}getUniversalLink(){var r;const t0=(r=this.remoteConnection)===null||r===void 0?void 0:r.getUniversalLink();if(!t0)throw new Error("No Universal Link available, please call eth_requestAccounts first.");return t0}getChannelId(){var r,t0;return(t0=(r=this.remoteConnection)===null||r===void 0?void 0:r.getChannelConfig())===null||t0===void 0?void 0:t0.channelId}getRPCHistory(){var r,t0;return(t0=(r=this.remoteConnection)===null||r===void 0?void 0:r.getConnector())===null||t0===void 0?void 0:t0.getRPCMethodTracker()}getVersion(){return Yu.version}getWalletStatus(){var r,t0;return(t0=(r=this.remoteConnection)===null||r===void 0?void 0:r.getConnector())===null||t0===void 0?void 0:t0.getConnectionStatus()}_getChannelConfig(){var r;return(r=this.remoteConnection)===null||r===void 0?void 0:r.getChannelConfig()}_ping(){var r,t0;(t0=(r=this.remoteConnection)===null||r===void 0?void 0:r.getConnector())===null||t0===void 0||t0.ping()}_keyCheck(){var r,t0;(t0=(r=this.remoteConnection)===null||r===void 0?void 0:r.getConnector())===null||t0===void 0||t0.keyCheck()}_getServiceStatus(){var r,t0;return(t0=(r=this.remoteConnection)===null||r===void 0?void 0:r.getConnector())===null||t0===void 0?void 0:t0.getServiceStatus()}_getRemoteConnection(){return this.remoteConnection}_getDappMetadata(){return this.dappMetadata}_getKeyInfo(){var r;return(r=this.remoteConnection)===null||r===void 0?void 0:r.getKeyInfo()}_resetKeys(){var r,t0;(t0=(r=this.remoteConnection)===null||r===void 0?void 0:r.getConnector())===null||t0===void 0||t0.resetKeys()}_getConnection(){return this.remoteConnection}emit(r,t0){return super.emit(r,t0)}on(r,t0){return super.on(r,t0)}}var nf=Object.freeze({__proto__:null,StorageManagerWeb:class{constructor({enabled:e0}={enabled:!1}){this.enabled=!1,this.enabled=e0}persistChannelConfig(e0){return a(this,void 0,void 0,function*(){const r=JSON.stringify(e0);xu(`[StorageManagerWeb: persistChannelConfig()] enabled=${this.enabled}`,e0),localStorage.setItem(oh,r)})}getPersistedChannelConfig(){return a(this,void 0,void 0,function*(){let e0;try{if(xu(`[StorageManagerWeb: getPersistedChannelConfig()] enabled=${this.enabled}`),e0=localStorage.getItem(oh),xu("[StorageManagerWeb: getPersistedChannelConfig()]",e0),!e0)return;const r=JSON.parse(e0);return xu("[StorageManagerWeb: getPersistedChannelConfig()] channelConfig",r),r}catch(r){return void console.error("[StorageManagerWeb: getPersistedChannelConfig()] Can't find existing channel config",r)}})}persistAccounts(e0){return a(this,void 0,void 0,function*(){xu(`[StorageManagerWeb: persistAccounts()] enabled=${this.enabled}`,e0);const r=JSON.stringify(e0);localStorage.setItem(ah,r)})}getCachedAccounts(){return a(this,void 0,void 0,function*(){try{const e0=localStorage.getItem(ah);return e0?JSON.parse(e0):[]}catch(e0){throw console.error("[StorageManagerWeb: getCachedAccounts()] Error reading cached accounts",e0),e0}})}persistChainId(e0){return a(this,void 0,void 0,function*(){xu(`[StorageManagerWeb: persistChainId()] enabled=${this.enabled}`,e0),localStorage.setItem(ch,e0)})}getCachedChainId(){return a(this,void 0,void 0,function*(){try{const e0=localStorage.getItem(ch);return e0??void 0}catch(e0){throw console.error("[StorageManagerWeb: getCachedChainId()] Error reading cached chainId",e0),e0}})}terminate(){return a(this,void 0,void 0,function*(){xu(`[StorageManagerWeb: terminate()] enabled=${this.enabled}`),localStorage.removeItem(oh)})}}});const rf="hydrated",of=!1,sf=!1,af=!0;var cf=Object.defineProperty,lf=new WeakMap,df=e0=>lf.get(e0),uf=(e0,r)=>lf.set(r.$lazyInstance$=e0,r),hf=(e0,r)=>r in e0,ff=(e0,r)=>(0,console.error)(e0,r),pf=new Map,gf=new Map,mf="slot-fb{display:contents}slot-fb[hidden]{display:none}",yf=typeof window<"u"?window:{},vf=yf.document||{head:{}},bf={$flags$:0,$resourcesUrl$:"",jmp:e0=>e0(),raf:e0=>requestAnimationFrame(e0),ael:(e0,r,t0,n0)=>e0.addEventListener(r,t0,n0),rel:(e0,r,t0,n0)=>e0.removeEventListener(r,t0,n0),ce:(e0,r)=>new CustomEvent(e0,r)},wf=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1})(),Ef=!1,Sf=[],_f=[],Cf=(e0,r)=>t0=>{e0.push(t0),Ef||(Ef=!0,4&bf.$flags$?Mf(xf):bf.raf(xf))},kf=e0=>{for(let r=0;r<e0.length;r++)try{e0[r](performance.now())}catch(t0){ff(t0)}e0.length=0},xf=()=>{kf(Sf),kf(_f),(Ef=Sf.length>0)&&bf.raf(xf)},Mf=e0=>(r=>Promise.resolve(r))().then(e0),Af=Cf(_f),If={},Rf=e0=>(e0=typeof e0)=="object"||e0==="function";function Pf(e0){var r,t0,n0;return(n0=(t0=(r=e0.head)==null?void 0:r.querySelector('meta[name="csp-nonce"]'))==null?void 0:t0.getAttribute("content"))!=null?n0:void 0}((e0,r)=>{for(var t0 in r)cf(e0,t0,{get:r[t0],enumerable:!0})})({},{err:()=>Of,map:()=>Lf,ok:()=>Tf,unwrap:()=>Df,unwrapErr:()=>Bf});var Tf=e0=>({isOk:!0,isErr:!1,value:e0}),Of=e0=>({isOk:!1,isErr:!0,value:e0});function Lf(e0,r){if(e0.isOk){const t0=r(e0.value);return t0 instanceof Promise?t0.then(n0=>Tf(n0)):Tf(t0)}if(e0.isErr){const t0=e0.value;return Of(t0)}throw"should never get here"}var Nf,$f,Df=e0=>{if(e0.isOk)return e0.value;throw e0.value},Bf=e0=>{if(e0.isErr)return e0.value;throw e0.value},Kf=(e0,r,...t0)=>{let n0=null,r0=!1,i0=!1;const o0=[],s0=c0=>{for(let l0=0;l0<c0.length;l0++)n0=c0[l0],Array.isArray(n0)?s0(n0):n0!=null&&typeof n0!="boolean"&&((r0=typeof e0!="function"&&!Rf(n0))&&(n0=String(n0)),r0&&i0?o0[o0.length-1].$text$+=n0:o0.push(r0?jf(null,n0):n0),i0=r0)};if(s0(t0),r){const c0=r.className||r.class;c0&&(r.class=typeof c0!="object"?c0:Object.keys(c0).filter(l0=>c0[l0]).join(" "))}if(typeof e0=="function")return e0(r===null?{}:r,o0,Hf);const a0=jf(e0,null);return a0.$attrs$=r,o0.length>0&&(a0.$children$=o0),a0},jf=(e0,r)=>({$flags$:0,$tag$:e0,$text$:r,$elm$:null,$children$:null,$attrs$:null}),Uf={},Hf={forEach:(e0,r)=>e0.map(Ff).forEach(r),map:(e0,r)=>e0.map(Ff).map(r).map(zf)},Ff=e0=>({vattrs:e0.$attrs$,vchildren:e0.$children$,vkey:e0.$key$,vname:e0.$name$,vtag:e0.$tag$,vtext:e0.$text$}),zf=e0=>{if(typeof e0.vtag=="function"){const t0={...e0.vattrs};return e0.vkey&&(t0.key=e0.vkey),e0.vname&&(t0.name=e0.vname),Kf(e0.vtag,t0,...e0.vchildren||[])}const r=jf(e0.vtag,e0.vtext);return r.$attrs$=e0.vattrs,r.$children$=e0.vchildren,r.$key$=e0.vkey,r.$name$=e0.vname,r},qf=e0=>df(e0).$hostElement$,Wf=(e0,r,t0)=>{const n0=qf(e0);return{emit:r0=>Vf(n0,r,{bubbles:!!(4&t0),composed:!!(2&t0),cancelable:!!(1&t0),detail:r0})}},Vf=(e0,r,t0)=>{const n0=bf.ce(r,t0);return e0.dispatchEvent(n0),n0},Gf=new WeakMap,Yf=e0=>{const r=e0.$cmpMeta$,t0=e0.$hostElement$,n0=r.$flags$;r.$tagName$;const r0=((i0,o0,s0)=>{var a0;const c0=Zf(o0),l0=gf.get(c0);if(i0=i0.nodeType===11?i0:vf,l0)if(typeof l0=="string"){i0=i0.head||i0;let u0,h0=Gf.get(i0);if(h0||Gf.set(i0,h0=new Set),!h0.has(c0)){{u0=vf.createElement("style"),u0.innerHTML=l0;const g0=(a0=bf.$nonce$)!=null?a0:Pf(vf);if(g0!=null&&u0.setAttribute("nonce",g0),!(1&o0.$flags$))if(i0.nodeName==="HEAD"){const w0=i0.querySelectorAll("link[rel=preconnect]"),m0=w0.length>0?w0[w0.length-1].nextSibling:i0.querySelector("style");i0.insertBefore(u0,m0)}else if("host"in i0)if(wf){const w0=new CSSStyleSheet;w0.replaceSync(l0),i0.adoptedStyleSheets=[w0,...i0.adoptedStyleSheets]}else{const w0=i0.querySelector("style");w0?w0.innerHTML=l0+w0.innerHTML:i0.prepend(u0)}else i0.append(u0);1&o0.$flags$&&i0.nodeName!=="HEAD"&&i0.insertBefore(u0,null)}4&o0.$flags$&&(u0.innerHTML+=mf),h0&&h0.add(c0)}}else i0.adoptedStyleSheets.includes(l0)||(i0.adoptedStyleSheets=[...i0.adoptedStyleSheets,l0]);return c0})(t0.shadowRoot?t0.shadowRoot:t0.getRootNode(),r);10&n0&&2&n0&&(t0["s-sc"]=r0,t0.classList.add(r0+"-h"))},Zf=(e0,r)=>"sc-"+e0.$tagName$,Jf=(e0,r,t0,n0,r0,i0)=>{if(t0!==n0){let o0=hf(e0,r),s0=r.toLowerCase();if(r==="class"){const a0=e0.classList,c0=Qf(t0),l0=Qf(n0);a0.remove(...c0.filter(u0=>u0&&!l0.includes(u0))),a0.add(...l0.filter(u0=>u0&&!c0.includes(u0)))}else if(r==="style"){for(const a0 in t0)n0&&n0[a0]!=null||(a0.includes("-")?e0.style.removeProperty(a0):e0.style[a0]="");for(const a0 in n0)t0&&n0[a0]===t0[a0]||(a0.includes("-")?e0.style.setProperty(a0,n0[a0]):e0.style[a0]=n0[a0])}else if(o0||r[0]!=="o"||r[1]!=="n"){const a0=Rf(n0);if((o0||a0&&n0!==null)&&!r0)try{if(e0.tagName.includes("-"))e0[r]=n0;else{const c0=n0??"";r==="list"?o0=!1:t0!=null&&e0[r]==c0||(typeof e0.__lookupSetter__(r)=="function"?e0[r]=c0:e0.setAttribute(r,c0))}}catch{}n0==null||n0===!1?n0===!1&&e0.getAttribute(r)!==""||e0.removeAttribute(r):(!o0||4&i0||r0)&&!a0&&(n0=n0===!0?"":n0,e0.setAttribute(r,n0))}else if(r=r[2]==="-"?r.slice(3):hf(yf,s0)?s0.slice(2):s0[2]+r.slice(3),t0||n0){const a0=r.endsWith(ep);r=r.replace(tp,""),t0&&bf.rel(e0,r,t0,a0),n0&&bf.ael(e0,r,n0,a0)}}},Xf=/\s/,Qf=e0=>e0?e0.split(Xf):[],ep="Capture",tp=new RegExp(ep+"$"),np=(e0,r,t0)=>{const n0=r.$elm$.nodeType===11&&r.$elm$.host?r.$elm$.host:r.$elm$,r0=e0&&e0.$attrs$||If,i0=r.$attrs$||If;for(const o0 of rp(Object.keys(r0)))o0 in i0||Jf(n0,o0,r0[o0],void 0,t0,r.$flags$);for(const o0 of rp(Object.keys(i0)))Jf(n0,o0,r0[o0],i0[o0],t0,r.$flags$)};function rp(e0){return e0.includes("ref")?[...e0.filter(r=>r!=="ref"),"ref"]:e0}var ip=!1,op=!1,sp=(e0,r,t0,n0)=>{const r0=r.$children$[t0];let i0,o0,s0=0;if(r0.$text$!==null)i0=r0.$elm$=vf.createTextNode(r0.$text$);else{if(op||(op=r0.$tag$==="svg"),i0=r0.$elm$=vf.createElementNS(op?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!ip&&sf&&2&r0.$flags$?"slot-fb":r0.$tag$),op&&r0.$tag$==="foreignObject"&&(op=!1),np(null,r0,op),i0.getRootNode().querySelector("body")&&of&&(a0=>a0!=null)(Nf)&&i0["s-si"]!==Nf&&i0.classList.add(i0["s-si"]=Nf),r0.$children$)for(s0=0;s0<r0.$children$.length;++s0)o0=sp(e0,r0,s0),o0&&i0.appendChild(o0);r0.$tag$==="svg"?op=!1:i0.tagName==="foreignObject"&&(op=!0)}return i0["s-hn"]=$f,i0},ap=(e0,r,t0,n0,r0,i0)=>{let o0,s0=e0;for(s0.shadowRoot&&s0.tagName===$f&&(s0=s0.shadowRoot);r0<=i0;++r0)n0[r0]&&(o0=sp(null,t0,r0),o0&&(n0[r0].$elm$=o0,up(s0,o0,r)))},cp=(e0,r,t0)=>{for(let n0=r;n0<=t0;++n0){const r0=e0[n0];if(r0){const i0=r0.$elm$;i0&&i0.remove()}}},lp=(e0,r,t0=!1)=>e0.$tag$===r.$tag$,dp=(e0,r,t0=!1)=>{const n0=r.$elm$=e0.$elm$,r0=e0.$children$,i0=r.$children$,o0=r.$tag$,s0=r.$text$;s0===null?(np(e0,r,op=o0==="svg"||o0!=="foreignObject"&&op),r0!==null&&i0!==null?((a0,c0,l0,u0,h0=!1)=>{let g0,w0=0,m0=0,S0=c0.length-1,b0=c0[0],T0=c0[S0],N0=u0.length-1,x0=u0[0],k0=u0[N0];for(;w0<=S0&&m0<=N0;)b0==null?b0=c0[++w0]:T0==null?T0=c0[--S0]:x0==null?x0=u0[++m0]:k0==null?k0=u0[--N0]:lp(b0,x0,h0)?(dp(b0,x0,h0),b0=c0[++w0],x0=u0[++m0]):lp(T0,k0,h0)?(dp(T0,k0,h0),T0=c0[--S0],k0=u0[--N0]):lp(b0,k0,h0)?(dp(b0,k0,h0),up(a0,b0.$elm$,T0.$elm$.nextSibling),b0=c0[++w0],k0=u0[--N0]):lp(T0,x0,h0)?(dp(T0,x0,h0),up(a0,T0.$elm$,b0.$elm$),T0=c0[--S0],x0=u0[++m0]):(g0=sp(c0&&c0[m0],l0,m0),x0=u0[++m0],g0&&up(b0.$elm$.parentNode,g0,b0.$elm$));w0>S0?ap(a0,u0[N0+1]==null?null:u0[N0+1].$elm$,l0,u0,m0,N0):m0>N0&&cp(c0,w0,S0)})(n0,r0,r,i0,t0):i0!==null?(e0.$text$!==null&&(n0.textContent=""),ap(n0,null,r,i0,0,i0.length-1)):!t0&&af&&r0!==null&&cp(r0,0,r0.length-1),op&&o0==="svg"&&(op=!1)):e0.$text$!==s0&&(n0.data=s0)},up=(e0,r,t0)=>e0?.insertBefore(r,t0),hp=(e0,r,t0=!1)=>{const n0=e0.$hostElement$,r0=e0.$cmpMeta$,i0=e0.$vnode$||jf(null,null),o0=(s0=r)&&s0.$tag$===Uf?r:Kf(null,null,r);var s0;if($f=n0.tagName,t0&&o0.$attrs$)for(const a0 of Object.keys(o0.$attrs$))n0.hasAttribute(a0)&&!["key","ref","style","class"].includes(a0)&&(o0.$attrs$[a0]=n0[a0]);o0.$tag$=null,o0.$flags$|=4,e0.$vnode$=o0,o0.$elm$=i0.$elm$=n0.shadowRoot||n0,Nf=n0["s-sc"],ip=(1&r0.$flags$)!=0,dp(i0,o0,t0)},fp=(e0,r)=>{r&&!e0.$onRenderResolve$&&r["s-p"]&&r["s-p"].push(new Promise(t0=>e0.$onRenderResolve$=t0))},pp=(e0,r)=>(e0.$flags$|=16,4&e0.$flags$?void(e0.$flags$|=512):(fp(e0,e0.$ancestorComponent$),Af(()=>gp(e0,r)))),gp=(e0,r)=>{const t0=e0.$hostElement$;e0.$cmpMeta$.$tagName$;const n0=e0.$lazyInstance$;if(!n0)throw new Error(`Can't render component <${t0.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);return mp(void 0,()=>vp(e0,n0,r))},mp=(e0,r)=>yp(e0)?e0.then(r).catch(t0=>{console.error(t0),r()}):r(),yp=e0=>e0 instanceof Promise||e0&&e0.then&&typeof e0.then=="function",vp=async(e0,r,t0)=>{var n0;const r0=e0.$hostElement$;e0.$cmpMeta$.$tagName$;const i0=r0["s-rc"];t0&&Yf(e0),e0.$cmpMeta$.$tagName$,bp(e0,r,r0,t0),i0&&(i0.map(o0=>o0()),r0["s-rc"]=void 0);{const o0=(n0=r0["s-p"])!=null?n0:[],s0=()=>wp(e0);o0.length===0?s0():(Promise.all(o0).then(s0),e0.$flags$|=4,o0.length=0)}},bp=(e0,r,t0,n0)=>{try{r=r.render(),e0.$flags$&=-17,e0.$flags$|=2,hp(e0,r,n0)}catch(r0){ff(r0,e0.$hostElement$)}return null},wp=e0=>{e0.$cmpMeta$.$tagName$;const r=e0.$hostElement$,t0=()=>{},n0=e0.$lazyInstance$,r0=e0.$ancestorComponent$;64&e0.$flags$?t0():(e0.$flags$|=64,_p(r),Sp(n0,"componentDidLoad"),e0.$onReadyResolve$(r),r0||Ep()),e0.$onRenderResolve$&&(e0.$onRenderResolve$(),e0.$onRenderResolve$=void 0),512&e0.$flags$&&Mf(()=>pp(e0,!1)),e0.$flags$&=-517},Ep=e0=>{_p(vf.documentElement),Mf(()=>Vf(yf,"appload",{detail:{namespace:"sdk-install-modal-web"}}))},Sp=(e0,r,t0)=>{if(e0&&e0[r])try{return e0[r](t0)}catch(n0){ff(n0)}},_p=e0=>{var r;return e0.classList.add((r=rf)!=null?r:"hydrated")},Cp=(e0,r,t0,n0)=>{const r0=df(e0);if(!r0)throw new Error(`Couldn't find host element for "${n0.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const i0=r0.$hostElement$,o0=r0.$instanceValues$.get(r),s0=r0.$flags$,a0=r0.$lazyInstance$;var c0,l0;c0=t0,l0=n0.$members$[r][0],t0=c0==null||Rf(c0)?c0:4&l0?c0!=="false"&&(c0===""||!!c0):1&l0?String(c0):c0;const u0=Number.isNaN(o0)&&Number.isNaN(t0);if((!(8&s0)||o0===void 0)&&t0!==o0&&!u0&&(r0.$instanceValues$.set(r,t0),a0)){if(n0.$watchers$&&128&s0){const h0=n0.$watchers$[r];h0&&h0.map(g0=>{try{a0[g0](t0,o0,r)}catch(w0){ff(w0,i0)}})}(18&s0)==2&&pp(r0,!1)}},kp=(e0,r,t0)=>{var n0,r0;const i0=e0.prototype;if(r.$members$||r.$watchers$||e0.watchers){e0.watchers&&!r.$watchers$&&(r.$watchers$=e0.watchers);const o0=Object.entries((n0=r.$members$)!=null?n0:{});if(o0.map(([s0,[a0]])=>{(31&a0||2&t0&&32&a0)&&Object.defineProperty(i0,s0,{get(){return c0=s0,df(this).$instanceValues$.get(c0);var c0},set(c0){Cp(this,s0,c0,r)},configurable:!0,enumerable:!0})}),1&t0){const s0=new Map;i0.attributeChangedCallback=function(a0,c0,l0){bf.jmp(()=>{var u0;const h0=s0.get(a0);if(this.hasOwnProperty(h0))l0=this[h0],delete this[h0];else{if(i0.hasOwnProperty(h0)&&typeof this[h0]=="number"&&this[h0]==l0)return;if(h0==null){const g0=df(this),w0=g0?.$flags$;if(w0&&!(8&w0)&&128&w0&&l0!==c0){const m0=g0.$lazyInstance$,S0=(u0=r.$watchers$)==null?void 0:u0[a0];S0?.forEach(b0=>{m0[b0]!=null&&m0[b0].call(m0,l0,c0,a0)})}return}}this[h0]=(l0!==null||typeof this[h0]!="boolean")&&l0})},e0.observedAttributes=Array.from(new Set([...Object.keys((r0=r.$watchers$)!=null?r0:{}),...o0.filter(([a0,c0])=>15&c0[0]).map(([a0,c0])=>{const l0=c0[1]||a0;return s0.set(l0,a0),l0})]))}}return e0},xp=async(e0,r,t0,n0)=>{let r0;if(!(32&r.$flags$)){if(r.$flags$|=32,t0.$lazyBundleId$){const s0=((a0,c0,l0)=>{const u0=a0.$tagName$.replace(/-/g,"_"),h0=a0.$lazyBundleId$;if(!h0)return;const g0=pf.get(h0);if(g0)return g0[u0];{const w0=m0=>(pf.set(h0,m0),m0[u0]);if(h0==="mm-install-modal_3")return Promise.resolve().then(function(){return gg}).then(w0,ff)}return import(`./${h0}.entry.js`).then(w0=>(pf.set(h0,w0),w0[u0]),ff)})(t0);if(s0&&"then"in s0?r0=await s0:r0=s0,!r0)throw new Error(`Constructor for "${t0.$tagName$}#${r.$modeName$}" was not found`);r0.isProxied||(t0.$watchers$=r0.watchers,kp(r0,t0,2),r0.isProxied=!0),t0.$tagName$,r.$flags$|=8;try{new r0(r)}catch(a0){ff(a0)}r.$flags$&=-9,r.$flags$|=128,Mp(r.$lazyInstance$)}else{r0=e0.constructor;const s0=e0.localName;customElements.whenDefined(s0).then(()=>r.$flags$|=128)}if(r0&&r0.style){let s0;typeof r0.style=="string"&&(s0=r0.style);const a0=Zf(t0);gf.has(a0)||(t0.$tagName$,((c0,l0,u0)=>{let h0=gf.get(c0);wf&&u0?(h0=h0||new CSSStyleSheet,typeof h0=="string"?h0=l0:h0.replaceSync(l0)):h0=l0,gf.set(c0,h0)})(a0,s0,!!(1&t0.$flags$)))}}const i0=r.$ancestorComponent$,o0=()=>pp(r,!0);i0&&i0["s-rc"]?i0["s-rc"].push(o0):o0()},Mp=e0=>{Sp(e0,"connectedCallback")},Ap=e0=>{Sp(e0,"disconnectedCallback")},Ip=(e0,r={})=>{var t0;const n0=[],r0=r.exclude||[],i0=yf.customElements,o0=vf.head,s0=o0.querySelector("meta[charset]"),a0=vf.createElement("style"),c0=[];let l0,u0=!0;Object.assign(bf,r),bf.$resourcesUrl$=new URL(r.resourcesUrl||"./",vf.baseURI).href;let h0=!1;if(e0.map(g0=>{g0[1].map(w0=>{var m0;const S0={$flags$:w0[0],$tagName$:w0[1],$members$:w0[2],$listeners$:w0[3]};4&S0.$flags$&&(h0=!0),S0.$members$=w0[2],S0.$watchers$=(m0=w0[4])!=null?m0:{};const b0=S0.$tagName$,T0=class extends HTMLElement{constructor(N0){if(super(N0),this.hasRegisteredEventListeners=!1,((x0,k0)=>{const B0={$flags$:0,$hostElement$:x0,$cmpMeta$:k0,$instanceValues$:new Map};B0.$onReadyPromise$=new Promise(H0=>B0.$onReadyResolve$=H0),x0["s-p"]=[],x0["s-rc"]=[],lf.set(x0,B0)})(N0=this,S0),1&S0.$flags$)if(N0.shadowRoot){if(N0.shadowRoot.mode!=="open")throw new Error(`Unable to re-use existing shadow root for ${S0.$tagName$}! Mode is set to ${N0.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else N0.attachShadow({mode:"open"})}connectedCallback(){df(this),this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0),l0&&(clearTimeout(l0),l0=null),u0?c0.push(this):bf.jmp(()=>(N0=>{if(!(1&bf.$flags$)){const x0=df(N0),k0=x0.$cmpMeta$;if(k0.$tagName$,1&x0.$flags$)x0?.$lazyInstance$?Mp(x0.$lazyInstance$):x0?.$onReadyPromise$&&x0.$onReadyPromise$.then(()=>Mp(x0.$lazyInstance$));else{x0.$flags$|=1;{let B0=N0;for(;B0=B0.parentNode||B0.host;)if(B0["s-p"]){fp(x0,x0.$ancestorComponent$=B0);break}}k0.$members$&&Object.entries(k0.$members$).map(([B0,[H0]])=>{if(31&H0&&N0.hasOwnProperty(B0)){const G0=N0[B0];delete N0[B0],N0[B0]=G0}}),xp(N0,x0,k0)}}})(this))}disconnectedCallback(){bf.jmp(()=>(async N0=>{if(!(1&bf.$flags$)){const x0=df(N0);x0?.$lazyInstance$?Ap(x0.$lazyInstance$):x0?.$onReadyPromise$&&x0.$onReadyPromise$.then(()=>Ap(x0.$lazyInstance$))}})(this))}componentOnReady(){return df(this).$onReadyPromise$}};S0.$lazyBundleId$=g0[0],r0.includes(b0)||i0.get(b0)||(n0.push(b0),i0.define(b0,kp(T0,S0,1)))})}),n0.length>0&&(h0&&(a0.textContent+=mf),a0.textContent+=n0.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",a0.innerHTML.length)){a0.setAttribute("data-styles","");const g0=(t0=bf.$nonce$)!=null?t0:Pf(vf);g0!=null&&a0.setAttribute("nonce",g0),o0.insertBefore(a0,s0?s0.nextSibling:o0.firstChild)}u0=!1,c0.length?c0.map(g0=>g0.connectedCallback()):bf.jmp(()=>l0=setTimeout(Ep,30))};(function(){if(typeof window<"u"&&window.Reflect!==void 0&&window.customElements!==void 0){var e0=HTMLElement;window.HTMLElement=function(){return Reflect.construct(e0,[],this.constructor)},HTMLElement.prototype=e0.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,e0)}})();var Rp=Object.freeze({__proto__:null,defineCustomElements:async(e0,r)=>{if(typeof window<"u")return await void 0,Ip([["mm-install-modal_3",[[1,"mm-install-modal",{link:[1],sdkVersion:[1,"sdk-version"],preferDesktop:[4,"prefer-desktop"],tab:[32],isDefaultTab:[32],translationsLoaded:[32]},null,{preferDesktop:["updatePreferDesktop"]}],[1,"mm-pending-modal",{displayOTP:[4,"display-o-t-p"],sdkVersion:[1,"sdk-version"],otpCode:[1,"otp-code"],translationsLoaded:[32]}],[1,"mm-select-modal",{link:[1],sdkVersion:[1,"sdk-version"],preferDesktop:[4,"prefer-desktop"],tab:[32],isDefaultTab:[32],translationsLoaded:[32]},null,{preferDesktop:["updatePreferDesktop"]}]]]],r)},setNonce:e0=>bf.$nonce$=e0});const Pp={fontFamily:"Roboto, sans-serif"},Tp=({className:e0},r)=>Kf("div",{style:Pp,class:e0},r),Op=({Icon:e0,text:r})=>Kf("div",{class:"flexContainer",style:{padding:"6",flexDirection:"row"}},Kf("div",{class:"flexItem1"},Kf(e0,null)),Kf("div",{class:"flexItem11"},Kf("span",{style:{lineHeight:"2",color:"black"}},r))),Lp=()=>Kf("svg",{width:"20",height:"18",viewBox:"0 0 20 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Kf("path",{d:"M20.0002 7.9702V10.0302C20.0002 10.5802 19.5602 11.0302 19.0002 11.0502H17.0402C15.9602 11.0502 14.9702 10.2602 14.8802 9.1802C14.8202 8.5502 15.0602 7.9602 15.4802 7.5502C15.8502 7.1702 16.3602 6.9502 16.9202 6.9502H19.0002C19.5602 6.9702 20.0002 7.4202 20.0002 7.9702Z",fill:"#037DD6"}),Kf("path",{d:"M18.47 12.55H17.04C15.14 12.55 13.54 11.12 13.38 9.3C13.29 8.26 13.67 7.22 14.43 6.48C15.07 5.82 15.96 5.45 16.92 5.45H18.47C18.76 5.45 19 5.21 18.97 4.92C18.75 2.49 17.14 0.83 14.75 0.55C14.51 0.51 14.26 0.5 14 0.5H5C4.72 0.5 4.45 0.52 4.19 0.56C1.64 0.88 0 2.78 0 5.5V12.5C0 15.26 2.24 17.5 5 17.5H14C16.8 17.5 18.73 15.75 18.97 13.08C19 12.79 18.76 12.55 18.47 12.55ZM11 6.75H5C4.59 6.75 4.25 6.41 4.25 6C4.25 5.59 4.59 5.25 5 5.25H11C11.41 5.25 11.75 5.59 11.75 6C11.75 6.41 11.41 6.75 11 6.75Z",fill:"#037DD6"})),Np=()=>Kf("svg",{width:"20",height:"18",viewBox:"0 0 20 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Kf("path",{d:"M14.44 0.0999756C12.63 0.0999756 11.01 0.979976 10 2.32998C8.99 0.979976 7.37 0.0999756 5.56 0.0999756C2.49 0.0999756 0 2.59998 0 5.68998C0 6.87998 0.19 7.97998 0.52 8.99998C2.1 14 6.97 16.99 9.38 17.81C9.72 17.93 10.28 17.93 10.62 17.81C13.03 16.99 17.9 14 19.48 8.99998C19.81 7.97998 20 6.87998 20 5.68998C20 2.59998 17.51 0.0999756 14.44 0.0999756Z",fill:"#037DD6"})),$p=()=>Kf("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Kf("path",{d:"M16.28 7.53V6.28C16.28 3.58 15.63 0 10 0C4.37 0 3.72 3.58 3.72 6.28V7.53C0.92 7.88 0 9.3 0 12.79V14.65C0 18.75 1.25 20 5.35 20H14.65C18.75 20 20 18.75 20 14.65V12.79C20 9.3 19.08 7.88 16.28 7.53ZM10 16.74C8.33 16.74 6.98 15.38 6.98 13.72C6.98 12.05 8.34 10.7 10 10.7C11.66 10.7 13.02 12.06 13.02 13.72C13.02 15.39 11.67 16.74 10 16.74ZM5.35 7.44C5.27 7.44 5.2 7.44 5.12 7.44V6.28C5.12 3.35 5.95 1.4 10 1.4C14.05 1.4 14.88 3.35 14.88 6.28V7.45C14.8 7.45 14.73 7.45 14.65 7.45H5.35V7.44Z",fill:"#037DD6"})),Dp=()=>Kf("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Kf("path",{d:"M16.4405 8.8999C20.0405 9.2099 21.5105 11.0599 21.5105 15.1099V15.2399C21.5105 19.7099 19.7205 21.4999 15.2505 21.4999H8.74047C4.27047 21.4999 2.48047 19.7099 2.48047 15.2399V15.1099C2.48047 11.0899 3.93047 9.2399 7.47047 8.9099",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Kf("path",{d:"M12 2V14.88",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),Kf("path",{d:"M15.3504 12.6499L12.0004 15.9999L8.65039 12.6499",stroke:"white","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));function Bp({version:e0}){return Kf("div",{style:{textAlign:"center",color:"#BBC0C5",fontSize:"12"}},"SDK Version ",e0?`v${e0}`:"unknown")}const Kp=()=>Kf("svg",{width:"14",height:"14",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Kf("rect",{width:"16",height:"16",fill:"white"}),Kf("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.40554 2.40554C2.94627 1.86482 3.82296 1.86482 4.36369 2.40554L8 6.04186L11.6363 2.40554C12.177 1.86482 13.0537 1.86482 13.5945 2.40554C14.1352 2.94627 14.1352 3.82296 13.5945 4.36369L9.95814 8L13.5945 11.6363C14.1352 12.177 14.1352 13.0537 13.5945 13.5945C13.0537 14.1352 12.177 14.1352 11.6363 13.5945L8 9.95814L4.36369 13.5945C3.82296 14.1352 2.94627 14.1352 2.40554 13.5945C1.86482 13.0537 1.86482 12.177 2.40554 11.6363L6.04186 8L2.40554 4.36369C1.86482 3.82296 1.86482 2.94627 2.40554 2.40554Z",fill:"#BBC0C5"})),jp=()=>Kf("svg",{width:"120",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 127 63"},Kf("path",{fill:"currentColor",d:"M71.554 48.607v13.81h-7.072v-9.568l-8.059.945c-1.77.205-2.548.79-2.548 1.864 0 1.575 1.478 2.239 4.648 2.239 1.932 0 4.073-.29 5.963-.79l-3.66 5.225c-1.479.332-2.92.496-4.44.496-6.414 0-10.074-2.57-10.074-7.132 0-4.023 2.877-6.136 9.416-6.884l8.638-1.012c-.467-2.532-2.362-3.633-6.13-3.633-3.537 0-7.443.912-10.937 2.613l1.111-6.18c3.248-1.369 6.95-2.074 10.69-2.074 8.226 0 12.461 3.444 12.461 10.075l-.008.005ZM7.938 31.315.208 62.416h7.73l3.836-15.628 6.65 8.039h8.06l6.65-8.039 3.836 15.628h7.73l-7.73-31.105-14.518 17.388L7.934 31.311l.004.004ZM36.97.21 22.452 17.598 7.938.21.208 31.315h7.73l3.836-15.628 6.65 8.039h8.06l6.65-8.039 3.836 15.628h7.73L36.97.21Zm53.17 48.107-6.25-.912c-1.562-.247-2.178-.747-2.178-1.617 0-1.41 1.52-2.032 4.647-2.032 3.62 0 6.868.747 10.283 2.364l-.862-6.094c-2.757-.995-5.922-1.491-9.212-1.491-7.688 0-11.886 2.696-11.886 7.547 0 3.776 2.303 5.889 7.196 6.636l6.335.954c1.603.248 2.261.87 2.261 1.865 0 1.41-1.478 2.074-4.481 2.074-3.948 0-8.225-.953-11.72-2.654l.7 6.094c3.003 1.122 6.91 1.785 10.57 1.785 7.896 0 12.007-2.78 12.007-7.715 0-3.94-2.303-6.057-7.4-6.8l-.01-.004ZM100.3 34.09v28.325h7.071V34.091H100.3Zm15.334 15.595 9.833-10.744h-8.8l-9.296 11.114 9.912 12.356h8.925l-10.574-12.73v.004Zm-16.321-25.09c0 4.56 3.66 7.13 10.074 7.13 1.52 0 2.961-.167 4.44-.495l3.66-5.225c-1.89.496-4.031.79-5.963.79-3.166 0-4.648-.664-4.648-2.239 0-1.079.783-1.659 2.549-1.864l8.058-.945v9.567h7.072v-13.81c0-6.635-4.236-10.075-12.461-10.075-3.744 0-7.442.705-10.691 2.075l-1.112 6.178c3.495-1.701 7.401-2.613 10.937-2.613 3.769 0 5.664 1.1 6.13 3.633l-8.637 1.013c-6.539.747-9.417 2.86-9.417 6.883l.009-.004Zm-19.779-1.492c0 5.725 3.29 8.627 9.787 8.627 2.59 0 4.732-.416 6.785-1.37l.903-6.261c-1.974 1.2-3.99 1.822-6.005 1.822-3.044 0-4.402-1.243-4.402-4.023v-8.295h10.732V7.84H86.601V2.948l-13.448 7.174v3.482h6.372V23.1l.008.004Zm-6.95-2.612v1.411H53.47c.862 2.873 3.423 4.187 7.97 4.187 3.62 0 6.993-.747 9.992-2.196l-.862 6.056c-2.757 1.16-6.251 1.785-9.829 1.785-9.5 0-14.68-4.23-14.68-12.066 0-7.838 5.264-12.235 13.406-12.235s13.119 4.771 13.119 13.062l-.005-.004ZM53.378 17.09h12.086c-.637-2.751-2.732-4.188-6.08-4.188-3.349 0-5.335 1.399-6.006 4.188Z"}));function Up(e0,r){return e0.toString(2).padStart(r,"0")}function Hp(e0,r){const t0=e0%r;return t0>=0?t0:r+t0}function Fp$1(e0,r){return new Array(e0).fill(r)}function zp(...e0){let r=0;for(const n0 of e0)r=Math.max(r,n0.length);const t0=[];for(let n0=0;n0<r;n0++)for(const r0 of e0)n0>=r0.length||t0.push(r0[n0]);return new Uint8Array(t0)}function qp(e0,r,t0){if(t0<0||t0+r.length>e0.length)return!1;for(let n0=0;n0<r.length;n0++)if(r[n0]!==e0[t0+n0])return!1;return!0}function Wp(e0){return{has:r=>e0.includes(r),decode:r=>{if(!Array.isArray(r)||r.length&&typeof r[0]!="string")throw new Error("alphabet.decode input should be array of strings");return r.map(t0=>{if(typeof t0!="string")throw new Error(`alphabet.decode: not string element=${t0}`);const n0=e0.indexOf(t0);if(n0===-1)throw new Error(`Unknown letter: "${t0}". Allowed: ${e0}`);return n0})},encode:r=>{if(!Array.isArray(r)||r.length&&typeof r[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return r.map(t0=>{if(function(n0){if(!Number.isSafeInteger(n0))throw new Error(`Wrong integer: ${n0}`)}(t0),t0<0||t0>=e0.length)throw new Error(`Digit index outside alphabet: ${t0} (alphabet: ${e0.length})`);return e0[t0]})}}}class Vp{static size(r,t0){if(typeof r=="number"&&(r={height:r,width:r}),!Number.isSafeInteger(r.height)&&r.height!==1/0)throw new Error(`Bitmap: wrong height=${r.height} (${typeof r.height})`);if(!Number.isSafeInteger(r.width)&&r.width!==1/0)throw new Error(`Bitmap: wrong width=${r.width} (${typeof r.width})`);return t0!==void 0&&(r={width:Math.min(r.width,t0.width),height:Math.min(r.height,t0.height)}),r}static fromString(r){const t0=(r=r.replace(/^\n+/g,"").replace(/\n+$/g,"")).split(`
`),n0=t0.length,r0=new Array(n0);let i0;for(const o0 of t0){const s0=o0.split("").map(a0=>{if(a0==="X")return!0;if(a0===" ")return!1;if(a0!=="?")throw new Error(`Bitmap.fromString: unknown symbol=${a0}`)});if(i0&&s0.length!==i0)throw new Error(`Bitmap.fromString different row sizes: width=${i0} cur=${s0.length}`);i0=s0.length,r0.push(s0)}return i0||(i0=0),new Vp({height:n0,width:i0},r0)}constructor(r,t0){const{height:n0,width:r0}=Vp.size(r);this.data=t0||Array.from({length:n0},()=>Fp$1(r0,void 0)),this.height=n0,this.width=r0}point(r){return this.data[r.y][r.x]}isInside(r){return 0<=r.x&&r.x<this.width&&0<=r.y&&r.y<this.height}size(r){if(!r)return{height:this.height,width:this.width};const{x:t0,y:n0}=this.xy(r);return{height:this.height-n0,width:this.width-t0}}xy(r){if(typeof r=="number"&&(r={x:r,y:r}),!Number.isSafeInteger(r.x))throw new Error(`Bitmap: wrong x=${r.x}`);if(!Number.isSafeInteger(r.y))throw new Error(`Bitmap: wrong y=${r.y}`);return r.x=Hp(r.x,this.width),r.y=Hp(r.y,this.height),r}rect(r,t0,n0){const{x:r0,y:i0}=this.xy(r),{height:o0,width:s0}=Vp.size(t0,this.size({x:r0,y:i0}));for(let a0=0;a0<o0;a0++)for(let c0=0;c0<s0;c0++)this.data[i0+a0][r0+c0]=typeof n0=="function"?n0({x:c0,y:a0},this.data[i0+a0][r0+c0]):n0;return this}rectRead(r,t0,n0){return this.rect(r,t0,(r0,i0)=>(n0(r0,i0),i0))}hLine(r,t0,n0){return this.rect(r,{width:t0,height:1},n0)}vLine(r,t0,n0){return this.rect(r,{width:1,height:t0},n0)}border(r=2,t0){const n0=this.height+2*r,r0=this.width+2*r,i0=Fp$1(r,t0),o0=Array.from({length:r},()=>Fp$1(r0,t0));return new Vp({height:n0,width:r0},[...o0,...this.data.map(s0=>[...i0,...s0,...i0]),...o0])}embed(r,t0){return this.rect(r,t0.size(),({x:n0,y:r0})=>t0.data[r0][n0])}rectSlice(r,t0=this.size()){const n0=new Vp(Vp.size(t0,this.size(this.xy(r))));return this.rect(r,t0,({x:r0,y:i0},o0)=>n0.data[i0][r0]=o0),n0}inverse(){const{height:r,width:t0}=this;return new Vp({height:t0,width:r}).rect({x:0,y:0},1/0,({x:n0,y:r0})=>this.data[n0][r0])}scale(r){if(!Number.isSafeInteger(r)||r>1024)throw new Error(`Wrong scale factor: ${r}`);const{height:t0,width:n0}=this;return new Vp({height:r*t0,width:r*n0}).rect({x:0,y:0},1/0,({x:r0,y:i0})=>this.data[Math.floor(i0/r)][Math.floor(r0/r)])}clone(){return new Vp(this.size()).rect({x:0,y:0},this.size(),({x:r,y:t0})=>this.data[t0][r])}assertDrawn(){this.rectRead(0,1/0,(r,t0)=>{if(typeof t0!="boolean")throw new Error("Invalid color type="+typeof t0)})}toString(){return this.data.map(r=>r.map(t0=>t0===void 0?"?":t0?"X":" ").join("")).join(`
`)}toASCII(){const{height:r,width:t0,data:n0}=this;let r0="";for(let i0=0;i0<r;i0+=2){for(let o0=0;o0<t0;o0++){const s0=n0[i0][o0],a0=i0+1>=r||n0[i0+1][o0];s0||a0?!s0&&a0?r0+="":s0&&!a0?r0+="":s0&&a0&&(r0+=" "):r0+=""}r0+=`
`}return r0}toTerm(){const r="\x1B[0m",t0=`\x1B[1;47m  ${r}`,n0=`\x1B[40m  ${r}`;return this.data.map(r0=>r0.map(i0=>i0?n0:t0).join("")).join(`
`)}toSVG(){let r=`<svg xmlns:svg="http://www.w3.org/2000/svg" viewBox="0 0 ${this.width} ${this.height}" version="1.1" xmlns="http://www.w3.org/2000/svg">`;return this.rectRead(0,1/0,({x:t0,y:n0},r0)=>{r0&&(r+=`<rect x="${t0}" y="${n0}" width="1" height="1" />`)}),r+="</svg>",r}toGIF(){const r=s0=>[255&s0,s0>>>8&255],t0=[...r(this.width),...r(this.height)],n0=[];this.rectRead(0,1/0,(s0,a0)=>n0.push(+(a0===!0)));const r0=126,i0=[71,73,70,56,55,97,...t0,246,0,0,255,255,255,...Fp$1(381,0),44,0,0,0,0,...t0,0,7],o0=Math.floor(n0.length/r0);for(let s0=0;s0<o0;s0++)i0.push(127,128,...n0.slice(r0*s0,r0*(s0+1)).map(a0=>+a0));return i0.push(n0.length%r0+1,128,...n0.slice(o0*r0).map(s0=>+s0)),i0.push(1,129,0,59),new Uint8Array(i0)}toImage(r=!1){const{height:t0,width:n0}=this.size(),r0=new Uint8Array(t0*n0*(r?3:4));let i0=0;for(let o0=0;o0<t0;o0++)for(let s0=0;s0<n0;s0++){const a0=this.data[o0][s0]?0:255;r0[i0++]=a0,r0[i0++]=a0,r0[i0++]=a0,r||(r0[i0++]=255)}return{height:t0,width:n0,data:r0}}}const Gp=["low","medium","quartile","high"],Yp=["numeric","alphanumeric","byte","kanji","eci"],Zp=[26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706],Jp={low:[7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],medium:[10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],quartile:[13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],high:[17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]},Xp={low:[1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],medium:[1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],quartile:[1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],high:[1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]},Qp={size:{encode:e0=>21+4*(e0-1),decode:e0=>(e0-17)/4},sizeType:e0=>Math.floor((e0+7)/17),alignmentPatterns(e0){if(e0===1)return[];const r=Qp.size.encode(e0)-6-1,t0=r-6,n0=Math.ceil(t0/28);let r0=Math.floor(t0/n0);r0%2?r0+=1:t0%n0*2>=n0&&(r0+=2);const i0=[6];for(let o0=1;o0<n0;o0++)i0.push(r-(n0-o0)*r0);return i0.push(r),i0},ECCode:{low:1,medium:0,quartile:3,high:2},formatMask:21522,formatBits(e0,r){const t0=Qp.ECCode[e0]<<3|r;let n0=t0;for(let r0=0;r0<10;r0++)n0=n0<<1^1335*(n0>>9);return(t0<<10|n0)^Qp.formatMask},versionBits(e0){let r=e0;for(let t0=0;t0<12;t0++)r=r<<1^7973*(r>>11);return e0<<12|r},alphabet:{numeric:Wp("0123456789"),alphanumerc:Wp("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:")},lengthBits:(e0,r)=>({numeric:[10,12,14],alphanumeric:[9,11,13],byte:[8,16,16],kanji:[8,10,12],eci:[0,0,0]})[r][Qp.sizeType(e0)],modeBits:{numeric:"0001",alphanumeric:"0010",byte:"0100",kanji:"1000",eci:"0111"},capacity(e0,r){const t0=Zp[e0-1],n0=Jp[r][e0-1],r0=Xp[r][e0-1],i0=Math.floor(t0/r0)-n0,o0=r0-t0%r0;return{words:n0,numBlocks:r0,shortBlocks:o0,blockLen:i0,capacity:8*(t0-n0*r0),total:(n0+i0)*r0+r0-o0}}},eg=[(e0,r)=>(e0+r)%2==0,(e0,r)=>r%2==0,(e0,r)=>e0%3==0,(e0,r)=>(e0+r)%3==0,(e0,r)=>(Math.floor(r/2)+Math.floor(e0/3))%2==0,(e0,r)=>e0*r%2+e0*r%3==0,(e0,r)=>(e0*r%2+e0*r%3)%2==0,(e0,r)=>((e0+r)%2+e0*r%3)%2==0],tg={tables:(e0=>{const r=Fp$1(256,0),t0=Fp$1(256,0);for(let n0=0,r0=1;n0<256;n0++)r[n0]=r0,t0[r0]=n0,r0<<=1,256&r0&&(r0^=285);return{exp:r,log:t0}})(),exp:e0=>tg.tables.exp[e0],log(e0){if(e0===0)throw new Error(`GF.log: wrong arg=${e0}`);return tg.tables.log[e0]%255},mul:(e0,r)=>e0===0||r===0?0:tg.tables.exp[(tg.tables.log[e0]+tg.tables.log[r])%255],add:(e0,r)=>e0^r,pow:(e0,r)=>tg.tables.exp[tg.tables.log[e0]*r%255],inv(e0){if(e0===0)throw new Error(`GF.inverse: wrong arg=${e0}`);return tg.tables.exp[255-tg.tables.log[e0]]},polynomial(e0){if(e0.length==0)throw new Error("GF.polymomial: wrong length");if(e0[0]!==0)return e0;let r=0;for(;r<e0.length-1&&e0[r]==0;r++);return e0.slice(r)},monomial(e0,r){if(e0<0)throw new Error(`GF.monomial: wrong degree=${e0}`);if(r==0)return[0];let t0=Fp$1(e0+1,0);return t0[0]=r,tg.polynomial(t0)},degree:e0=>e0.length-1,coefficient:(e0,r)=>e0[tg.degree(e0)-r],mulPoly(e0,r){if(e0[0]===0||r[0]===0)return[0];const t0=Fp$1(e0.length+r.length-1,0);for(let n0=0;n0<e0.length;n0++)for(let r0=0;r0<r.length;r0++)t0[n0+r0]=tg.add(t0[n0+r0],tg.mul(e0[n0],r[r0]));return tg.polynomial(t0)},mulPolyScalar(e0,r){if(r==0)return[0];if(r==1)return e0;const t0=Fp$1(e0.length,0);for(let n0=0;n0<e0.length;n0++)t0[n0]=tg.mul(e0[n0],r);return tg.polynomial(t0)},mulPolyMonomial(e0,r,t0){if(r<0)throw new Error("GF.mulPolyMonomial: wrong degree");if(t0==0)return[0];const n0=Fp$1(e0.length+r,0);for(let r0=0;r0<e0.length;r0++)n0[r0]=tg.mul(e0[r0],t0);return tg.polynomial(n0)},addPoly(e0,r){if(e0[0]===0)return r;if(r[0]===0)return e0;let t0=e0,n0=r;t0.length>n0.length&&([t0,n0]=[n0,t0]);let r0=Fp$1(n0.length,0),i0=n0.length-t0.length,o0=n0.slice(0,i0);for(let s0=0;s0<o0.length;s0++)r0[s0]=o0[s0];for(let s0=i0;s0<n0.length;s0++)r0[s0]=tg.add(t0[s0-i0],n0[s0]);return tg.polynomial(r0)},remainderPoly(e0,r){const t0=Array.from(e0);for(let n0=0;n0<e0.length-r.length+1;n0++){const r0=t0[n0];if(r0!==0)for(let i0=1;i0<r.length;i0++)r[i0]!==0&&(t0[n0+i0]=tg.add(t0[n0+i0],tg.mul(r[i0],r0)))}return t0.slice(e0.length-r.length+1,t0.length)},divisorPoly(e0){let r=[1];for(let t0=0;t0<e0;t0++)r=tg.mulPoly(r,[1,tg.pow(2,t0)]);return r},evalPoly(e0,r){if(r==0)return tg.coefficient(e0,0);let t0=e0[0];for(let n0=1;n0<e0.length;n0++)t0=tg.add(tg.mul(r,t0),e0[n0]);return t0},euclidian(e0,r,t0){tg.degree(e0)<tg.degree(r)&&([e0,r]=[r,e0]);let n0=e0,r0=r,i0=[0],o0=[1];for(;2*tg.degree(r0)>=t0;){let c0=n0,l0=i0;if(n0=r0,i0=o0,n0[0]===0)throw new Error("rLast[0] === 0");r0=c0;let u0=[0];const h0=tg.inv(n0[0]);for(;tg.degree(r0)>=tg.degree(n0)&&r0[0]!==0;){const g0=tg.degree(r0)-tg.degree(n0),w0=tg.mul(r0[0],h0);u0=tg.addPoly(u0,tg.monomial(g0,w0)),r0=tg.addPoly(r0,tg.mulPolyMonomial(n0,g0,w0))}if(u0=tg.mulPoly(u0,i0),o0=tg.addPoly(u0,l0),tg.degree(r0)>=tg.degree(n0))throw new Error(`Division failed r: ${r0}, rLast: ${n0}`)}const s0=tg.coefficient(o0,0);if(s0==0)throw new Error("sigmaTilde(0) was zero");const a0=tg.inv(s0);return[tg.mulPolyScalar(o0,a0),tg.mulPolyScalar(r0,a0)]}};function ng(e0,r){const{words:t0,shortBlocks:n0,numBlocks:r0,blockLen:i0,total:o0}=Qp.capacity(e0,r),s0=(a0=t0,{encode(c0){const l0=tg.divisorPoly(a0),u0=Array.from(c0);return u0.push(...l0.slice(0,-1).fill(0)),Uint8Array.from(tg.remainderPoly(u0,l0))},decode(c0){const l0=c0.slice(),u0=tg.polynomial(Array.from(c0));let h0=Fp$1(a0,0),g0=!1;for(let N0=0;N0<a0;N0++){const x0=tg.evalPoly(u0,tg.exp(N0));h0[h0.length-1-N0]=x0,x0!==0&&(g0=!0)}if(!g0)return l0;h0=tg.polynomial(h0);const w0=tg.monomial(a0,1),[m0,S0]=tg.euclidian(w0,h0,a0),b0=Fp$1(tg.degree(m0),0);let T0=0;for(let N0=1;N0<256&&T0<b0.length;N0++)tg.evalPoly(m0,N0)===0&&(b0[T0++]=tg.inv(N0));if(T0!==b0.length)throw new Error("RS.decode: wrong errors number");for(let N0=0;N0<b0.length;N0++){const x0=l0.length-1-tg.log(b0[N0]);if(x0<0)throw new Error("RS.decode: wrong error location");const k0=tg.inv(b0[N0]);let B0=1;for(let H0=0;H0<b0.length;H0++)N0!==H0&&(B0=tg.mul(B0,tg.add(1,tg.mul(b0[H0],k0))));l0[x0]=tg.add(l0[x0],tg.mul(tg.evalPoly(S0,k0),tg.inv(B0)))}return l0}});var a0;return{encode(c0){const l0=[],u0=[];for(let m0=0;m0<r0;m0++){const S0=i0+(m0<n0?0:1);l0.push(c0.subarray(0,S0)),u0.push(s0.encode(c0.subarray(0,S0))),c0=c0.subarray(S0)}const h0=zp(...l0),g0=zp(...u0),w0=new Uint8Array(h0.length+g0.length);return w0.set(h0),w0.set(g0,h0.length),w0},decode(c0){if(c0.length!==o0)throw new Error(`interleave.decode: len(data)=${c0.length}, total=${o0}`);const l0=[];for(let g0=0;g0<r0;g0++){const w0=g0<n0;l0.push(new Uint8Array(t0+i0+(w0?0:1)))}let u0=0;for(let g0=0;g0<i0;g0++)for(let w0=0;w0<r0;w0++)l0[w0][g0]=c0[u0++];for(let g0=n0;g0<r0;g0++)l0[g0][i0]=c0[u0++];for(let g0=i0;g0<i0+t0;g0++)for(let w0=0;w0<r0;w0++){const m0=w0<n0;l0[w0][g0+(m0?0:1)]=c0[u0++]}const h0=[];for(const g0 of l0)h0.push(...Array.from(s0.decode(g0)).slice(0,-t0));return Uint8Array.from(h0)}}}function rg(e0,r,t0,n0){let r0="",i0=t0.length;if(n0==="numeric"){const u0=Qp.alphabet.numeric.decode(t0.split("")),h0=u0.length;for(let g0=0;g0<h0-2;g0+=3)r0+=Up(100*u0[g0]+10*u0[g0+1]+u0[g0+2],10);h0%3==1?r0+=Up(u0[h0-1],4):h0%3==2&&(r0+=Up(10*u0[h0-2]+u0[h0-1],7))}else if(n0==="alphanumeric"){const u0=Qp.alphabet.alphanumerc.decode(t0.split("")),h0=u0.length;for(let g0=0;g0<h0-1;g0+=2)r0+=Up(45*u0[g0]+u0[g0+1],11);h0%2==1&&(r0+=Up(u0[h0-1],6))}else{if(n0!=="byte")throw new Error("encode: unsupported type");{const u0=function(h0){if(typeof h0!="string")throw new Error("utf8ToBytes expected string, got "+typeof h0);return new Uint8Array(new TextEncoder().encode(h0))}(t0);i0=u0.length,r0=Array.from(u0).map(h0=>Up(h0,8)).join("")}}const{capacity:o0}=Qp.capacity(e0,r),s0=Up(i0,Qp.lengthBits(e0,n0));let a0=Qp.modeBits[n0]+s0+r0;if(a0.length>o0)throw new Error("Capacity overflow");a0+="0".repeat(Math.min(4,Math.max(0,o0-a0.length))),a0.length%8&&(a0+="0".repeat(8-a0.length%8));const c0="1110110000010001";for(let u0=0;a0.length!==o0;u0++)a0+=c0[u0%16];const l0=Uint8Array.from(a0.match(/(.{8})/g).map(u0=>+`0b${u0}`));return ng(e0,r).encode(l0)}function ig(e0,r,t0,n0,r0=!1){const i0=function(a0,c0,l0,u0=!1){const h0=Qp.size.encode(a0);let g0=new Vp(h0+2);const w0=new Vp(3).rect(0,3,!0).border(1,!1).border(1,!0).border(1,!1);g0=g0.embed(0,w0).embed({x:-w0.width,y:0},w0).embed({x:0,y:-w0.height},w0),g0=g0.rectSlice(1,h0);const m0=new Vp(1).rect(0,1,!0).border(1,!1).border(1,!0),S0=Qp.alignmentPatterns(a0);for(const b0 of S0)for(const T0 of S0)g0.data[b0][T0]===void 0&&g0.embed({x:T0-2,y:b0-2},m0);g0=g0.hLine({x:0,y:6},1/0,({x:b0},T0)=>T0===void 0?b0%2==0:T0).vLine({x:6,y:0},1/0,({y:b0},T0)=>T0===void 0?b0%2==0:T0);{const b0=Qp.formatBits(c0,l0),T0=N0=>!u0&&(b0>>N0&1)==1;for(let N0=0;N0<6;N0++)g0.data[N0][8]=T0(N0);for(let N0=6;N0<8;N0++)g0.data[N0+1][8]=T0(N0);for(let N0=8;N0<15;N0++)g0.data[h0-15+N0][8]=T0(N0);for(let N0=0;N0<8;N0++)g0.data[8][h0-N0-1]=T0(N0);for(let N0=8;N0<9;N0++)g0.data[8][15-N0-1+1]=T0(N0);for(let N0=9;N0<15;N0++)g0.data[8][15-N0-1]=T0(N0);g0.data[h0-8][8]=!u0}if(a0>=7){const b0=Qp.versionBits(a0);for(let T0=0;T0<18;T0+=1){const N0=!u0&&(b0>>T0&1)==1,x0=Math.floor(T0/3),k0=T0%3+h0-8-3;g0.data[x0][k0]=N0,g0.data[k0][x0]=N0}}return g0}(e0,r,n0,r0);let o0=0;const s0=8*t0.length;if(function(a0,c0,l0){const u0=a0.height,h0=eg[c0];let g0=-1,w0=u0-1;for(let m0=u0-1;m0>0;m0-=2){for(m0==6&&(m0=5);;w0+=g0){for(let S0=0;S0<2;S0+=1){const b0=m0-S0;a0.data[w0][b0]===void 0&&l0(b0,w0,h0(b0,w0))}if(w0+g0<0||w0+g0>=u0)break}g0=-g0}}(i0,n0,(a0,c0,l0)=>{let u0=!1;o0<s0&&(u0=(t0[o0>>>3]>>(7-o0&7)&1)!=0,o0++),i0.data[c0][a0]=u0!==l0}),o0!==s0)throw new Error("QR: bytes left after draw");return i0}function og(e0){const r=e0.inverse(),t0=g0=>{let w0=0;for(let m0,S0=0,b0=1;S0<g0.length;S0++)m0===g0[S0]&&(b0++,S0!==g0.length-1)||(b0>=5&&(w0+=b0-5+3),m0=g0[S0],b0=1);return w0};let n0=0;e0.data.forEach(g0=>n0+=t0(g0)),r.data.forEach(g0=>n0+=t0(g0));let r0=0,i0=e0.data;const o0=e0.width-1,s0=e0.height-1;for(let g0=0;g0<o0;g0++)for(let w0=0;w0<s0;w0++){const m0=g0+1,S0=w0+1;i0[g0][w0]===i0[m0][w0]&&i0[m0][w0]===i0[g0][S0]&&i0[m0][w0]===i0[m0][S0]&&(r0+=3)}const a0=g0=>{const w0=[!0,!1,!0,!0,!0,!1,!0],m0=[!1,!1,!1,!1],S0=[...w0,...m0],b0=[...m0,...w0];let T0=0;for(let N0=0;N0<g0.length;N0++)qp(g0,S0,N0)&&(T0+=40),qp(g0,b0,N0)&&(T0+=40);return T0};let c0=0;for(const g0 of e0.data)c0+=a0(g0);for(const g0 of r.data)c0+=a0(g0);let l0=0;e0.rectRead(0,1/0,(g0,w0)=>l0+=w0?1:0);const u0=l0/(e0.height*e0.width)*100,h0=10*Math.floor(Math.abs(u0-50)/5);return n0+r0+c0+h0}function sg(e0,r="raw",t0={}){const n0=t0.ecc!==void 0?t0.ecc:"medium";(function(l0){if(!Gp.includes(l0))throw new Error(`Invalid error correction mode=${l0}. Expected: ${Gp}`)})(n0);const r0=t0.encoding!==void 0?t0.encoding:function(l0){let u0="numeric";for(let h0 of l0)if(!Qp.alphabet.numeric.has(h0)&&(u0="alphanumeric",!Qp.alphabet.alphanumerc.has(h0)))return"byte";return u0}(e0);(function(l0){if(!Yp.includes(l0))throw new Error(`Encoding: invalid mode=${l0}. Expected: ${Yp}`);if(l0==="kanji"||l0==="eci")throw new Error(`Encoding: ${l0} is not supported (yet?).`)})(r0),t0.mask!==void 0&&function(l0){if(![0,1,2,3,4,5,6,7].includes(l0)||!eg[l0])throw new Error(`Invalid mask=${l0}. Expected number [0..7]`)}(t0.mask);let i0,o0=t0.version,s0=new Error("Unknown error");if(o0!==void 0)(function(l0){if(!Number.isSafeInteger(l0)||l0<1||l0>40)throw new Error(`Invalid version=${l0}. Expected number [1..40]`)})(o0),i0=rg(o0,n0,e0,r0);else for(let l0=1;l0<=40;l0++)try{i0=rg(l0,n0,e0,r0),o0=l0;break}catch(u0){s0=u0}if(!o0||!i0)throw s0;let a0=function(l0,u0,h0,g0){if(g0===void 0){const w0=function(){let m0,S0=1/0;return{add(b0,T0){b0>=S0||(m0=T0,S0=b0)},get:()=>m0,score:()=>S0}}();for(let m0=0;m0<eg.length;m0++)w0.add(og(ig(l0,u0,h0,m0,!0)),m0);g0=w0.get()}if(g0===void 0)throw new Error("Cannot find mask");return ig(l0,u0,h0,g0)}(o0,n0,i0,t0.mask);a0.assertDrawn();const c0=t0.border===void 0?2:t0.border;if(!Number.isSafeInteger(c0))throw new Error("Wrong border type="+typeof c0);if(a0=a0.border(c0,!1),t0.scale!==void 0&&(a0=a0.scale(t0.scale)),r==="raw")return a0.data;if(r==="ascii")return a0.toASCII();if(r==="svg")return a0.toSVG();if(r==="gif")return a0.toGIF();if(r==="term")return a0.toTerm();throw new Error(`Unknown output: ${r}`)}const ag={DESKTOP:"Desktop",MOBILE:"Mobile",META_MASK_MOBILE_APP:"MetaMask mobile app",SCAN_TO_CONNECT:"Scan to connect and sign with",CONNECT_WITH_EXTENSION:"Connect With MetaMask Extension",INSTALL_MODAL:{TRUSTED_BY_USERS:"Trusted by over 30 million users to buy, store, send and swap crypto securely",LEADING_CRYPTO_WALLET:"The leading crypto wallet & gateway to blockchain apps built on Ethereum Mainnet, Polygon, Optimism, and many other networks",CONTROL_DIGITAL_INTERACTIONS:"Puts you in control of your digital interactions by making power of cryptography more accessible",INSTALL_META_MASK_EXTENSION:"Install MetaMask Extension"},PENDING_MODAL:{OPEN_META_MASK_SELECT_CODE:"Please open the MetaMask wallet app and select the code on the screen OR disconnect",OPEN_META_MASK_CONTINUE:"Open the MetaMask app to continue with your session.",NUMBER_AFTER_OPEN_NOTICE:"If a number doesn't appear after opening MetaMask, please click disconnect and re-scan the QRCode.",DISCONNECT:"Disconnect"},SELECT_MODAL:{CRYPTO_TAKE_CONTROL_TEXT:"Take control of your crypto and explore the blockchain with the wallet trusted by over 30 million people worldwide"},META_MASK_MODAL:{ADDRESS_COPIED:"Address copied to clipboard!",DISCONNECT:"Disconnect",ACTIVE_NETWORK:"Active Network"}};class cg{constructor(r){var t0;this.translations=ag,this.supportedLocales=["es","fr","he","it","pt","tr"],this.baseUrl=(t0=r?.baseUrl)!==null&&t0!==void 0?t0:"https://raw.githubusercontent.com/MetaMask/metamask-sdk/refs/heads/gh-pages/locales"}getBrowserLanguage(){if((navigator.languages||[navigator.language]).some(t0=>t0.toLowerCase().startsWith("en")))return"en";const r=navigator.language.toLowerCase().split("-")[0];return this.supportedLocales.includes(r)?r:"en"}async init(r){const t0=this.getBrowserLanguage()||r.fallbackLng;await this.loadTranslations(t0)}async loadTranslations(r){const t0=r.split("-")[0];if(t0!=="en"&&this.supportedLocales.includes(t0))try{const n0=`${this.baseUrl}/${t0}.json`,r0=await fetch(n0);if(!r0.ok)throw new Error(`HTTP error! status: ${r0.status}`);this.translations=await r0.json()}catch(n0){console.warn(` Failed to load ${t0} translations, falling back to English:`,n0),this.translations=ag}else this.translations=ag}t(r){return this.getNestedTranslation(r,this.translations)||r}getNestedTranslation(r,t0){const n0=r.split(".");let r0=t0;for(const i0 of n0){if(typeof r0!="object")return"";r0=r0[i0]}return typeof r0=="string"?r0:""}}var lg;(function(e0){e0.SDK_MODAL_VIEWED="sdk_modal_viewed",e0.SDK_MODAL_BUTTON_CLICKED="sdk_modal_button_clicked",e0.SDK_MODAL_TOGGLE_CHANGED="sdk_modal_toggle_changed"})(lg||(lg={}));const dg=class{constructor(e0){uf(this,e0),this.close=Wf(this,"close",7),this.startDesktopOnboarding=Wf(this,"startDesktopOnboarding",7),this.trackAnalytics=Wf(this,"trackAnalytics",7),this.link=void 0,this.sdkVersion=void 0,this.preferDesktop=void 0,this.tab=1,this.isDefaultTab=!0,this.translationsLoaded=!1,this.onClose=this.onClose.bind(this),this.onStartDesktopOnboardingHandler=this.onStartDesktopOnboardingHandler.bind(this),this.setTab=this.setTab.bind(this),this.render=this.render.bind(this),this.setTab(this.preferDesktop?1:2),this.i18nInstance=new cg}componentDidLoad(){this.trackAnalytics.emit({event:lg.SDK_MODAL_VIEWED,params:{extensionInstalled:!1,tab:this.tab===1?"desktop":"mobile"}})}async connectedCallback(){await this.i18nInstance.init({fallbackLng:"en"}),this.translationsLoaded=!0}updatePreferDesktop(e0){e0?this.setTab(1):this.setTab(2)}onClose(e0=!1){this.close.emit({shouldTerminate:e0})}onStartDesktopOnboardingHandler(){this.trackAnalytics.emit({event:lg.SDK_MODAL_BUTTON_CLICKED,params:{button_type:"install_extension",tab:"desktop"}}),this.startDesktopOnboarding.emit()}setTab(e0,r=!1){r&&this.trackAnalytics.emit({event:lg.SDK_MODAL_TOGGLE_CHANGED,params:{toggle:this.tab===1?"desktop_to_mobile":"mobile_to_desktop"}}),this.tab=e0,this.isDefaultTab=!1}render(){if(!this.translationsLoaded)return null;const e0=n0=>this.i18nInstance.t(n0),r=this.isDefaultTab?this.preferDesktop?1:2:this.tab,t0=sg(this.link,"svg",{ecc:"medium",scale:2});return Kf(Tp,{className:"install-model"},Kf("div",{class:"backdrop",onClick:()=>this.onClose(!0)}),Kf("div",{class:"modal"},Kf("div",{class:"closeButtonContainer"},Kf("div",{class:"right"},Kf("span",{class:"closeButton",onClick:()=>this.onClose(!0)},Kf(Kp,null)))),Kf("div",{class:"logoContainer"},Kf(jp,null)),Kf("div",null,Kf("div",{class:"tabcontainer"},Kf("div",{class:"flexContainer"},Kf("div",{onClick:()=>this.setTab(1,!0),class:"tab flexItem "+(r===1?"tabactive":"")},e0("DESKTOP")),Kf("div",{onClick:()=>this.setTab(2,!0),class:"tab flexItem "+(r===2?"tabactive":"")},e0("MOBILE")))),Kf("div",{style:{display:r===1?"none":"block"}},Kf("div",{class:"flexContainer"},Kf("div",{class:"flexItem",style:{textAlign:"center",marginTop:"4"}},t0&&Kf("div",{id:"sdk-mm-qrcode",class:"center",innerHTML:t0}),Kf("div",{class:"connectMobileText"},e0("SCAN_TO_CONNECT")," ",Kf("br",null),Kf("span",{class:"blue"},Kf("b",null,e0("META_MASK_MOBILE_APP"))))))),Kf("div",{style:{display:r===2?"none":"block"}},Kf("div",{class:"item"},Kf(Op,{Icon:Np,text:e0("INSTALL_MODAL.TRUSTED_BY_USERS")})),Kf("div",{class:"item"},Kf(Op,{Icon:Lp,text:e0("INSTALL_MODAL.LEADING_CRYPTO_WALLET")})),Kf("div",{class:"item"},Kf(Op,{Icon:$p,text:e0("INSTALL_MODAL.CONTROL_DIGITAL_INTERACTIONS")})),Kf("button",{class:"button",onClick:()=>this.onStartDesktopOnboardingHandler()},Kf(Dp,null),Kf("span",{class:"installExtensionText"},e0("INSTALL_MODAL.INSTALL_META_MASK_EXTENSION"))))),Kf(Bp,{version:this.sdkVersion})))}get el(){return qf(this)}static get watchers(){return{preferDesktop:["updatePreferDesktop"]}}};dg.style=`.flexContainer {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: row;
}

.flexItem {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.flexItem11 {
    flex: 11;
    justify-content: center;
    align-items: center;
}

.flexItem1 {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.tab {
    padding: 8px;
    cursor: pointer;
    background-color: #F2F4F6;
    font-size: 12px;
    text-align: center;
    color: #24292E;
}

.tabcontainer {
    padding: 4px;
    background-color: #F2F4F6;
    border-radius: 8px;
    margin-bottom: 30px;
    margin-top: 30px;
}

.tabactive {
    background-color: white;
    -webkit-transition: background-color 300ms linear;
    -ms-transition: background-color 300ms linear;
    transition: background-color 300ms linear;
    border-radius: 8px;
}

.item {
    font-size: 12px;
    margin-bottom: 16px;
    border-radius: 8px;
    padding: 10px;
    border: 2px #F2F4F6 solid;
    color: #24292E;
}

.extensionLabel {
    font-style: normal;
    font-weight: bold;
    font-size: 14px;
    text-align: cetner;
    color: #24272A;
}

.notice {
    font-size: 12px;
    margin-left: 10px;
    margin-right: 10px;
    color: grey;
}

.button {
    margin-top: 41.5px;
    margin-bottom: 20px;
    width: 100%;
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    padding: 12px 20px;
    background: #037DD6;
    border-radius: 32px;
    color: white;
    border: 0;
    font-size: 14px;
    cursor: pointer;
}

.backdrop {
    visibility: visible;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100%;
    z-index: 99998;
    background: rgba(0, 0, 0, 0.87);
    opacity: 0.3;
}

.modal {
    visibility: visible;
    position: fixed;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 99999;
    background: white;
    padding: 20px;
    border-radius: 8px;
    top: 50%;
    max-width: 100%;
    width: 460px;
    min-width: 300px;
    box-shadow: rgba(0, 0, 0, 0.2) 0px 11px 15px -7px, rgba(0, 0, 0, 0.14) 0px 24px 38px 3px, rgba(0, 0, 0, 0.12) 0px 9px 46px 8px;
    -webkit-font-smoothing: antialiased;
}

.closeButton {
    color: #BBC0C5;
    cursor: pointer;
}

.logoContainer {
    margin-left: 24px;
    margin-right: 24px;
    margin-top: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.connectMobileText {
    font-size: 14px;
    color: black;
    margin-top: 28px;
    margin-bottom: 28px;
    line-height: 2;
}

.blue {
    color: #037DD6;
    font-weight: 700;
}

.installExtensionText {
    margin-left: 10px;
}

.center {
    display: flex;
    justify-content: center;
    align-items: center;
}

.right {
    display: flex;
    align-items: center;
    justify-content: right;
}

#sdk-mm-qrcode {
    svg {
        width: 50%;
    }
}`;const ug=class{constructor(e0){uf(this,e0),this.close=Wf(this,"close",7),this.disconnect=Wf(this,"disconnect",7),this.updateOTPValue=Wf(this,"updateOTPValue",7),this.displayOTP=void 0,this.sdkVersion=void 0,this.otpCode=void 0,this.translationsLoaded=!1,this.i18nInstance=new cg}async connectedCallback(){await this.i18nInstance.init({fallbackLng:"en"}),this.translationsLoaded=!0}onClose(){this.close.emit()}onDisconnect(){this.disconnect.emit()}onUpdateOTPValueHandler(e0){this.updateOTPValue.emit({otpValue:e0})}disconnectedCallback(){this.onClose()}render(){var e0;if(!this.translationsLoaded)return null;const r=(e0=this.displayOTP)===null||e0===void 0||e0,t0=this.sdkVersion,n0=r0=>this.i18nInstance.t(r0);return Kf(Tp,{className:"pending-modal"},Kf("div",{class:"backdrop",onClick:()=>this.onClose()}),Kf("div",{class:"modal"},Kf("div",{class:"closeButtonContainer"},Kf("div",{class:"right"},Kf("span",{class:"closeButton",onClick:()=>this.onClose()},Kf(Kp,null)))),Kf("div",{class:"logoContainer"},Kf(jp,null)),Kf("div",null,Kf("div",{class:"flexContainer",style:{flexDirection:"column",color:"black"}},Kf("div",{class:"flexItem",style:{textAlign:"center",marginTop:"30px",marginBottom:"30px",fontSize:"16px"}},n0(r?"PENDING_MODAL.OPEN_META_MASK_SELECT_CODE":"PENDING_MODAL.OPEN_META_MASK_CONTINUE")),Kf("div",{id:"sdk-mm-otp-value",style:{padding:"10px",fontSize:"32px",display:this.otpCode?"block":"none"}},this.otpCode),r&&Kf("div",{class:"notice"},"* ",n0("PENDING_MODAL.NUMBER_AFTER_OPEN_NOTICE"))),Kf("div",{style:{marginTop:"20px"}},Kf("button",{class:"button blue",style:{marginTop:"5px",color:"#0376C9",borderColor:"#0376C9",borderWidth:"1px",borderStyle:"solid",backgroundColor:"white"},onClick:()=>this.onDisconnect()},n0("PENDING_MODAL.DISCONNECT")))),Kf(Bp,{version:t0})))}get el(){return qf(this)}};ug.style=`.flexContainer {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: row;
}

.flexItem {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.flexItem11 {
    flex: 11;
    justify-content: center;
    align-items: center;
}

.flexItem1 {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.tab {
    padding: 8px;
    cursor: pointer;
    background-color: #F2F4F6;
    font-size: 12px;
    text-align: center;
    color: #24292E;
}

.tabcontainer {
    padding: 4px;
    background-color: #F2F4F6;
    border-radius: 8px;
    margin-bottom: 30px;
    margin-top: 30px;
}

.tabactive {
    background-color: white;
    -webkit-transition: background-color 300ms linear;
    -ms-transition: background-color 300ms linear;
    transition: background-color 300ms linear;
    border-radius: 8px;
}

.item {
    font-size: 12px;
    margin-bottom: 16px;
    border-radius: 8px;
    padding: 10px;
    border: 2px #F2F4F6 solid;
    color: #24292E;
}

.extensionLabel {
    font-style: normal;
    font-weight: bold;
    font-size: 14px;
    text-align: cetner;
    color: #24272A;
}

.notice {
    font-size: 12px;
    margin-left: 10px;
    margin-right: 10px;
    color: grey;
}

.button {
    margin-top: 41.5px;
    margin-bottom: 20px;
    width: 100%;
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    padding: 12px 20px;
    background: #037DD6;
    border-radius: 32px;
    color: white;
    border: 0;
    font-size: 14px;
    cursor: pointer;
}

.backdrop {
    visibility: visible;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100%;
    z-index: 99998;
    background: rgba(0, 0, 0, 0.87);
    opacity: 0.3;
}

.modal {
    visibility: visible;
    position: fixed;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 99999;
    background: white;
    padding: 20px;
    border-radius: 8px;
    top: 50%;
    max-width: 100%;
    width: 460px;
    min-width: 300px;
    box-shadow: rgba(0, 0, 0, 0.2) 0px 11px 15px -7px, rgba(0, 0, 0, 0.14) 0px 24px 38px 3px, rgba(0, 0, 0, 0.12) 0px 9px 46px 8px;
    -webkit-font-smoothing: antialiased;
}

.closeButton {
    color: #BBC0C5;
    cursor: pointer;
}

.logoContainer {
    margin-left: 24px;
    margin-right: 24px;
    margin-top: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.connectMobileText {
    font-size: 14px;
    color: black;
    margin-top: 28px;
    margin-bottom: 28px;
    line-height: 2;
}

.blue {
    color: #037DD6;
    font-weight: 700;
}

.installExtensionText {
    margin-left: 10px;
}

.center {
    display: flex;
    justify-content: center;
    align-items: center;
}

.right {
    display: flex;
    align-items: center;
    justify-content: right;
}

#sdk-mm-qrcode {
    svg {
        width: 50%;
    }
}`;const hg=()=>Kf("svg",{width:"21",height:"15",viewBox:"0 0 21 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Kf("path",{d:"M14.1364 14.9851C13.5909 14.9851 13.2273 14.5851 13.2273 13.9851C13.2273 13.3851 13.5909 12.9851 14.1364 12.9851C16.6818 12.9851 18.6818 10.7851 18.6818 7.98508C18.6818 5.18508 16.6818 2.98508 14.1364 2.98508C11.5909 2.98508 9.59091 5.18508 9.59091 7.98508C9.59091 8.58508 9.22727 8.98508 8.68182 8.98508C8.13636 8.98508 7.77273 8.58508 7.77273 7.98508C7.77273 4.08508 10.5909 0.985077 14.1364 0.985077C17.6818 0.985077 20.5 4.08508 20.5 7.98508C20.5 11.8851 17.6818 14.9851 14.1364 14.9851ZM6.68182 14.7851C3.22727 14.7851 0.5 11.6851 0.5 7.98508C0.5 4.28508 3.22727 1.18508 6.68182 1.18508C7.22727 1.18508 7.59091 1.58508 7.59091 2.18508C7.59091 2.78508 7.22727 3.18508 6.68182 3.18508C4.22727 3.18508 2.31818 5.38508 2.31818 7.98508C2.31818 10.5851 4.22727 12.7851 6.68182 12.7851C9.13636 12.7851 11.0455 10.6851 11.0455 7.98508C11.0455 7.38508 11.4091 6.98508 11.9545 6.98508C12.5 6.98508 12.8636 7.38508 12.8636 7.98508C12.7727 11.6851 10.0455 14.7851 6.68182 14.7851Z",fill:"white"})),fg=()=>Kf("svg",{width:"400",height:"300",viewBox:"0 0 400 300",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Kf("rect",{width:"400",height:"300",fill:"white"}),Kf("path",{d:"M300.116 242.46L250.485 227.681L213.057 250.055L186.944 250.045L149.493 227.681L99.8843 242.46L84.7939 191.518L99.8843 134.979L84.7939 87.1777L99.8843 27.9336L177.402 74.2466H222.598L300.116 27.9336L315.206 87.1777L300.116 134.979L315.206 191.518L300.116 242.46Z",fill:"#FF5C16"}),Kf("path",{d:"M99.8955 27.9336L177.414 74.2792L174.331 106.085L99.8955 27.9336Z",fill:"#FF5C16"}),Kf("path",{d:"M149.505 191.539L183.612 217.521L149.505 227.681V191.539Z",fill:"#FF5C16"}),Kf("path",{d:"M180.886 148.585L174.33 106.107L132.369 134.991L132.348 134.98V135.001L132.477 164.732L149.493 148.585H149.504H180.886Z",fill:"#FF5C16"}),Kf("path",{d:"M300.116 27.9336L222.598 74.2792L225.67 106.085L300.116 27.9336Z",fill:"#FF5C16"}),Kf("path",{d:"M250.508 191.539L216.4 217.521L250.508 227.681V191.539Z",fill:"#FF5C16"}),Kf("path",{d:"M267.652 135.001H267.663H267.652V134.98L267.641 134.991L225.68 106.107L219.125 148.585H250.507L267.533 164.732L267.652 135.001Z",fill:"#FF5C16"}),Kf("path",{d:"M149.493 227.681L99.8843 242.46L84.7939 191.54H149.493V227.681Z",fill:"#E34807"}),Kf("path",{d:"M180.875 148.574L190.351 209.98L177.219 175.838L132.456 164.732L149.483 148.574H180.864H180.875Z",fill:"#E34807"}),Kf("path",{d:"M250.507 227.681L300.116 242.46L315.206 191.54H250.507V227.681Z",fill:"#E34807"}),Kf("path",{d:"M219.126 148.574L209.649 209.98L222.782 175.838L267.545 164.732L250.507 148.574H219.126Z",fill:"#E34807"}),Kf("path",{d:"M84.7939 191.517L99.8843 134.979H132.337L132.456 164.721L177.219 175.826L190.351 209.969L183.601 217.488L149.493 191.506H84.7939V191.517Z",fill:"#FF8D5D"}),Kf("path",{d:"M315.206 191.517L300.116 134.979H267.664L267.545 164.721L222.782 175.826L209.649 209.969L216.4 217.488L250.507 191.506H315.206V191.517Z",fill:"#FF8D5D"}),Kf("path",{d:"M222.598 74.2466H200H177.402L174.33 106.053L190.351 209.936H209.649L225.681 106.053L222.598 74.2466Z",fill:"#FF8D5D"}),Kf("path",{d:"M99.8843 27.9336L84.7939 87.1777L99.8843 134.979H132.337L174.319 106.085L99.8843 27.9336Z",fill:"#661800"}),Kf("path",{d:"M171.496 160.906H156.795L148.79 168.752L177.229 175.804L171.496 160.896V160.906Z",fill:"#661800"}),Kf("path",{d:"M300.116 27.9336L315.206 87.1777L300.116 134.979H267.663L225.681 106.085L300.116 27.9336Z",fill:"#661800"}),Kf("path",{d:"M228.525 160.906H243.248L251.253 168.763L222.781 175.826L228.525 160.896V160.906Z",fill:"#661800"}),Kf("path",{d:"M213.046 229.789L216.399 217.51L209.649 209.991H190.34L183.59 217.51L186.943 229.789",fill:"#661800"}),Kf("path",{d:"M213.047 229.789V250.066H186.944V229.789H213.047Z",fill:"#C0C4CD"}),Kf("path",{d:"M149.504 227.66L186.965 250.056V229.779L183.611 217.5L149.504 227.66Z",fill:"#E7EBF6"}),Kf("path",{d:"M250.506 227.66L213.045 250.056V229.779L216.398 217.5L250.506 227.66Z",fill:"#E7EBF6"})),pg=class{constructor(e0){uf(this,e0),this.close=Wf(this,"close",7),this.connectWithExtension=Wf(this,"connectWithExtension",7),this.link=void 0,this.sdkVersion=void 0,this.preferDesktop=void 0,this.tab=1,this.isDefaultTab=!0,this.translationsLoaded=!1,this.i18nInstance=new cg,this.setTab(this.preferDesktop?1:2)}async connectedCallback(){await this.i18nInstance.init({fallbackLng:"en"}),this.translationsLoaded=!0}onClose(e0=!1){this.close.emit({shouldTerminate:e0})}connectWithExtensionHandler(){this.connectWithExtension.emit()}setTab(e0){this.tab=e0,this.isDefaultTab=!1}disconnectedCallback(){this.onClose()}updatePreferDesktop(e0){e0?this.setTab(1):this.setTab(2)}render(){if(!this.translationsLoaded)return null;const e0=r0=>this.i18nInstance.t(r0),r=this.sdkVersion,t0=this.isDefaultTab?this.preferDesktop?1:2:this.tab,n0=sg(this.link,"svg",{ecc:"medium",scale:2});return Kf(Tp,{className:"select-modal"},Kf("div",{class:"backdrop",onClick:()=>this.onClose(!0)}),Kf("div",{class:"modal"},Kf("div",{class:"closeButtonContainer"},Kf("div",{class:"right"},Kf("span",{class:"closeButton",onClick:()=>this.onClose(!0)},Kf(Kp,null)))),Kf("div",{class:"logoContainer"},Kf(jp,null)),Kf("div",null,Kf("div",{class:"tabcontainer"},Kf("div",{class:"flexContainer"},Kf("div",{onClick:()=>this.setTab(1),class:"tab flexItem "+(t0===1?"tabactive":"")},e0("DESKTOP")),Kf("div",{onClick:()=>this.setTab(2),class:"tab flexItem "+(t0===2?"tabactive":"")},e0("MOBILE")))),Kf("div",{style:{display:t0===1?"none":"block"}},Kf("div",{class:"flexContainer"},Kf("div",{class:"flexItem",style:{textAlign:"center",marginTop:"4"}},Kf("div",{class:"center",id:"sdk-mm-qrcode",innerHTML:n0}),Kf("div",{class:"connectMobileText"},e0("SCAN_TO_CONNECT"),Kf("br",null),Kf("span",{class:"blue"},Kf("b",null,e0("META_MASK_MOBILE_APP"))))))),Kf("div",{style:{display:t0===2?"none":"block"}},Kf("div",{style:{display:"flex",justifyContent:"center",height:"300",marginTop:"-20"}},Kf(fg,null)),Kf("div",{class:"extensionLabel"},e0("SELECT_MODAL.CRYPTO_TAKE_CONTROL_TEXT")),Kf("button",{class:"button",onClick:()=>this.connectWithExtensionHandler()},Kf(hg,null),Kf("span",{class:"installExtensionText"},e0("CONNECT_WITH_EXTENSION"))))),Kf(Bp,{version:r})))}get el(){return qf(this)}static get watchers(){return{preferDesktop:["updatePreferDesktop"]}}};pg.style=`.flexContainer {
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: row;
}

.flexItem {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.flexItem11 {
    flex: 11;
    justify-content: center;
    align-items: center;
}

.flexItem1 {
    flex: 1;
    justify-content: center;
    align-items: center;
}

.tab {
    padding: 8px;
    cursor: pointer;
    background-color: #F2F4F6;
    font-size: 12px;
    text-align: center;
    color: #24292E;
}

.tabcontainer {
    padding: 4px;
    background-color: #F2F4F6;
    border-radius: 8px;
    margin-bottom: 30px;
    margin-top: 30px;
}

.tabactive {
    background-color: white;
    -webkit-transition: background-color 300ms linear;
    -ms-transition: background-color 300ms linear;
    transition: background-color 300ms linear;
    border-radius: 8px;
}

.item {
    font-size: 12px;
    margin-bottom: 16px;
    border-radius: 8px;
    padding: 10px;
    border: 2px #F2F4F6 solid;
    color: #24292E;
}

.extensionLabel {
    font-style: normal;
    font-weight: bold;
    font-size: 14px;
    text-align: cetner;
    color: #24272A;
}

.notice {
    font-size: 12px;
    margin-left: 10px;
    margin-right: 10px;
    color: grey;
}

.button {
    margin-top: 41.5px;
    margin-bottom: 20px;
    width: 100%;
    display: flex;
    flex-direction: row;
    justify-content: center;
    align-items: center;
    padding: 12px 20px;
    background: #037DD6;
    border-radius: 32px;
    color: white;
    border: 0;
    font-size: 14px;
    cursor: pointer;
}

.backdrop {
    visibility: visible;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 100%;
    z-index: 99998;
    background: rgba(0, 0, 0, 0.87);
    opacity: 0.3;
}

.modal {
    visibility: visible;
    position: fixed;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 99999;
    background: white;
    padding: 20px;
    border-radius: 8px;
    top: 50%;
    max-width: 100%;
    width: 460px;
    min-width: 300px;
    box-shadow: rgba(0, 0, 0, 0.2) 0px 11px 15px -7px, rgba(0, 0, 0, 0.14) 0px 24px 38px 3px, rgba(0, 0, 0, 0.12) 0px 9px 46px 8px;
    -webkit-font-smoothing: antialiased;
}

.closeButton {
    color: #BBC0C5;
    cursor: pointer;
}

.logoContainer {
    margin-left: 24px;
    margin-right: 24px;
    margin-top: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.connectMobileText {
    font-size: 14px;
    color: black;
    margin-top: 28px;
    margin-bottom: 28px;
    line-height: 2;
}

.blue {
    color: #037DD6;
    font-weight: 700;
}

.installExtensionText {
    margin-left: 10px;
}

.center {
    display: flex;
    justify-content: center;
    align-items: center;
}

.right {
    display: flex;
    align-items: center;
    justify-content: right;
}

#sdk-mm-qrcode {
    svg {
        width: 50%;
    }
}`;var gg=Object.freeze({__proto__:null,mm_install_modal:dg,mm_pending_modal:ug,mm_select_modal:pg}),buffer={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function getLens(e0){var r=e0.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t0=e0.indexOf("=");t0===-1&&(t0=r);var n0=t0===r?0:4-t0%4;return[t0,n0]}function byteLength(e0){var r=getLens(e0),t0=r[0],n0=r[1];return(t0+n0)*3/4-n0}function _byteLength(e0,r,t0){return(r+t0)*3/4-t0}function toByteArray(e0){var r,t0=getLens(e0),n0=t0[0],r0=t0[1],i0=new Arr(_byteLength(e0,n0,r0)),o0=0,s0=r0>0?n0-4:n0,a0;for(a0=0;a0<s0;a0+=4)r=revLookup[e0.charCodeAt(a0)]<<18|revLookup[e0.charCodeAt(a0+1)]<<12|revLookup[e0.charCodeAt(a0+2)]<<6|revLookup[e0.charCodeAt(a0+3)],i0[o0++]=r>>16&255,i0[o0++]=r>>8&255,i0[o0++]=r&255;return r0===2&&(r=revLookup[e0.charCodeAt(a0)]<<2|revLookup[e0.charCodeAt(a0+1)]>>4,i0[o0++]=r&255),r0===1&&(r=revLookup[e0.charCodeAt(a0)]<<10|revLookup[e0.charCodeAt(a0+1)]<<4|revLookup[e0.charCodeAt(a0+2)]>>2,i0[o0++]=r>>8&255,i0[o0++]=r&255),i0}function tripletToBase64(e0){return lookup[e0>>18&63]+lookup[e0>>12&63]+lookup[e0>>6&63]+lookup[e0&63]}function encodeChunk(e0,r,t0){for(var n0,r0=[],i0=r;i0<t0;i0+=3)n0=(e0[i0]<<16&16711680)+(e0[i0+1]<<8&65280)+(e0[i0+2]&255),r0.push(tripletToBase64(n0));return r0.join("")}function fromByteArray(e0){for(var r,t0=e0.length,n0=t0%3,r0=[],i0=16383,o0=0,s0=t0-n0;o0<s0;o0+=i0)r0.push(encodeChunk(e0,o0,o0+i0>s0?s0:o0+i0));return n0===1?(r=e0[t0-1],r0.push(lookup[r>>2]+lookup[r<<4&63]+"==")):n0===2&&(r=(e0[t0-2]<<8)+e0[t0-1],r0.push(lookup[r>>10]+lookup[r>>4&63]+lookup[r<<2&63]+"=")),r0.join("")}var ieee754={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ieee754.read=function(e0,r,t0,n0,r0){var i0,o0,s0=r0*8-n0-1,a0=(1<<s0)-1,c0=a0>>1,l0=-7,u0=t0?r0-1:0,h0=t0?-1:1,g0=e0[r+u0];for(u0+=h0,i0=g0&(1<<-l0)-1,g0>>=-l0,l0+=s0;l0>0;i0=i0*256+e0[r+u0],u0+=h0,l0-=8);for(o0=i0&(1<<-l0)-1,i0>>=-l0,l0+=n0;l0>0;o0=o0*256+e0[r+u0],u0+=h0,l0-=8);if(i0===0)i0=1-c0;else{if(i0===a0)return o0?NaN:(g0?-1:1)*(1/0);o0=o0+Math.pow(2,n0),i0=i0-c0}return(g0?-1:1)*o0*Math.pow(2,i0-n0)};ieee754.write=function(e0,r,t0,n0,r0,i0){var o0,s0,a0,c0=i0*8-r0-1,l0=(1<<c0)-1,u0=l0>>1,h0=r0===23?Math.pow(2,-24)-Math.pow(2,-77):0,g0=n0?0:i0-1,w0=n0?1:-1,m0=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(s0=isNaN(r)?1:0,o0=l0):(o0=Math.floor(Math.log(r)/Math.LN2),r*(a0=Math.pow(2,-o0))<1&&(o0--,a0*=2),o0+u0>=1?r+=h0/a0:r+=h0*Math.pow(2,1-u0),r*a0>=2&&(o0++,a0/=2),o0+u0>=l0?(s0=0,o0=l0):o0+u0>=1?(s0=(r*a0-1)*Math.pow(2,r0),o0=o0+u0):(s0=r*Math.pow(2,u0-1)*Math.pow(2,r0),o0=0));r0>=8;e0[t0+g0]=s0&255,g0+=w0,s0/=256,r0-=8);for(o0=o0<<r0|s0,c0+=r0;c0>0;e0[t0+g0]=o0&255,g0+=w0,o0/=256,c0-=8);e0[t0+g0-w0]|=m0*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e0){const r=base64Js,t0=ieee754,n0=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e0.Buffer=s0,e0.SlowBuffer=T0,e0.INSPECT_MAX_BYTES=50;const r0=2147483647;e0.kMaxLength=r0,s0.TYPED_ARRAY_SUPPORT=i0(),!s0.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i0(){try{const P0=new Uint8Array(1),R0={foo:function(){return 42}};return Object.setPrototypeOf(R0,Uint8Array.prototype),Object.setPrototypeOf(P0,R0),P0.foo()===42}catch{return!1}}Object.defineProperty(s0.prototype,"parent",{enumerable:!0,get:function(){if(s0.isBuffer(this))return this.buffer}}),Object.defineProperty(s0.prototype,"offset",{enumerable:!0,get:function(){if(s0.isBuffer(this))return this.byteOffset}});function o0(P0){if(P0>r0)throw new RangeError('The value "'+P0+'" is invalid for option "size"');const R0=new Uint8Array(P0);return Object.setPrototypeOf(R0,s0.prototype),R0}function s0(P0,R0,M0){if(typeof P0=="number"){if(typeof R0=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return u0(P0)}return a0(P0,R0,M0)}s0.poolSize=8192;function a0(P0,R0,M0){if(typeof P0=="string")return h0(P0,R0);if(ArrayBuffer.isView(P0))return w0(P0);if(P0==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P0);if(Ng(P0,ArrayBuffer)||P0&&Ng(P0.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ng(P0,SharedArrayBuffer)||P0&&Ng(P0.buffer,SharedArrayBuffer)))return m0(P0,R0,M0);if(typeof P0=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const U0=P0.valueOf&&P0.valueOf();if(U0!=null&&U0!==P0)return s0.from(U0,R0,M0);const q0=S0(P0);if(q0)return q0;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof P0[Symbol.toPrimitive]=="function")return s0.from(P0[Symbol.toPrimitive]("string"),R0,M0);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P0)}s0.from=function(P0,R0,M0){return a0(P0,R0,M0)},Object.setPrototypeOf(s0.prototype,Uint8Array.prototype),Object.setPrototypeOf(s0,Uint8Array);function c0(P0){if(typeof P0!="number")throw new TypeError('"size" argument must be of type number');if(P0<0)throw new RangeError('The value "'+P0+'" is invalid for option "size"')}function l0(P0,R0,M0){return c0(P0),P0<=0?o0(P0):R0!==void 0?typeof M0=="string"?o0(P0).fill(R0,M0):o0(P0).fill(R0):o0(P0)}s0.alloc=function(P0,R0,M0){return l0(P0,R0,M0)};function u0(P0){return c0(P0),o0(P0<0?0:b0(P0)|0)}s0.allocUnsafe=function(P0){return u0(P0)},s0.allocUnsafeSlow=function(P0){return u0(P0)};function h0(P0,R0){if((typeof R0!="string"||R0==="")&&(R0="utf8"),!s0.isEncoding(R0))throw new TypeError("Unknown encoding: "+R0);const M0=N0(P0,R0)|0;let U0=o0(M0);const q0=U0.write(P0,R0);return q0!==M0&&(U0=U0.slice(0,q0)),U0}function g0(P0){const R0=P0.length<0?0:b0(P0.length)|0,M0=o0(R0);for(let U0=0;U0<R0;U0+=1)M0[U0]=P0[U0]&255;return M0}function w0(P0){if(Ng(P0,Uint8Array)){const R0=new Uint8Array(P0);return m0(R0.buffer,R0.byteOffset,R0.byteLength)}return g0(P0)}function m0(P0,R0,M0){if(R0<0||P0.byteLength<R0)throw new RangeError('"offset" is outside of buffer bounds');if(P0.byteLength<R0+(M0||0))throw new RangeError('"length" is outside of buffer bounds');let U0;return R0===void 0&&M0===void 0?U0=new Uint8Array(P0):M0===void 0?U0=new Uint8Array(P0,R0):U0=new Uint8Array(P0,R0,M0),Object.setPrototypeOf(U0,s0.prototype),U0}function S0(P0){if(s0.isBuffer(P0)){const R0=b0(P0.length)|0,M0=o0(R0);return M0.length===0||P0.copy(M0,0,0,R0),M0}if(P0.length!==void 0)return typeof P0.length!="number"||Rg(P0.length)?o0(0):g0(P0);if(P0.type==="Buffer"&&Array.isArray(P0.data))return g0(P0.data)}function b0(P0){if(P0>=r0)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r0.toString(16)+" bytes");return P0|0}function T0(P0){return+P0!=P0&&(P0=0),s0.alloc(+P0)}s0.isBuffer=function(R0){return R0!=null&&R0._isBuffer===!0&&R0!==s0.prototype},s0.compare=function(R0,M0){if(Ng(R0,Uint8Array)&&(R0=s0.from(R0,R0.offset,R0.byteLength)),Ng(M0,Uint8Array)&&(M0=s0.from(M0,M0.offset,M0.byteLength)),!s0.isBuffer(R0)||!s0.isBuffer(M0))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(R0===M0)return 0;let U0=R0.length,q0=M0.length;for(let Q0=0,mg=Math.min(U0,q0);Q0<mg;++Q0)if(R0[Q0]!==M0[Q0]){U0=R0[Q0],q0=M0[Q0];break}return U0<q0?-1:q0<U0?1:0},s0.isEncoding=function(R0){switch(String(R0).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s0.concat=function(R0,M0){if(!Array.isArray(R0))throw new TypeError('"list" argument must be an Array of Buffers');if(R0.length===0)return s0.alloc(0);let U0;if(M0===void 0)for(M0=0,U0=0;U0<R0.length;++U0)M0+=R0[U0].length;const q0=s0.allocUnsafe(M0);let Q0=0;for(U0=0;U0<R0.length;++U0){let mg=R0[U0];if(Ng(mg,Uint8Array))Q0+mg.length>q0.length?(s0.isBuffer(mg)||(mg=s0.from(mg)),mg.copy(q0,Q0)):Uint8Array.prototype.set.call(q0,mg,Q0);else if(s0.isBuffer(mg))mg.copy(q0,Q0);else throw new TypeError('"list" argument must be an Array of Buffers');Q0+=mg.length}return q0};function N0(P0,R0){if(s0.isBuffer(P0))return P0.length;if(ArrayBuffer.isView(P0)||Ng(P0,ArrayBuffer))return P0.byteLength;if(typeof P0!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof P0);const M0=P0.length,U0=arguments.length>2&&arguments[2]===!0;if(!U0&&M0===0)return 0;let q0=!1;for(;;)switch(R0){case"ascii":case"latin1":case"binary":return M0;case"utf8":case"utf-8":return wg(P0).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M0*2;case"hex":return M0>>>1;case"base64":return Ig(P0).length;default:if(q0)return U0?-1:wg(P0).length;R0=(""+R0).toLowerCase(),q0=!0}}s0.byteLength=N0;function x0(P0,R0,M0){let U0=!1;if((R0===void 0||R0<0)&&(R0=0),R0>this.length||((M0===void 0||M0>this.length)&&(M0=this.length),M0<=0)||(M0>>>=0,R0>>>=0,M0<=R0))return"";for(P0||(P0="utf8");;)switch(P0){case"hex":return v0(this,R0,M0);case"utf8":case"utf-8":return f0(this,R0,M0);case"ascii":return $0(this,R0,M0);case"latin1":case"binary":return y0(this,R0,M0);case"base64":return O0(this,R0,M0);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I0(this,R0,M0);default:if(U0)throw new TypeError("Unknown encoding: "+P0);P0=(P0+"").toLowerCase(),U0=!0}}s0.prototype._isBuffer=!0;function k0(P0,R0,M0){const U0=P0[R0];P0[R0]=P0[M0],P0[M0]=U0}s0.prototype.swap16=function(){const R0=this.length;if(R0%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let M0=0;M0<R0;M0+=2)k0(this,M0,M0+1);return this},s0.prototype.swap32=function(){const R0=this.length;if(R0%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let M0=0;M0<R0;M0+=4)k0(this,M0,M0+3),k0(this,M0+1,M0+2);return this},s0.prototype.swap64=function(){const R0=this.length;if(R0%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let M0=0;M0<R0;M0+=8)k0(this,M0,M0+7),k0(this,M0+1,M0+6),k0(this,M0+2,M0+5),k0(this,M0+3,M0+4);return this},s0.prototype.toString=function(){const R0=this.length;return R0===0?"":arguments.length===0?f0(this,0,R0):x0.apply(this,arguments)},s0.prototype.toLocaleString=s0.prototype.toString,s0.prototype.equals=function(R0){if(!s0.isBuffer(R0))throw new TypeError("Argument must be a Buffer");return this===R0?!0:s0.compare(this,R0)===0},s0.prototype.inspect=function(){let R0="";const M0=e0.INSPECT_MAX_BYTES;return R0=this.toString("hex",0,M0).replace(/(.{2})/g,"$1 ").trim(),this.length>M0&&(R0+=" ... "),"<Buffer "+R0+">"},n0&&(s0.prototype[n0]=s0.prototype.inspect),s0.prototype.compare=function(R0,M0,U0,q0,Q0){if(Ng(R0,Uint8Array)&&(R0=s0.from(R0,R0.offset,R0.byteLength)),!s0.isBuffer(R0))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof R0);if(M0===void 0&&(M0=0),U0===void 0&&(U0=R0?R0.length:0),q0===void 0&&(q0=0),Q0===void 0&&(Q0=this.length),M0<0||U0>R0.length||q0<0||Q0>this.length)throw new RangeError("out of range index");if(q0>=Q0&&M0>=U0)return 0;if(q0>=Q0)return-1;if(M0>=U0)return 1;if(M0>>>=0,U0>>>=0,q0>>>=0,Q0>>>=0,this===R0)return 0;let mg=Q0-q0,xg=U0-M0;const Cg=Math.min(mg,xg),Tg=this.slice(q0,Q0),kg=R0.slice(M0,U0);for(let Og=0;Og<Cg;++Og)if(Tg[Og]!==kg[Og]){mg=Tg[Og],xg=kg[Og];break}return mg<xg?-1:xg<mg?1:0};function B0(P0,R0,M0,U0,q0){if(P0.length===0)return-1;if(typeof M0=="string"?(U0=M0,M0=0):M0>2147483647?M0=2147483647:M0<-2147483648&&(M0=-2147483648),M0=+M0,Rg(M0)&&(M0=q0?0:P0.length-1),M0<0&&(M0=P0.length+M0),M0>=P0.length){if(q0)return-1;M0=P0.length-1}else if(M0<0)if(q0)M0=0;else return-1;if(typeof R0=="string"&&(R0=s0.from(R0,U0)),s0.isBuffer(R0))return R0.length===0?-1:H0(P0,R0,M0,U0,q0);if(typeof R0=="number")return R0=R0&255,typeof Uint8Array.prototype.indexOf=="function"?q0?Uint8Array.prototype.indexOf.call(P0,R0,M0):Uint8Array.prototype.lastIndexOf.call(P0,R0,M0):H0(P0,[R0],M0,U0,q0);throw new TypeError("val must be string, number or Buffer")}function H0(P0,R0,M0,U0,q0){let Q0=1,mg=P0.length,xg=R0.length;if(U0!==void 0&&(U0=String(U0).toLowerCase(),U0==="ucs2"||U0==="ucs-2"||U0==="utf16le"||U0==="utf-16le")){if(P0.length<2||R0.length<2)return-1;Q0=2,mg/=2,xg/=2,M0/=2}function Cg(kg,Og){return Q0===1?kg[Og]:kg.readUInt16BE(Og*Q0)}let Tg;if(q0){let kg=-1;for(Tg=M0;Tg<mg;Tg++)if(Cg(P0,Tg)===Cg(R0,kg===-1?0:Tg-kg)){if(kg===-1&&(kg=Tg),Tg-kg+1===xg)return kg*Q0}else kg!==-1&&(Tg-=Tg-kg),kg=-1}else for(M0+xg>mg&&(M0=mg-xg),Tg=M0;Tg>=0;Tg--){let kg=!0;for(let Og=0;Og<xg;Og++)if(Cg(P0,Tg+Og)!==Cg(R0,Og)){kg=!1;break}if(kg)return Tg}return-1}s0.prototype.includes=function(R0,M0,U0){return this.indexOf(R0,M0,U0)!==-1},s0.prototype.indexOf=function(R0,M0,U0){return B0(this,R0,M0,U0,!0)},s0.prototype.lastIndexOf=function(R0,M0,U0){return B0(this,R0,M0,U0,!1)};function G0(P0,R0,M0,U0){M0=Number(M0)||0;const q0=P0.length-M0;U0?(U0=Number(U0),U0>q0&&(U0=q0)):U0=q0;const Q0=R0.length;U0>Q0/2&&(U0=Q0/2);let mg;for(mg=0;mg<U0;++mg){const xg=parseInt(R0.substr(mg*2,2),16);if(Rg(xg))return mg;P0[M0+mg]=xg}return mg}function V0(P0,R0,M0,U0){return Sg(wg(R0,P0.length-M0),P0,M0,U0)}function K0(P0,R0,M0,U0){return Sg(Eg(R0),P0,M0,U0)}function W0(P0,R0,M0,U0){return Sg(Ig(R0),P0,M0,U0)}function F0(P0,R0,M0,U0){return Sg(Ag(R0,P0.length-M0),P0,M0,U0)}s0.prototype.write=function(R0,M0,U0,q0){if(M0===void 0)q0="utf8",U0=this.length,M0=0;else if(U0===void 0&&typeof M0=="string")q0=M0,U0=this.length,M0=0;else if(isFinite(M0))M0=M0>>>0,isFinite(U0)?(U0=U0>>>0,q0===void 0&&(q0="utf8")):(q0=U0,U0=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Q0=this.length-M0;if((U0===void 0||U0>Q0)&&(U0=Q0),R0.length>0&&(U0<0||M0<0)||M0>this.length)throw new RangeError("Attempt to write outside buffer bounds");q0||(q0="utf8");let mg=!1;for(;;)switch(q0){case"hex":return G0(this,R0,M0,U0);case"utf8":case"utf-8":return V0(this,R0,M0,U0);case"ascii":case"latin1":case"binary":return K0(this,R0,M0,U0);case"base64":return W0(this,R0,M0,U0);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F0(this,R0,M0,U0);default:if(mg)throw new TypeError("Unknown encoding: "+q0);q0=(""+q0).toLowerCase(),mg=!0}},s0.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function O0(P0,R0,M0){return R0===0&&M0===P0.length?r.fromByteArray(P0):r.fromByteArray(P0.slice(R0,M0))}function f0(P0,R0,M0){M0=Math.min(P0.length,M0);const U0=[];let q0=R0;for(;q0<M0;){const Q0=P0[q0];let mg=null,xg=Q0>239?4:Q0>223?3:Q0>191?2:1;if(q0+xg<=M0){let Cg,Tg,kg,Og;switch(xg){case 1:Q0<128&&(mg=Q0);break;case 2:Cg=P0[q0+1],(Cg&192)===128&&(Og=(Q0&31)<<6|Cg&63,Og>127&&(mg=Og));break;case 3:Cg=P0[q0+1],Tg=P0[q0+2],(Cg&192)===128&&(Tg&192)===128&&(Og=(Q0&15)<<12|(Cg&63)<<6|Tg&63,Og>2047&&(Og<55296||Og>57343)&&(mg=Og));break;case 4:Cg=P0[q0+1],Tg=P0[q0+2],kg=P0[q0+3],(Cg&192)===128&&(Tg&192)===128&&(kg&192)===128&&(Og=(Q0&15)<<18|(Cg&63)<<12|(Tg&63)<<6|kg&63,Og>65535&&Og<1114112&&(mg=Og))}}mg===null?(mg=65533,xg=1):mg>65535&&(mg-=65536,U0.push(mg>>>10&1023|55296),mg=56320|mg&1023),U0.push(mg),q0+=xg}return A0(U0)}const p0=4096;function A0(P0){const R0=P0.length;if(R0<=p0)return String.fromCharCode.apply(String,P0);let M0="",U0=0;for(;U0<R0;)M0+=String.fromCharCode.apply(String,P0.slice(U0,U0+=p0));return M0}function $0(P0,R0,M0){let U0="";M0=Math.min(P0.length,M0);for(let q0=R0;q0<M0;++q0)U0+=String.fromCharCode(P0[q0]&127);return U0}function y0(P0,R0,M0){let U0="";M0=Math.min(P0.length,M0);for(let q0=R0;q0<M0;++q0)U0+=String.fromCharCode(P0[q0]);return U0}function v0(P0,R0,M0){const U0=P0.length;(!R0||R0<0)&&(R0=0),(!M0||M0<0||M0>U0)&&(M0=U0);let q0="";for(let Q0=R0;Q0<M0;++Q0)q0+=Mg[P0[Q0]];return q0}function I0(P0,R0,M0){const U0=P0.slice(R0,M0);let q0="";for(let Q0=0;Q0<U0.length-1;Q0+=2)q0+=String.fromCharCode(U0[Q0]+U0[Q0+1]*256);return q0}s0.prototype.slice=function(R0,M0){const U0=this.length;R0=~~R0,M0=M0===void 0?U0:~~M0,R0<0?(R0+=U0,R0<0&&(R0=0)):R0>U0&&(R0=U0),M0<0?(M0+=U0,M0<0&&(M0=0)):M0>U0&&(M0=U0),M0<R0&&(M0=R0);const q0=this.subarray(R0,M0);return Object.setPrototypeOf(q0,s0.prototype),q0};function E0(P0,R0,M0){if(P0%1!==0||P0<0)throw new RangeError("offset is not uint");if(P0+R0>M0)throw new RangeError("Trying to access beyond buffer length")}s0.prototype.readUintLE=s0.prototype.readUIntLE=function(R0,M0,U0){R0=R0>>>0,M0=M0>>>0,U0||E0(R0,M0,this.length);let q0=this[R0],Q0=1,mg=0;for(;++mg<M0&&(Q0*=256);)q0+=this[R0+mg]*Q0;return q0},s0.prototype.readUintBE=s0.prototype.readUIntBE=function(R0,M0,U0){R0=R0>>>0,M0=M0>>>0,U0||E0(R0,M0,this.length);let q0=this[R0+--M0],Q0=1;for(;M0>0&&(Q0*=256);)q0+=this[R0+--M0]*Q0;return q0},s0.prototype.readUint8=s0.prototype.readUInt8=function(R0,M0){return R0=R0>>>0,M0||E0(R0,1,this.length),this[R0]},s0.prototype.readUint16LE=s0.prototype.readUInt16LE=function(R0,M0){return R0=R0>>>0,M0||E0(R0,2,this.length),this[R0]|this[R0+1]<<8},s0.prototype.readUint16BE=s0.prototype.readUInt16BE=function(R0,M0){return R0=R0>>>0,M0||E0(R0,2,this.length),this[R0]<<8|this[R0+1]},s0.prototype.readUint32LE=s0.prototype.readUInt32LE=function(R0,M0){return R0=R0>>>0,M0||E0(R0,4,this.length),(this[R0]|this[R0+1]<<8|this[R0+2]<<16)+this[R0+3]*16777216},s0.prototype.readUint32BE=s0.prototype.readUInt32BE=function(R0,M0){return R0=R0>>>0,M0||E0(R0,4,this.length),this[R0]*16777216+(this[R0+1]<<16|this[R0+2]<<8|this[R0+3])},s0.prototype.readBigUInt64LE=Dg(function(R0){R0=R0>>>0,yg(R0,"offset");const M0=this[R0],U0=this[R0+7];(M0===void 0||U0===void 0)&&_g(R0,this.length-8);const q0=M0+this[++R0]*2**8+this[++R0]*2**16+this[++R0]*2**24,Q0=this[++R0]+this[++R0]*2**8+this[++R0]*2**16+U0*2**24;return BigInt(q0)+(BigInt(Q0)<<BigInt(32))}),s0.prototype.readBigUInt64BE=Dg(function(R0){R0=R0>>>0,yg(R0,"offset");const M0=this[R0],U0=this[R0+7];(M0===void 0||U0===void 0)&&_g(R0,this.length-8);const q0=M0*2**24+this[++R0]*2**16+this[++R0]*2**8+this[++R0],Q0=this[++R0]*2**24+this[++R0]*2**16+this[++R0]*2**8+U0;return(BigInt(q0)<<BigInt(32))+BigInt(Q0)}),s0.prototype.readIntLE=function(R0,M0,U0){R0=R0>>>0,M0=M0>>>0,U0||E0(R0,M0,this.length);let q0=this[R0],Q0=1,mg=0;for(;++mg<M0&&(Q0*=256);)q0+=this[R0+mg]*Q0;return Q0*=128,q0>=Q0&&(q0-=Math.pow(2,8*M0)),q0},s0.prototype.readIntBE=function(R0,M0,U0){R0=R0>>>0,M0=M0>>>0,U0||E0(R0,M0,this.length);let q0=M0,Q0=1,mg=this[R0+--q0];for(;q0>0&&(Q0*=256);)mg+=this[R0+--q0]*Q0;return Q0*=128,mg>=Q0&&(mg-=Math.pow(2,8*M0)),mg},s0.prototype.readInt8=function(R0,M0){return R0=R0>>>0,M0||E0(R0,1,this.length),this[R0]&128?(255-this[R0]+1)*-1:this[R0]},s0.prototype.readInt16LE=function(R0,M0){R0=R0>>>0,M0||E0(R0,2,this.length);const U0=this[R0]|this[R0+1]<<8;return U0&32768?U0|4294901760:U0},s0.prototype.readInt16BE=function(R0,M0){R0=R0>>>0,M0||E0(R0,2,this.length);const U0=this[R0+1]|this[R0]<<8;return U0&32768?U0|4294901760:U0},s0.prototype.readInt32LE=function(R0,M0){return R0=R0>>>0,M0||E0(R0,4,this.length),this[R0]|this[R0+1]<<8|this[R0+2]<<16|this[R0+3]<<24},s0.prototype.readInt32BE=function(R0,M0){return R0=R0>>>0,M0||E0(R0,4,this.length),this[R0]<<24|this[R0+1]<<16|this[R0+2]<<8|this[R0+3]},s0.prototype.readBigInt64LE=Dg(function(R0){R0=R0>>>0,yg(R0,"offset");const M0=this[R0],U0=this[R0+7];(M0===void 0||U0===void 0)&&_g(R0,this.length-8);const q0=this[R0+4]+this[R0+5]*2**8+this[R0+6]*2**16+(U0<<24);return(BigInt(q0)<<BigInt(32))+BigInt(M0+this[++R0]*2**8+this[++R0]*2**16+this[++R0]*2**24)}),s0.prototype.readBigInt64BE=Dg(function(R0){R0=R0>>>0,yg(R0,"offset");const M0=this[R0],U0=this[R0+7];(M0===void 0||U0===void 0)&&_g(R0,this.length-8);const q0=(M0<<24)+this[++R0]*2**16+this[++R0]*2**8+this[++R0];return(BigInt(q0)<<BigInt(32))+BigInt(this[++R0]*2**24+this[++R0]*2**16+this[++R0]*2**8+U0)}),s0.prototype.readFloatLE=function(R0,M0){return R0=R0>>>0,M0||E0(R0,4,this.length),t0.read(this,R0,!0,23,4)},s0.prototype.readFloatBE=function(R0,M0){return R0=R0>>>0,M0||E0(R0,4,this.length),t0.read(this,R0,!1,23,4)},s0.prototype.readDoubleLE=function(R0,M0){return R0=R0>>>0,M0||E0(R0,8,this.length),t0.read(this,R0,!0,52,8)},s0.prototype.readDoubleBE=function(R0,M0){return R0=R0>>>0,M0||E0(R0,8,this.length),t0.read(this,R0,!1,52,8)};function d0(P0,R0,M0,U0,q0,Q0){if(!s0.isBuffer(P0))throw new TypeError('"buffer" argument must be a Buffer instance');if(R0>q0||R0<Q0)throw new RangeError('"value" argument is out of bounds');if(M0+U0>P0.length)throw new RangeError("Index out of range")}s0.prototype.writeUintLE=s0.prototype.writeUIntLE=function(R0,M0,U0,q0){if(R0=+R0,M0=M0>>>0,U0=U0>>>0,!q0){const xg=Math.pow(2,8*U0)-1;d0(this,R0,M0,U0,xg,0)}let Q0=1,mg=0;for(this[M0]=R0&255;++mg<U0&&(Q0*=256);)this[M0+mg]=R0/Q0&255;return M0+U0},s0.prototype.writeUintBE=s0.prototype.writeUIntBE=function(R0,M0,U0,q0){if(R0=+R0,M0=M0>>>0,U0=U0>>>0,!q0){const xg=Math.pow(2,8*U0)-1;d0(this,R0,M0,U0,xg,0)}let Q0=U0-1,mg=1;for(this[M0+Q0]=R0&255;--Q0>=0&&(mg*=256);)this[M0+Q0]=R0/mg&255;return M0+U0},s0.prototype.writeUint8=s0.prototype.writeUInt8=function(R0,M0,U0){return R0=+R0,M0=M0>>>0,U0||d0(this,R0,M0,1,255,0),this[M0]=R0&255,M0+1},s0.prototype.writeUint16LE=s0.prototype.writeUInt16LE=function(R0,M0,U0){return R0=+R0,M0=M0>>>0,U0||d0(this,R0,M0,2,65535,0),this[M0]=R0&255,this[M0+1]=R0>>>8,M0+2},s0.prototype.writeUint16BE=s0.prototype.writeUInt16BE=function(R0,M0,U0){return R0=+R0,M0=M0>>>0,U0||d0(this,R0,M0,2,65535,0),this[M0]=R0>>>8,this[M0+1]=R0&255,M0+2},s0.prototype.writeUint32LE=s0.prototype.writeUInt32LE=function(R0,M0,U0){return R0=+R0,M0=M0>>>0,U0||d0(this,R0,M0,4,4294967295,0),this[M0+3]=R0>>>24,this[M0+2]=R0>>>16,this[M0+1]=R0>>>8,this[M0]=R0&255,M0+4},s0.prototype.writeUint32BE=s0.prototype.writeUInt32BE=function(R0,M0,U0){return R0=+R0,M0=M0>>>0,U0||d0(this,R0,M0,4,4294967295,0),this[M0]=R0>>>24,this[M0+1]=R0>>>16,this[M0+2]=R0>>>8,this[M0+3]=R0&255,M0+4};function _0(P0,R0,M0,U0,q0){J0(R0,U0,q0,P0,M0,7);let Q0=Number(R0&BigInt(4294967295));P0[M0++]=Q0,Q0=Q0>>8,P0[M0++]=Q0,Q0=Q0>>8,P0[M0++]=Q0,Q0=Q0>>8,P0[M0++]=Q0;let mg=Number(R0>>BigInt(32)&BigInt(4294967295));return P0[M0++]=mg,mg=mg>>8,P0[M0++]=mg,mg=mg>>8,P0[M0++]=mg,mg=mg>>8,P0[M0++]=mg,M0}function C0(P0,R0,M0,U0,q0){J0(R0,U0,q0,P0,M0,7);let Q0=Number(R0&BigInt(4294967295));P0[M0+7]=Q0,Q0=Q0>>8,P0[M0+6]=Q0,Q0=Q0>>8,P0[M0+5]=Q0,Q0=Q0>>8,P0[M0+4]=Q0;let mg=Number(R0>>BigInt(32)&BigInt(4294967295));return P0[M0+3]=mg,mg=mg>>8,P0[M0+2]=mg,mg=mg>>8,P0[M0+1]=mg,mg=mg>>8,P0[M0]=mg,M0+8}s0.prototype.writeBigUInt64LE=Dg(function(R0,M0=0){return _0(this,R0,M0,BigInt(0),BigInt("0xffffffffffffffff"))}),s0.prototype.writeBigUInt64BE=Dg(function(R0,M0=0){return C0(this,R0,M0,BigInt(0),BigInt("0xffffffffffffffff"))}),s0.prototype.writeIntLE=function(R0,M0,U0,q0){if(R0=+R0,M0=M0>>>0,!q0){const Cg=Math.pow(2,8*U0-1);d0(this,R0,M0,U0,Cg-1,-Cg)}let Q0=0,mg=1,xg=0;for(this[M0]=R0&255;++Q0<U0&&(mg*=256);)R0<0&&xg===0&&this[M0+Q0-1]!==0&&(xg=1),this[M0+Q0]=(R0/mg>>0)-xg&255;return M0+U0},s0.prototype.writeIntBE=function(R0,M0,U0,q0){if(R0=+R0,M0=M0>>>0,!q0){const Cg=Math.pow(2,8*U0-1);d0(this,R0,M0,U0,Cg-1,-Cg)}let Q0=U0-1,mg=1,xg=0;for(this[M0+Q0]=R0&255;--Q0>=0&&(mg*=256);)R0<0&&xg===0&&this[M0+Q0+1]!==0&&(xg=1),this[M0+Q0]=(R0/mg>>0)-xg&255;return M0+U0},s0.prototype.writeInt8=function(R0,M0,U0){return R0=+R0,M0=M0>>>0,U0||d0(this,R0,M0,1,127,-128),R0<0&&(R0=255+R0+1),this[M0]=R0&255,M0+1},s0.prototype.writeInt16LE=function(R0,M0,U0){return R0=+R0,M0=M0>>>0,U0||d0(this,R0,M0,2,32767,-32768),this[M0]=R0&255,this[M0+1]=R0>>>8,M0+2},s0.prototype.writeInt16BE=function(R0,M0,U0){return R0=+R0,M0=M0>>>0,U0||d0(this,R0,M0,2,32767,-32768),this[M0]=R0>>>8,this[M0+1]=R0&255,M0+2},s0.prototype.writeInt32LE=function(R0,M0,U0){return R0=+R0,M0=M0>>>0,U0||d0(this,R0,M0,4,2147483647,-2147483648),this[M0]=R0&255,this[M0+1]=R0>>>8,this[M0+2]=R0>>>16,this[M0+3]=R0>>>24,M0+4},s0.prototype.writeInt32BE=function(R0,M0,U0){return R0=+R0,M0=M0>>>0,U0||d0(this,R0,M0,4,2147483647,-2147483648),R0<0&&(R0=4294967295+R0+1),this[M0]=R0>>>24,this[M0+1]=R0>>>16,this[M0+2]=R0>>>8,this[M0+3]=R0&255,M0+4},s0.prototype.writeBigInt64LE=Dg(function(R0,M0=0){return _0(this,R0,M0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s0.prototype.writeBigInt64BE=Dg(function(R0,M0=0){return C0(this,R0,M0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function L0(P0,R0,M0,U0,q0,Q0){if(M0+U0>P0.length)throw new RangeError("Index out of range");if(M0<0)throw new RangeError("Index out of range")}function D0(P0,R0,M0,U0,q0){return R0=+R0,M0=M0>>>0,q0||L0(P0,R0,M0,4),t0.write(P0,R0,M0,U0,23,4),M0+4}s0.prototype.writeFloatLE=function(R0,M0,U0){return D0(this,R0,M0,!0,U0)},s0.prototype.writeFloatBE=function(R0,M0,U0){return D0(this,R0,M0,!1,U0)};function j0(P0,R0,M0,U0,q0){return R0=+R0,M0=M0>>>0,q0||L0(P0,R0,M0,8),t0.write(P0,R0,M0,U0,52,8),M0+8}s0.prototype.writeDoubleLE=function(R0,M0,U0){return j0(this,R0,M0,!0,U0)},s0.prototype.writeDoubleBE=function(R0,M0,U0){return j0(this,R0,M0,!1,U0)},s0.prototype.copy=function(R0,M0,U0,q0){if(!s0.isBuffer(R0))throw new TypeError("argument should be a Buffer");if(U0||(U0=0),!q0&&q0!==0&&(q0=this.length),M0>=R0.length&&(M0=R0.length),M0||(M0=0),q0>0&&q0<U0&&(q0=U0),q0===U0||R0.length===0||this.length===0)return 0;if(M0<0)throw new RangeError("targetStart out of bounds");if(U0<0||U0>=this.length)throw new RangeError("Index out of range");if(q0<0)throw new RangeError("sourceEnd out of bounds");q0>this.length&&(q0=this.length),R0.length-M0<q0-U0&&(q0=R0.length-M0+U0);const Q0=q0-U0;return this===R0&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(M0,U0,q0):Uint8Array.prototype.set.call(R0,this.subarray(U0,q0),M0),Q0},s0.prototype.fill=function(R0,M0,U0,q0){if(typeof R0=="string"){if(typeof M0=="string"?(q0=M0,M0=0,U0=this.length):typeof U0=="string"&&(q0=U0,U0=this.length),q0!==void 0&&typeof q0!="string")throw new TypeError("encoding must be a string");if(typeof q0=="string"&&!s0.isEncoding(q0))throw new TypeError("Unknown encoding: "+q0);if(R0.length===1){const mg=R0.charCodeAt(0);(q0==="utf8"&&mg<128||q0==="latin1")&&(R0=mg)}}else typeof R0=="number"?R0=R0&255:typeof R0=="boolean"&&(R0=Number(R0));if(M0<0||this.length<M0||this.length<U0)throw new RangeError("Out of range index");if(U0<=M0)return this;M0=M0>>>0,U0=U0===void 0?this.length:U0>>>0,R0||(R0=0);let Q0;if(typeof R0=="number")for(Q0=M0;Q0<U0;++Q0)this[Q0]=R0;else{const mg=s0.isBuffer(R0)?R0:s0.from(R0,q0),xg=mg.length;if(xg===0)throw new TypeError('The value "'+R0+'" is invalid for argument "value"');for(Q0=0;Q0<U0-M0;++Q0)this[Q0+M0]=mg[Q0%xg]}return this};const z0={};function Y0(P0,R0,M0){z0[P0]=class extends M0{constructor(){super(),Object.defineProperty(this,"message",{value:R0.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${P0}]`,this.stack,delete this.name}get code(){return P0}set code(q0){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:q0,writable:!0})}toString(){return`${this.name} [${P0}]: ${this.message}`}}}Y0("ERR_BUFFER_OUT_OF_BOUNDS",function(P0){return P0?`${P0} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Y0("ERR_INVALID_ARG_TYPE",function(P0,R0){return`The "${P0}" argument must be of type number. Received type ${typeof R0}`},TypeError),Y0("ERR_OUT_OF_RANGE",function(P0,R0,M0){let U0=`The value of "${P0}" is out of range.`,q0=M0;return Number.isInteger(M0)&&Math.abs(M0)>2**32?q0=Z0(String(M0)):typeof M0=="bigint"&&(q0=String(M0),(M0>BigInt(2)**BigInt(32)||M0<-(BigInt(2)**BigInt(32)))&&(q0=Z0(q0)),q0+="n"),U0+=` It must be ${R0}. Received ${q0}`,U0},RangeError);function Z0(P0){let R0="",M0=P0.length;const U0=P0[0]==="-"?1:0;for(;M0>=U0+4;M0-=3)R0=`_${P0.slice(M0-3,M0)}${R0}`;return`${P0.slice(0,M0)}${R0}`}function X0(P0,R0,M0){yg(R0,"offset"),(P0[R0]===void 0||P0[R0+M0]===void 0)&&_g(R0,P0.length-(M0+1))}function J0(P0,R0,M0,U0,q0,Q0){if(P0>M0||P0<R0){const mg=typeof R0=="bigint"?"n":"";let xg;throw Q0>3?R0===0||R0===BigInt(0)?xg=`>= 0${mg} and < 2${mg} ** ${(Q0+1)*8}${mg}`:xg=`>= -(2${mg} ** ${(Q0+1)*8-1}${mg}) and < 2 ** ${(Q0+1)*8-1}${mg}`:xg=`>= ${R0}${mg} and <= ${M0}${mg}`,new z0.ERR_OUT_OF_RANGE("value",xg,P0)}X0(U0,q0,Q0)}function yg(P0,R0){if(typeof P0!="number")throw new z0.ERR_INVALID_ARG_TYPE(R0,"number",P0)}function _g(P0,R0,M0){throw Math.floor(P0)!==P0?(yg(P0,M0),new z0.ERR_OUT_OF_RANGE(M0||"offset","an integer",P0)):R0<0?new z0.ERR_BUFFER_OUT_OF_BOUNDS:new z0.ERR_OUT_OF_RANGE(M0||"offset",`>= ${M0?1:0} and <= ${R0}`,P0)}const vg=/[^+/0-9A-Za-z-_]/g;function bg(P0){if(P0=P0.split("=")[0],P0=P0.trim().replace(vg,""),P0.length<2)return"";for(;P0.length%4!==0;)P0=P0+"=";return P0}function wg(P0,R0){R0=R0||1/0;let M0;const U0=P0.length;let q0=null;const Q0=[];for(let mg=0;mg<U0;++mg){if(M0=P0.charCodeAt(mg),M0>55295&&M0<57344){if(!q0){if(M0>56319){(R0-=3)>-1&&Q0.push(239,191,189);continue}else if(mg+1===U0){(R0-=3)>-1&&Q0.push(239,191,189);continue}q0=M0;continue}if(M0<56320){(R0-=3)>-1&&Q0.push(239,191,189),q0=M0;continue}M0=(q0-55296<<10|M0-56320)+65536}else q0&&(R0-=3)>-1&&Q0.push(239,191,189);if(q0=null,M0<128){if((R0-=1)<0)break;Q0.push(M0)}else if(M0<2048){if((R0-=2)<0)break;Q0.push(M0>>6|192,M0&63|128)}else if(M0<65536){if((R0-=3)<0)break;Q0.push(M0>>12|224,M0>>6&63|128,M0&63|128)}else if(M0<1114112){if((R0-=4)<0)break;Q0.push(M0>>18|240,M0>>12&63|128,M0>>6&63|128,M0&63|128)}else throw new Error("Invalid code point")}return Q0}function Eg(P0){const R0=[];for(let M0=0;M0<P0.length;++M0)R0.push(P0.charCodeAt(M0)&255);return R0}function Ag(P0,R0){let M0,U0,q0;const Q0=[];for(let mg=0;mg<P0.length&&!((R0-=2)<0);++mg)M0=P0.charCodeAt(mg),U0=M0>>8,q0=M0%256,Q0.push(q0),Q0.push(U0);return Q0}function Ig(P0){return r.toByteArray(bg(P0))}function Sg(P0,R0,M0,U0){let q0;for(q0=0;q0<U0&&!(q0+M0>=R0.length||q0>=P0.length);++q0)R0[q0+M0]=P0[q0];return q0}function Ng(P0,R0){return P0 instanceof R0||P0!=null&&P0.constructor!=null&&P0.constructor.name!=null&&P0.constructor.name===R0.name}function Rg(P0){return P0!==P0}const Mg=function(){const P0="0123456789abcdef",R0=new Array(256);for(let M0=0;M0<16;++M0){const U0=M0*16;for(let q0=0;q0<16;++q0)R0[U0+q0]=P0[M0]+P0[q0]}return R0}();function Dg(P0){return typeof BigInt>"u"?Lg:P0}function Lg(){throw new Error("BigInt not supported")}})(buffer);const crypto$1=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function isBytes$1(e0){return e0 instanceof Uint8Array||ArrayBuffer.isView(e0)&&e0.constructor.name==="Uint8Array"}function anumber(e0){if(!Number.isSafeInteger(e0)||e0<0)throw new Error("positive integer expected, got "+e0)}function abytes$1(e0,...r){if(!isBytes$1(e0))throw new Error("Uint8Array expected");if(r.length>0&&!r.includes(e0.length))throw new Error("Uint8Array expected of length "+r+", got length="+e0.length)}function ahash(e0){if(typeof e0!="function"||typeof e0.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");anumber(e0.outputLen),anumber(e0.blockLen)}function aexists(e0,r=!0){if(e0.destroyed)throw new Error("Hash instance has been destroyed");if(r&&e0.finished)throw new Error("Hash#digest() has already been called")}function aoutput(e0,r){abytes$1(e0);const t0=r.outputLen;if(e0.length<t0)throw new Error("digestInto() expects output buffer of length at least "+t0)}function clean(...e0){for(let r=0;r<e0.length;r++)e0[r].fill(0)}function createView(e0){return new DataView(e0.buffer,e0.byteOffset,e0.byteLength)}function rotr(e0,r){return e0<<32-r|e0>>>r}function utf8ToBytes(e0){if(typeof e0!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e0))}function toBytes(e0){return typeof e0=="string"&&(e0=utf8ToBytes(e0)),abytes$1(e0),e0}function concatBytes$1(...e0){let r=0;for(let n0=0;n0<e0.length;n0++){const r0=e0[n0];abytes$1(r0),r+=r0.length}const t0=new Uint8Array(r);for(let n0=0,r0=0;n0<e0.length;n0++){const i0=e0[n0];t0.set(i0,r0),r0+=i0.length}return t0}class Hash{}function createHasher(e0){const r=n0=>e0().update(toBytes(n0)).digest(),t0=e0();return r.outputLen=t0.outputLen,r.blockLen=t0.blockLen,r.create=()=>e0(),r}function randomBytes(e0=32){if(crypto$1&&typeof crypto$1.getRandomValues=="function")return crypto$1.getRandomValues(new Uint8Array(e0));if(crypto$1&&typeof crypto$1.randomBytes=="function")return Uint8Array.from(crypto$1.randomBytes(e0));throw new Error("crypto.getRandomValues must be defined")}function setBigUint64(e0,r,t0,n0){if(typeof e0.setBigUint64=="function")return e0.setBigUint64(r,t0,n0);const r0=BigInt(32),i0=BigInt(4294967295),o0=Number(t0>>r0&i0),s0=Number(t0&i0),a0=n0?4:0,c0=n0?0:4;e0.setUint32(r+a0,o0,n0),e0.setUint32(r+c0,s0,n0)}function Chi(e0,r,t0){return e0&r^~e0&t0}function Maj(e0,r,t0){return e0&r^e0&t0^r&t0}class HashMD extends Hash{constructor(r,t0,n0,r0){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=r,this.outputLen=t0,this.padOffset=n0,this.isLE=r0,this.buffer=new Uint8Array(r),this.view=createView(this.buffer)}update(r){aexists(this),r=toBytes(r),abytes$1(r);const{view:t0,buffer:n0,blockLen:r0}=this,i0=r.length;for(let o0=0;o0<i0;){const s0=Math.min(r0-this.pos,i0-o0);if(s0===r0){const a0=createView(r);for(;r0<=i0-o0;o0+=r0)this.process(a0,o0);continue}n0.set(r.subarray(o0,o0+s0),this.pos),this.pos+=s0,o0+=s0,this.pos===r0&&(this.process(t0,0),this.pos=0)}return this.length+=r.length,this.roundClean(),this}digestInto(r){aexists(this),aoutput(r,this),this.finished=!0;const{buffer:t0,view:n0,blockLen:r0,isLE:i0}=this;let{pos:o0}=this;t0[o0++]=128,clean(this.buffer.subarray(o0)),this.padOffset>r0-o0&&(this.process(n0,0),o0=0);for(let u0=o0;u0<r0;u0++)t0[u0]=0;setBigUint64(n0,r0-8,BigInt(this.length*8),i0),this.process(n0,0);const s0=createView(r),a0=this.outputLen;if(a0%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c0=a0/4,l0=this.get();if(c0>l0.length)throw new Error("_sha2: outputLen bigger than state");for(let u0=0;u0<c0;u0++)s0.setUint32(4*u0,l0[u0],i0)}digest(){const{buffer:r,outputLen:t0}=this;this.digestInto(r);const n0=r.slice(0,t0);return this.destroy(),n0}_cloneInto(r){r||(r=new this.constructor),r.set(...this.get());const{blockLen:t0,buffer:n0,length:r0,finished:i0,destroyed:o0,pos:s0}=this;return r.destroyed=o0,r.finished=i0,r.length=r0,r.pos=s0,r0%t0&&r.buffer.set(n0),r}clone(){return this._cloneInto()}}const SHA256_IV=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA512_IV=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),U32_MASK64=BigInt(2**32-1),_32n=BigInt(32);function fromBig(e0,r=!1){return r?{h:Number(e0&U32_MASK64),l:Number(e0>>_32n&U32_MASK64)}:{h:Number(e0>>_32n&U32_MASK64)|0,l:Number(e0&U32_MASK64)|0}}function split(e0,r=!1){const t0=e0.length;let n0=new Uint32Array(t0),r0=new Uint32Array(t0);for(let i0=0;i0<t0;i0++){const{h:o0,l:s0}=fromBig(e0[i0],r);[n0[i0],r0[i0]]=[o0,s0]}return[n0,r0]}const shrSH=(e0,r,t0)=>e0>>>t0,shrSL=(e0,r,t0)=>e0<<32-t0|r>>>t0,rotrSH=(e0,r,t0)=>e0>>>t0|r<<32-t0,rotrSL=(e0,r,t0)=>e0<<32-t0|r>>>t0,rotrBH=(e0,r,t0)=>e0<<64-t0|r>>>t0-32,rotrBL=(e0,r,t0)=>e0>>>t0-32|r<<64-t0;function add(e0,r,t0,n0){const r0=(r>>>0)+(n0>>>0);return{h:e0+t0+(r0/2**32|0)|0,l:r0|0}}const add3L=(e0,r,t0)=>(e0>>>0)+(r>>>0)+(t0>>>0),add3H=(e0,r,t0,n0)=>r+t0+n0+(e0/2**32|0)|0,add4L=(e0,r,t0,n0)=>(e0>>>0)+(r>>>0)+(t0>>>0)+(n0>>>0),add4H=(e0,r,t0,n0,r0)=>r+t0+n0+r0+(e0/2**32|0)|0,add5L=(e0,r,t0,n0,r0)=>(e0>>>0)+(r>>>0)+(t0>>>0)+(n0>>>0)+(r0>>>0),add5H=(e0,r,t0,n0,r0,i0)=>r+t0+n0+r0+i0+(e0/2**32|0)|0,SHA256_K=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),SHA256_W=new Uint32Array(64);class SHA256 extends HashMD{constructor(r=32){super(64,r,8,!1),this.A=SHA256_IV[0]|0,this.B=SHA256_IV[1]|0,this.C=SHA256_IV[2]|0,this.D=SHA256_IV[3]|0,this.E=SHA256_IV[4]|0,this.F=SHA256_IV[5]|0,this.G=SHA256_IV[6]|0,this.H=SHA256_IV[7]|0}get(){const{A:r,B:t0,C:n0,D:r0,E:i0,F:o0,G:s0,H:a0}=this;return[r,t0,n0,r0,i0,o0,s0,a0]}set(r,t0,n0,r0,i0,o0,s0,a0){this.A=r|0,this.B=t0|0,this.C=n0|0,this.D=r0|0,this.E=i0|0,this.F=o0|0,this.G=s0|0,this.H=a0|0}process(r,t0){for(let u0=0;u0<16;u0++,t0+=4)SHA256_W[u0]=r.getUint32(t0,!1);for(let u0=16;u0<64;u0++){const h0=SHA256_W[u0-15],g0=SHA256_W[u0-2],w0=rotr(h0,7)^rotr(h0,18)^h0>>>3,m0=rotr(g0,17)^rotr(g0,19)^g0>>>10;SHA256_W[u0]=m0+SHA256_W[u0-7]+w0+SHA256_W[u0-16]|0}let{A:n0,B:r0,C:i0,D:o0,E:s0,F:a0,G:c0,H:l0}=this;for(let u0=0;u0<64;u0++){const h0=rotr(s0,6)^rotr(s0,11)^rotr(s0,25),g0=l0+h0+Chi(s0,a0,c0)+SHA256_K[u0]+SHA256_W[u0]|0,m0=(rotr(n0,2)^rotr(n0,13)^rotr(n0,22))+Maj(n0,r0,i0)|0;l0=c0,c0=a0,a0=s0,s0=o0+g0|0,o0=i0,i0=r0,r0=n0,n0=g0+m0|0}n0=n0+this.A|0,r0=r0+this.B|0,i0=i0+this.C|0,o0=o0+this.D|0,s0=s0+this.E|0,a0=a0+this.F|0,c0=c0+this.G|0,l0=l0+this.H|0,this.set(n0,r0,i0,o0,s0,a0,c0,l0)}roundClean(){clean(SHA256_W)}destroy(){this.set(0,0,0,0,0,0,0,0),clean(this.buffer)}}const K512=(()=>split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e0=>BigInt(e0))))(),SHA512_Kh=(()=>K512[0])(),SHA512_Kl=(()=>K512[1])(),SHA512_W_H=new Uint32Array(80),SHA512_W_L=new Uint32Array(80);class SHA512 extends HashMD{constructor(r=64){super(128,r,16,!1),this.Ah=SHA512_IV[0]|0,this.Al=SHA512_IV[1]|0,this.Bh=SHA512_IV[2]|0,this.Bl=SHA512_IV[3]|0,this.Ch=SHA512_IV[4]|0,this.Cl=SHA512_IV[5]|0,this.Dh=SHA512_IV[6]|0,this.Dl=SHA512_IV[7]|0,this.Eh=SHA512_IV[8]|0,this.El=SHA512_IV[9]|0,this.Fh=SHA512_IV[10]|0,this.Fl=SHA512_IV[11]|0,this.Gh=SHA512_IV[12]|0,this.Gl=SHA512_IV[13]|0,this.Hh=SHA512_IV[14]|0,this.Hl=SHA512_IV[15]|0}get(){const{Ah:r,Al:t0,Bh:n0,Bl:r0,Ch:i0,Cl:o0,Dh:s0,Dl:a0,Eh:c0,El:l0,Fh:u0,Fl:h0,Gh:g0,Gl:w0,Hh:m0,Hl:S0}=this;return[r,t0,n0,r0,i0,o0,s0,a0,c0,l0,u0,h0,g0,w0,m0,S0]}set(r,t0,n0,r0,i0,o0,s0,a0,c0,l0,u0,h0,g0,w0,m0,S0){this.Ah=r|0,this.Al=t0|0,this.Bh=n0|0,this.Bl=r0|0,this.Ch=i0|0,this.Cl=o0|0,this.Dh=s0|0,this.Dl=a0|0,this.Eh=c0|0,this.El=l0|0,this.Fh=u0|0,this.Fl=h0|0,this.Gh=g0|0,this.Gl=w0|0,this.Hh=m0|0,this.Hl=S0|0}process(r,t0){for(let N0=0;N0<16;N0++,t0+=4)SHA512_W_H[N0]=r.getUint32(t0),SHA512_W_L[N0]=r.getUint32(t0+=4);for(let N0=16;N0<80;N0++){const x0=SHA512_W_H[N0-15]|0,k0=SHA512_W_L[N0-15]|0,B0=rotrSH(x0,k0,1)^rotrSH(x0,k0,8)^shrSH(x0,k0,7),H0=rotrSL(x0,k0,1)^rotrSL(x0,k0,8)^shrSL(x0,k0,7),G0=SHA512_W_H[N0-2]|0,V0=SHA512_W_L[N0-2]|0,K0=rotrSH(G0,V0,19)^rotrBH(G0,V0,61)^shrSH(G0,V0,6),W0=rotrSL(G0,V0,19)^rotrBL(G0,V0,61)^shrSL(G0,V0,6),F0=add4L(H0,W0,SHA512_W_L[N0-7],SHA512_W_L[N0-16]),O0=add4H(F0,B0,K0,SHA512_W_H[N0-7],SHA512_W_H[N0-16]);SHA512_W_H[N0]=O0|0,SHA512_W_L[N0]=F0|0}let{Ah:n0,Al:r0,Bh:i0,Bl:o0,Ch:s0,Cl:a0,Dh:c0,Dl:l0,Eh:u0,El:h0,Fh:g0,Fl:w0,Gh:m0,Gl:S0,Hh:b0,Hl:T0}=this;for(let N0=0;N0<80;N0++){const x0=rotrSH(u0,h0,14)^rotrSH(u0,h0,18)^rotrBH(u0,h0,41),k0=rotrSL(u0,h0,14)^rotrSL(u0,h0,18)^rotrBL(u0,h0,41),B0=u0&g0^~u0&m0,H0=h0&w0^~h0&S0,G0=add5L(T0,k0,H0,SHA512_Kl[N0],SHA512_W_L[N0]),V0=add5H(G0,b0,x0,B0,SHA512_Kh[N0],SHA512_W_H[N0]),K0=G0|0,W0=rotrSH(n0,r0,28)^rotrBH(n0,r0,34)^rotrBH(n0,r0,39),F0=rotrSL(n0,r0,28)^rotrBL(n0,r0,34)^rotrBL(n0,r0,39),O0=n0&i0^n0&s0^i0&s0,f0=r0&o0^r0&a0^o0&a0;b0=m0|0,T0=S0|0,m0=g0|0,S0=w0|0,g0=u0|0,w0=h0|0,{h:u0,l:h0}=add(c0|0,l0|0,V0|0,K0|0),c0=s0|0,l0=a0|0,s0=i0|0,a0=o0|0,i0=n0|0,o0=r0|0;const p0=add3L(K0,F0,f0);n0=add3H(p0,V0,W0,O0),r0=p0|0}({h:n0,l:r0}=add(this.Ah|0,this.Al|0,n0|0,r0|0)),{h:i0,l:o0}=add(this.Bh|0,this.Bl|0,i0|0,o0|0),{h:s0,l:a0}=add(this.Ch|0,this.Cl|0,s0|0,a0|0),{h:c0,l:l0}=add(this.Dh|0,this.Dl|0,c0|0,l0|0),{h:u0,l:h0}=add(this.Eh|0,this.El|0,u0|0,h0|0),{h:g0,l:w0}=add(this.Fh|0,this.Fl|0,g0|0,w0|0),{h:m0,l:S0}=add(this.Gh|0,this.Gl|0,m0|0,S0|0),{h:b0,l:T0}=add(this.Hh|0,this.Hl|0,b0|0,T0|0),this.set(n0,r0,i0,o0,s0,a0,c0,l0,u0,h0,g0,w0,m0,S0,b0,T0)}roundClean(){clean(SHA512_W_H,SHA512_W_L)}destroy(){clean(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const sha256$1=createHasher(()=>new SHA256),sha512=createHasher(()=>new SHA512);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$5=BigInt(0),_1n$6=BigInt(1);function isBytes(e0){return e0 instanceof Uint8Array||ArrayBuffer.isView(e0)&&e0.constructor.name==="Uint8Array"}function abytes(e0){if(!isBytes(e0))throw new Error("Uint8Array expected")}function abool(e0,r){if(typeof r!="boolean")throw new Error(e0+" boolean expected, got "+r)}function numberToHexUnpadded(e0){const r=e0.toString(16);return r.length&1?"0"+r:r}function hexToNumber(e0){if(typeof e0!="string")throw new Error("hex string expected, got "+typeof e0);return e0===""?_0n$5:BigInt("0x"+e0)}const hasHexBuiltin=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",hexes=Array.from({length:256},(e0,r)=>r.toString(16).padStart(2,"0"));function bytesToHex(e0){if(abytes(e0),hasHexBuiltin)return e0.toHex();let r="";for(let t0=0;t0<e0.length;t0++)r+=hexes[e0[t0]];return r}const asciis={_0:48,_9:57,A:65,F:70,a:97,f:102};function asciiToBase16(e0){if(e0>=asciis._0&&e0<=asciis._9)return e0-asciis._0;if(e0>=asciis.A&&e0<=asciis.F)return e0-(asciis.A-10);if(e0>=asciis.a&&e0<=asciis.f)return e0-(asciis.a-10)}function hexToBytes(e0){if(typeof e0!="string")throw new Error("hex string expected, got "+typeof e0);if(hasHexBuiltin)return Uint8Array.fromHex(e0);const r=e0.length,t0=r/2;if(r%2)throw new Error("hex string expected, got unpadded hex of length "+r);const n0=new Uint8Array(t0);for(let r0=0,i0=0;r0<t0;r0++,i0+=2){const o0=asciiToBase16(e0.charCodeAt(i0)),s0=asciiToBase16(e0.charCodeAt(i0+1));if(o0===void 0||s0===void 0){const a0=e0[i0]+e0[i0+1];throw new Error('hex string expected, got non-hex character "'+a0+'" at index '+i0)}n0[r0]=o0*16+s0}return n0}function bytesToNumberBE(e0){return hexToNumber(bytesToHex(e0))}function bytesToNumberLE(e0){return abytes(e0),hexToNumber(bytesToHex(Uint8Array.from(e0).reverse()))}function numberToBytesBE(e0,r){return hexToBytes(e0.toString(16).padStart(r*2,"0"))}function numberToBytesLE(e0,r){return numberToBytesBE(e0,r).reverse()}function ensureBytes(e0,r,t0){let n0;if(typeof r=="string")try{n0=hexToBytes(r)}catch(i0){throw new Error(e0+" must be hex string or Uint8Array, cause: "+i0)}else if(isBytes(r))n0=Uint8Array.from(r);else throw new Error(e0+" must be hex string or Uint8Array");const r0=n0.length;if(typeof t0=="number"&&r0!==t0)throw new Error(e0+" of length "+t0+" expected, got "+r0);return n0}function concatBytes(...e0){let r=0;for(let n0=0;n0<e0.length;n0++){const r0=e0[n0];abytes(r0),r+=r0.length}const t0=new Uint8Array(r);for(let n0=0,r0=0;n0<e0.length;n0++){const i0=e0[n0];t0.set(i0,r0),r0+=i0.length}return t0}const isPosBig=e0=>typeof e0=="bigint"&&_0n$5<=e0;function inRange$1(e0,r,t0){return isPosBig(e0)&&isPosBig(r)&&isPosBig(t0)&&r<=e0&&e0<t0}function aInRange(e0,r,t0,n0){if(!inRange$1(r,t0,n0))throw new Error("expected valid "+e0+": "+t0+" <= n < "+n0+", got "+r)}function bitLen(e0){let r;for(r=0;e0>_0n$5;e0>>=_1n$6,r+=1);return r}const bitMask=e0=>(_1n$6<<BigInt(e0))-_1n$6,u8n=e0=>new Uint8Array(e0),u8fr=e0=>Uint8Array.from(e0);function createHmacDrbg(e0,r,t0){if(typeof e0!="number"||e0<2)throw new Error("hashLen must be a number");if(typeof r!="number"||r<2)throw new Error("qByteLen must be a number");if(typeof t0!="function")throw new Error("hmacFn must be a function");let n0=u8n(e0),r0=u8n(e0),i0=0;const o0=()=>{n0.fill(1),r0.fill(0),i0=0},s0=(...u0)=>t0(r0,n0,...u0),a0=(u0=u8n(0))=>{r0=s0(u8fr([0]),u0),n0=s0(),u0.length!==0&&(r0=s0(u8fr([1]),u0),n0=s0())},c0=()=>{if(i0++>=1e3)throw new Error("drbg: tried 1000 values");let u0=0;const h0=[];for(;u0<r;){n0=s0();const g0=n0.slice();h0.push(g0),u0+=n0.length}return concatBytes(...h0)};return(u0,h0)=>{o0(),a0(u0);let g0;for(;!(g0=h0(c0()));)a0();return o0(),g0}}const validatorFns={bigint:e0=>typeof e0=="bigint",function:e0=>typeof e0=="function",boolean:e0=>typeof e0=="boolean",string:e0=>typeof e0=="string",stringOrUint8Array:e0=>typeof e0=="string"||isBytes(e0),isSafeInteger:e0=>Number.isSafeInteger(e0),array:e0=>Array.isArray(e0),field:(e0,r)=>r.Fp.isValid(e0),hash:e0=>typeof e0=="function"&&Number.isSafeInteger(e0.outputLen)};function validateObject(e0,r,t0={}){const n0=(r0,i0,o0)=>{const s0=validatorFns[i0];if(typeof s0!="function")throw new Error("invalid validator function");const a0=e0[r0];if(!(o0&&a0===void 0)&&!s0(a0,e0))throw new Error("param "+String(r0)+" is invalid. Expected "+i0+", got "+a0)};for(const[r0,i0]of Object.entries(r))n0(r0,i0,!1);for(const[r0,i0]of Object.entries(t0))n0(r0,i0,!0);return e0}function memoized(e0){const r=new WeakMap;return(t0,...n0)=>{const r0=r.get(t0);if(r0!==void 0)return r0;const i0=e0(t0,...n0);return r.set(t0,i0),i0}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$4=BigInt(0),_1n$5=BigInt(1),_2n$3=BigInt(2),_3n$1=BigInt(3),_4n$1=BigInt(4),_5n$1=BigInt(5),_8n$2=BigInt(8);function mod(e0,r){const t0=e0%r;return t0>=_0n$4?t0:r+t0}function pow2(e0,r,t0){let n0=e0;for(;r-- >_0n$4;)n0*=n0,n0%=t0;return n0}function invert(e0,r){if(e0===_0n$4)throw new Error("invert: expected non-zero number");if(r<=_0n$4)throw new Error("invert: expected positive modulus, got "+r);let t0=mod(e0,r),n0=r,r0=_0n$4,i0=_1n$5;for(;t0!==_0n$4;){const s0=n0/t0,a0=n0%t0,c0=r0-i0*s0;n0=t0,t0=a0,r0=i0,i0=c0}if(n0!==_1n$5)throw new Error("invert: does not exist");return mod(r0,r)}function sqrt3mod4(e0,r){const t0=(e0.ORDER+_1n$5)/_4n$1,n0=e0.pow(r,t0);if(!e0.eql(e0.sqr(n0),r))throw new Error("Cannot find square root");return n0}function sqrt5mod8(e0,r){const t0=(e0.ORDER-_5n$1)/_8n$2,n0=e0.mul(r,_2n$3),r0=e0.pow(n0,t0),i0=e0.mul(r,r0),o0=e0.mul(e0.mul(i0,_2n$3),r0),s0=e0.mul(i0,e0.sub(o0,e0.ONE));if(!e0.eql(e0.sqr(s0),r))throw new Error("Cannot find square root");return s0}function tonelliShanks(e0){if(e0<BigInt(3))throw new Error("sqrt is not defined for small field");let r=e0-_1n$5,t0=0;for(;r%_2n$3===_0n$4;)r/=_2n$3,t0++;let n0=_2n$3;const r0=Field(e0);for(;FpLegendre(r0,n0)===1;)if(n0++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(t0===1)return sqrt3mod4;let i0=r0.pow(n0,r);const o0=(r+_1n$5)/_2n$3;return function(a0,c0){if(a0.is0(c0))return c0;if(FpLegendre(a0,c0)!==1)throw new Error("Cannot find square root");let l0=t0,u0=a0.mul(a0.ONE,i0),h0=a0.pow(c0,r),g0=a0.pow(c0,o0);for(;!a0.eql(h0,a0.ONE);){if(a0.is0(h0))return a0.ZERO;let w0=1,m0=a0.sqr(h0);for(;!a0.eql(m0,a0.ONE);)if(w0++,m0=a0.sqr(m0),w0===l0)throw new Error("Cannot find square root");const S0=_1n$5<<BigInt(l0-w0-1),b0=a0.pow(u0,S0);l0=w0,u0=a0.sqr(b0),h0=a0.mul(h0,u0),g0=a0.mul(g0,b0)}return g0}}function FpSqrt(e0){return e0%_4n$1===_3n$1?sqrt3mod4:e0%_8n$2===_5n$1?sqrt5mod8:tonelliShanks(e0)}const isNegativeLE=(e0,r)=>(mod(e0,r)&_1n$5)===_1n$5,FIELD_FIELDS=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function validateField(e0){const r={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},t0=FIELD_FIELDS.reduce((n0,r0)=>(n0[r0]="function",n0),r);return validateObject(e0,t0)}function FpPow(e0,r,t0){if(t0<_0n$4)throw new Error("invalid exponent, negatives unsupported");if(t0===_0n$4)return e0.ONE;if(t0===_1n$5)return r;let n0=e0.ONE,r0=r;for(;t0>_0n$4;)t0&_1n$5&&(n0=e0.mul(n0,r0)),r0=e0.sqr(r0),t0>>=_1n$5;return n0}function FpInvertBatch(e0,r,t0=!1){const n0=new Array(r.length).fill(t0?e0.ZERO:void 0),r0=r.reduce((o0,s0,a0)=>e0.is0(s0)?o0:(n0[a0]=o0,e0.mul(o0,s0)),e0.ONE),i0=e0.inv(r0);return r.reduceRight((o0,s0,a0)=>e0.is0(s0)?o0:(n0[a0]=e0.mul(o0,n0[a0]),e0.mul(o0,s0)),i0),n0}function FpLegendre(e0,r){const t0=(e0.ORDER-_1n$5)/_2n$3,n0=e0.pow(r,t0),r0=e0.eql(n0,e0.ONE),i0=e0.eql(n0,e0.ZERO),o0=e0.eql(n0,e0.neg(e0.ONE));if(!r0&&!i0&&!o0)throw new Error("invalid Legendre symbol result");return r0?1:i0?0:-1}function nLength(e0,r){r!==void 0&&anumber(r);const t0=r!==void 0?r:e0.toString(2).length,n0=Math.ceil(t0/8);return{nBitLength:t0,nByteLength:n0}}function Field(e0,r,t0=!1,n0={}){if(e0<=_0n$4)throw new Error("invalid field: expected ORDER > 0, got "+e0);const{nBitLength:r0,nByteLength:i0}=nLength(e0,r);if(i0>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o0;const s0=Object.freeze({ORDER:e0,isLE:t0,BITS:r0,BYTES:i0,MASK:bitMask(r0),ZERO:_0n$4,ONE:_1n$5,create:a0=>mod(a0,e0),isValid:a0=>{if(typeof a0!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof a0);return _0n$4<=a0&&a0<e0},is0:a0=>a0===_0n$4,isOdd:a0=>(a0&_1n$5)===_1n$5,neg:a0=>mod(-a0,e0),eql:(a0,c0)=>a0===c0,sqr:a0=>mod(a0*a0,e0),add:(a0,c0)=>mod(a0+c0,e0),sub:(a0,c0)=>mod(a0-c0,e0),mul:(a0,c0)=>mod(a0*c0,e0),pow:(a0,c0)=>FpPow(s0,a0,c0),div:(a0,c0)=>mod(a0*invert(c0,e0),e0),sqrN:a0=>a0*a0,addN:(a0,c0)=>a0+c0,subN:(a0,c0)=>a0-c0,mulN:(a0,c0)=>a0*c0,inv:a0=>invert(a0,e0),sqrt:n0.sqrt||(a0=>(o0||(o0=FpSqrt(e0)),o0(s0,a0))),toBytes:a0=>t0?numberToBytesLE(a0,i0):numberToBytesBE(a0,i0),fromBytes:a0=>{if(a0.length!==i0)throw new Error("Field.fromBytes: expected "+i0+" bytes, got "+a0.length);return t0?bytesToNumberLE(a0):bytesToNumberBE(a0)},invertBatch:a0=>FpInvertBatch(s0,a0),cmov:(a0,c0,l0)=>l0?c0:a0});return Object.freeze(s0)}function getFieldBytesLength(e0){if(typeof e0!="bigint")throw new Error("field order must be bigint");const r=e0.toString(2).length;return Math.ceil(r/8)}function getMinHashLength(e0){const r=getFieldBytesLength(e0);return r+Math.ceil(r/2)}function mapHashToField(e0,r,t0=!1){const n0=e0.length,r0=getFieldBytesLength(r),i0=getMinHashLength(r);if(n0<16||n0<i0||n0>1024)throw new Error("expected "+i0+"-1024 bytes of input, got "+n0);const o0=t0?bytesToNumberLE(e0):bytesToNumberBE(e0),s0=mod(o0,r-_1n$5)+_1n$5;return t0?numberToBytesLE(s0,r0):numberToBytesBE(s0,r0)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$3=BigInt(0),_1n$4=BigInt(1);function constTimeNegate(e0,r){const t0=r.negate();return e0?t0:r}function validateW(e0,r){if(!Number.isSafeInteger(e0)||e0<=0||e0>r)throw new Error("invalid window size, expected [1.."+r+"], got W="+e0)}function calcWOpts(e0,r){validateW(e0,r);const t0=Math.ceil(r/e0)+1,n0=2**(e0-1),r0=2**e0,i0=bitMask(e0),o0=BigInt(e0);return{windows:t0,windowSize:n0,mask:i0,maxNumber:r0,shiftBy:o0}}function calcOffsets(e0,r,t0){const{windowSize:n0,mask:r0,maxNumber:i0,shiftBy:o0}=t0;let s0=Number(e0&r0),a0=e0>>o0;s0>n0&&(s0-=i0,a0+=_1n$4);const c0=r*n0,l0=c0+Math.abs(s0)-1,u0=s0===0,h0=s0<0,g0=r%2!==0;return{nextN:a0,offset:l0,isZero:u0,isNeg:h0,isNegF:g0,offsetF:c0}}function validateMSMPoints(e0,r){if(!Array.isArray(e0))throw new Error("array expected");e0.forEach((t0,n0)=>{if(!(t0 instanceof r))throw new Error("invalid point at index "+n0)})}function validateMSMScalars(e0,r){if(!Array.isArray(e0))throw new Error("array of scalars expected");e0.forEach((t0,n0)=>{if(!r.isValid(t0))throw new Error("invalid scalar at index "+n0)})}const pointPrecomputes=new WeakMap,pointWindowSizes=new WeakMap;function getW(e0){return pointWindowSizes.get(e0)||1}function wNAF(e0,r){return{constTimeNegate,hasPrecomputes(t0){return getW(t0)!==1},unsafeLadder(t0,n0,r0=e0.ZERO){let i0=t0;for(;n0>_0n$3;)n0&_1n$4&&(r0=r0.add(i0)),i0=i0.double(),n0>>=_1n$4;return r0},precomputeWindow(t0,n0){const{windows:r0,windowSize:i0}=calcWOpts(n0,r),o0=[];let s0=t0,a0=s0;for(let c0=0;c0<r0;c0++){a0=s0,o0.push(a0);for(let l0=1;l0<i0;l0++)a0=a0.add(s0),o0.push(a0);s0=a0.double()}return o0},wNAF(t0,n0,r0){let i0=e0.ZERO,o0=e0.BASE;const s0=calcWOpts(t0,r);for(let a0=0;a0<s0.windows;a0++){const{nextN:c0,offset:l0,isZero:u0,isNeg:h0,isNegF:g0,offsetF:w0}=calcOffsets(r0,a0,s0);r0=c0,u0?o0=o0.add(constTimeNegate(g0,n0[w0])):i0=i0.add(constTimeNegate(h0,n0[l0]))}return{p:i0,f:o0}},wNAFUnsafe(t0,n0,r0,i0=e0.ZERO){const o0=calcWOpts(t0,r);for(let s0=0;s0<o0.windows&&r0!==_0n$3;s0++){const{nextN:a0,offset:c0,isZero:l0,isNeg:u0}=calcOffsets(r0,s0,o0);if(r0=a0,!l0){const h0=n0[c0];i0=i0.add(u0?h0.negate():h0)}}return i0},getPrecomputes(t0,n0,r0){let i0=pointPrecomputes.get(n0);return i0||(i0=this.precomputeWindow(n0,t0),t0!==1&&pointPrecomputes.set(n0,r0(i0))),i0},wNAFCached(t0,n0,r0){const i0=getW(t0);return this.wNAF(i0,this.getPrecomputes(i0,t0,r0),n0)},wNAFCachedUnsafe(t0,n0,r0,i0){const o0=getW(t0);return o0===1?this.unsafeLadder(t0,n0,i0):this.wNAFUnsafe(o0,this.getPrecomputes(o0,t0,r0),n0,i0)},setWindowSize(t0,n0){validateW(n0,r),pointWindowSizes.set(t0,n0),pointPrecomputes.delete(t0)}}}function pippenger(e0,r,t0,n0){validateMSMPoints(t0,e0),validateMSMScalars(n0,r);const r0=t0.length,i0=n0.length;if(r0!==i0)throw new Error("arrays of points and scalars must have equal length");const o0=e0.ZERO,s0=bitLen(BigInt(r0));let a0=1;s0>12?a0=s0-3:s0>4?a0=s0-2:s0>0&&(a0=2);const c0=bitMask(a0),l0=new Array(Number(c0)+1).fill(o0),u0=Math.floor((r.BITS-1)/a0)*a0;let h0=o0;for(let g0=u0;g0>=0;g0-=a0){l0.fill(o0);for(let m0=0;m0<i0;m0++){const S0=n0[m0],b0=Number(S0>>BigInt(g0)&c0);l0[b0]=l0[b0].add(t0[m0])}let w0=o0;for(let m0=l0.length-1,S0=o0;m0>0;m0--)S0=S0.add(l0[m0]),w0=w0.add(S0);if(h0=h0.add(w0),g0!==0)for(let m0=0;m0<a0;m0++)h0=h0.double()}return h0}function validateBasic(e0){return validateField(e0.Fp),validateObject(e0,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nLength(e0.n,e0.nBitLength),...e0,p:e0.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const _0n$2=BigInt(0),_1n$3=BigInt(1),_2n$2=BigInt(2),_8n$1=BigInt(8),VERIFY_DEFAULT={zip215:!0};function validateOpts$1(e0){const r=validateBasic(e0);return validateObject(e0,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...r})}function twistedEdwards(e0){const r=validateOpts$1(e0),{Fp:t0,n:n0,prehash:r0,hash:i0,randomBytes:o0,nByteLength:s0,h:a0}=r,c0=_2n$2<<BigInt(s0*8)-_1n$3,l0=t0.create,u0=Field(r.n,r.nBitLength);function h0(y0,v0){const I0=t0.sqr(y0),E0=t0.sqr(v0),d0=t0.add(t0.mul(r.a,I0),E0),_0=t0.add(t0.ONE,t0.mul(r.d,t0.mul(I0,E0)));return t0.eql(d0,_0)}if(!h0(r.Gx,r.Gy))throw new Error("bad curve params: generator point");const g0=r.uvRatio||((y0,v0)=>{try{return{isValid:!0,value:t0.sqrt(y0*t0.inv(v0))}}catch{return{isValid:!1,value:_0n$2}}}),w0=r.adjustScalarBytes||(y0=>y0),m0=r.domain||((y0,v0,I0)=>{if(abool("phflag",I0),v0.length||I0)throw new Error("Contexts/pre-hash are not supported");return y0});function S0(y0,v0,I0=!1){const E0=I0?_1n$3:_0n$2;aInRange("coordinate "+y0,v0,E0,c0)}function b0(y0){if(!(y0 instanceof x0))throw new Error("ExtendedPoint expected")}const T0=memoized((y0,v0)=>{const{ex:I0,ey:E0,ez:d0}=y0,_0=y0.is0();v0==null&&(v0=_0?_8n$1:t0.inv(d0));const C0=l0(I0*v0),L0=l0(E0*v0),D0=l0(d0*v0);if(_0)return{x:_0n$2,y:_1n$3};if(D0!==_1n$3)throw new Error("invZ was invalid");return{x:C0,y:L0}}),N0=memoized(y0=>{const{a:v0,d:I0}=r;if(y0.is0())throw new Error("bad point: ZERO");const{ex:E0,ey:d0,ez:_0,et:C0}=y0,L0=l0(E0*E0),D0=l0(d0*d0),j0=l0(_0*_0),z0=l0(j0*j0),Y0=l0(L0*v0),Z0=l0(j0*l0(Y0+D0)),X0=l0(z0+l0(I0*l0(L0*D0)));if(Z0!==X0)throw new Error("bad point: equation left != right (1)");const J0=l0(E0*d0),yg=l0(_0*C0);if(J0!==yg)throw new Error("bad point: equation left != right (2)");return!0});class x0{constructor(v0,I0,E0,d0){S0("x",v0),S0("y",I0),S0("z",E0,!0),S0("t",d0),this.ex=v0,this.ey=I0,this.ez=E0,this.et=d0,Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(v0){if(v0 instanceof x0)throw new Error("extended point not allowed");const{x:I0,y:E0}=v0||{};return S0("x",I0),S0("y",E0),new x0(I0,E0,_1n$3,l0(I0*E0))}static normalizeZ(v0){const I0=FpInvertBatch(t0,v0.map(E0=>E0.ez));return v0.map((E0,d0)=>E0.toAffine(I0[d0])).map(x0.fromAffine)}static msm(v0,I0){return pippenger(x0,u0,v0,I0)}_setWindowSize(v0){H0.setWindowSize(this,v0)}assertValidity(){N0(this)}equals(v0){b0(v0);const{ex:I0,ey:E0,ez:d0}=this,{ex:_0,ey:C0,ez:L0}=v0,D0=l0(I0*L0),j0=l0(_0*d0),z0=l0(E0*L0),Y0=l0(C0*d0);return D0===j0&&z0===Y0}is0(){return this.equals(x0.ZERO)}negate(){return new x0(l0(-this.ex),this.ey,this.ez,l0(-this.et))}double(){const{a:v0}=r,{ex:I0,ey:E0,ez:d0}=this,_0=l0(I0*I0),C0=l0(E0*E0),L0=l0(_2n$2*l0(d0*d0)),D0=l0(v0*_0),j0=I0+E0,z0=l0(l0(j0*j0)-_0-C0),Y0=D0+C0,Z0=Y0-L0,X0=D0-C0,J0=l0(z0*Z0),yg=l0(Y0*X0),_g=l0(z0*X0),vg=l0(Z0*Y0);return new x0(J0,yg,vg,_g)}add(v0){b0(v0);const{a:I0,d:E0}=r,{ex:d0,ey:_0,ez:C0,et:L0}=this,{ex:D0,ey:j0,ez:z0,et:Y0}=v0,Z0=l0(d0*D0),X0=l0(_0*j0),J0=l0(L0*E0*Y0),yg=l0(C0*z0),_g=l0((d0+_0)*(D0+j0)-Z0-X0),vg=yg-J0,bg=yg+J0,wg=l0(X0-I0*Z0),Eg=l0(_g*vg),Ag=l0(bg*wg),Ig=l0(_g*wg),Sg=l0(vg*bg);return new x0(Eg,Ag,Sg,Ig)}subtract(v0){return this.add(v0.negate())}wNAF(v0){return H0.wNAFCached(this,v0,x0.normalizeZ)}multiply(v0){const I0=v0;aInRange("scalar",I0,_1n$3,n0);const{p:E0,f:d0}=this.wNAF(I0);return x0.normalizeZ([E0,d0])[0]}multiplyUnsafe(v0,I0=x0.ZERO){const E0=v0;return aInRange("scalar",E0,_0n$2,n0),E0===_0n$2?B0:this.is0()||E0===_1n$3?this:H0.wNAFCachedUnsafe(this,E0,x0.normalizeZ,I0)}isSmallOrder(){return this.multiplyUnsafe(a0).is0()}isTorsionFree(){return H0.unsafeLadder(this,n0).is0()}toAffine(v0){return T0(this,v0)}clearCofactor(){const{h:v0}=r;return v0===_1n$3?this:this.multiplyUnsafe(v0)}static fromHex(v0,I0=!1){const{d:E0,a:d0}=r,_0=t0.BYTES;v0=ensureBytes("pointHex",v0,_0),abool("zip215",I0);const C0=v0.slice(),L0=v0[_0-1];C0[_0-1]=L0&-129;const D0=bytesToNumberLE(C0),j0=I0?c0:t0.ORDER;aInRange("pointHex.y",D0,_0n$2,j0);const z0=l0(D0*D0),Y0=l0(z0-_1n$3),Z0=l0(E0*z0-d0);let{isValid:X0,value:J0}=g0(Y0,Z0);if(!X0)throw new Error("Point.fromHex: invalid y coordinate");const yg=(J0&_1n$3)===_1n$3,_g=(L0&128)!==0;if(!I0&&J0===_0n$2&&_g)throw new Error("Point.fromHex: x=0 and x_0=1");return _g!==yg&&(J0=l0(-J0)),x0.fromAffine({x:J0,y:D0})}static fromPrivateKey(v0){const{scalar:I0}=K0(v0);return k0.multiply(I0)}toRawBytes(){const{x:v0,y:I0}=this.toAffine(),E0=numberToBytesLE(I0,t0.BYTES);return E0[E0.length-1]|=v0&_1n$3?128:0,E0}toHex(){return bytesToHex(this.toRawBytes())}}x0.BASE=new x0(r.Gx,r.Gy,_1n$3,l0(r.Gx*r.Gy)),x0.ZERO=new x0(_0n$2,_1n$3,_1n$3,_0n$2);const{BASE:k0,ZERO:B0}=x0,H0=wNAF(x0,s0*8);function G0(y0){return mod(y0,n0)}function V0(y0){return G0(bytesToNumberLE(y0))}function K0(y0){const v0=t0.BYTES;y0=ensureBytes("private key",y0,v0);const I0=ensureBytes("hashed private key",i0(y0),2*v0),E0=w0(I0.slice(0,v0)),d0=I0.slice(v0,2*v0),_0=V0(E0);return{head:E0,prefix:d0,scalar:_0}}function W0(y0){const{head:v0,prefix:I0,scalar:E0}=K0(y0),d0=k0.multiply(E0),_0=d0.toRawBytes();return{head:v0,prefix:I0,scalar:E0,point:d0,pointBytes:_0}}function F0(y0){return W0(y0).pointBytes}function O0(y0=Uint8Array.of(),...v0){const I0=concatBytes(...v0);return V0(i0(m0(I0,ensureBytes("context",y0),!!r0)))}function f0(y0,v0,I0={}){y0=ensureBytes("message",y0),r0&&(y0=r0(y0));const{prefix:E0,scalar:d0,pointBytes:_0}=W0(v0),C0=O0(I0.context,E0,y0),L0=k0.multiply(C0).toRawBytes(),D0=O0(I0.context,L0,_0,y0),j0=G0(C0+D0*d0);aInRange("signature.s",j0,_0n$2,n0);const z0=concatBytes(L0,numberToBytesLE(j0,t0.BYTES));return ensureBytes("result",z0,t0.BYTES*2)}const p0=VERIFY_DEFAULT;function A0(y0,v0,I0,E0=p0){const{context:d0,zip215:_0}=E0,C0=t0.BYTES;y0=ensureBytes("signature",y0,2*C0),v0=ensureBytes("message",v0),I0=ensureBytes("publicKey",I0,C0),_0!==void 0&&abool("zip215",_0),r0&&(v0=r0(v0));const L0=bytesToNumberLE(y0.slice(C0,2*C0));let D0,j0,z0;try{D0=x0.fromHex(I0,_0),j0=x0.fromHex(y0.slice(0,C0),_0),z0=k0.multiplyUnsafe(L0)}catch{return!1}if(!_0&&D0.isSmallOrder())return!1;const Y0=O0(d0,j0.toRawBytes(),D0.toRawBytes(),v0);return j0.add(D0.multiplyUnsafe(Y0)).subtract(z0).clearCofactor().equals(x0.ZERO)}return k0._setWindowSize(8),{CURVE:r,getPublicKey:F0,sign:f0,verify:A0,ExtendedPoint:x0,utils:{getExtendedPublicKey:W0,randomPrivateKey:()=>o0(t0.BYTES),precompute(y0=8,v0=x0.BASE){return v0._setWindowSize(y0),v0.multiply(BigInt(3)),v0}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ED25519_P=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),ED25519_SQRT_M1=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const _1n$2=BigInt(1),_2n$1=BigInt(2);BigInt(3);const _5n=BigInt(5),_8n=BigInt(8);function ed25519_pow_2_252_3(e0){const r=BigInt(10),t0=BigInt(20),n0=BigInt(40),r0=BigInt(80),i0=ED25519_P,s0=e0*e0%i0*e0%i0,a0=pow2(s0,_2n$1,i0)*s0%i0,c0=pow2(a0,_1n$2,i0)*e0%i0,l0=pow2(c0,_5n,i0)*c0%i0,u0=pow2(l0,r,i0)*l0%i0,h0=pow2(u0,t0,i0)*u0%i0,g0=pow2(h0,n0,i0)*h0%i0,w0=pow2(g0,r0,i0)*g0%i0,m0=pow2(w0,r0,i0)*g0%i0,S0=pow2(m0,r,i0)*l0%i0;return{pow_p_5_8:pow2(S0,_2n$1,i0)*e0%i0,b2:s0}}function adjustScalarBytes(e0){return e0[0]&=248,e0[31]&=127,e0[31]|=64,e0}function uvRatio(e0,r){const t0=ED25519_P,n0=mod(r*r*r,t0),r0=mod(n0*n0*r,t0),i0=ed25519_pow_2_252_3(e0*r0).pow_p_5_8;let o0=mod(e0*n0*i0,t0);const s0=mod(r*o0*o0,t0),a0=o0,c0=mod(o0*ED25519_SQRT_M1,t0),l0=s0===e0,u0=s0===mod(-e0,t0),h0=s0===mod(-e0*ED25519_SQRT_M1,t0);return l0&&(o0=a0),(u0||h0)&&(o0=c0),isNegativeLE(o0,t0)&&(o0=mod(-o0,t0)),{isValid:l0||u0,value:o0}}const Fp=(()=>Field(ED25519_P,void 0,!0))(),ed25519Defaults=(()=>({a:Fp.create(BigInt(-1)),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:_8n,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:sha512,randomBytes,adjustScalarBytes,uvRatio}))(),ed25519=(()=>twistedEdwards(ed25519Defaults))();var bn={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0$1=connector.getAugmentedNamespace(__viteBrowserExternal$1);bn.exports;(function(e0){(function(r,t0){function n0(O0,f0){if(!O0)throw new Error(f0||"Assertion failed")}function r0(O0,f0){O0.super_=f0;var p0=function(){};p0.prototype=f0.prototype,O0.prototype=new p0,O0.prototype.constructor=O0}function i0(O0,f0,p0){if(i0.isBN(O0))return O0;this.negative=0,this.words=null,this.length=0,this.red=null,O0!==null&&((f0==="le"||f0==="be")&&(p0=f0,f0=10),this._init(O0||0,f0||10,p0||"be"))}typeof r=="object"?r.exports=i0:t0.BN=i0,i0.BN=i0,i0.wordSize=26;var o0;try{typeof window<"u"&&typeof window.Buffer<"u"?o0=window.Buffer:o0=require$$0$1.Buffer}catch{}i0.isBN=function(f0){return f0 instanceof i0?!0:f0!==null&&typeof f0=="object"&&f0.constructor.wordSize===i0.wordSize&&Array.isArray(f0.words)},i0.max=function(f0,p0){return f0.cmp(p0)>0?f0:p0},i0.min=function(f0,p0){return f0.cmp(p0)<0?f0:p0},i0.prototype._init=function(f0,p0,A0){if(typeof f0=="number")return this._initNumber(f0,p0,A0);if(typeof f0=="object")return this._initArray(f0,p0,A0);p0==="hex"&&(p0=16),n0(p0===(p0|0)&&p0>=2&&p0<=36),f0=f0.toString().replace(/\s+/g,"");var $0=0;f0[0]==="-"&&($0++,this.negative=1),$0<f0.length&&(p0===16?this._parseHex(f0,$0,A0):(this._parseBase(f0,p0,$0),A0==="le"&&this._initArray(this.toArray(),p0,A0)))},i0.prototype._initNumber=function(f0,p0,A0){f0<0&&(this.negative=1,f0=-f0),f0<67108864?(this.words=[f0&67108863],this.length=1):f0<4503599627370496?(this.words=[f0&67108863,f0/67108864&67108863],this.length=2):(n0(f0<9007199254740992),this.words=[f0&67108863,f0/67108864&67108863,1],this.length=3),A0==="le"&&this._initArray(this.toArray(),p0,A0)},i0.prototype._initArray=function(f0,p0,A0){if(n0(typeof f0.length=="number"),f0.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f0.length/3),this.words=new Array(this.length);for(var $0=0;$0<this.length;$0++)this.words[$0]=0;var y0,v0,I0=0;if(A0==="be")for($0=f0.length-1,y0=0;$0>=0;$0-=3)v0=f0[$0]|f0[$0-1]<<8|f0[$0-2]<<16,this.words[y0]|=v0<<I0&67108863,this.words[y0+1]=v0>>>26-I0&67108863,I0+=24,I0>=26&&(I0-=26,y0++);else if(A0==="le")for($0=0,y0=0;$0<f0.length;$0+=3)v0=f0[$0]|f0[$0+1]<<8|f0[$0+2]<<16,this.words[y0]|=v0<<I0&67108863,this.words[y0+1]=v0>>>26-I0&67108863,I0+=24,I0>=26&&(I0-=26,y0++);return this._strip()};function s0(O0,f0){var p0=O0.charCodeAt(f0);if(p0>=48&&p0<=57)return p0-48;if(p0>=65&&p0<=70)return p0-55;if(p0>=97&&p0<=102)return p0-87;n0(!1,"Invalid character in "+O0)}function a0(O0,f0,p0){var A0=s0(O0,p0);return p0-1>=f0&&(A0|=s0(O0,p0-1)<<4),A0}i0.prototype._parseHex=function(f0,p0,A0){this.length=Math.ceil((f0.length-p0)/6),this.words=new Array(this.length);for(var $0=0;$0<this.length;$0++)this.words[$0]=0;var y0=0,v0=0,I0;if(A0==="be")for($0=f0.length-1;$0>=p0;$0-=2)I0=a0(f0,p0,$0)<<y0,this.words[v0]|=I0&67108863,y0>=18?(y0-=18,v0+=1,this.words[v0]|=I0>>>26):y0+=8;else{var E0=f0.length-p0;for($0=E0%2===0?p0+1:p0;$0<f0.length;$0+=2)I0=a0(f0,p0,$0)<<y0,this.words[v0]|=I0&67108863,y0>=18?(y0-=18,v0+=1,this.words[v0]|=I0>>>26):y0+=8}this._strip()};function c0(O0,f0,p0,A0){for(var $0=0,y0=0,v0=Math.min(O0.length,p0),I0=f0;I0<v0;I0++){var E0=O0.charCodeAt(I0)-48;$0*=A0,E0>=49?y0=E0-49+10:E0>=17?y0=E0-17+10:y0=E0,n0(E0>=0&&y0<A0,"Invalid character"),$0+=y0}return $0}i0.prototype._parseBase=function(f0,p0,A0){this.words=[0],this.length=1;for(var $0=0,y0=1;y0<=67108863;y0*=p0)$0++;$0--,y0=y0/p0|0;for(var v0=f0.length-A0,I0=v0%$0,E0=Math.min(v0,v0-I0)+A0,d0=0,_0=A0;_0<E0;_0+=$0)d0=c0(f0,_0,_0+$0,p0),this.imuln(y0),this.words[0]+d0<67108864?this.words[0]+=d0:this._iaddn(d0);if(I0!==0){var C0=1;for(d0=c0(f0,_0,f0.length,p0),_0=0;_0<I0;_0++)C0*=p0;this.imuln(C0),this.words[0]+d0<67108864?this.words[0]+=d0:this._iaddn(d0)}this._strip()},i0.prototype.copy=function(f0){f0.words=new Array(this.length);for(var p0=0;p0<this.length;p0++)f0.words[p0]=this.words[p0];f0.length=this.length,f0.negative=this.negative,f0.red=this.red};function l0(O0,f0){O0.words=f0.words,O0.length=f0.length,O0.negative=f0.negative,O0.red=f0.red}if(i0.prototype._move=function(f0){l0(f0,this)},i0.prototype.clone=function(){var f0=new i0(null);return this.copy(f0),f0},i0.prototype._expand=function(f0){for(;this.length<f0;)this.words[this.length++]=0;return this},i0.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i0.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i0.prototype[Symbol.for("nodejs.util.inspect.custom")]=u0}catch{i0.prototype.inspect=u0}else i0.prototype.inspect=u0;function u0(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h0=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g0=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],w0=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i0.prototype.toString=function(f0,p0){f0=f0||10,p0=p0|0||1;var A0;if(f0===16||f0==="hex"){A0="";for(var $0=0,y0=0,v0=0;v0<this.length;v0++){var I0=this.words[v0],E0=((I0<<$0|y0)&16777215).toString(16);y0=I0>>>24-$0&16777215,$0+=2,$0>=26&&($0-=26,v0--),y0!==0||v0!==this.length-1?A0=h0[6-E0.length]+E0+A0:A0=E0+A0}for(y0!==0&&(A0=y0.toString(16)+A0);A0.length%p0!==0;)A0="0"+A0;return this.negative!==0&&(A0="-"+A0),A0}if(f0===(f0|0)&&f0>=2&&f0<=36){var d0=g0[f0],_0=w0[f0];A0="";var C0=this.clone();for(C0.negative=0;!C0.isZero();){var L0=C0.modrn(_0).toString(f0);C0=C0.idivn(_0),C0.isZero()?A0=L0+A0:A0=h0[d0-L0.length]+L0+A0}for(this.isZero()&&(A0="0"+A0);A0.length%p0!==0;)A0="0"+A0;return this.negative!==0&&(A0="-"+A0),A0}n0(!1,"Base should be between 2 and 36")},i0.prototype.toNumber=function(){var f0=this.words[0];return this.length===2?f0+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f0+=4503599627370496+this.words[1]*67108864:this.length>2&&n0(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f0:f0},i0.prototype.toJSON=function(){return this.toString(16,2)},o0&&(i0.prototype.toBuffer=function(f0,p0){return this.toArrayLike(o0,f0,p0)}),i0.prototype.toArray=function(f0,p0){return this.toArrayLike(Array,f0,p0)};var m0=function(f0,p0){return f0.allocUnsafe?f0.allocUnsafe(p0):new f0(p0)};i0.prototype.toArrayLike=function(f0,p0,A0){this._strip();var $0=this.byteLength(),y0=A0||Math.max(1,$0);n0($0<=y0,"byte array longer than desired length"),n0(y0>0,"Requested array length <= 0");var v0=m0(f0,y0),I0=p0==="le"?"LE":"BE";return this["_toArrayLike"+I0](v0,$0),v0},i0.prototype._toArrayLikeLE=function(f0,p0){for(var A0=0,$0=0,y0=0,v0=0;y0<this.length;y0++){var I0=this.words[y0]<<v0|$0;f0[A0++]=I0&255,A0<f0.length&&(f0[A0++]=I0>>8&255),A0<f0.length&&(f0[A0++]=I0>>16&255),v0===6?(A0<f0.length&&(f0[A0++]=I0>>24&255),$0=0,v0=0):($0=I0>>>24,v0+=2)}if(A0<f0.length)for(f0[A0++]=$0;A0<f0.length;)f0[A0++]=0},i0.prototype._toArrayLikeBE=function(f0,p0){for(var A0=f0.length-1,$0=0,y0=0,v0=0;y0<this.length;y0++){var I0=this.words[y0]<<v0|$0;f0[A0--]=I0&255,A0>=0&&(f0[A0--]=I0>>8&255),A0>=0&&(f0[A0--]=I0>>16&255),v0===6?(A0>=0&&(f0[A0--]=I0>>24&255),$0=0,v0=0):($0=I0>>>24,v0+=2)}if(A0>=0)for(f0[A0--]=$0;A0>=0;)f0[A0--]=0},Math.clz32?i0.prototype._countBits=function(f0){return 32-Math.clz32(f0)}:i0.prototype._countBits=function(f0){var p0=f0,A0=0;return p0>=4096&&(A0+=13,p0>>>=13),p0>=64&&(A0+=7,p0>>>=7),p0>=8&&(A0+=4,p0>>>=4),p0>=2&&(A0+=2,p0>>>=2),A0+p0},i0.prototype._zeroBits=function(f0){if(f0===0)return 26;var p0=f0,A0=0;return p0&8191||(A0+=13,p0>>>=13),p0&127||(A0+=7,p0>>>=7),p0&15||(A0+=4,p0>>>=4),p0&3||(A0+=2,p0>>>=2),p0&1||A0++,A0},i0.prototype.bitLength=function(){var f0=this.words[this.length-1],p0=this._countBits(f0);return(this.length-1)*26+p0};function S0(O0){for(var f0=new Array(O0.bitLength()),p0=0;p0<f0.length;p0++){var A0=p0/26|0,$0=p0%26;f0[p0]=O0.words[A0]>>>$0&1}return f0}i0.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f0=0,p0=0;p0<this.length;p0++){var A0=this._zeroBits(this.words[p0]);if(f0+=A0,A0!==26)break}return f0},i0.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i0.prototype.toTwos=function(f0){return this.negative!==0?this.abs().inotn(f0).iaddn(1):this.clone()},i0.prototype.fromTwos=function(f0){return this.testn(f0-1)?this.notn(f0).iaddn(1).ineg():this.clone()},i0.prototype.isNeg=function(){return this.negative!==0},i0.prototype.neg=function(){return this.clone().ineg()},i0.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i0.prototype.iuor=function(f0){for(;this.length<f0.length;)this.words[this.length++]=0;for(var p0=0;p0<f0.length;p0++)this.words[p0]=this.words[p0]|f0.words[p0];return this._strip()},i0.prototype.ior=function(f0){return n0((this.negative|f0.negative)===0),this.iuor(f0)},i0.prototype.or=function(f0){return this.length>f0.length?this.clone().ior(f0):f0.clone().ior(this)},i0.prototype.uor=function(f0){return this.length>f0.length?this.clone().iuor(f0):f0.clone().iuor(this)},i0.prototype.iuand=function(f0){var p0;this.length>f0.length?p0=f0:p0=this;for(var A0=0;A0<p0.length;A0++)this.words[A0]=this.words[A0]&f0.words[A0];return this.length=p0.length,this._strip()},i0.prototype.iand=function(f0){return n0((this.negative|f0.negative)===0),this.iuand(f0)},i0.prototype.and=function(f0){return this.length>f0.length?this.clone().iand(f0):f0.clone().iand(this)},i0.prototype.uand=function(f0){return this.length>f0.length?this.clone().iuand(f0):f0.clone().iuand(this)},i0.prototype.iuxor=function(f0){var p0,A0;this.length>f0.length?(p0=this,A0=f0):(p0=f0,A0=this);for(var $0=0;$0<A0.length;$0++)this.words[$0]=p0.words[$0]^A0.words[$0];if(this!==p0)for(;$0<p0.length;$0++)this.words[$0]=p0.words[$0];return this.length=p0.length,this._strip()},i0.prototype.ixor=function(f0){return n0((this.negative|f0.negative)===0),this.iuxor(f0)},i0.prototype.xor=function(f0){return this.length>f0.length?this.clone().ixor(f0):f0.clone().ixor(this)},i0.prototype.uxor=function(f0){return this.length>f0.length?this.clone().iuxor(f0):f0.clone().iuxor(this)},i0.prototype.inotn=function(f0){n0(typeof f0=="number"&&f0>=0);var p0=Math.ceil(f0/26)|0,A0=f0%26;this._expand(p0),A0>0&&p0--;for(var $0=0;$0<p0;$0++)this.words[$0]=~this.words[$0]&67108863;return A0>0&&(this.words[$0]=~this.words[$0]&67108863>>26-A0),this._strip()},i0.prototype.notn=function(f0){return this.clone().inotn(f0)},i0.prototype.setn=function(f0,p0){n0(typeof f0=="number"&&f0>=0);var A0=f0/26|0,$0=f0%26;return this._expand(A0+1),p0?this.words[A0]=this.words[A0]|1<<$0:this.words[A0]=this.words[A0]&~(1<<$0),this._strip()},i0.prototype.iadd=function(f0){var p0;if(this.negative!==0&&f0.negative===0)return this.negative=0,p0=this.isub(f0),this.negative^=1,this._normSign();if(this.negative===0&&f0.negative!==0)return f0.negative=0,p0=this.isub(f0),f0.negative=1,p0._normSign();var A0,$0;this.length>f0.length?(A0=this,$0=f0):(A0=f0,$0=this);for(var y0=0,v0=0;v0<$0.length;v0++)p0=(A0.words[v0]|0)+($0.words[v0]|0)+y0,this.words[v0]=p0&67108863,y0=p0>>>26;for(;y0!==0&&v0<A0.length;v0++)p0=(A0.words[v0]|0)+y0,this.words[v0]=p0&67108863,y0=p0>>>26;if(this.length=A0.length,y0!==0)this.words[this.length]=y0,this.length++;else if(A0!==this)for(;v0<A0.length;v0++)this.words[v0]=A0.words[v0];return this},i0.prototype.add=function(f0){var p0;return f0.negative!==0&&this.negative===0?(f0.negative=0,p0=this.sub(f0),f0.negative^=1,p0):f0.negative===0&&this.negative!==0?(this.negative=0,p0=f0.sub(this),this.negative=1,p0):this.length>f0.length?this.clone().iadd(f0):f0.clone().iadd(this)},i0.prototype.isub=function(f0){if(f0.negative!==0){f0.negative=0;var p0=this.iadd(f0);return f0.negative=1,p0._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f0),this.negative=1,this._normSign();var A0=this.cmp(f0);if(A0===0)return this.negative=0,this.length=1,this.words[0]=0,this;var $0,y0;A0>0?($0=this,y0=f0):($0=f0,y0=this);for(var v0=0,I0=0;I0<y0.length;I0++)p0=($0.words[I0]|0)-(y0.words[I0]|0)+v0,v0=p0>>26,this.words[I0]=p0&67108863;for(;v0!==0&&I0<$0.length;I0++)p0=($0.words[I0]|0)+v0,v0=p0>>26,this.words[I0]=p0&67108863;if(v0===0&&I0<$0.length&&$0!==this)for(;I0<$0.length;I0++)this.words[I0]=$0.words[I0];return this.length=Math.max(this.length,I0),$0!==this&&(this.negative=1),this._strip()},i0.prototype.sub=function(f0){return this.clone().isub(f0)};function b0(O0,f0,p0){p0.negative=f0.negative^O0.negative;var A0=O0.length+f0.length|0;p0.length=A0,A0=A0-1|0;var $0=O0.words[0]|0,y0=f0.words[0]|0,v0=$0*y0,I0=v0&67108863,E0=v0/67108864|0;p0.words[0]=I0;for(var d0=1;d0<A0;d0++){for(var _0=E0>>>26,C0=E0&67108863,L0=Math.min(d0,f0.length-1),D0=Math.max(0,d0-O0.length+1);D0<=L0;D0++){var j0=d0-D0|0;$0=O0.words[j0]|0,y0=f0.words[D0]|0,v0=$0*y0+C0,_0+=v0/67108864|0,C0=v0&67108863}p0.words[d0]=C0|0,E0=_0|0}return E0!==0?p0.words[d0]=E0|0:p0.length--,p0._strip()}var T0=function(f0,p0,A0){var $0=f0.words,y0=p0.words,v0=A0.words,I0=0,E0,d0,_0,C0=$0[0]|0,L0=C0&8191,D0=C0>>>13,j0=$0[1]|0,z0=j0&8191,Y0=j0>>>13,Z0=$0[2]|0,X0=Z0&8191,J0=Z0>>>13,yg=$0[3]|0,_g=yg&8191,vg=yg>>>13,bg=$0[4]|0,wg=bg&8191,Eg=bg>>>13,Ag=$0[5]|0,Ig=Ag&8191,Sg=Ag>>>13,Ng=$0[6]|0,Rg=Ng&8191,Mg=Ng>>>13,Dg=$0[7]|0,Lg=Dg&8191,P0=Dg>>>13,R0=$0[8]|0,M0=R0&8191,U0=R0>>>13,q0=$0[9]|0,Q0=q0&8191,mg=q0>>>13,xg=y0[0]|0,Cg=xg&8191,Tg=xg>>>13,kg=y0[1]|0,Og=kg&8191,Pg=kg>>>13,Dm=y0[2]|0,Bg=Dm&8191,jg=Dm>>>13,km=y0[3]|0,Ug=km&8191,zg=km>>>13,Pm=y0[4]|0,Fg=Pm&8191,Hg=Pm>>>13,Bm=y0[5]|0,Kg=Bm&8191,Vg=Bm>>>13,jm=y0[6]|0,Wg=jm&8191,Gg=jm>>>13,Um=y0[7]|0,Yg=Um&8191,qg=Um>>>13,zm=y0[8]|0,Zg=zm&8191,Qg=zm>>>13,Fm=y0[9]|0,Xg=Fm&8191,Jg=Fm>>>13;A0.negative=f0.negative^p0.negative,A0.length=19,E0=Math.imul(L0,Cg),d0=Math.imul(L0,Tg),d0=d0+Math.imul(D0,Cg)|0,_0=Math.imul(D0,Tg);var cm=(I0+E0|0)+((d0&8191)<<13)|0;I0=(_0+(d0>>>13)|0)+(cm>>>26)|0,cm&=67108863,E0=Math.imul(z0,Cg),d0=Math.imul(z0,Tg),d0=d0+Math.imul(Y0,Cg)|0,_0=Math.imul(Y0,Tg),E0=E0+Math.imul(L0,Og)|0,d0=d0+Math.imul(L0,Pg)|0,d0=d0+Math.imul(D0,Og)|0,_0=_0+Math.imul(D0,Pg)|0;var lm=(I0+E0|0)+((d0&8191)<<13)|0;I0=(_0+(d0>>>13)|0)+(lm>>>26)|0,lm&=67108863,E0=Math.imul(X0,Cg),d0=Math.imul(X0,Tg),d0=d0+Math.imul(J0,Cg)|0,_0=Math.imul(J0,Tg),E0=E0+Math.imul(z0,Og)|0,d0=d0+Math.imul(z0,Pg)|0,d0=d0+Math.imul(Y0,Og)|0,_0=_0+Math.imul(Y0,Pg)|0,E0=E0+Math.imul(L0,Bg)|0,d0=d0+Math.imul(L0,jg)|0,d0=d0+Math.imul(D0,Bg)|0,_0=_0+Math.imul(D0,jg)|0;var um=(I0+E0|0)+((d0&8191)<<13)|0;I0=(_0+(d0>>>13)|0)+(um>>>26)|0,um&=67108863,E0=Math.imul(_g,Cg),d0=Math.imul(_g,Tg),d0=d0+Math.imul(vg,Cg)|0,_0=Math.imul(vg,Tg),E0=E0+Math.imul(X0,Og)|0,d0=d0+Math.imul(X0,Pg)|0,d0=d0+Math.imul(J0,Og)|0,_0=_0+Math.imul(J0,Pg)|0,E0=E0+Math.imul(z0,Bg)|0,d0=d0+Math.imul(z0,jg)|0,d0=d0+Math.imul(Y0,Bg)|0,_0=_0+Math.imul(Y0,jg)|0,E0=E0+Math.imul(L0,Ug)|0,d0=d0+Math.imul(L0,zg)|0,d0=d0+Math.imul(D0,Ug)|0,_0=_0+Math.imul(D0,zg)|0;var dm=(I0+E0|0)+((d0&8191)<<13)|0;I0=(_0+(d0>>>13)|0)+(dm>>>26)|0,dm&=67108863,E0=Math.imul(wg,Cg),d0=Math.imul(wg,Tg),d0=d0+Math.imul(Eg,Cg)|0,_0=Math.imul(Eg,Tg),E0=E0+Math.imul(_g,Og)|0,d0=d0+Math.imul(_g,Pg)|0,d0=d0+Math.imul(vg,Og)|0,_0=_0+Math.imul(vg,Pg)|0,E0=E0+Math.imul(X0,Bg)|0,d0=d0+Math.imul(X0,jg)|0,d0=d0+Math.imul(J0,Bg)|0,_0=_0+Math.imul(J0,jg)|0,E0=E0+Math.imul(z0,Ug)|0,d0=d0+Math.imul(z0,zg)|0,d0=d0+Math.imul(Y0,Ug)|0,_0=_0+Math.imul(Y0,zg)|0,E0=E0+Math.imul(L0,Fg)|0,d0=d0+Math.imul(L0,Hg)|0,d0=d0+Math.imul(D0,Fg)|0,_0=_0+Math.imul(D0,Hg)|0;var hm=(I0+E0|0)+((d0&8191)<<13)|0;I0=(_0+(d0>>>13)|0)+(hm>>>26)|0,hm&=67108863,E0=Math.imul(Ig,Cg),d0=Math.imul(Ig,Tg),d0=d0+Math.imul(Sg,Cg)|0,_0=Math.imul(Sg,Tg),E0=E0+Math.imul(wg,Og)|0,d0=d0+Math.imul(wg,Pg)|0,d0=d0+Math.imul(Eg,Og)|0,_0=_0+Math.imul(Eg,Pg)|0,E0=E0+Math.imul(_g,Bg)|0,d0=d0+Math.imul(_g,jg)|0,d0=d0+Math.imul(vg,Bg)|0,_0=_0+Math.imul(vg,jg)|0,E0=E0+Math.imul(X0,Ug)|0,d0=d0+Math.imul(X0,zg)|0,d0=d0+Math.imul(J0,Ug)|0,_0=_0+Math.imul(J0,zg)|0,E0=E0+Math.imul(z0,Fg)|0,d0=d0+Math.imul(z0,Hg)|0,d0=d0+Math.imul(Y0,Fg)|0,_0=_0+Math.imul(Y0,Hg)|0,E0=E0+Math.imul(L0,Kg)|0,d0=d0+Math.imul(L0,Vg)|0,d0=d0+Math.imul(D0,Kg)|0,_0=_0+Math.imul(D0,Vg)|0;var fm=(I0+E0|0)+((d0&8191)<<13)|0;I0=(_0+(d0>>>13)|0)+(fm>>>26)|0,fm&=67108863,E0=Math.imul(Rg,Cg),d0=Math.imul(Rg,Tg),d0=d0+Math.imul(Mg,Cg)|0,_0=Math.imul(Mg,Tg),E0=E0+Math.imul(Ig,Og)|0,d0=d0+Math.imul(Ig,Pg)|0,d0=d0+Math.imul(Sg,Og)|0,_0=_0+Math.imul(Sg,Pg)|0,E0=E0+Math.imul(wg,Bg)|0,d0=d0+Math.imul(wg,jg)|0,d0=d0+Math.imul(Eg,Bg)|0,_0=_0+Math.imul(Eg,jg)|0,E0=E0+Math.imul(_g,Ug)|0,d0=d0+Math.imul(_g,zg)|0,d0=d0+Math.imul(vg,Ug)|0,_0=_0+Math.imul(vg,zg)|0,E0=E0+Math.imul(X0,Fg)|0,d0=d0+Math.imul(X0,Hg)|0,d0=d0+Math.imul(J0,Fg)|0,_0=_0+Math.imul(J0,Hg)|0,E0=E0+Math.imul(z0,Kg)|0,d0=d0+Math.imul(z0,Vg)|0,d0=d0+Math.imul(Y0,Kg)|0,_0=_0+Math.imul(Y0,Vg)|0,E0=E0+Math.imul(L0,Wg)|0,d0=d0+Math.imul(L0,Gg)|0,d0=d0+Math.imul(D0,Wg)|0,_0=_0+Math.imul(D0,Gg)|0;var pm=(I0+E0|0)+((d0&8191)<<13)|0;I0=(_0+(d0>>>13)|0)+(pm>>>26)|0,pm&=67108863,E0=Math.imul(Lg,Cg),d0=Math.imul(Lg,Tg),d0=d0+Math.imul(P0,Cg)|0,_0=Math.imul(P0,Tg),E0=E0+Math.imul(Rg,Og)|0,d0=d0+Math.imul(Rg,Pg)|0,d0=d0+Math.imul(Mg,Og)|0,_0=_0+Math.imul(Mg,Pg)|0,E0=E0+Math.imul(Ig,Bg)|0,d0=d0+Math.imul(Ig,jg)|0,d0=d0+Math.imul(Sg,Bg)|0,_0=_0+Math.imul(Sg,jg)|0,E0=E0+Math.imul(wg,Ug)|0,d0=d0+Math.imul(wg,zg)|0,d0=d0+Math.imul(Eg,Ug)|0,_0=_0+Math.imul(Eg,zg)|0,E0=E0+Math.imul(_g,Fg)|0,d0=d0+Math.imul(_g,Hg)|0,d0=d0+Math.imul(vg,Fg)|0,_0=_0+Math.imul(vg,Hg)|0,E0=E0+Math.imul(X0,Kg)|0,d0=d0+Math.imul(X0,Vg)|0,d0=d0+Math.imul(J0,Kg)|0,_0=_0+Math.imul(J0,Vg)|0,E0=E0+Math.imul(z0,Wg)|0,d0=d0+Math.imul(z0,Gg)|0,d0=d0+Math.imul(Y0,Wg)|0,_0=_0+Math.imul(Y0,Gg)|0,E0=E0+Math.imul(L0,Yg)|0,d0=d0+Math.imul(L0,qg)|0,d0=d0+Math.imul(D0,Yg)|0,_0=_0+Math.imul(D0,qg)|0;var gm=(I0+E0|0)+((d0&8191)<<13)|0;I0=(_0+(d0>>>13)|0)+(gm>>>26)|0,gm&=67108863,E0=Math.imul(M0,Cg),d0=Math.imul(M0,Tg),d0=d0+Math.imul(U0,Cg)|0,_0=Math.imul(U0,Tg),E0=E0+Math.imul(Lg,Og)|0,d0=d0+Math.imul(Lg,Pg)|0,d0=d0+Math.imul(P0,Og)|0,_0=_0+Math.imul(P0,Pg)|0,E0=E0+Math.imul(Rg,Bg)|0,d0=d0+Math.imul(Rg,jg)|0,d0=d0+Math.imul(Mg,Bg)|0,_0=_0+Math.imul(Mg,jg)|0,E0=E0+Math.imul(Ig,Ug)|0,d0=d0+Math.imul(Ig,zg)|0,d0=d0+Math.imul(Sg,Ug)|0,_0=_0+Math.imul(Sg,zg)|0,E0=E0+Math.imul(wg,Fg)|0,d0=d0+Math.imul(wg,Hg)|0,d0=d0+Math.imul(Eg,Fg)|0,_0=_0+Math.imul(Eg,Hg)|0,E0=E0+Math.imul(_g,Kg)|0,d0=d0+Math.imul(_g,Vg)|0,d0=d0+Math.imul(vg,Kg)|0,_0=_0+Math.imul(vg,Vg)|0,E0=E0+Math.imul(X0,Wg)|0,d0=d0+Math.imul(X0,Gg)|0,d0=d0+Math.imul(J0,Wg)|0,_0=_0+Math.imul(J0,Gg)|0,E0=E0+Math.imul(z0,Yg)|0,d0=d0+Math.imul(z0,qg)|0,d0=d0+Math.imul(Y0,Yg)|0,_0=_0+Math.imul(Y0,qg)|0,E0=E0+Math.imul(L0,Zg)|0,d0=d0+Math.imul(L0,Qg)|0,d0=d0+Math.imul(D0,Zg)|0,_0=_0+Math.imul(D0,Qg)|0;var mm=(I0+E0|0)+((d0&8191)<<13)|0;I0=(_0+(d0>>>13)|0)+(mm>>>26)|0,mm&=67108863,E0=Math.imul(Q0,Cg),d0=Math.imul(Q0,Tg),d0=d0+Math.imul(mg,Cg)|0,_0=Math.imul(mg,Tg),E0=E0+Math.imul(M0,Og)|0,d0=d0+Math.imul(M0,Pg)|0,d0=d0+Math.imul(U0,Og)|0,_0=_0+Math.imul(U0,Pg)|0,E0=E0+Math.imul(Lg,Bg)|0,d0=d0+Math.imul(Lg,jg)|0,d0=d0+Math.imul(P0,Bg)|0,_0=_0+Math.imul(P0,jg)|0,E0=E0+Math.imul(Rg,Ug)|0,d0=d0+Math.imul(Rg,zg)|0,d0=d0+Math.imul(Mg,Ug)|0,_0=_0+Math.imul(Mg,zg)|0,E0=E0+Math.imul(Ig,Fg)|0,d0=d0+Math.imul(Ig,Hg)|0,d0=d0+Math.imul(Sg,Fg)|0,_0=_0+Math.imul(Sg,Hg)|0,E0=E0+Math.imul(wg,Kg)|0,d0=d0+Math.imul(wg,Vg)|0,d0=d0+Math.imul(Eg,Kg)|0,_0=_0+Math.imul(Eg,Vg)|0,E0=E0+Math.imul(_g,Wg)|0,d0=d0+Math.imul(_g,Gg)|0,d0=d0+Math.imul(vg,Wg)|0,_0=_0+Math.imul(vg,Gg)|0,E0=E0+Math.imul(X0,Yg)|0,d0=d0+Math.imul(X0,qg)|0,d0=d0+Math.imul(J0,Yg)|0,_0=_0+Math.imul(J0,qg)|0,E0=E0+Math.imul(z0,Zg)|0,d0=d0+Math.imul(z0,Qg)|0,d0=d0+Math.imul(Y0,Zg)|0,_0=_0+Math.imul(Y0,Qg)|0,E0=E0+Math.imul(L0,Xg)|0,d0=d0+Math.imul(L0,Jg)|0,d0=d0+Math.imul(D0,Xg)|0,_0=_0+Math.imul(D0,Jg)|0;var ym=(I0+E0|0)+((d0&8191)<<13)|0;I0=(_0+(d0>>>13)|0)+(ym>>>26)|0,ym&=67108863,E0=Math.imul(Q0,Og),d0=Math.imul(Q0,Pg),d0=d0+Math.imul(mg,Og)|0,_0=Math.imul(mg,Pg),E0=E0+Math.imul(M0,Bg)|0,d0=d0+Math.imul(M0,jg)|0,d0=d0+Math.imul(U0,Bg)|0,_0=_0+Math.imul(U0,jg)|0,E0=E0+Math.imul(Lg,Ug)|0,d0=d0+Math.imul(Lg,zg)|0,d0=d0+Math.imul(P0,Ug)|0,_0=_0+Math.imul(P0,zg)|0,E0=E0+Math.imul(Rg,Fg)|0,d0=d0+Math.imul(Rg,Hg)|0,d0=d0+Math.imul(Mg,Fg)|0,_0=_0+Math.imul(Mg,Hg)|0,E0=E0+Math.imul(Ig,Kg)|0,d0=d0+Math.imul(Ig,Vg)|0,d0=d0+Math.imul(Sg,Kg)|0,_0=_0+Math.imul(Sg,Vg)|0,E0=E0+Math.imul(wg,Wg)|0,d0=d0+Math.imul(wg,Gg)|0,d0=d0+Math.imul(Eg,Wg)|0,_0=_0+Math.imul(Eg,Gg)|0,E0=E0+Math.imul(_g,Yg)|0,d0=d0+Math.imul(_g,qg)|0,d0=d0+Math.imul(vg,Yg)|0,_0=_0+Math.imul(vg,qg)|0,E0=E0+Math.imul(X0,Zg)|0,d0=d0+Math.imul(X0,Qg)|0,d0=d0+Math.imul(J0,Zg)|0,_0=_0+Math.imul(J0,Qg)|0,E0=E0+Math.imul(z0,Xg)|0,d0=d0+Math.imul(z0,Jg)|0,d0=d0+Math.imul(Y0,Xg)|0,_0=_0+Math.imul(Y0,Jg)|0;var _m=(I0+E0|0)+((d0&8191)<<13)|0;I0=(_0+(d0>>>13)|0)+(_m>>>26)|0,_m&=67108863,E0=Math.imul(Q0,Bg),d0=Math.imul(Q0,jg),d0=d0+Math.imul(mg,Bg)|0,_0=Math.imul(mg,jg),E0=E0+Math.imul(M0,Ug)|0,d0=d0+Math.imul(M0,zg)|0,d0=d0+Math.imul(U0,Ug)|0,_0=_0+Math.imul(U0,zg)|0,E0=E0+Math.imul(Lg,Fg)|0,d0=d0+Math.imul(Lg,Hg)|0,d0=d0+Math.imul(P0,Fg)|0,_0=_0+Math.imul(P0,Hg)|0,E0=E0+Math.imul(Rg,Kg)|0,d0=d0+Math.imul(Rg,Vg)|0,d0=d0+Math.imul(Mg,Kg)|0,_0=_0+Math.imul(Mg,Vg)|0,E0=E0+Math.imul(Ig,Wg)|0,d0=d0+Math.imul(Ig,Gg)|0,d0=d0+Math.imul(Sg,Wg)|0,_0=_0+Math.imul(Sg,Gg)|0,E0=E0+Math.imul(wg,Yg)|0,d0=d0+Math.imul(wg,qg)|0,d0=d0+Math.imul(Eg,Yg)|0,_0=_0+Math.imul(Eg,qg)|0,E0=E0+Math.imul(_g,Zg)|0,d0=d0+Math.imul(_g,Qg)|0,d0=d0+Math.imul(vg,Zg)|0,_0=_0+Math.imul(vg,Qg)|0,E0=E0+Math.imul(X0,Xg)|0,d0=d0+Math.imul(X0,Jg)|0,d0=d0+Math.imul(J0,Xg)|0,_0=_0+Math.imul(J0,Jg)|0;var wm=(I0+E0|0)+((d0&8191)<<13)|0;I0=(_0+(d0>>>13)|0)+(wm>>>26)|0,wm&=67108863,E0=Math.imul(Q0,Ug),d0=Math.imul(Q0,zg),d0=d0+Math.imul(mg,Ug)|0,_0=Math.imul(mg,zg),E0=E0+Math.imul(M0,Fg)|0,d0=d0+Math.imul(M0,Hg)|0,d0=d0+Math.imul(U0,Fg)|0,_0=_0+Math.imul(U0,Hg)|0,E0=E0+Math.imul(Lg,Kg)|0,d0=d0+Math.imul(Lg,Vg)|0,d0=d0+Math.imul(P0,Kg)|0,_0=_0+Math.imul(P0,Vg)|0,E0=E0+Math.imul(Rg,Wg)|0,d0=d0+Math.imul(Rg,Gg)|0,d0=d0+Math.imul(Mg,Wg)|0,_0=_0+Math.imul(Mg,Gg)|0,E0=E0+Math.imul(Ig,Yg)|0,d0=d0+Math.imul(Ig,qg)|0,d0=d0+Math.imul(Sg,Yg)|0,_0=_0+Math.imul(Sg,qg)|0,E0=E0+Math.imul(wg,Zg)|0,d0=d0+Math.imul(wg,Qg)|0,d0=d0+Math.imul(Eg,Zg)|0,_0=_0+Math.imul(Eg,Qg)|0,E0=E0+Math.imul(_g,Xg)|0,d0=d0+Math.imul(_g,Jg)|0,d0=d0+Math.imul(vg,Xg)|0,_0=_0+Math.imul(vg,Jg)|0;var bm=(I0+E0|0)+((d0&8191)<<13)|0;I0=(_0+(d0>>>13)|0)+(bm>>>26)|0,bm&=67108863,E0=Math.imul(Q0,Fg),d0=Math.imul(Q0,Hg),d0=d0+Math.imul(mg,Fg)|0,_0=Math.imul(mg,Hg),E0=E0+Math.imul(M0,Kg)|0,d0=d0+Math.imul(M0,Vg)|0,d0=d0+Math.imul(U0,Kg)|0,_0=_0+Math.imul(U0,Vg)|0,E0=E0+Math.imul(Lg,Wg)|0,d0=d0+Math.imul(Lg,Gg)|0,d0=d0+Math.imul(P0,Wg)|0,_0=_0+Math.imul(P0,Gg)|0,E0=E0+Math.imul(Rg,Yg)|0,d0=d0+Math.imul(Rg,qg)|0,d0=d0+Math.imul(Mg,Yg)|0,_0=_0+Math.imul(Mg,qg)|0,E0=E0+Math.imul(Ig,Zg)|0,d0=d0+Math.imul(Ig,Qg)|0,d0=d0+Math.imul(Sg,Zg)|0,_0=_0+Math.imul(Sg,Qg)|0,E0=E0+Math.imul(wg,Xg)|0,d0=d0+Math.imul(wg,Jg)|0,d0=d0+Math.imul(Eg,Xg)|0,_0=_0+Math.imul(Eg,Jg)|0;var Em=(I0+E0|0)+((d0&8191)<<13)|0;I0=(_0+(d0>>>13)|0)+(Em>>>26)|0,Em&=67108863,E0=Math.imul(Q0,Kg),d0=Math.imul(Q0,Vg),d0=d0+Math.imul(mg,Kg)|0,_0=Math.imul(mg,Vg),E0=E0+Math.imul(M0,Wg)|0,d0=d0+Math.imul(M0,Gg)|0,d0=d0+Math.imul(U0,Wg)|0,_0=_0+Math.imul(U0,Gg)|0,E0=E0+Math.imul(Lg,Yg)|0,d0=d0+Math.imul(Lg,qg)|0,d0=d0+Math.imul(P0,Yg)|0,_0=_0+Math.imul(P0,qg)|0,E0=E0+Math.imul(Rg,Zg)|0,d0=d0+Math.imul(Rg,Qg)|0,d0=d0+Math.imul(Mg,Zg)|0,_0=_0+Math.imul(Mg,Qg)|0,E0=E0+Math.imul(Ig,Xg)|0,d0=d0+Math.imul(Ig,Jg)|0,d0=d0+Math.imul(Sg,Xg)|0,_0=_0+Math.imul(Sg,Jg)|0;var Am=(I0+E0|0)+((d0&8191)<<13)|0;I0=(_0+(d0>>>13)|0)+(Am>>>26)|0,Am&=67108863,E0=Math.imul(Q0,Wg),d0=Math.imul(Q0,Gg),d0=d0+Math.imul(mg,Wg)|0,_0=Math.imul(mg,Gg),E0=E0+Math.imul(M0,Yg)|0,d0=d0+Math.imul(M0,qg)|0,d0=d0+Math.imul(U0,Yg)|0,_0=_0+Math.imul(U0,qg)|0,E0=E0+Math.imul(Lg,Zg)|0,d0=d0+Math.imul(Lg,Qg)|0,d0=d0+Math.imul(P0,Zg)|0,_0=_0+Math.imul(P0,Qg)|0,E0=E0+Math.imul(Rg,Xg)|0,d0=d0+Math.imul(Rg,Jg)|0,d0=d0+Math.imul(Mg,Xg)|0,_0=_0+Math.imul(Mg,Jg)|0;var Sm=(I0+E0|0)+((d0&8191)<<13)|0;I0=(_0+(d0>>>13)|0)+(Sm>>>26)|0,Sm&=67108863,E0=Math.imul(Q0,Yg),d0=Math.imul(Q0,qg),d0=d0+Math.imul(mg,Yg)|0,_0=Math.imul(mg,qg),E0=E0+Math.imul(M0,Zg)|0,d0=d0+Math.imul(M0,Qg)|0,d0=d0+Math.imul(U0,Zg)|0,_0=_0+Math.imul(U0,Qg)|0,E0=E0+Math.imul(Lg,Xg)|0,d0=d0+Math.imul(Lg,Jg)|0,d0=d0+Math.imul(P0,Xg)|0,_0=_0+Math.imul(P0,Jg)|0;var Im=(I0+E0|0)+((d0&8191)<<13)|0;I0=(_0+(d0>>>13)|0)+(Im>>>26)|0,Im&=67108863,E0=Math.imul(Q0,Zg),d0=Math.imul(Q0,Qg),d0=d0+Math.imul(mg,Zg)|0,_0=Math.imul(mg,Qg),E0=E0+Math.imul(M0,Xg)|0,d0=d0+Math.imul(M0,Jg)|0,d0=d0+Math.imul(U0,Xg)|0,_0=_0+Math.imul(U0,Jg)|0;var Rm=(I0+E0|0)+((d0&8191)<<13)|0;I0=(_0+(d0>>>13)|0)+(Rm>>>26)|0,Rm&=67108863,E0=Math.imul(Q0,Xg),d0=Math.imul(Q0,Jg),d0=d0+Math.imul(mg,Xg)|0,_0=Math.imul(mg,Jg);var Nm=(I0+E0|0)+((d0&8191)<<13)|0;return I0=(_0+(d0>>>13)|0)+(Nm>>>26)|0,Nm&=67108863,v0[0]=cm,v0[1]=lm,v0[2]=um,v0[3]=dm,v0[4]=hm,v0[5]=fm,v0[6]=pm,v0[7]=gm,v0[8]=mm,v0[9]=ym,v0[10]=_m,v0[11]=wm,v0[12]=bm,v0[13]=Em,v0[14]=Am,v0[15]=Sm,v0[16]=Im,v0[17]=Rm,v0[18]=Nm,I0!==0&&(v0[19]=I0,A0.length++),A0};Math.imul||(T0=b0);function N0(O0,f0,p0){p0.negative=f0.negative^O0.negative,p0.length=O0.length+f0.length;for(var A0=0,$0=0,y0=0;y0<p0.length-1;y0++){var v0=$0;$0=0;for(var I0=A0&67108863,E0=Math.min(y0,f0.length-1),d0=Math.max(0,y0-O0.length+1);d0<=E0;d0++){var _0=y0-d0,C0=O0.words[_0]|0,L0=f0.words[d0]|0,D0=C0*L0,j0=D0&67108863;v0=v0+(D0/67108864|0)|0,j0=j0+I0|0,I0=j0&67108863,v0=v0+(j0>>>26)|0,$0+=v0>>>26,v0&=67108863}p0.words[y0]=I0,A0=v0,v0=$0}return A0!==0?p0.words[y0]=A0:p0.length--,p0._strip()}function x0(O0,f0,p0){return N0(O0,f0,p0)}i0.prototype.mulTo=function(f0,p0){var A0,$0=this.length+f0.length;return this.length===10&&f0.length===10?A0=T0(this,f0,p0):$0<63?A0=b0(this,f0,p0):$0<1024?A0=N0(this,f0,p0):A0=x0(this,f0,p0),A0},i0.prototype.mul=function(f0){var p0=new i0(null);return p0.words=new Array(this.length+f0.length),this.mulTo(f0,p0)},i0.prototype.mulf=function(f0){var p0=new i0(null);return p0.words=new Array(this.length+f0.length),x0(this,f0,p0)},i0.prototype.imul=function(f0){return this.clone().mulTo(f0,this)},i0.prototype.imuln=function(f0){var p0=f0<0;p0&&(f0=-f0),n0(typeof f0=="number"),n0(f0<67108864);for(var A0=0,$0=0;$0<this.length;$0++){var y0=(this.words[$0]|0)*f0,v0=(y0&67108863)+(A0&67108863);A0>>=26,A0+=y0/67108864|0,A0+=v0>>>26,this.words[$0]=v0&67108863}return A0!==0&&(this.words[$0]=A0,this.length++),this.length=f0===0?1:this.length,p0?this.ineg():this},i0.prototype.muln=function(f0){return this.clone().imuln(f0)},i0.prototype.sqr=function(){return this.mul(this)},i0.prototype.isqr=function(){return this.imul(this.clone())},i0.prototype.pow=function(f0){var p0=S0(f0);if(p0.length===0)return new i0(1);for(var A0=this,$0=0;$0<p0.length&&p0[$0]===0;$0++,A0=A0.sqr());if(++$0<p0.length)for(var y0=A0.sqr();$0<p0.length;$0++,y0=y0.sqr())p0[$0]!==0&&(A0=A0.mul(y0));return A0},i0.prototype.iushln=function(f0){n0(typeof f0=="number"&&f0>=0);var p0=f0%26,A0=(f0-p0)/26,$0=67108863>>>26-p0<<26-p0,y0;if(p0!==0){var v0=0;for(y0=0;y0<this.length;y0++){var I0=this.words[y0]&$0,E0=(this.words[y0]|0)-I0<<p0;this.words[y0]=E0|v0,v0=I0>>>26-p0}v0&&(this.words[y0]=v0,this.length++)}if(A0!==0){for(y0=this.length-1;y0>=0;y0--)this.words[y0+A0]=this.words[y0];for(y0=0;y0<A0;y0++)this.words[y0]=0;this.length+=A0}return this._strip()},i0.prototype.ishln=function(f0){return n0(this.negative===0),this.iushln(f0)},i0.prototype.iushrn=function(f0,p0,A0){n0(typeof f0=="number"&&f0>=0);var $0;p0?$0=(p0-p0%26)/26:$0=0;var y0=f0%26,v0=Math.min((f0-y0)/26,this.length),I0=67108863^67108863>>>y0<<y0,E0=A0;if($0-=v0,$0=Math.max(0,$0),E0){for(var d0=0;d0<v0;d0++)E0.words[d0]=this.words[d0];E0.length=v0}if(v0!==0)if(this.length>v0)for(this.length-=v0,d0=0;d0<this.length;d0++)this.words[d0]=this.words[d0+v0];else this.words[0]=0,this.length=1;var _0=0;for(d0=this.length-1;d0>=0&&(_0!==0||d0>=$0);d0--){var C0=this.words[d0]|0;this.words[d0]=_0<<26-y0|C0>>>y0,_0=C0&I0}return E0&&_0!==0&&(E0.words[E0.length++]=_0),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i0.prototype.ishrn=function(f0,p0,A0){return n0(this.negative===0),this.iushrn(f0,p0,A0)},i0.prototype.shln=function(f0){return this.clone().ishln(f0)},i0.prototype.ushln=function(f0){return this.clone().iushln(f0)},i0.prototype.shrn=function(f0){return this.clone().ishrn(f0)},i0.prototype.ushrn=function(f0){return this.clone().iushrn(f0)},i0.prototype.testn=function(f0){n0(typeof f0=="number"&&f0>=0);var p0=f0%26,A0=(f0-p0)/26,$0=1<<p0;if(this.length<=A0)return!1;var y0=this.words[A0];return!!(y0&$0)},i0.prototype.imaskn=function(f0){n0(typeof f0=="number"&&f0>=0);var p0=f0%26,A0=(f0-p0)/26;if(n0(this.negative===0,"imaskn works only with positive numbers"),this.length<=A0)return this;if(p0!==0&&A0++,this.length=Math.min(A0,this.length),p0!==0){var $0=67108863^67108863>>>p0<<p0;this.words[this.length-1]&=$0}return this._strip()},i0.prototype.maskn=function(f0){return this.clone().imaskn(f0)},i0.prototype.iaddn=function(f0){return n0(typeof f0=="number"),n0(f0<67108864),f0<0?this.isubn(-f0):this.negative!==0?this.length===1&&(this.words[0]|0)<=f0?(this.words[0]=f0-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f0),this.negative=1,this):this._iaddn(f0)},i0.prototype._iaddn=function(f0){this.words[0]+=f0;for(var p0=0;p0<this.length&&this.words[p0]>=67108864;p0++)this.words[p0]-=67108864,p0===this.length-1?this.words[p0+1]=1:this.words[p0+1]++;return this.length=Math.max(this.length,p0+1),this},i0.prototype.isubn=function(f0){if(n0(typeof f0=="number"),n0(f0<67108864),f0<0)return this.iaddn(-f0);if(this.negative!==0)return this.negative=0,this.iaddn(f0),this.negative=1,this;if(this.words[0]-=f0,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p0=0;p0<this.length&&this.words[p0]<0;p0++)this.words[p0]+=67108864,this.words[p0+1]-=1;return this._strip()},i0.prototype.addn=function(f0){return this.clone().iaddn(f0)},i0.prototype.subn=function(f0){return this.clone().isubn(f0)},i0.prototype.iabs=function(){return this.negative=0,this},i0.prototype.abs=function(){return this.clone().iabs()},i0.prototype._ishlnsubmul=function(f0,p0,A0){var $0=f0.length+A0,y0;this._expand($0);var v0,I0=0;for(y0=0;y0<f0.length;y0++){v0=(this.words[y0+A0]|0)+I0;var E0=(f0.words[y0]|0)*p0;v0-=E0&67108863,I0=(v0>>26)-(E0/67108864|0),this.words[y0+A0]=v0&67108863}for(;y0<this.length-A0;y0++)v0=(this.words[y0+A0]|0)+I0,I0=v0>>26,this.words[y0+A0]=v0&67108863;if(I0===0)return this._strip();for(n0(I0===-1),I0=0,y0=0;y0<this.length;y0++)v0=-(this.words[y0]|0)+I0,I0=v0>>26,this.words[y0]=v0&67108863;return this.negative=1,this._strip()},i0.prototype._wordDiv=function(f0,p0){var A0=this.length-f0.length,$0=this.clone(),y0=f0,v0=y0.words[y0.length-1]|0,I0=this._countBits(v0);A0=26-I0,A0!==0&&(y0=y0.ushln(A0),$0.iushln(A0),v0=y0.words[y0.length-1]|0);var E0=$0.length-y0.length,d0;if(p0!=="mod"){d0=new i0(null),d0.length=E0+1,d0.words=new Array(d0.length);for(var _0=0;_0<d0.length;_0++)d0.words[_0]=0}var C0=$0.clone()._ishlnsubmul(y0,1,E0);C0.negative===0&&($0=C0,d0&&(d0.words[E0]=1));for(var L0=E0-1;L0>=0;L0--){var D0=($0.words[y0.length+L0]|0)*67108864+($0.words[y0.length+L0-1]|0);for(D0=Math.min(D0/v0|0,67108863),$0._ishlnsubmul(y0,D0,L0);$0.negative!==0;)D0--,$0.negative=0,$0._ishlnsubmul(y0,1,L0),$0.isZero()||($0.negative^=1);d0&&(d0.words[L0]=D0)}return d0&&d0._strip(),$0._strip(),p0!=="div"&&A0!==0&&$0.iushrn(A0),{div:d0||null,mod:$0}},i0.prototype.divmod=function(f0,p0,A0){if(n0(!f0.isZero()),this.isZero())return{div:new i0(0),mod:new i0(0)};var $0,y0,v0;return this.negative!==0&&f0.negative===0?(v0=this.neg().divmod(f0,p0),p0!=="mod"&&($0=v0.div.neg()),p0!=="div"&&(y0=v0.mod.neg(),A0&&y0.negative!==0&&y0.iadd(f0)),{div:$0,mod:y0}):this.negative===0&&f0.negative!==0?(v0=this.divmod(f0.neg(),p0),p0!=="mod"&&($0=v0.div.neg()),{div:$0,mod:v0.mod}):this.negative&f0.negative?(v0=this.neg().divmod(f0.neg(),p0),p0!=="div"&&(y0=v0.mod.neg(),A0&&y0.negative!==0&&y0.isub(f0)),{div:v0.div,mod:y0}):f0.length>this.length||this.cmp(f0)<0?{div:new i0(0),mod:this}:f0.length===1?p0==="div"?{div:this.divn(f0.words[0]),mod:null}:p0==="mod"?{div:null,mod:new i0(this.modrn(f0.words[0]))}:{div:this.divn(f0.words[0]),mod:new i0(this.modrn(f0.words[0]))}:this._wordDiv(f0,p0)},i0.prototype.div=function(f0){return this.divmod(f0,"div",!1).div},i0.prototype.mod=function(f0){return this.divmod(f0,"mod",!1).mod},i0.prototype.umod=function(f0){return this.divmod(f0,"mod",!0).mod},i0.prototype.divRound=function(f0){var p0=this.divmod(f0);if(p0.mod.isZero())return p0.div;var A0=p0.div.negative!==0?p0.mod.isub(f0):p0.mod,$0=f0.ushrn(1),y0=f0.andln(1),v0=A0.cmp($0);return v0<0||y0===1&&v0===0?p0.div:p0.div.negative!==0?p0.div.isubn(1):p0.div.iaddn(1)},i0.prototype.modrn=function(f0){var p0=f0<0;p0&&(f0=-f0),n0(f0<=67108863);for(var A0=(1<<26)%f0,$0=0,y0=this.length-1;y0>=0;y0--)$0=(A0*$0+(this.words[y0]|0))%f0;return p0?-$0:$0},i0.prototype.modn=function(f0){return this.modrn(f0)},i0.prototype.idivn=function(f0){var p0=f0<0;p0&&(f0=-f0),n0(f0<=67108863);for(var A0=0,$0=this.length-1;$0>=0;$0--){var y0=(this.words[$0]|0)+A0*67108864;this.words[$0]=y0/f0|0,A0=y0%f0}return this._strip(),p0?this.ineg():this},i0.prototype.divn=function(f0){return this.clone().idivn(f0)},i0.prototype.egcd=function(f0){n0(f0.negative===0),n0(!f0.isZero());var p0=this,A0=f0.clone();p0.negative!==0?p0=p0.umod(f0):p0=p0.clone();for(var $0=new i0(1),y0=new i0(0),v0=new i0(0),I0=new i0(1),E0=0;p0.isEven()&&A0.isEven();)p0.iushrn(1),A0.iushrn(1),++E0;for(var d0=A0.clone(),_0=p0.clone();!p0.isZero();){for(var C0=0,L0=1;!(p0.words[0]&L0)&&C0<26;++C0,L0<<=1);if(C0>0)for(p0.iushrn(C0);C0-- >0;)($0.isOdd()||y0.isOdd())&&($0.iadd(d0),y0.isub(_0)),$0.iushrn(1),y0.iushrn(1);for(var D0=0,j0=1;!(A0.words[0]&j0)&&D0<26;++D0,j0<<=1);if(D0>0)for(A0.iushrn(D0);D0-- >0;)(v0.isOdd()||I0.isOdd())&&(v0.iadd(d0),I0.isub(_0)),v0.iushrn(1),I0.iushrn(1);p0.cmp(A0)>=0?(p0.isub(A0),$0.isub(v0),y0.isub(I0)):(A0.isub(p0),v0.isub($0),I0.isub(y0))}return{a:v0,b:I0,gcd:A0.iushln(E0)}},i0.prototype._invmp=function(f0){n0(f0.negative===0),n0(!f0.isZero());var p0=this,A0=f0.clone();p0.negative!==0?p0=p0.umod(f0):p0=p0.clone();for(var $0=new i0(1),y0=new i0(0),v0=A0.clone();p0.cmpn(1)>0&&A0.cmpn(1)>0;){for(var I0=0,E0=1;!(p0.words[0]&E0)&&I0<26;++I0,E0<<=1);if(I0>0)for(p0.iushrn(I0);I0-- >0;)$0.isOdd()&&$0.iadd(v0),$0.iushrn(1);for(var d0=0,_0=1;!(A0.words[0]&_0)&&d0<26;++d0,_0<<=1);if(d0>0)for(A0.iushrn(d0);d0-- >0;)y0.isOdd()&&y0.iadd(v0),y0.iushrn(1);p0.cmp(A0)>=0?(p0.isub(A0),$0.isub(y0)):(A0.isub(p0),y0.isub($0))}var C0;return p0.cmpn(1)===0?C0=$0:C0=y0,C0.cmpn(0)<0&&C0.iadd(f0),C0},i0.prototype.gcd=function(f0){if(this.isZero())return f0.abs();if(f0.isZero())return this.abs();var p0=this.clone(),A0=f0.clone();p0.negative=0,A0.negative=0;for(var $0=0;p0.isEven()&&A0.isEven();$0++)p0.iushrn(1),A0.iushrn(1);do{for(;p0.isEven();)p0.iushrn(1);for(;A0.isEven();)A0.iushrn(1);var y0=p0.cmp(A0);if(y0<0){var v0=p0;p0=A0,A0=v0}else if(y0===0||A0.cmpn(1)===0)break;p0.isub(A0)}while(!0);return A0.iushln($0)},i0.prototype.invm=function(f0){return this.egcd(f0).a.umod(f0)},i0.prototype.isEven=function(){return(this.words[0]&1)===0},i0.prototype.isOdd=function(){return(this.words[0]&1)===1},i0.prototype.andln=function(f0){return this.words[0]&f0},i0.prototype.bincn=function(f0){n0(typeof f0=="number");var p0=f0%26,A0=(f0-p0)/26,$0=1<<p0;if(this.length<=A0)return this._expand(A0+1),this.words[A0]|=$0,this;for(var y0=$0,v0=A0;y0!==0&&v0<this.length;v0++){var I0=this.words[v0]|0;I0+=y0,y0=I0>>>26,I0&=67108863,this.words[v0]=I0}return y0!==0&&(this.words[v0]=y0,this.length++),this},i0.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i0.prototype.cmpn=function(f0){var p0=f0<0;if(this.negative!==0&&!p0)return-1;if(this.negative===0&&p0)return 1;this._strip();var A0;if(this.length>1)A0=1;else{p0&&(f0=-f0),n0(f0<=67108863,"Number is too big");var $0=this.words[0]|0;A0=$0===f0?0:$0<f0?-1:1}return this.negative!==0?-A0|0:A0},i0.prototype.cmp=function(f0){if(this.negative!==0&&f0.negative===0)return-1;if(this.negative===0&&f0.negative!==0)return 1;var p0=this.ucmp(f0);return this.negative!==0?-p0|0:p0},i0.prototype.ucmp=function(f0){if(this.length>f0.length)return 1;if(this.length<f0.length)return-1;for(var p0=0,A0=this.length-1;A0>=0;A0--){var $0=this.words[A0]|0,y0=f0.words[A0]|0;if($0!==y0){$0<y0?p0=-1:$0>y0&&(p0=1);break}}return p0},i0.prototype.gtn=function(f0){return this.cmpn(f0)===1},i0.prototype.gt=function(f0){return this.cmp(f0)===1},i0.prototype.gten=function(f0){return this.cmpn(f0)>=0},i0.prototype.gte=function(f0){return this.cmp(f0)>=0},i0.prototype.ltn=function(f0){return this.cmpn(f0)===-1},i0.prototype.lt=function(f0){return this.cmp(f0)===-1},i0.prototype.lten=function(f0){return this.cmpn(f0)<=0},i0.prototype.lte=function(f0){return this.cmp(f0)<=0},i0.prototype.eqn=function(f0){return this.cmpn(f0)===0},i0.prototype.eq=function(f0){return this.cmp(f0)===0},i0.red=function(f0){return new W0(f0)},i0.prototype.toRed=function(f0){return n0(!this.red,"Already a number in reduction context"),n0(this.negative===0,"red works only with positives"),f0.convertTo(this)._forceRed(f0)},i0.prototype.fromRed=function(){return n0(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i0.prototype._forceRed=function(f0){return this.red=f0,this},i0.prototype.forceRed=function(f0){return n0(!this.red,"Already a number in reduction context"),this._forceRed(f0)},i0.prototype.redAdd=function(f0){return n0(this.red,"redAdd works only with red numbers"),this.red.add(this,f0)},i0.prototype.redIAdd=function(f0){return n0(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f0)},i0.prototype.redSub=function(f0){return n0(this.red,"redSub works only with red numbers"),this.red.sub(this,f0)},i0.prototype.redISub=function(f0){return n0(this.red,"redISub works only with red numbers"),this.red.isub(this,f0)},i0.prototype.redShl=function(f0){return n0(this.red,"redShl works only with red numbers"),this.red.shl(this,f0)},i0.prototype.redMul=function(f0){return n0(this.red,"redMul works only with red numbers"),this.red._verify2(this,f0),this.red.mul(this,f0)},i0.prototype.redIMul=function(f0){return n0(this.red,"redMul works only with red numbers"),this.red._verify2(this,f0),this.red.imul(this,f0)},i0.prototype.redSqr=function(){return n0(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i0.prototype.redISqr=function(){return n0(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i0.prototype.redSqrt=function(){return n0(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i0.prototype.redInvm=function(){return n0(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i0.prototype.redNeg=function(){return n0(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i0.prototype.redPow=function(f0){return n0(this.red&&!f0.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f0)};var k0={k256:null,p224:null,p192:null,p25519:null};function B0(O0,f0){this.name=O0,this.p=new i0(f0,16),this.n=this.p.bitLength(),this.k=new i0(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}B0.prototype._tmp=function(){var f0=new i0(null);return f0.words=new Array(Math.ceil(this.n/13)),f0},B0.prototype.ireduce=function(f0){var p0=f0,A0;do this.split(p0,this.tmp),p0=this.imulK(p0),p0=p0.iadd(this.tmp),A0=p0.bitLength();while(A0>this.n);var $0=A0<this.n?-1:p0.ucmp(this.p);return $0===0?(p0.words[0]=0,p0.length=1):$0>0?p0.isub(this.p):p0.strip!==void 0?p0.strip():p0._strip(),p0},B0.prototype.split=function(f0,p0){f0.iushrn(this.n,0,p0)},B0.prototype.imulK=function(f0){return f0.imul(this.k)};function H0(){B0.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}r0(H0,B0),H0.prototype.split=function(f0,p0){for(var A0=4194303,$0=Math.min(f0.length,9),y0=0;y0<$0;y0++)p0.words[y0]=f0.words[y0];if(p0.length=$0,f0.length<=9){f0.words[0]=0,f0.length=1;return}var v0=f0.words[9];for(p0.words[p0.length++]=v0&A0,y0=10;y0<f0.length;y0++){var I0=f0.words[y0]|0;f0.words[y0-10]=(I0&A0)<<4|v0>>>22,v0=I0}v0>>>=22,f0.words[y0-10]=v0,v0===0&&f0.length>10?f0.length-=10:f0.length-=9},H0.prototype.imulK=function(f0){f0.words[f0.length]=0,f0.words[f0.length+1]=0,f0.length+=2;for(var p0=0,A0=0;A0<f0.length;A0++){var $0=f0.words[A0]|0;p0+=$0*977,f0.words[A0]=p0&67108863,p0=$0*64+(p0/67108864|0)}return f0.words[f0.length-1]===0&&(f0.length--,f0.words[f0.length-1]===0&&f0.length--),f0};function G0(){B0.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}r0(G0,B0);function V0(){B0.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}r0(V0,B0);function K0(){B0.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}r0(K0,B0),K0.prototype.imulK=function(f0){for(var p0=0,A0=0;A0<f0.length;A0++){var $0=(f0.words[A0]|0)*19+p0,y0=$0&67108863;$0>>>=26,f0.words[A0]=y0,p0=$0}return p0!==0&&(f0.words[f0.length++]=p0),f0},i0._prime=function(f0){if(k0[f0])return k0[f0];var p0;if(f0==="k256")p0=new H0;else if(f0==="p224")p0=new G0;else if(f0==="p192")p0=new V0;else if(f0==="p25519")p0=new K0;else throw new Error("Unknown prime "+f0);return k0[f0]=p0,p0};function W0(O0){if(typeof O0=="string"){var f0=i0._prime(O0);this.m=f0.p,this.prime=f0}else n0(O0.gtn(1),"modulus must be greater than 1"),this.m=O0,this.prime=null}W0.prototype._verify1=function(f0){n0(f0.negative===0,"red works only with positives"),n0(f0.red,"red works only with red numbers")},W0.prototype._verify2=function(f0,p0){n0((f0.negative|p0.negative)===0,"red works only with positives"),n0(f0.red&&f0.red===p0.red,"red works only with red numbers")},W0.prototype.imod=function(f0){return this.prime?this.prime.ireduce(f0)._forceRed(this):(l0(f0,f0.umod(this.m)._forceRed(this)),f0)},W0.prototype.neg=function(f0){return f0.isZero()?f0.clone():this.m.sub(f0)._forceRed(this)},W0.prototype.add=function(f0,p0){this._verify2(f0,p0);var A0=f0.add(p0);return A0.cmp(this.m)>=0&&A0.isub(this.m),A0._forceRed(this)},W0.prototype.iadd=function(f0,p0){this._verify2(f0,p0);var A0=f0.iadd(p0);return A0.cmp(this.m)>=0&&A0.isub(this.m),A0},W0.prototype.sub=function(f0,p0){this._verify2(f0,p0);var A0=f0.sub(p0);return A0.cmpn(0)<0&&A0.iadd(this.m),A0._forceRed(this)},W0.prototype.isub=function(f0,p0){this._verify2(f0,p0);var A0=f0.isub(p0);return A0.cmpn(0)<0&&A0.iadd(this.m),A0},W0.prototype.shl=function(f0,p0){return this._verify1(f0),this.imod(f0.ushln(p0))},W0.prototype.imul=function(f0,p0){return this._verify2(f0,p0),this.imod(f0.imul(p0))},W0.prototype.mul=function(f0,p0){return this._verify2(f0,p0),this.imod(f0.mul(p0))},W0.prototype.isqr=function(f0){return this.imul(f0,f0.clone())},W0.prototype.sqr=function(f0){return this.mul(f0,f0)},W0.prototype.sqrt=function(f0){if(f0.isZero())return f0.clone();var p0=this.m.andln(3);if(n0(p0%2===1),p0===3){var A0=this.m.add(new i0(1)).iushrn(2);return this.pow(f0,A0)}for(var $0=this.m.subn(1),y0=0;!$0.isZero()&&$0.andln(1)===0;)y0++,$0.iushrn(1);n0(!$0.isZero());var v0=new i0(1).toRed(this),I0=v0.redNeg(),E0=this.m.subn(1).iushrn(1),d0=this.m.bitLength();for(d0=new i0(2*d0*d0).toRed(this);this.pow(d0,E0).cmp(I0)!==0;)d0.redIAdd(I0);for(var _0=this.pow(d0,$0),C0=this.pow(f0,$0.addn(1).iushrn(1)),L0=this.pow(f0,$0),D0=y0;L0.cmp(v0)!==0;){for(var j0=L0,z0=0;j0.cmp(v0)!==0;z0++)j0=j0.redSqr();n0(z0<D0);var Y0=this.pow(_0,new i0(1).iushln(D0-z0-1));C0=C0.redMul(Y0),_0=Y0.redSqr(),L0=L0.redMul(_0),D0=z0}return C0},W0.prototype.invm=function(f0){var p0=f0._invmp(this.m);return p0.negative!==0?(p0.negative=0,this.imod(p0).redNeg()):this.imod(p0)},W0.prototype.pow=function(f0,p0){if(p0.isZero())return new i0(1).toRed(this);if(p0.cmpn(1)===0)return f0.clone();var A0=4,$0=new Array(1<<A0);$0[0]=new i0(1).toRed(this),$0[1]=f0;for(var y0=2;y0<$0.length;y0++)$0[y0]=this.mul($0[y0-1],f0);var v0=$0[0],I0=0,E0=0,d0=p0.bitLength()%26;for(d0===0&&(d0=26),y0=p0.length-1;y0>=0;y0--){for(var _0=p0.words[y0],C0=d0-1;C0>=0;C0--){var L0=_0>>C0&1;if(v0!==$0[0]&&(v0=this.sqr(v0)),L0===0&&I0===0){E0=0;continue}I0<<=1,I0|=L0,E0++,!(E0!==A0&&(y0!==0||C0!==0))&&(v0=this.mul(v0,$0[I0]),E0=0,I0=0)}d0=26}return v0},W0.prototype.convertTo=function(f0){var p0=f0.umod(this.m);return p0===f0?p0.clone():p0},W0.prototype.convertFrom=function(f0){var p0=f0.clone();return p0.red=null,p0},i0.mont=function(f0){return new F0(f0)};function F0(O0){W0.call(this,O0),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i0(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}r0(F0,W0),F0.prototype.convertTo=function(f0){return this.imod(f0.ushln(this.shift))},F0.prototype.convertFrom=function(f0){var p0=this.imod(f0.mul(this.rinv));return p0.red=null,p0},F0.prototype.imul=function(f0,p0){if(f0.isZero()||p0.isZero())return f0.words[0]=0,f0.length=1,f0;var A0=f0.imul(p0),$0=A0.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y0=A0.isub($0).iushrn(this.shift),v0=y0;return y0.cmp(this.m)>=0?v0=y0.isub(this.m):y0.cmpn(0)<0&&(v0=y0.iadd(this.m)),v0._forceRed(this)},F0.prototype.mul=function(f0,p0){if(f0.isZero()||p0.isZero())return new i0(0)._forceRed(this);var A0=f0.mul(p0),$0=A0.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),y0=A0.isub($0).iushrn(this.shift),v0=y0;return y0.cmp(this.m)>=0?v0=y0.isub(this.m):y0.cmpn(0)<0&&(v0=y0.iadd(this.m)),v0._forceRed(this)},F0.prototype.invm=function(f0){var p0=this.imod(f0._invmp(this.m).mul(this.r2));return p0._forceRed(this)}})(e0,connector.commonjsGlobal)})(bn);var bnExports=bn.exports;const BN=connector.getDefaultExportFromCjs(bnExports);var safeBuffer={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(e0,r){var t0=buffer,n0=t0.Buffer;function r0(o0,s0){for(var a0 in o0)s0[a0]=o0[a0]}n0.from&&n0.alloc&&n0.allocUnsafe&&n0.allocUnsafeSlow?e0.exports=t0:(r0(t0,r),r.Buffer=i0);function i0(o0,s0,a0){return n0(o0,s0,a0)}i0.prototype=Object.create(n0.prototype),r0(n0,i0),i0.from=function(o0,s0,a0){if(typeof o0=="number")throw new TypeError("Argument must not be a number");return n0(o0,s0,a0)},i0.alloc=function(o0,s0,a0){if(typeof o0!="number")throw new TypeError("Argument must be a number");var c0=n0(o0);return s0!==void 0?typeof a0=="string"?c0.fill(s0,a0):c0.fill(s0):c0.fill(0),c0},i0.allocUnsafe=function(o0){if(typeof o0!="number")throw new TypeError("Argument must be a number");return n0(o0)},i0.allocUnsafeSlow=function(o0){if(typeof o0!="number")throw new TypeError("Argument must be a number");return t0.SlowBuffer(o0)}})(safeBuffer,safeBuffer.exports);var safeBufferExports=safeBuffer.exports,_Buffer=safeBufferExports.Buffer;function base(e0){if(e0.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),t0=0;t0<r.length;t0++)r[t0]=255;for(var n0=0;n0<e0.length;n0++){var r0=e0.charAt(n0),i0=r0.charCodeAt(0);if(r[i0]!==255)throw new TypeError(r0+" is ambiguous");r[i0]=n0}var o0=e0.length,s0=e0.charAt(0),a0=Math.log(o0)/Math.log(256),c0=Math.log(256)/Math.log(o0);function l0(g0){if((Array.isArray(g0)||g0 instanceof Uint8Array)&&(g0=_Buffer.from(g0)),!_Buffer.isBuffer(g0))throw new TypeError("Expected Buffer");if(g0.length===0)return"";for(var w0=0,m0=0,S0=0,b0=g0.length;S0!==b0&&g0[S0]===0;)S0++,w0++;for(var T0=(b0-S0)*c0+1>>>0,N0=new Uint8Array(T0);S0!==b0;){for(var x0=g0[S0],k0=0,B0=T0-1;(x0!==0||k0<m0)&&B0!==-1;B0--,k0++)x0+=256*N0[B0]>>>0,N0[B0]=x0%o0>>>0,x0=x0/o0>>>0;if(x0!==0)throw new Error("Non-zero carry");m0=k0,S0++}for(var H0=T0-m0;H0!==T0&&N0[H0]===0;)H0++;for(var G0=s0.repeat(w0);H0<T0;++H0)G0+=e0.charAt(N0[H0]);return G0}function u0(g0){if(typeof g0!="string")throw new TypeError("Expected String");if(g0.length===0)return _Buffer.alloc(0);for(var w0=0,m0=0,S0=0;g0[w0]===s0;)m0++,w0++;for(var b0=(g0.length-w0)*a0+1>>>0,T0=new Uint8Array(b0);w0<g0.length;){var N0=g0.charCodeAt(w0);if(N0>255)return;var x0=r[N0];if(x0===255)return;for(var k0=0,B0=b0-1;(x0!==0||k0<S0)&&B0!==-1;B0--,k0++)x0+=o0*T0[B0]>>>0,T0[B0]=x0%256>>>0,x0=x0/256>>>0;if(x0!==0)throw new Error("Non-zero carry");S0=k0,w0++}for(var H0=b0-S0;H0!==b0&&T0[H0]===0;)H0++;var G0=_Buffer.allocUnsafe(m0+(b0-H0));G0.fill(0,0,m0);for(var V0=m0;H0!==b0;)G0[V0++]=T0[H0++];return G0}function h0(g0){var w0=u0(g0);if(w0)return w0;throw new Error("Non-base"+o0+" character")}return{encode:l0,decodeUnsafe:u0,decode:h0}}var src=base,basex=src,ALPHABET="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",bs58=basex(ALPHABET);const bs58$1=connector.getDefaultExportFromCjs(bs58),sha256=sha256$1;var lib={};function inRange(e0,r,t0){return r<=e0&&e0<=t0}function ToDictionary(e0){if(e0===void 0)return{};if(e0===Object(e0))return e0;throw TypeError("Could not convert argument to dictionary")}function stringToCodePoints(e0){for(var r=String(e0),t0=r.length,n0=0,r0=[];n0<t0;){var i0=r.charCodeAt(n0);if(i0<55296||i0>57343)r0.push(i0);else if(56320<=i0&&i0<=57343)r0.push(65533);else if(55296<=i0&&i0<=56319)if(n0===t0-1)r0.push(65533);else{var o0=e0.charCodeAt(n0+1);if(56320<=o0&&o0<=57343){var s0=i0&1023,a0=o0&1023;r0.push(65536+(s0<<10)+a0),n0+=1}else r0.push(65533)}n0+=1}return r0}function codePointsToString(e0){for(var r="",t0=0;t0<e0.length;++t0){var n0=e0[t0];n0<=65535?r+=String.fromCharCode(n0):(n0-=65536,r+=String.fromCharCode((n0>>10)+55296,(n0&1023)+56320))}return r}var end_of_stream=-1;function Stream(e0){this.tokens=[].slice.call(e0)}Stream.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():end_of_stream},prepend:function(e0){if(Array.isArray(e0))for(var r=e0;r.length;)this.tokens.unshift(r.pop());else this.tokens.unshift(e0)},push:function(e0){if(Array.isArray(e0))for(var r=e0;r.length;)this.tokens.push(r.shift());else this.tokens.push(e0)}};var finished=-1;function decoderError(e0,r){if(e0)throw TypeError("Decoder error");return r||65533}var DEFAULT_ENCODING="utf-8";function TextDecoder$1(e0,r){if(!(this instanceof TextDecoder$1))return new TextDecoder$1(e0,r);if(e0=e0!==void 0?String(e0).toLowerCase():DEFAULT_ENCODING,e0!==DEFAULT_ENCODING)throw new Error("Encoding not supported. Only utf-8 is supported");r=ToDictionary(r),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!r.fatal,this._ignoreBOM=!!r.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}TextDecoder$1.prototype={decode:function e0(r,t0){var n0;typeof r=="object"&&r instanceof ArrayBuffer?n0=new Uint8Array(r):typeof r=="object"&&"buffer"in r&&r.buffer instanceof ArrayBuffer?n0=new Uint8Array(r.buffer,r.byteOffset,r.byteLength):n0=new Uint8Array(0),t0=ToDictionary(t0),this._streaming||(this._decoder=new UTF8Decoder({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!t0.stream;for(var r0=new Stream(n0),i0=[],o0;!r0.endOfStream()&&(o0=this._decoder.handler(r0,r0.read()),o0!==finished);)o0!==null&&(Array.isArray(o0)?i0.push.apply(i0,o0):i0.push(o0));if(!this._streaming){do{if(o0=this._decoder.handler(r0,r0.read()),o0===finished)break;o0!==null&&(Array.isArray(o0)?i0.push.apply(i0,o0):i0.push(o0))}while(!r0.endOfStream());this._decoder=null}return i0.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(i0[0]===65279?(this._BOMseen=!0,i0.shift()):this._BOMseen=!0),codePointsToString(i0)}};function TextEncoder$1(e0,r){if(!(this instanceof TextEncoder$1))return new TextEncoder$1(e0,r);if(e0=e0!==void 0?String(e0).toLowerCase():DEFAULT_ENCODING,e0!==DEFAULT_ENCODING)throw new Error("Encoding not supported. Only utf-8 is supported");r=ToDictionary(r),this._streaming=!1,this._encoder=null,this._options={fatal:!!r.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}TextEncoder$1.prototype={encode:function e0(r,t0){r=r?String(r):"",t0=ToDictionary(t0),this._streaming||(this._encoder=new UTF8Encoder(this._options)),this._streaming=!!t0.stream;for(var n0=[],r0=new Stream(stringToCodePoints(r)),i0;!r0.endOfStream()&&(i0=this._encoder.handler(r0,r0.read()),i0!==finished);)Array.isArray(i0)?n0.push.apply(n0,i0):n0.push(i0);if(!this._streaming){for(;i0=this._encoder.handler(r0,r0.read()),i0!==finished;)Array.isArray(i0)?n0.push.apply(n0,i0):n0.push(i0);this._encoder=null}return new Uint8Array(n0)}};function UTF8Decoder(e0){var r=e0.fatal,t0=0,n0=0,r0=0,i0=128,o0=191;this.handler=function(s0,a0){if(a0===end_of_stream&&r0!==0)return r0=0,decoderError(r);if(a0===end_of_stream)return finished;if(r0===0){if(inRange(a0,0,127))return a0;if(inRange(a0,194,223))r0=1,t0=a0-192;else if(inRange(a0,224,239))a0===224&&(i0=160),a0===237&&(o0=159),r0=2,t0=a0-224;else if(inRange(a0,240,244))a0===240&&(i0=144),a0===244&&(o0=143),r0=3,t0=a0-240;else return decoderError(r);return t0=t0<<6*r0,null}if(!inRange(a0,i0,o0))return t0=r0=n0=0,i0=128,o0=191,s0.prepend(a0),decoderError(r);if(i0=128,o0=191,n0+=1,t0+=a0-128<<6*(r0-n0),n0!==r0)return null;var c0=t0;return t0=r0=n0=0,c0}}function UTF8Encoder(e0){e0.fatal,this.handler=function(r,t0){if(t0===end_of_stream)return finished;if(inRange(t0,0,127))return t0;var n0,r0;inRange(t0,128,2047)?(n0=1,r0=192):inRange(t0,2048,65535)?(n0=2,r0=224):inRange(t0,65536,1114111)&&(n0=3,r0=240);for(var i0=[(t0>>6*n0)+r0];n0>0;){var o0=t0>>6*(n0-1);i0.push(128|o0&63),n0-=1}return i0}}const encoding$1=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:TextDecoder$1,TextEncoder:TextEncoder$1},Symbol.toStringTag,{value:"Module"})),require$$2=connector.getAugmentedNamespace(encoding$1);var __createBinding=connector.commonjsGlobal&&connector.commonjsGlobal.__createBinding||(Object.create?function(e0,r,t0,n0){n0===void 0&&(n0=t0),Object.defineProperty(e0,n0,{enumerable:!0,get:function(){return r[t0]}})}:function(e0,r,t0,n0){n0===void 0&&(n0=t0),e0[n0]=r[t0]}),__setModuleDefault=connector.commonjsGlobal&&connector.commonjsGlobal.__setModuleDefault||(Object.create?function(e0,r){Object.defineProperty(e0,"default",{enumerable:!0,value:r})}:function(e0,r){e0.default=r}),__decorate=connector.commonjsGlobal&&connector.commonjsGlobal.__decorate||function(e0,r,t0,n0){var r0=arguments.length,i0=r0<3?r:n0===null?n0=Object.getOwnPropertyDescriptor(r,t0):n0,o0;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i0=Reflect.decorate(e0,r,t0,n0);else for(var s0=e0.length-1;s0>=0;s0--)(o0=e0[s0])&&(i0=(r0<3?o0(i0):r0>3?o0(r,t0,i0):o0(r,t0))||i0);return r0>3&&i0&&Object.defineProperty(r,t0,i0),i0},__importStar=connector.commonjsGlobal&&connector.commonjsGlobal.__importStar||function(e0){if(e0&&e0.__esModule)return e0;var r={};if(e0!=null)for(var t0 in e0)t0!=="default"&&Object.hasOwnProperty.call(e0,t0)&&__createBinding(r,e0,t0);return __setModuleDefault(r,e0),r},__importDefault=connector.commonjsGlobal&&connector.commonjsGlobal.__importDefault||function(e0){return e0&&e0.__esModule?e0:{default:e0}};Object.defineProperty(lib,"__esModule",{value:!0});var deserializeUnchecked_1=lib.deserializeUnchecked=deserialize_1=lib.deserialize=serialize_1=lib.serialize=lib.BinaryReader=lib.BinaryWriter=lib.BorshError=lib.baseDecode=lib.baseEncode=void 0;const bn_js_1=__importDefault(bnExports),bs58_1=__importDefault(bs58),encoding=__importStar(require$$2),ResolvedTextDecoder=typeof TextDecoder!="function"?encoding.TextDecoder:TextDecoder,textDecoder=new ResolvedTextDecoder("utf-8",{fatal:!0});function baseEncode(e0){return typeof e0=="string"&&(e0=Buffer.from(e0,"utf8")),bs58_1.default.encode(Buffer.from(e0))}lib.baseEncode=baseEncode;function baseDecode(e0){return Buffer.from(bs58_1.default.decode(e0))}lib.baseDecode=baseDecode;const INITIAL_LENGTH=1024;class BorshError extends Error{constructor(r){super(r),this.fieldPath=[],this.originalMessage=r}addToFieldPath(r){this.fieldPath.splice(0,0,r),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}lib.BorshError=BorshError;class BinaryWriter{constructor(){this.buf=Buffer.alloc(INITIAL_LENGTH),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(INITIAL_LENGTH)]))}writeU8(r){this.maybeResize(),this.buf.writeUInt8(r,this.length),this.length+=1}writeU16(r){this.maybeResize(),this.buf.writeUInt16LE(r,this.length),this.length+=2}writeU32(r){this.maybeResize(),this.buf.writeUInt32LE(r,this.length),this.length+=4}writeU64(r){this.maybeResize(),this.writeBuffer(Buffer.from(new bn_js_1.default(r).toArray("le",8)))}writeU128(r){this.maybeResize(),this.writeBuffer(Buffer.from(new bn_js_1.default(r).toArray("le",16)))}writeU256(r){this.maybeResize(),this.writeBuffer(Buffer.from(new bn_js_1.default(r).toArray("le",32)))}writeU512(r){this.maybeResize(),this.writeBuffer(Buffer.from(new bn_js_1.default(r).toArray("le",64)))}writeBuffer(r){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),r,Buffer.alloc(INITIAL_LENGTH)]),this.length+=r.length}writeString(r){this.maybeResize();const t0=Buffer.from(r,"utf8");this.writeU32(t0.length),this.writeBuffer(t0)}writeFixedArray(r){this.writeBuffer(Buffer.from(r))}writeArray(r,t0){this.maybeResize(),this.writeU32(r.length);for(const n0 of r)this.maybeResize(),t0(n0)}toArray(){return this.buf.subarray(0,this.length)}}lib.BinaryWriter=BinaryWriter;function handlingRangeError(e0,r,t0){const n0=t0.value;t0.value=function(...r0){try{return n0.apply(this,r0)}catch(i0){if(i0 instanceof RangeError){const o0=i0.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o0)>=0)throw new BorshError("Reached the end of buffer when deserializing")}throw i0}}}class BinaryReader{constructor(r){this.buf=r,this.offset=0}readU8(){const r=this.buf.readUInt8(this.offset);return this.offset+=1,r}readU16(){const r=this.buf.readUInt16LE(this.offset);return this.offset+=2,r}readU32(){const r=this.buf.readUInt32LE(this.offset);return this.offset+=4,r}readU64(){const r=this.readBuffer(8);return new bn_js_1.default(r,"le")}readU128(){const r=this.readBuffer(16);return new bn_js_1.default(r,"le")}readU256(){const r=this.readBuffer(32);return new bn_js_1.default(r,"le")}readU512(){const r=this.readBuffer(64);return new bn_js_1.default(r,"le")}readBuffer(r){if(this.offset+r>this.buf.length)throw new BorshError(`Expected buffer length ${r} isn't within bounds`);const t0=this.buf.slice(this.offset,this.offset+r);return this.offset+=r,t0}readString(){const r=this.readU32(),t0=this.readBuffer(r);try{return textDecoder.decode(t0)}catch(n0){throw new BorshError(`Error decoding UTF-8 string: ${n0}`)}}readFixedArray(r){return new Uint8Array(this.readBuffer(r))}readArray(r){const t0=this.readU32(),n0=Array();for(let r0=0;r0<t0;++r0)n0.push(r());return n0}}__decorate([handlingRangeError],BinaryReader.prototype,"readU8",null);__decorate([handlingRangeError],BinaryReader.prototype,"readU16",null);__decorate([handlingRangeError],BinaryReader.prototype,"readU32",null);__decorate([handlingRangeError],BinaryReader.prototype,"readU64",null);__decorate([handlingRangeError],BinaryReader.prototype,"readU128",null);__decorate([handlingRangeError],BinaryReader.prototype,"readU256",null);__decorate([handlingRangeError],BinaryReader.prototype,"readU512",null);__decorate([handlingRangeError],BinaryReader.prototype,"readString",null);__decorate([handlingRangeError],BinaryReader.prototype,"readFixedArray",null);__decorate([handlingRangeError],BinaryReader.prototype,"readArray",null);lib.BinaryReader=BinaryReader;function capitalizeFirstLetter(e0){return e0.charAt(0).toUpperCase()+e0.slice(1)}function serializeField(e0,r,t0,n0,r0){try{if(typeof n0=="string")r0[`write${capitalizeFirstLetter(n0)}`](t0);else if(n0 instanceof Array)if(typeof n0[0]=="number"){if(t0.length!==n0[0])throw new BorshError(`Expecting byte array of length ${n0[0]}, but got ${t0.length} bytes`);r0.writeFixedArray(t0)}else if(n0.length===2&&typeof n0[1]=="number"){if(t0.length!==n0[1])throw new BorshError(`Expecting byte array of length ${n0[1]}, but got ${t0.length} bytes`);for(let i0=0;i0<n0[1];i0++)serializeField(e0,null,t0[i0],n0[0],r0)}else r0.writeArray(t0,i0=>{serializeField(e0,r,i0,n0[0],r0)});else if(n0.kind!==void 0)switch(n0.kind){case"option":{t0==null?r0.writeU8(0):(r0.writeU8(1),serializeField(e0,r,t0,n0.type,r0));break}case"map":{r0.writeU32(t0.size),t0.forEach((i0,o0)=>{serializeField(e0,r,o0,n0.key,r0),serializeField(e0,r,i0,n0.value,r0)});break}default:throw new BorshError(`FieldType ${n0} unrecognized`)}else serializeStruct(e0,t0,r0)}catch(i0){throw i0 instanceof BorshError&&i0.addToFieldPath(r),i0}}function serializeStruct(e0,r,t0){if(typeof r.borshSerialize=="function"){r.borshSerialize(t0);return}const n0=e0.get(r.constructor);if(!n0)throw new BorshError(`Class ${r.constructor.name} is missing in schema`);if(n0.kind==="struct")n0.fields.map(([r0,i0])=>{serializeField(e0,r0,r[r0],i0,t0)});else if(n0.kind==="enum"){const r0=r[n0.field];for(let i0=0;i0<n0.values.length;++i0){const[o0,s0]=n0.values[i0];if(o0===r0){t0.writeU8(i0),serializeField(e0,o0,r[o0],s0,t0);break}}}else throw new BorshError(`Unexpected schema kind: ${n0.kind} for ${r.constructor.name}`)}function serialize(e0,r,t0=BinaryWriter){const n0=new t0;return serializeStruct(e0,r,n0),n0.toArray()}var serialize_1=lib.serialize=serialize;function deserializeField(e0,r,t0,n0){try{if(typeof t0=="string")return n0[`read${capitalizeFirstLetter(t0)}`]();if(t0 instanceof Array){if(typeof t0[0]=="number")return n0.readFixedArray(t0[0]);if(typeof t0[1]=="number"){const r0=[];for(let i0=0;i0<t0[1];i0++)r0.push(deserializeField(e0,null,t0[0],n0));return r0}else return n0.readArray(()=>deserializeField(e0,r,t0[0],n0))}if(t0.kind==="option")return n0.readU8()?deserializeField(e0,r,t0.type,n0):void 0;if(t0.kind==="map"){let r0=new Map;const i0=n0.readU32();for(let o0=0;o0<i0;o0++){const s0=deserializeField(e0,r,t0.key,n0),a0=deserializeField(e0,r,t0.value,n0);r0.set(s0,a0)}return r0}return deserializeStruct(e0,t0,n0)}catch(r0){throw r0 instanceof BorshError&&r0.addToFieldPath(r),r0}}function deserializeStruct(e0,r,t0){if(typeof r.borshDeserialize=="function")return r.borshDeserialize(t0);const n0=e0.get(r);if(!n0)throw new BorshError(`Class ${r.name} is missing in schema`);if(n0.kind==="struct"){const r0={};for(const[i0,o0]of e0.get(r).fields)r0[i0]=deserializeField(e0,i0,o0,t0);return new r(r0)}if(n0.kind==="enum"){const r0=t0.readU8();if(r0>=n0.values.length)throw new BorshError(`Enum index: ${r0} is out of range`);const[i0,o0]=n0.values[r0],s0=deserializeField(e0,i0,o0,t0);return new r({[i0]:s0})}throw new BorshError(`Unexpected schema kind: ${n0.kind} for ${r.constructor.name}`)}function deserialize(e0,r,t0,n0=BinaryReader){const r0=new n0(t0),i0=deserializeStruct(e0,r,r0);if(r0.offset<t0.length)throw new BorshError(`Unexpected ${t0.length-r0.offset} bytes after deserialized data`);return i0}var deserialize_1=lib.deserialize=deserialize;function deserializeUnchecked(e0,r,t0,n0=BinaryReader){const r0=new n0(t0);return deserializeStruct(e0,r,r0)}deserializeUnchecked_1=lib.deserializeUnchecked=deserializeUnchecked;var Layout$1={};Object.defineProperty(Layout$1,"__esModule",{value:!0});Layout$1.s16=Layout$1.s8=Layout$1.nu64be=Layout$1.u48be=Layout$1.u40be=Layout$1.u32be=Layout$1.u24be=Layout$1.u16be=nu64=Layout$1.nu64=Layout$1.u48=Layout$1.u40=u32=Layout$1.u32=Layout$1.u24=u16=Layout$1.u16=u8=Layout$1.u8=offset=Layout$1.offset=Layout$1.greedy=Layout$1.Constant=Layout$1.UTF8=Layout$1.CString=Layout$1.Blob=Layout$1.Boolean=Layout$1.BitField=Layout$1.BitStructure=Layout$1.VariantLayout=Layout$1.Union=Layout$1.UnionLayoutDiscriminator=Layout$1.UnionDiscriminator=Layout$1.Structure=Layout$1.Sequence=Layout$1.DoubleBE=Layout$1.Double=Layout$1.FloatBE=Layout$1.Float=Layout$1.NearInt64BE=Layout$1.NearInt64=Layout$1.NearUInt64BE=Layout$1.NearUInt64=Layout$1.IntBE=Layout$1.Int=Layout$1.UIntBE=Layout$1.UInt=Layout$1.OffsetLayout=Layout$1.GreedyCount=Layout$1.ExternalLayout=Layout$1.bindConstructorLayout=Layout$1.nameWithProperty=Layout$1.Layout=Layout$1.uint8ArrayToBuffer=Layout$1.checkUint8Array=void 0;Layout$1.constant=Layout$1.utf8=Layout$1.cstr=blob=Layout$1.blob=Layout$1.unionLayoutDiscriminator=Layout$1.union=seq=Layout$1.seq=Layout$1.bits=struct=Layout$1.struct=Layout$1.f64be=Layout$1.f64=Layout$1.f32be=Layout$1.f32=Layout$1.ns64be=Layout$1.s48be=Layout$1.s40be=Layout$1.s32be=Layout$1.s24be=Layout$1.s16be=ns64=Layout$1.ns64=Layout$1.s48=Layout$1.s40=Layout$1.s32=Layout$1.s24=void 0;const buffer_1=buffer;function checkUint8Array(e0){if(!(e0 instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}Layout$1.checkUint8Array=checkUint8Array;function uint8ArrayToBuffer(e0){return checkUint8Array(e0),buffer_1.Buffer.from(e0.buffer,e0.byteOffset,e0.length)}Layout$1.uint8ArrayToBuffer=uint8ArrayToBuffer;class Layout{constructor(r,t0){if(!Number.isInteger(r))throw new TypeError("span must be an integer");this.span=r,this.property=t0}makeDestinationObject(){return{}}getSpan(r,t0){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(r){const t0=Object.create(this.constructor.prototype);return Object.assign(t0,this),t0.property=r,t0}fromArray(r){}}Layout$1.Layout=Layout;function nameWithProperty(e0,r){return r.property?e0+"["+r.property+"]":e0}Layout$1.nameWithProperty=nameWithProperty;function bindConstructorLayout(e0,r){if(typeof e0!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(e0,"layout_"))throw new Error("Class is already bound to a layout");if(!(r&&r instanceof Layout))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(r,"boundConstructor_"))throw new Error("layout is already bound to a constructor");e0.layout_=r,r.boundConstructor_=e0,r.makeDestinationObject=()=>new e0,Object.defineProperty(e0.prototype,"encode",{value(t0,n0){return r.encode(this,t0,n0)},writable:!0}),Object.defineProperty(e0,"decode",{value(t0,n0){return r.decode(t0,n0)},writable:!0})}Layout$1.bindConstructorLayout=bindConstructorLayout;class ExternalLayout extends Layout{isCount(){throw new Error("ExternalLayout is abstract")}}Layout$1.ExternalLayout=ExternalLayout;class GreedyCount extends ExternalLayout{constructor(r=1,t0){if(!Number.isInteger(r)||0>=r)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t0),this.elementSpan=r}isCount(){return!0}decode(r,t0=0){checkUint8Array(r);const n0=r.length-t0;return Math.floor(n0/this.elementSpan)}encode(r,t0,n0){return 0}}Layout$1.GreedyCount=GreedyCount;class OffsetLayout extends ExternalLayout{constructor(r,t0=0,n0){if(!(r instanceof Layout))throw new TypeError("layout must be a Layout");if(!Number.isInteger(t0))throw new TypeError("offset must be integer or undefined");super(r.span,n0||r.property),this.layout=r,this.offset=t0}isCount(){return this.layout instanceof UInt||this.layout instanceof UIntBE}decode(r,t0=0){return this.layout.decode(r,t0+this.offset)}encode(r,t0,n0=0){return this.layout.encode(r,t0,n0+this.offset)}}Layout$1.OffsetLayout=OffsetLayout;class UInt extends Layout{constructor(r,t0){if(super(r,t0),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(r,t0=0){return uint8ArrayToBuffer(r).readUIntLE(t0,this.span)}encode(r,t0,n0=0){return uint8ArrayToBuffer(t0).writeUIntLE(r,n0,this.span),this.span}}Layout$1.UInt=UInt;class UIntBE extends Layout{constructor(r,t0){if(super(r,t0),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(r,t0=0){return uint8ArrayToBuffer(r).readUIntBE(t0,this.span)}encode(r,t0,n0=0){return uint8ArrayToBuffer(t0).writeUIntBE(r,n0,this.span),this.span}}Layout$1.UIntBE=UIntBE;class Int extends Layout{constructor(r,t0){if(super(r,t0),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(r,t0=0){return uint8ArrayToBuffer(r).readIntLE(t0,this.span)}encode(r,t0,n0=0){return uint8ArrayToBuffer(t0).writeIntLE(r,n0,this.span),this.span}}Layout$1.Int=Int;class IntBE extends Layout{constructor(r,t0){if(super(r,t0),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(r,t0=0){return uint8ArrayToBuffer(r).readIntBE(t0,this.span)}encode(r,t0,n0=0){return uint8ArrayToBuffer(t0).writeIntBE(r,n0,this.span),this.span}}Layout$1.IntBE=IntBE;const V2E32=Math.pow(2,32);function divmodInt64(e0){const r=Math.floor(e0/V2E32),t0=e0-r*V2E32;return{hi32:r,lo32:t0}}function roundedInt64(e0,r){return e0*V2E32+r}class NearUInt64 extends Layout{constructor(r){super(8,r)}decode(r,t0=0){const n0=uint8ArrayToBuffer(r),r0=n0.readUInt32LE(t0),i0=n0.readUInt32LE(t0+4);return roundedInt64(i0,r0)}encode(r,t0,n0=0){const r0=divmodInt64(r),i0=uint8ArrayToBuffer(t0);return i0.writeUInt32LE(r0.lo32,n0),i0.writeUInt32LE(r0.hi32,n0+4),8}}Layout$1.NearUInt64=NearUInt64;class NearUInt64BE extends Layout{constructor(r){super(8,r)}decode(r,t0=0){const n0=uint8ArrayToBuffer(r),r0=n0.readUInt32BE(t0),i0=n0.readUInt32BE(t0+4);return roundedInt64(r0,i0)}encode(r,t0,n0=0){const r0=divmodInt64(r),i0=uint8ArrayToBuffer(t0);return i0.writeUInt32BE(r0.hi32,n0),i0.writeUInt32BE(r0.lo32,n0+4),8}}Layout$1.NearUInt64BE=NearUInt64BE;class NearInt64 extends Layout{constructor(r){super(8,r)}decode(r,t0=0){const n0=uint8ArrayToBuffer(r),r0=n0.readUInt32LE(t0),i0=n0.readInt32LE(t0+4);return roundedInt64(i0,r0)}encode(r,t0,n0=0){const r0=divmodInt64(r),i0=uint8ArrayToBuffer(t0);return i0.writeUInt32LE(r0.lo32,n0),i0.writeInt32LE(r0.hi32,n0+4),8}}Layout$1.NearInt64=NearInt64;class NearInt64BE extends Layout{constructor(r){super(8,r)}decode(r,t0=0){const n0=uint8ArrayToBuffer(r),r0=n0.readInt32BE(t0),i0=n0.readUInt32BE(t0+4);return roundedInt64(r0,i0)}encode(r,t0,n0=0){const r0=divmodInt64(r),i0=uint8ArrayToBuffer(t0);return i0.writeInt32BE(r0.hi32,n0),i0.writeUInt32BE(r0.lo32,n0+4),8}}Layout$1.NearInt64BE=NearInt64BE;class Float extends Layout{constructor(r){super(4,r)}decode(r,t0=0){return uint8ArrayToBuffer(r).readFloatLE(t0)}encode(r,t0,n0=0){return uint8ArrayToBuffer(t0).writeFloatLE(r,n0),4}}Layout$1.Float=Float;class FloatBE extends Layout{constructor(r){super(4,r)}decode(r,t0=0){return uint8ArrayToBuffer(r).readFloatBE(t0)}encode(r,t0,n0=0){return uint8ArrayToBuffer(t0).writeFloatBE(r,n0),4}}Layout$1.FloatBE=FloatBE;class Double extends Layout{constructor(r){super(8,r)}decode(r,t0=0){return uint8ArrayToBuffer(r).readDoubleLE(t0)}encode(r,t0,n0=0){return uint8ArrayToBuffer(t0).writeDoubleLE(r,n0),8}}Layout$1.Double=Double;class DoubleBE extends Layout{constructor(r){super(8,r)}decode(r,t0=0){return uint8ArrayToBuffer(r).readDoubleBE(t0)}encode(r,t0,n0=0){return uint8ArrayToBuffer(t0).writeDoubleBE(r,n0),8}}Layout$1.DoubleBE=DoubleBE;class Sequence extends Layout{constructor(r,t0,n0){if(!(r instanceof Layout))throw new TypeError("elementLayout must be a Layout");if(!(t0 instanceof ExternalLayout&&t0.isCount()||Number.isInteger(t0)&&0<=t0))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let r0=-1;!(t0 instanceof ExternalLayout)&&0<r.span&&(r0=t0*r.span),super(r0,n0),this.elementLayout=r,this.count=t0}getSpan(r,t0=0){if(0<=this.span)return this.span;let n0=0,r0=this.count;if(r0 instanceof ExternalLayout&&(r0=r0.decode(r,t0)),0<this.elementLayout.span)n0=r0*this.elementLayout.span;else{let i0=0;for(;i0<r0;)n0+=this.elementLayout.getSpan(r,t0+n0),++i0}return n0}decode(r,t0=0){const n0=[];let r0=0,i0=this.count;for(i0 instanceof ExternalLayout&&(i0=i0.decode(r,t0));r0<i0;)n0.push(this.elementLayout.decode(r,t0)),t0+=this.elementLayout.getSpan(r,t0),r0+=1;return n0}encode(r,t0,n0=0){const r0=this.elementLayout,i0=r.reduce((o0,s0)=>o0+r0.encode(s0,t0,n0+o0),0);return this.count instanceof ExternalLayout&&this.count.encode(r.length,t0,n0),i0}}Layout$1.Sequence=Sequence;class Structure extends Layout{constructor(r,t0,n0){if(!(Array.isArray(r)&&r.reduce((i0,o0)=>i0&&o0 instanceof Layout,!0)))throw new TypeError("fields must be array of Layout instances");typeof t0=="boolean"&&n0===void 0&&(n0=t0,t0=void 0);for(const i0 of r)if(0>i0.span&&i0.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let r0=-1;try{r0=r.reduce((i0,o0)=>i0+o0.getSpan(),0)}catch{}super(r0,t0),this.fields=r,this.decodePrefixes=!!n0}getSpan(r,t0=0){if(0<=this.span)return this.span;let n0=0;try{n0=this.fields.reduce((r0,i0)=>{const o0=i0.getSpan(r,t0);return t0+=o0,r0+o0},0)}catch{throw new RangeError("indeterminate span")}return n0}decode(r,t0=0){checkUint8Array(r);const n0=this.makeDestinationObject();for(const r0 of this.fields)if(r0.property!==void 0&&(n0[r0.property]=r0.decode(r,t0)),t0+=r0.getSpan(r,t0),this.decodePrefixes&&r.length===t0)break;return n0}encode(r,t0,n0=0){const r0=n0;let i0=0,o0=0;for(const s0 of this.fields){let a0=s0.span;if(o0=0<a0?a0:0,s0.property!==void 0){const c0=r[s0.property];c0!==void 0&&(o0=s0.encode(c0,t0,n0),0>a0&&(a0=s0.getSpan(t0,n0)))}i0=n0,n0+=a0}return i0+o0-r0}fromArray(r){const t0=this.makeDestinationObject();for(const n0 of this.fields)n0.property!==void 0&&0<r.length&&(t0[n0.property]=r.shift());return t0}layoutFor(r){if(typeof r!="string")throw new TypeError("property must be string");for(const t0 of this.fields)if(t0.property===r)return t0}offsetOf(r){if(typeof r!="string")throw new TypeError("property must be string");let t0=0;for(const n0 of this.fields){if(n0.property===r)return t0;0>n0.span?t0=-1:0<=t0&&(t0+=n0.span)}}}Layout$1.Structure=Structure;class UnionDiscriminator{constructor(r){this.property=r}decode(r,t0){throw new Error("UnionDiscriminator is abstract")}encode(r,t0,n0){throw new Error("UnionDiscriminator is abstract")}}Layout$1.UnionDiscriminator=UnionDiscriminator;class UnionLayoutDiscriminator extends UnionDiscriminator{constructor(r,t0){if(!(r instanceof ExternalLayout&&r.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t0||r.property||"variant"),this.layout=r}decode(r,t0){return this.layout.decode(r,t0)}encode(r,t0,n0){return this.layout.encode(r,t0,n0)}}Layout$1.UnionLayoutDiscriminator=UnionLayoutDiscriminator;class Union extends Layout{constructor(r,t0,n0){let r0;if(r instanceof UInt||r instanceof UIntBE)r0=new UnionLayoutDiscriminator(new OffsetLayout(r));else if(r instanceof ExternalLayout&&r.isCount())r0=new UnionLayoutDiscriminator(r);else if(r instanceof UnionDiscriminator)r0=r;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(t0===void 0&&(t0=null),!(t0===null||t0 instanceof Layout))throw new TypeError("defaultLayout must be null or a Layout");if(t0!==null){if(0>t0.span)throw new Error("defaultLayout must have constant span");t0.property===void 0&&(t0=t0.replicate("content"))}let i0=-1;t0&&(i0=t0.span,0<=i0&&(r instanceof UInt||r instanceof UIntBE)&&(i0+=r0.layout.span)),super(i0,n0),this.discriminator=r0,this.usesPrefixDiscriminator=r instanceof UInt||r instanceof UIntBE,this.defaultLayout=t0,this.registry={};let o0=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(s0){return o0(s0)},this.configGetSourceVariant=function(s0){o0=s0.bind(this)}}getSpan(r,t0=0){if(0<=this.span)return this.span;const n0=this.getVariant(r,t0);if(!n0)throw new Error("unable to determine span for unrecognized variant");return n0.getSpan(r,t0)}defaultGetSourceVariant(r){if(Object.prototype.hasOwnProperty.call(r,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(r,this.defaultLayout.property))return;const t0=this.registry[r[this.discriminator.property]];if(t0&&(!t0.layout||t0.property&&Object.prototype.hasOwnProperty.call(r,t0.property)))return t0}else for(const t0 in this.registry){const n0=this.registry[t0];if(n0.property&&Object.prototype.hasOwnProperty.call(r,n0.property))return n0}throw new Error("unable to infer src variant")}decode(r,t0=0){let n0;const r0=this.discriminator,i0=r0.decode(r,t0),o0=this.registry[i0];if(o0===void 0){const s0=this.defaultLayout;let a0=0;this.usesPrefixDiscriminator&&(a0=r0.layout.span),n0=this.makeDestinationObject(),n0[r0.property]=i0,n0[s0.property]=s0.decode(r,t0+a0)}else n0=o0.decode(r,t0);return n0}encode(r,t0,n0=0){const r0=this.getSourceVariant(r);if(r0===void 0){const i0=this.discriminator,o0=this.defaultLayout;let s0=0;return this.usesPrefixDiscriminator&&(s0=i0.layout.span),i0.encode(r[i0.property],t0,n0),s0+o0.encode(r[o0.property],t0,n0+s0)}return r0.encode(r,t0,n0)}addVariant(r,t0,n0){const r0=new VariantLayout(this,r,t0,n0);return this.registry[r]=r0,r0}getVariant(r,t0=0){let n0;return r instanceof Uint8Array?n0=this.discriminator.decode(r,t0):n0=r,this.registry[n0]}}Layout$1.Union=Union;class VariantLayout extends Layout{constructor(r,t0,n0,r0){if(!(r instanceof Union))throw new TypeError("union must be a Union");if(!Number.isInteger(t0)||0>t0)throw new TypeError("variant must be a (non-negative) integer");if(typeof n0=="string"&&r0===void 0&&(r0=n0,n0=null),n0){if(!(n0 instanceof Layout))throw new TypeError("layout must be a Layout");if(r.defaultLayout!==null&&0<=n0.span&&n0.span>r.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof r0!="string")throw new TypeError("variant must have a String property")}let i0=r.span;0>r.span&&(i0=n0?n0.span:0,0<=i0&&r.usesPrefixDiscriminator&&(i0+=r.discriminator.layout.span)),super(i0,r0),this.union=r,this.variant=t0,this.layout=n0||null}getSpan(r,t0=0){if(0<=this.span)return this.span;let n0=0;this.union.usesPrefixDiscriminator&&(n0=this.union.discriminator.layout.span);let r0=0;return this.layout&&(r0=this.layout.getSpan(r,t0+n0)),n0+r0}decode(r,t0=0){const n0=this.makeDestinationObject();if(this!==this.union.getVariant(r,t0))throw new Error("variant mismatch");let r0=0;return this.union.usesPrefixDiscriminator&&(r0=this.union.discriminator.layout.span),this.layout?n0[this.property]=this.layout.decode(r,t0+r0):this.property?n0[this.property]=!0:this.union.usesPrefixDiscriminator&&(n0[this.union.discriminator.property]=this.variant),n0}encode(r,t0,n0=0){let r0=0;if(this.union.usesPrefixDiscriminator&&(r0=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(r,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t0,n0);let i0=r0;if(this.layout&&(this.layout.encode(r[this.property],t0,n0+r0),i0+=this.layout.getSpan(t0,n0+r0),0<=this.union.span&&i0>this.union.span))throw new Error("encoded variant overruns containing union");return i0}fromArray(r){if(this.layout)return this.layout.fromArray(r)}}Layout$1.VariantLayout=VariantLayout;function fixBitwiseResult(e0){return 0>e0&&(e0+=4294967296),e0}class BitStructure extends Layout{constructor(r,t0,n0){if(!(r instanceof UInt||r instanceof UIntBE))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof t0=="string"&&n0===void 0&&(n0=t0,t0=!1),4<r.span)throw new RangeError("word cannot exceed 32 bits");super(r.span,n0),this.word=r,this.msb=!!t0,this.fields=[];let r0=0;this._packedSetValue=function(i0){return r0=fixBitwiseResult(i0),this},this._packedGetValue=function(){return r0}}decode(r,t0=0){const n0=this.makeDestinationObject(),r0=this.word.decode(r,t0);this._packedSetValue(r0);for(const i0 of this.fields)i0.property!==void 0&&(n0[i0.property]=i0.decode(r));return n0}encode(r,t0,n0=0){const r0=this.word.decode(t0,n0);this._packedSetValue(r0);for(const i0 of this.fields)if(i0.property!==void 0){const o0=r[i0.property];o0!==void 0&&i0.encode(o0)}return this.word.encode(this._packedGetValue(),t0,n0)}addField(r,t0){const n0=new BitField(this,r,t0);return this.fields.push(n0),n0}addBoolean(r){const t0=new Boolean$1(this,r);return this.fields.push(t0),t0}fieldFor(r){if(typeof r!="string")throw new TypeError("property must be string");for(const t0 of this.fields)if(t0.property===r)return t0}}Layout$1.BitStructure=BitStructure;class BitField{constructor(r,t0,n0){if(!(r instanceof BitStructure))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t0)||0>=t0)throw new TypeError("bits must be positive integer");const r0=8*r.span,i0=r.fields.reduce((o0,s0)=>o0+s0.bits,0);if(t0+i0>r0)throw new Error("bits too long for span remainder ("+(r0-i0)+" of "+r0+" remain)");this.container=r,this.bits=t0,this.valueMask=(1<<t0)-1,t0===32&&(this.valueMask=4294967295),this.start=i0,this.container.msb&&(this.start=r0-i0-t0),this.wordMask=fixBitwiseResult(this.valueMask<<this.start),this.property=n0}decode(r,t0){const n0=this.container._packedGetValue();return fixBitwiseResult(n0&this.wordMask)>>>this.start}encode(r){if(typeof r!="number"||!Number.isInteger(r)||r!==fixBitwiseResult(r&this.valueMask))throw new TypeError(nameWithProperty("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const t0=this.container._packedGetValue(),n0=fixBitwiseResult(r<<this.start);this.container._packedSetValue(fixBitwiseResult(t0&~this.wordMask)|n0)}}Layout$1.BitField=BitField;let Boolean$1=class extends BitField{constructor(r,t0){super(r,1,t0)}decode(r,t0){return!!super.decode(r,t0)}encode(r){typeof r=="boolean"&&(r=+r),super.encode(r)}};Layout$1.Boolean=Boolean$1;let Blob$1=class extends Layout{constructor(r,t0){if(!(r instanceof ExternalLayout&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n0=-1;r instanceof ExternalLayout||(n0=r),super(n0,t0),this.length=r}getSpan(r,t0){let n0=this.span;return 0>n0&&(n0=this.length.decode(r,t0)),n0}decode(r,t0=0){let n0=this.span;return 0>n0&&(n0=this.length.decode(r,t0)),uint8ArrayToBuffer(r).slice(t0,t0+n0)}encode(r,t0,n0){let r0=this.length;if(this.length instanceof ExternalLayout&&(r0=r.length),!(r instanceof Uint8Array&&r0===r.length))throw new TypeError(nameWithProperty("Blob.encode",this)+" requires (length "+r0+") Uint8Array as src");if(n0+r0>t0.length)throw new RangeError("encoding overruns Uint8Array");const i0=uint8ArrayToBuffer(r);return uint8ArrayToBuffer(t0).write(i0.toString("hex"),n0,r0,"hex"),this.length instanceof ExternalLayout&&this.length.encode(r0,t0,n0),r0}};Layout$1.Blob=Blob$1;class CString extends Layout{constructor(r){super(-1,r)}getSpan(r,t0=0){checkUint8Array(r);let n0=t0;for(;n0<r.length&&r[n0]!==0;)n0+=1;return 1+n0-t0}decode(r,t0=0){const n0=this.getSpan(r,t0);return uint8ArrayToBuffer(r).slice(t0,t0+n0-1).toString("utf-8")}encode(r,t0,n0=0){typeof r!="string"&&(r=String(r));const r0=buffer_1.Buffer.from(r,"utf8"),i0=r0.length;if(n0+i0>t0.length)throw new RangeError("encoding overruns Buffer");const o0=uint8ArrayToBuffer(t0);return r0.copy(o0,n0),o0[n0+i0]=0,i0+1}}Layout$1.CString=CString;class UTF8 extends Layout{constructor(r,t0){if(typeof r=="string"&&t0===void 0&&(t0=r,r=void 0),r===void 0)r=-1;else if(!Number.isInteger(r))throw new TypeError("maxSpan must be an integer");super(-1,t0),this.maxSpan=r}getSpan(r,t0=0){return checkUint8Array(r),r.length-t0}decode(r,t0=0){const n0=this.getSpan(r,t0);if(0<=this.maxSpan&&this.maxSpan<n0)throw new RangeError("text length exceeds maxSpan");return uint8ArrayToBuffer(r).slice(t0,t0+n0).toString("utf-8")}encode(r,t0,n0=0){typeof r!="string"&&(r=String(r));const r0=buffer_1.Buffer.from(r,"utf8"),i0=r0.length;if(0<=this.maxSpan&&this.maxSpan<i0)throw new RangeError("text length exceeds maxSpan");if(n0+i0>t0.length)throw new RangeError("encoding overruns Buffer");return r0.copy(uint8ArrayToBuffer(t0),n0),i0}}Layout$1.UTF8=UTF8;class Constant extends Layout{constructor(r,t0){super(0,t0),this.value=r}decode(r,t0){return this.value}encode(r,t0,n0){return 0}}Layout$1.Constant=Constant;Layout$1.greedy=(e0,r)=>new GreedyCount(e0,r);var offset=Layout$1.offset=(e0,r,t0)=>new OffsetLayout(e0,r,t0),u8=Layout$1.u8=e0=>new UInt(1,e0),u16=Layout$1.u16=e0=>new UInt(2,e0);Layout$1.u24=e0=>new UInt(3,e0);var u32=Layout$1.u32=e0=>new UInt(4,e0);Layout$1.u40=e0=>new UInt(5,e0);Layout$1.u48=e0=>new UInt(6,e0);var nu64=Layout$1.nu64=e0=>new NearUInt64(e0);Layout$1.u16be=e0=>new UIntBE(2,e0);Layout$1.u24be=e0=>new UIntBE(3,e0);Layout$1.u32be=e0=>new UIntBE(4,e0);Layout$1.u40be=e0=>new UIntBE(5,e0);Layout$1.u48be=e0=>new UIntBE(6,e0);Layout$1.nu64be=e0=>new NearUInt64BE(e0);Layout$1.s8=e0=>new Int(1,e0);Layout$1.s16=e0=>new Int(2,e0);Layout$1.s24=e0=>new Int(3,e0);Layout$1.s32=e0=>new Int(4,e0);Layout$1.s40=e0=>new Int(5,e0);Layout$1.s48=e0=>new Int(6,e0);var ns64=Layout$1.ns64=e0=>new NearInt64(e0);Layout$1.s16be=e0=>new IntBE(2,e0);Layout$1.s24be=e0=>new IntBE(3,e0);Layout$1.s32be=e0=>new IntBE(4,e0);Layout$1.s40be=e0=>new IntBE(5,e0);Layout$1.s48be=e0=>new IntBE(6,e0);Layout$1.ns64be=e0=>new NearInt64BE(e0);Layout$1.f32=e0=>new Float(e0);Layout$1.f32be=e0=>new FloatBE(e0);Layout$1.f64=e0=>new Double(e0);Layout$1.f64be=e0=>new DoubleBE(e0);var struct=Layout$1.struct=(e0,r,t0)=>new Structure(e0,r,t0);Layout$1.bits=(e0,r,t0)=>new BitStructure(e0,r,t0);var seq=Layout$1.seq=(e0,r,t0)=>new Sequence(e0,r,t0);Layout$1.union=(e0,r,t0)=>new Union(e0,r,t0);Layout$1.unionLayoutDiscriminator=(e0,r)=>new UnionLayoutDiscriminator(e0,r);var blob=Layout$1.blob=(e0,r)=>new Blob$1(e0,r);Layout$1.cstr=e0=>new CString(e0);Layout$1.utf8=(e0,r)=>new UTF8(e0,r);Layout$1.constant=(e0,r)=>new Constant(e0,r);var SOLANA_ERROR__BLOCK_HEIGHT_EXCEEDED=1,SOLANA_ERROR__INVALID_NONCE=2,SOLANA_ERROR__NONCE_ACCOUNT_NOT_FOUND=3,SOLANA_ERROR__BLOCKHASH_STRING_LENGTH_OUT_OF_RANGE=4,SOLANA_ERROR__INVALID_BLOCKHASH_BYTE_LENGTH=5,SOLANA_ERROR__LAMPORTS_OUT_OF_RANGE=6,SOLANA_ERROR__MALFORMED_BIGINT_STRING=7,SOLANA_ERROR__MALFORMED_NUMBER_STRING=8,SOLANA_ERROR__TIMESTAMP_OUT_OF_RANGE=9,SOLANA_ERROR__MALFORMED_JSON_RPC_ERROR=10,SOLANA_ERROR__JSON_RPC__PARSE_ERROR=-32700,SOLANA_ERROR__JSON_RPC__INTERNAL_ERROR=-32603,SOLANA_ERROR__JSON_RPC__INVALID_PARAMS=-32602,SOLANA_ERROR__JSON_RPC__METHOD_NOT_FOUND=-32601,SOLANA_ERROR__JSON_RPC__INVALID_REQUEST=-32600,SOLANA_ERROR__JSON_RPC__SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED=-32016,SOLANA_ERROR__JSON_RPC__SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION=-32015,SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET=-32014,SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH=-32013,SOLANA_ERROR__JSON_RPC__SCAN_ERROR=-32012,SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE=-32011,SOLANA_ERROR__JSON_RPC__SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX=-32010,SOLANA_ERROR__JSON_RPC__SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED=-32009,SOLANA_ERROR__JSON_RPC__SERVER_ERROR_NO_SNAPSHOT=-32008,SOLANA_ERROR__JSON_RPC__SERVER_ERROR_SLOT_SKIPPED=-32007,SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE=-32006,SOLANA_ERROR__JSON_RPC__SERVER_ERROR_NODE_UNHEALTHY=-32005,SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_NOT_AVAILABLE=-32004,SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE=-32003,SOLANA_ERROR__JSON_RPC__SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE=-32002,SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_CLEANED_UP=-32001,SOLANA_ERROR__ADDRESSES__INVALID_BYTE_LENGTH=28e5,SOLANA_ERROR__ADDRESSES__STRING_LENGTH_OUT_OF_RANGE=2800001,SOLANA_ERROR__ADDRESSES__INVALID_BASE58_ENCODED_ADDRESS=2800002,SOLANA_ERROR__ADDRESSES__INVALID_ED25519_PUBLIC_KEY=2800003,SOLANA_ERROR__ADDRESSES__MALFORMED_PDA=2800004,SOLANA_ERROR__ADDRESSES__PDA_BUMP_SEED_OUT_OF_RANGE=2800005,SOLANA_ERROR__ADDRESSES__MAX_NUMBER_OF_PDA_SEEDS_EXCEEDED=2800006,SOLANA_ERROR__ADDRESSES__MAX_PDA_SEED_LENGTH_EXCEEDED=2800007,SOLANA_ERROR__ADDRESSES__INVALID_SEEDS_POINT_ON_CURVE=2800008,SOLANA_ERROR__ADDRESSES__FAILED_TO_FIND_VIABLE_PDA_BUMP_SEED=2800009,SOLANA_ERROR__ADDRESSES__PDA_ENDS_WITH_PDA_MARKER=2800010,SOLANA_ERROR__ACCOUNTS__ACCOUNT_NOT_FOUND=323e4,SOLANA_ERROR__ACCOUNTS__ONE_OR_MORE_ACCOUNTS_NOT_FOUND=32300001,SOLANA_ERROR__ACCOUNTS__FAILED_TO_DECODE_ACCOUNT=3230002,SOLANA_ERROR__ACCOUNTS__EXPECTED_DECODED_ACCOUNT=3230003,SOLANA_ERROR__ACCOUNTS__EXPECTED_ALL_ACCOUNTS_TO_BE_DECODED=3230004,SOLANA_ERROR__SUBTLE_CRYPTO__DISALLOWED_IN_INSECURE_CONTEXT=361e4,SOLANA_ERROR__SUBTLE_CRYPTO__DIGEST_UNIMPLEMENTED=3610001,SOLANA_ERROR__SUBTLE_CRYPTO__ED25519_ALGORITHM_UNIMPLEMENTED=3610002,SOLANA_ERROR__SUBTLE_CRYPTO__EXPORT_FUNCTION_UNIMPLEMENTED=3610003,SOLANA_ERROR__SUBTLE_CRYPTO__GENERATE_FUNCTION_UNIMPLEMENTED=3610004,SOLANA_ERROR__SUBTLE_CRYPTO__SIGN_FUNCTION_UNIMPLEMENTED=3610005,SOLANA_ERROR__SUBTLE_CRYPTO__VERIFY_FUNCTION_UNIMPLEMENTED=3610006,SOLANA_ERROR__SUBTLE_CRYPTO__CANNOT_EXPORT_NON_EXTRACTABLE_KEY=3610007,SOLANA_ERROR__CRYPTO__RANDOM_VALUES_FUNCTION_UNIMPLEMENTED=3611e3,SOLANA_ERROR__KEYS__INVALID_KEY_PAIR_BYTE_LENGTH=3704e3,SOLANA_ERROR__KEYS__INVALID_PRIVATE_KEY_BYTE_LENGTH=3704001,SOLANA_ERROR__KEYS__INVALID_SIGNATURE_BYTE_LENGTH=3704002,SOLANA_ERROR__KEYS__SIGNATURE_STRING_LENGTH_OUT_OF_RANGE=3704003,SOLANA_ERROR__KEYS__PUBLIC_KEY_MUST_MATCH_PRIVATE_KEY=3704004,SOLANA_ERROR__INSTRUCTION__EXPECTED_TO_HAVE_ACCOUNTS=4128e3,SOLANA_ERROR__INSTRUCTION__EXPECTED_TO_HAVE_DATA=4128001,SOLANA_ERROR__INSTRUCTION__PROGRAM_ID_MISMATCH=4128002,SOLANA_ERROR__INSTRUCTION_ERROR__UNKNOWN=4615e3,SOLANA_ERROR__INSTRUCTION_ERROR__GENERIC_ERROR=4615001,SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ARGUMENT=4615002,SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_INSTRUCTION_DATA=4615003,SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ACCOUNT_DATA=4615004,SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_DATA_TOO_SMALL=4615005,SOLANA_ERROR__INSTRUCTION_ERROR__INSUFFICIENT_FUNDS=4615006,SOLANA_ERROR__INSTRUCTION_ERROR__INCORRECT_PROGRAM_ID=4615007,SOLANA_ERROR__INSTRUCTION_ERROR__MISSING_REQUIRED_SIGNATURE=4615008,SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_ALREADY_INITIALIZED=4615009,SOLANA_ERROR__INSTRUCTION_ERROR__UNINITIALIZED_ACCOUNT=4615010,SOLANA_ERROR__INSTRUCTION_ERROR__UNBALANCED_INSTRUCTION=4615011,SOLANA_ERROR__INSTRUCTION_ERROR__MODIFIED_PROGRAM_ID=4615012,SOLANA_ERROR__INSTRUCTION_ERROR__EXTERNAL_ACCOUNT_LAMPORT_SPEND=4615013,SOLANA_ERROR__INSTRUCTION_ERROR__EXTERNAL_ACCOUNT_DATA_MODIFIED=4615014,SOLANA_ERROR__INSTRUCTION_ERROR__READONLY_LAMPORT_CHANGE=4615015,SOLANA_ERROR__INSTRUCTION_ERROR__READONLY_DATA_MODIFIED=4615016,SOLANA_ERROR__INSTRUCTION_ERROR__DUPLICATE_ACCOUNT_INDEX=4615017,SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_MODIFIED=4615018,SOLANA_ERROR__INSTRUCTION_ERROR__RENT_EPOCH_MODIFIED=4615019,SOLANA_ERROR__INSTRUCTION_ERROR__NOT_ENOUGH_ACCOUNT_KEYS=4615020,SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_DATA_SIZE_CHANGED=4615021,SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_NOT_EXECUTABLE=4615022,SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_BORROW_FAILED=4615023,SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_BORROW_OUTSTANDING=4615024,SOLANA_ERROR__INSTRUCTION_ERROR__DUPLICATE_ACCOUNT_OUT_OF_SYNC=4615025,SOLANA_ERROR__INSTRUCTION_ERROR__CUSTOM=4615026,SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ERROR=4615027,SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_DATA_MODIFIED=4615028,SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_LAMPORT_CHANGE=4615029,SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_ACCOUNT_NOT_RENT_EXEMPT=4615030,SOLANA_ERROR__INSTRUCTION_ERROR__UNSUPPORTED_PROGRAM_ID=4615031,SOLANA_ERROR__INSTRUCTION_ERROR__CALL_DEPTH=4615032,SOLANA_ERROR__INSTRUCTION_ERROR__MISSING_ACCOUNT=4615033,SOLANA_ERROR__INSTRUCTION_ERROR__REENTRANCY_NOT_ALLOWED=4615034,SOLANA_ERROR__INSTRUCTION_ERROR__MAX_SEED_LENGTH_EXCEEDED=4615035,SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_SEEDS=4615036,SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_REALLOC=4615037,SOLANA_ERROR__INSTRUCTION_ERROR__COMPUTATIONAL_BUDGET_EXCEEDED=4615038,SOLANA_ERROR__INSTRUCTION_ERROR__PRIVILEGE_ESCALATION=4615039,SOLANA_ERROR__INSTRUCTION_ERROR__PROGRAM_ENVIRONMENT_SETUP_FAILURE=4615040,SOLANA_ERROR__INSTRUCTION_ERROR__PROGRAM_FAILED_TO_COMPLETE=4615041,SOLANA_ERROR__INSTRUCTION_ERROR__PROGRAM_FAILED_TO_COMPILE=4615042,SOLANA_ERROR__INSTRUCTION_ERROR__IMMUTABLE=4615043,SOLANA_ERROR__INSTRUCTION_ERROR__INCORRECT_AUTHORITY=4615044,SOLANA_ERROR__INSTRUCTION_ERROR__BORSH_IO_ERROR=4615045,SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_NOT_RENT_EXEMPT=4615046,SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ACCOUNT_OWNER=4615047,SOLANA_ERROR__INSTRUCTION_ERROR__ARITHMETIC_OVERFLOW=4615048,SOLANA_ERROR__INSTRUCTION_ERROR__UNSUPPORTED_SYSVAR=4615049,SOLANA_ERROR__INSTRUCTION_ERROR__ILLEGAL_OWNER=4615050,SOLANA_ERROR__INSTRUCTION_ERROR__MAX_ACCOUNTS_DATA_ALLOCATIONS_EXCEEDED=4615051,SOLANA_ERROR__INSTRUCTION_ERROR__MAX_ACCOUNTS_EXCEEDED=4615052,SOLANA_ERROR__INSTRUCTION_ERROR__MAX_INSTRUCTION_TRACE_LENGTH_EXCEEDED=4615053,SOLANA_ERROR__INSTRUCTION_ERROR__BUILTIN_PROGRAMS_MUST_CONSUME_COMPUTE_UNITS=4615054,SOLANA_ERROR__SIGNER__ADDRESS_CANNOT_HAVE_MULTIPLE_SIGNERS=5508e3,SOLANA_ERROR__SIGNER__EXPECTED_KEY_PAIR_SIGNER=5508001,SOLANA_ERROR__SIGNER__EXPECTED_MESSAGE_SIGNER=5508002,SOLANA_ERROR__SIGNER__EXPECTED_MESSAGE_MODIFYING_SIGNER=5508003,SOLANA_ERROR__SIGNER__EXPECTED_MESSAGE_PARTIAL_SIGNER=5508004,SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_SIGNER=5508005,SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_MODIFYING_SIGNER=5508006,SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_PARTIAL_SIGNER=5508007,SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_SENDING_SIGNER=5508008,SOLANA_ERROR__SIGNER__TRANSACTION_CANNOT_HAVE_MULTIPLE_SENDING_SIGNERS=5508009,SOLANA_ERROR__SIGNER__TRANSACTION_SENDING_SIGNER_MISSING=5508010,SOLANA_ERROR__SIGNER__WALLET_MULTISIGN_UNIMPLEMENTED=5508011,SOLANA_ERROR__TRANSACTION__INVOKED_PROGRAMS_CANNOT_PAY_FEES=5663e3,SOLANA_ERROR__TRANSACTION__INVOKED_PROGRAMS_MUST_NOT_BE_WRITABLE=5663001,SOLANA_ERROR__TRANSACTION__EXPECTED_BLOCKHASH_LIFETIME=5663002,SOLANA_ERROR__TRANSACTION__EXPECTED_NONCE_LIFETIME=5663003,SOLANA_ERROR__TRANSACTION__VERSION_NUMBER_OUT_OF_RANGE=5663004,SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_ADDRESS_LOOKUP_TABLE_CONTENTS_MISSING=5663005,SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_ADDRESS_LOOKUP_TABLE_INDEX_OUT_OF_RANGE=5663006,SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_INSTRUCTION_PROGRAM_ADDRESS_NOT_FOUND=5663007,SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_FEE_PAYER_MISSING=5663008,SOLANA_ERROR__TRANSACTION__SIGNATURES_MISSING=5663009,SOLANA_ERROR__TRANSACTION__ADDRESS_MISSING=5663010,SOLANA_ERROR__TRANSACTION__FEE_PAYER_MISSING=5663011,SOLANA_ERROR__TRANSACTION__FEE_PAYER_SIGNATURE_MISSING=5663012,SOLANA_ERROR__TRANSACTION__INVALID_NONCE_TRANSACTION_INSTRUCTIONS_MISSING=5663013,SOLANA_ERROR__TRANSACTION__INVALID_NONCE_TRANSACTION_FIRST_INSTRUCTION_MUST_BE_ADVANCE_NONCE=5663014,SOLANA_ERROR__TRANSACTION__ADDRESSES_CANNOT_SIGN_TRANSACTION=5663015,SOLANA_ERROR__TRANSACTION__CANNOT_ENCODE_WITH_EMPTY_SIGNATURES=5663016,SOLANA_ERROR__TRANSACTION__MESSAGE_SIGNATURES_MISMATCH=5663017,SOLANA_ERROR__TRANSACTION__FAILED_TO_ESTIMATE_COMPUTE_LIMIT=5663018,SOLANA_ERROR__TRANSACTION__FAILED_WHEN_SIMULATING_TO_ESTIMATE_COMPUTE_LIMIT=5663019,SOLANA_ERROR__TRANSACTION_ERROR__UNKNOWN=705e4,SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_IN_USE=7050001,SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_LOADED_TWICE=7050002,SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_NOT_FOUND=7050003,SOLANA_ERROR__TRANSACTION_ERROR__PROGRAM_ACCOUNT_NOT_FOUND=7050004,SOLANA_ERROR__TRANSACTION_ERROR__INSUFFICIENT_FUNDS_FOR_FEE=7050005,SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ACCOUNT_FOR_FEE=7050006,SOLANA_ERROR__TRANSACTION_ERROR__ALREADY_PROCESSED=7050007,SOLANA_ERROR__TRANSACTION_ERROR__BLOCKHASH_NOT_FOUND=7050008,SOLANA_ERROR__TRANSACTION_ERROR__CALL_CHAIN_TOO_DEEP=7050009,SOLANA_ERROR__TRANSACTION_ERROR__MISSING_SIGNATURE_FOR_FEE=7050010,SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ACCOUNT_INDEX=7050011,SOLANA_ERROR__TRANSACTION_ERROR__SIGNATURE_FAILURE=7050012,SOLANA_ERROR__TRANSACTION_ERROR__INVALID_PROGRAM_FOR_EXECUTION=7050013,SOLANA_ERROR__TRANSACTION_ERROR__SANITIZE_FAILURE=7050014,SOLANA_ERROR__TRANSACTION_ERROR__CLUSTER_MAINTENANCE=7050015,SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_BORROW_OUTSTANDING=7050016,SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_MAX_BLOCK_COST_LIMIT=7050017,SOLANA_ERROR__TRANSACTION_ERROR__UNSUPPORTED_VERSION=7050018,SOLANA_ERROR__TRANSACTION_ERROR__INVALID_WRITABLE_ACCOUNT=7050019,SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_MAX_ACCOUNT_COST_LIMIT=7050020,SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_ACCOUNT_DATA_BLOCK_LIMIT=7050021,SOLANA_ERROR__TRANSACTION_ERROR__TOO_MANY_ACCOUNT_LOCKS=7050022,SOLANA_ERROR__TRANSACTION_ERROR__ADDRESS_LOOKUP_TABLE_NOT_FOUND=7050023,SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ADDRESS_LOOKUP_TABLE_OWNER=7050024,SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ADDRESS_LOOKUP_TABLE_DATA=7050025,SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ADDRESS_LOOKUP_TABLE_INDEX=7050026,SOLANA_ERROR__TRANSACTION_ERROR__INVALID_RENT_PAYING_ACCOUNT=7050027,SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_MAX_VOTE_COST_LIMIT=7050028,SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_ACCOUNT_DATA_TOTAL_LIMIT=7050029,SOLANA_ERROR__TRANSACTION_ERROR__DUPLICATE_INSTRUCTION=7050030,SOLANA_ERROR__TRANSACTION_ERROR__INSUFFICIENT_FUNDS_FOR_RENT=7050031,SOLANA_ERROR__TRANSACTION_ERROR__MAX_LOADED_ACCOUNTS_DATA_SIZE_EXCEEDED=7050032,SOLANA_ERROR__TRANSACTION_ERROR__INVALID_LOADED_ACCOUNTS_DATA_SIZE_LIMIT=7050033,SOLANA_ERROR__TRANSACTION_ERROR__RESANITIZATION_NEEDED=7050034,SOLANA_ERROR__TRANSACTION_ERROR__PROGRAM_EXECUTION_TEMPORARILY_RESTRICTED=7050035,SOLANA_ERROR__TRANSACTION_ERROR__UNBALANCED_TRANSACTION=7050036,SOLANA_ERROR__CODECS__CANNOT_DECODE_EMPTY_BYTE_ARRAY=8078e3,SOLANA_ERROR__CODECS__INVALID_BYTE_LENGTH=8078001,SOLANA_ERROR__CODECS__EXPECTED_FIXED_LENGTH=8078002,SOLANA_ERROR__CODECS__EXPECTED_VARIABLE_LENGTH=8078003,SOLANA_ERROR__CODECS__ENCODER_DECODER_SIZE_COMPATIBILITY_MISMATCH=8078004,SOLANA_ERROR__CODECS__ENCODER_DECODER_FIXED_SIZE_MISMATCH=8078005,SOLANA_ERROR__CODECS__ENCODER_DECODER_MAX_SIZE_MISMATCH=8078006,SOLANA_ERROR__CODECS__INVALID_NUMBER_OF_ITEMS=8078007,SOLANA_ERROR__CODECS__ENUM_DISCRIMINATOR_OUT_OF_RANGE=8078008,SOLANA_ERROR__CODECS__INVALID_DISCRIMINATED_UNION_VARIANT=8078009,SOLANA_ERROR__CODECS__INVALID_ENUM_VARIANT=8078010,SOLANA_ERROR__CODECS__NUMBER_OUT_OF_RANGE=8078011,SOLANA_ERROR__CODECS__INVALID_STRING_FOR_BASE=8078012,SOLANA_ERROR__CODECS__EXPECTED_POSITIVE_BYTE_LENGTH=8078013,SOLANA_ERROR__CODECS__OFFSET_OUT_OF_RANGE=8078014,SOLANA_ERROR__CODECS__INVALID_LITERAL_UNION_VARIANT=8078015,SOLANA_ERROR__CODECS__LITERAL_UNION_DISCRIMINATOR_OUT_OF_RANGE=8078016,SOLANA_ERROR__CODECS__UNION_VARIANT_OUT_OF_RANGE=8078017,SOLANA_ERROR__CODECS__INVALID_CONSTANT=8078018,SOLANA_ERROR__CODECS__EXPECTED_ZERO_VALUE_TO_MATCH_ITEM_FIXED_SIZE=8078019,SOLANA_ERROR__CODECS__ENCODED_BYTES_MUST_NOT_INCLUDE_SENTINEL=8078020,SOLANA_ERROR__CODECS__SENTINEL_MISSING_IN_DECODED_BYTES=8078021,SOLANA_ERROR__CODECS__CANNOT_USE_LEXICAL_VALUES_AS_ENUM_DISCRIMINATORS=8078022,SOLANA_ERROR__RPC__INTEGER_OVERFLOW=81e5,SOLANA_ERROR__RPC__TRANSPORT_HTTP_HEADER_FORBIDDEN=8100001,SOLANA_ERROR__RPC__TRANSPORT_HTTP_ERROR=8100002,SOLANA_ERROR__RPC__API_PLAN_MISSING_FOR_RPC_METHOD=8100003,SOLANA_ERROR__RPC_SUBSCRIPTIONS__CANNOT_CREATE_SUBSCRIPTION_PLAN=819e4,SOLANA_ERROR__RPC_SUBSCRIPTIONS__EXPECTED_SERVER_SUBSCRIPTION_ID=8190001,SOLANA_ERROR__RPC_SUBSCRIPTIONS__CHANNEL_CLOSED_BEFORE_MESSAGE_BUFFERED=8190002,SOLANA_ERROR__RPC_SUBSCRIPTIONS__CHANNEL_CONNECTION_CLOSED=8190003,SOLANA_ERROR__RPC_SUBSCRIPTIONS__CHANNEL_FAILED_TO_CONNECT=8190004,SOLANA_ERROR__INVARIANT_VIOLATION__SUBSCRIPTION_ITERATOR_STATE_MISSING=99e5,SOLANA_ERROR__INVARIANT_VIOLATION__SUBSCRIPTION_ITERATOR_MUST_NOT_POLL_BEFORE_RESOLVING_EXISTING_MESSAGE_PROMISE=9900001,SOLANA_ERROR__INVARIANT_VIOLATION__CACHED_ABORTABLE_ITERABLE_CACHE_ENTRY_MISSING=9900002,SOLANA_ERROR__INVARIANT_VIOLATION__SWITCH_MUST_BE_EXHAUSTIVE=9900003,SOLANA_ERROR__INVARIANT_VIOLATION__DATA_PUBLISHER_CHANNEL_UNIMPLEMENTED=9900004;function encodeValue(e0){return Array.isArray(e0)?"%5B"+e0.map(encodeValue).join("%2C%20")+"%5D":typeof e0=="bigint"?`${e0}n`:encodeURIComponent(String(e0!=null&&Object.getPrototypeOf(e0)===null?{...e0}:e0))}function encodeObjectContextEntry([e0,r]){return`${e0}=${encodeValue(r)}`}function encodeContextObject(e0){const r=Object.entries(e0).map(encodeObjectContextEntry).join("&");return btoa(r)}var SolanaErrorMessages={[SOLANA_ERROR__ACCOUNTS__ACCOUNT_NOT_FOUND]:"Account not found at address: $address",[SOLANA_ERROR__ACCOUNTS__EXPECTED_ALL_ACCOUNTS_TO_BE_DECODED]:"Not all accounts were decoded. Encoded accounts found at addresses: $addresses.",[SOLANA_ERROR__ACCOUNTS__EXPECTED_DECODED_ACCOUNT]:"Expected decoded account at address: $address",[SOLANA_ERROR__ACCOUNTS__FAILED_TO_DECODE_ACCOUNT]:"Failed to decode account data at address: $address",[SOLANA_ERROR__ACCOUNTS__ONE_OR_MORE_ACCOUNTS_NOT_FOUND]:"Accounts not found at addresses: $addresses",[SOLANA_ERROR__ADDRESSES__FAILED_TO_FIND_VIABLE_PDA_BUMP_SEED]:"Unable to find a viable program address bump seed.",[SOLANA_ERROR__ADDRESSES__INVALID_BASE58_ENCODED_ADDRESS]:"$putativeAddress is not a base58-encoded address.",[SOLANA_ERROR__ADDRESSES__INVALID_BYTE_LENGTH]:"Expected base58 encoded address to decode to a byte array of length 32. Actual length: $actualLength.",[SOLANA_ERROR__ADDRESSES__INVALID_ED25519_PUBLIC_KEY]:"The `CryptoKey` must be an `Ed25519` public key.",[SOLANA_ERROR__ADDRESSES__INVALID_SEEDS_POINT_ON_CURVE]:"Invalid seeds; point must fall off the Ed25519 curve.",[SOLANA_ERROR__ADDRESSES__MALFORMED_PDA]:"Expected given program derived address to have the following format: [Address, ProgramDerivedAddressBump].",[SOLANA_ERROR__ADDRESSES__MAX_NUMBER_OF_PDA_SEEDS_EXCEEDED]:"A maximum of $maxSeeds seeds, including the bump seed, may be supplied when creating an address. Received: $actual.",[SOLANA_ERROR__ADDRESSES__MAX_PDA_SEED_LENGTH_EXCEEDED]:"The seed at index $index with length $actual exceeds the maximum length of $maxSeedLength bytes.",[SOLANA_ERROR__ADDRESSES__PDA_BUMP_SEED_OUT_OF_RANGE]:"Expected program derived address bump to be in the range [0, 255], got: $bump.",[SOLANA_ERROR__ADDRESSES__PDA_ENDS_WITH_PDA_MARKER]:"Program address cannot end with PDA marker.",[SOLANA_ERROR__ADDRESSES__STRING_LENGTH_OUT_OF_RANGE]:"Expected base58-encoded address string of length in the range [32, 44]. Actual length: $actualLength.",[SOLANA_ERROR__BLOCKHASH_STRING_LENGTH_OUT_OF_RANGE]:"Expected base58-encoded blockash string of length in the range [32, 44]. Actual length: $actualLength.",[SOLANA_ERROR__BLOCK_HEIGHT_EXCEEDED]:"The network has progressed past the last block for which this transaction could have been committed.",[SOLANA_ERROR__CODECS__CANNOT_DECODE_EMPTY_BYTE_ARRAY]:"Codec [$codecDescription] cannot decode empty byte arrays.",[SOLANA_ERROR__CODECS__CANNOT_USE_LEXICAL_VALUES_AS_ENUM_DISCRIMINATORS]:"Enum codec cannot use lexical values [$stringValues] as discriminators. Either remove all lexical values or set `useValuesAsDiscriminators` to `false`.",[SOLANA_ERROR__CODECS__ENCODED_BYTES_MUST_NOT_INCLUDE_SENTINEL]:"Sentinel [$hexSentinel] must not be present in encoded bytes [$hexEncodedBytes].",[SOLANA_ERROR__CODECS__ENCODER_DECODER_FIXED_SIZE_MISMATCH]:"Encoder and decoder must have the same fixed size, got [$encoderFixedSize] and [$decoderFixedSize].",[SOLANA_ERROR__CODECS__ENCODER_DECODER_MAX_SIZE_MISMATCH]:"Encoder and decoder must have the same max size, got [$encoderMaxSize] and [$decoderMaxSize].",[SOLANA_ERROR__CODECS__ENCODER_DECODER_SIZE_COMPATIBILITY_MISMATCH]:"Encoder and decoder must either both be fixed-size or variable-size.",[SOLANA_ERROR__CODECS__ENUM_DISCRIMINATOR_OUT_OF_RANGE]:"Enum discriminator out of range. Expected a number in [$formattedValidDiscriminators], got $discriminator.",[SOLANA_ERROR__CODECS__EXPECTED_FIXED_LENGTH]:"Expected a fixed-size codec, got a variable-size one.",[SOLANA_ERROR__CODECS__EXPECTED_POSITIVE_BYTE_LENGTH]:"Codec [$codecDescription] expected a positive byte length, got $bytesLength.",[SOLANA_ERROR__CODECS__EXPECTED_VARIABLE_LENGTH]:"Expected a variable-size codec, got a fixed-size one.",[SOLANA_ERROR__CODECS__EXPECTED_ZERO_VALUE_TO_MATCH_ITEM_FIXED_SIZE]:"Codec [$codecDescription] expected zero-value [$hexZeroValue] to have the same size as the provided fixed-size item [$expectedSize bytes].",[SOLANA_ERROR__CODECS__INVALID_BYTE_LENGTH]:"Codec [$codecDescription] expected $expected bytes, got $bytesLength.",[SOLANA_ERROR__CODECS__INVALID_CONSTANT]:"Expected byte array constant [$hexConstant] to be present in data [$hexData] at offset [$offset].",[SOLANA_ERROR__CODECS__INVALID_DISCRIMINATED_UNION_VARIANT]:"Invalid discriminated union variant. Expected one of [$variants], got $value.",[SOLANA_ERROR__CODECS__INVALID_ENUM_VARIANT]:"Invalid enum variant. Expected one of [$stringValues] or a number in [$formattedNumericalValues], got $variant.",[SOLANA_ERROR__CODECS__INVALID_LITERAL_UNION_VARIANT]:"Invalid literal union variant. Expected one of [$variants], got $value.",[SOLANA_ERROR__CODECS__INVALID_NUMBER_OF_ITEMS]:"Expected [$codecDescription] to have $expected items, got $actual.",[SOLANA_ERROR__CODECS__INVALID_STRING_FOR_BASE]:"Invalid value $value for base $base with alphabet $alphabet.",[SOLANA_ERROR__CODECS__LITERAL_UNION_DISCRIMINATOR_OUT_OF_RANGE]:"Literal union discriminator out of range. Expected a number between $minRange and $maxRange, got $discriminator.",[SOLANA_ERROR__CODECS__NUMBER_OUT_OF_RANGE]:"Codec [$codecDescription] expected number to be in the range [$min, $max], got $value.",[SOLANA_ERROR__CODECS__OFFSET_OUT_OF_RANGE]:"Codec [$codecDescription] expected offset to be in the range [0, $bytesLength], got $offset.",[SOLANA_ERROR__CODECS__SENTINEL_MISSING_IN_DECODED_BYTES]:"Expected sentinel [$hexSentinel] to be present in decoded bytes [$hexDecodedBytes].",[SOLANA_ERROR__CODECS__UNION_VARIANT_OUT_OF_RANGE]:"Union variant out of range. Expected an index between $minRange and $maxRange, got $variant.",[SOLANA_ERROR__CRYPTO__RANDOM_VALUES_FUNCTION_UNIMPLEMENTED]:"No random values implementation could be found.",[SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_ALREADY_INITIALIZED]:"instruction requires an uninitialized account",[SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_BORROW_FAILED]:"instruction tries to borrow reference for an account which is already borrowed",[SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_BORROW_OUTSTANDING]:"instruction left account with an outstanding borrowed reference",[SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_DATA_SIZE_CHANGED]:"program other than the account's owner changed the size of the account data",[SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_DATA_TOO_SMALL]:"account data too small for instruction",[SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_NOT_EXECUTABLE]:"instruction expected an executable account",[SOLANA_ERROR__INSTRUCTION_ERROR__ACCOUNT_NOT_RENT_EXEMPT]:"An account does not have enough lamports to be rent-exempt",[SOLANA_ERROR__INSTRUCTION_ERROR__ARITHMETIC_OVERFLOW]:"Program arithmetic overflowed",[SOLANA_ERROR__INSTRUCTION_ERROR__BORSH_IO_ERROR]:"Failed to serialize or deserialize account data: $encodedData",[SOLANA_ERROR__INSTRUCTION_ERROR__BUILTIN_PROGRAMS_MUST_CONSUME_COMPUTE_UNITS]:"Builtin programs must consume compute units",[SOLANA_ERROR__INSTRUCTION_ERROR__CALL_DEPTH]:"Cross-program invocation call depth too deep",[SOLANA_ERROR__INSTRUCTION_ERROR__COMPUTATIONAL_BUDGET_EXCEEDED]:"Computational budget exceeded",[SOLANA_ERROR__INSTRUCTION_ERROR__CUSTOM]:"custom program error: #$code",[SOLANA_ERROR__INSTRUCTION_ERROR__DUPLICATE_ACCOUNT_INDEX]:"instruction contains duplicate accounts",[SOLANA_ERROR__INSTRUCTION_ERROR__DUPLICATE_ACCOUNT_OUT_OF_SYNC]:"instruction modifications of multiply-passed account differ",[SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_ACCOUNT_NOT_RENT_EXEMPT]:"executable accounts must be rent exempt",[SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_DATA_MODIFIED]:"instruction changed executable accounts data",[SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_LAMPORT_CHANGE]:"instruction changed the balance of an executable account",[SOLANA_ERROR__INSTRUCTION_ERROR__EXECUTABLE_MODIFIED]:"instruction changed executable bit of an account",[SOLANA_ERROR__INSTRUCTION_ERROR__EXTERNAL_ACCOUNT_DATA_MODIFIED]:"instruction modified data of an account it does not own",[SOLANA_ERROR__INSTRUCTION_ERROR__EXTERNAL_ACCOUNT_LAMPORT_SPEND]:"instruction spent from the balance of an account it does not own",[SOLANA_ERROR__INSTRUCTION_ERROR__GENERIC_ERROR]:"generic instruction error",[SOLANA_ERROR__INSTRUCTION_ERROR__ILLEGAL_OWNER]:"Provided owner is not allowed",[SOLANA_ERROR__INSTRUCTION_ERROR__IMMUTABLE]:"Account is immutable",[SOLANA_ERROR__INSTRUCTION_ERROR__INCORRECT_AUTHORITY]:"Incorrect authority provided",[SOLANA_ERROR__INSTRUCTION_ERROR__INCORRECT_PROGRAM_ID]:"incorrect program id for instruction",[SOLANA_ERROR__INSTRUCTION_ERROR__INSUFFICIENT_FUNDS]:"insufficient funds for instruction",[SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ACCOUNT_DATA]:"invalid account data for instruction",[SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ACCOUNT_OWNER]:"Invalid account owner",[SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ARGUMENT]:"invalid program argument",[SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_ERROR]:"program returned invalid error code",[SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_INSTRUCTION_DATA]:"invalid instruction data",[SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_REALLOC]:"Failed to reallocate account data",[SOLANA_ERROR__INSTRUCTION_ERROR__INVALID_SEEDS]:"Provided seeds do not result in a valid address",[SOLANA_ERROR__INSTRUCTION_ERROR__MAX_ACCOUNTS_DATA_ALLOCATIONS_EXCEEDED]:"Accounts data allocations exceeded the maximum allowed per transaction",[SOLANA_ERROR__INSTRUCTION_ERROR__MAX_ACCOUNTS_EXCEEDED]:"Max accounts exceeded",[SOLANA_ERROR__INSTRUCTION_ERROR__MAX_INSTRUCTION_TRACE_LENGTH_EXCEEDED]:"Max instruction trace length exceeded",[SOLANA_ERROR__INSTRUCTION_ERROR__MAX_SEED_LENGTH_EXCEEDED]:"Length of the seed is too long for address generation",[SOLANA_ERROR__INSTRUCTION_ERROR__MISSING_ACCOUNT]:"An account required by the instruction is missing",[SOLANA_ERROR__INSTRUCTION_ERROR__MISSING_REQUIRED_SIGNATURE]:"missing required signature for instruction",[SOLANA_ERROR__INSTRUCTION_ERROR__MODIFIED_PROGRAM_ID]:"instruction illegally modified the program id of an account",[SOLANA_ERROR__INSTRUCTION_ERROR__NOT_ENOUGH_ACCOUNT_KEYS]:"insufficient account keys for instruction",[SOLANA_ERROR__INSTRUCTION_ERROR__PRIVILEGE_ESCALATION]:"Cross-program invocation with unauthorized signer or writable account",[SOLANA_ERROR__INSTRUCTION_ERROR__PROGRAM_ENVIRONMENT_SETUP_FAILURE]:"Failed to create program execution environment",[SOLANA_ERROR__INSTRUCTION_ERROR__PROGRAM_FAILED_TO_COMPILE]:"Program failed to compile",[SOLANA_ERROR__INSTRUCTION_ERROR__PROGRAM_FAILED_TO_COMPLETE]:"Program failed to complete",[SOLANA_ERROR__INSTRUCTION_ERROR__READONLY_DATA_MODIFIED]:"instruction modified data of a read-only account",[SOLANA_ERROR__INSTRUCTION_ERROR__READONLY_LAMPORT_CHANGE]:"instruction changed the balance of a read-only account",[SOLANA_ERROR__INSTRUCTION_ERROR__REENTRANCY_NOT_ALLOWED]:"Cross-program invocation reentrancy not allowed for this instruction",[SOLANA_ERROR__INSTRUCTION_ERROR__RENT_EPOCH_MODIFIED]:"instruction modified rent epoch of an account",[SOLANA_ERROR__INSTRUCTION_ERROR__UNBALANCED_INSTRUCTION]:"sum of account balances before and after instruction do not match",[SOLANA_ERROR__INSTRUCTION_ERROR__UNINITIALIZED_ACCOUNT]:"instruction requires an initialized account",[SOLANA_ERROR__INSTRUCTION_ERROR__UNKNOWN]:"",[SOLANA_ERROR__INSTRUCTION_ERROR__UNSUPPORTED_PROGRAM_ID]:"Unsupported program id",[SOLANA_ERROR__INSTRUCTION_ERROR__UNSUPPORTED_SYSVAR]:"Unsupported sysvar",[SOLANA_ERROR__INSTRUCTION__EXPECTED_TO_HAVE_ACCOUNTS]:"The instruction does not have any accounts.",[SOLANA_ERROR__INSTRUCTION__EXPECTED_TO_HAVE_DATA]:"The instruction does not have any data.",[SOLANA_ERROR__INSTRUCTION__PROGRAM_ID_MISMATCH]:"Expected instruction to have progress address $expectedProgramAddress, got $actualProgramAddress.",[SOLANA_ERROR__INVALID_BLOCKHASH_BYTE_LENGTH]:"Expected base58 encoded blockhash to decode to a byte array of length 32. Actual length: $actualLength.",[SOLANA_ERROR__INVALID_NONCE]:"The nonce `$expectedNonceValue` is no longer valid. It has advanced to `$actualNonceValue`",[SOLANA_ERROR__INVARIANT_VIOLATION__CACHED_ABORTABLE_ITERABLE_CACHE_ENTRY_MISSING]:"Invariant violation: Found no abortable iterable cache entry for key `$cacheKey`. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[SOLANA_ERROR__INVARIANT_VIOLATION__DATA_PUBLISHER_CHANNEL_UNIMPLEMENTED]:"Invariant violation: This data publisher does not publish to the channel named `$channelName`. Supported channels include $supportedChannelNames.",[SOLANA_ERROR__INVARIANT_VIOLATION__SUBSCRIPTION_ITERATOR_MUST_NOT_POLL_BEFORE_RESOLVING_EXISTING_MESSAGE_PROMISE]:"Invariant violation: WebSocket message iterator state is corrupt; iterated without first resolving existing message promise. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[SOLANA_ERROR__INVARIANT_VIOLATION__SUBSCRIPTION_ITERATOR_STATE_MISSING]:"Invariant violation: WebSocket message iterator is missing state storage. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[SOLANA_ERROR__INVARIANT_VIOLATION__SWITCH_MUST_BE_EXHAUSTIVE]:"Invariant violation: Switch statement non-exhaustive. Received unexpected value `$unexpectedValue`. It should be impossible to hit this error; please file an issue at https://sola.na/web3invariant",[SOLANA_ERROR__JSON_RPC__INTERNAL_ERROR]:"JSON-RPC error: Internal JSON-RPC error ($__serverMessage)",[SOLANA_ERROR__JSON_RPC__INVALID_PARAMS]:"JSON-RPC error: Invalid method parameter(s) ($__serverMessage)",[SOLANA_ERROR__JSON_RPC__INVALID_REQUEST]:"JSON-RPC error: The JSON sent is not a valid `Request` object ($__serverMessage)",[SOLANA_ERROR__JSON_RPC__METHOD_NOT_FOUND]:"JSON-RPC error: The method does not exist / is not available ($__serverMessage)",[SOLANA_ERROR__JSON_RPC__PARSE_ERROR]:"JSON-RPC error: An error occurred on the server while parsing the JSON text ($__serverMessage)",[SOLANA_ERROR__JSON_RPC__SCAN_ERROR]:"$__serverMessage",[SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_CLEANED_UP]:"$__serverMessage",[SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_NOT_AVAILABLE]:"$__serverMessage",[SOLANA_ERROR__JSON_RPC__SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET]:"$__serverMessage",[SOLANA_ERROR__JSON_RPC__SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX]:"$__serverMessage",[SOLANA_ERROR__JSON_RPC__SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED]:"$__serverMessage",[SOLANA_ERROR__JSON_RPC__SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED]:"Minimum context slot has not been reached",[SOLANA_ERROR__JSON_RPC__SERVER_ERROR_NODE_UNHEALTHY]:"Node is unhealthy; behind by $numSlotsBehind slots",[SOLANA_ERROR__JSON_RPC__SERVER_ERROR_NO_SNAPSHOT]:"No snapshot",[SOLANA_ERROR__JSON_RPC__SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE]:"Transaction simulation failed",[SOLANA_ERROR__JSON_RPC__SERVER_ERROR_SLOT_SKIPPED]:"$__serverMessage",[SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE]:"Transaction history is not available from this node",[SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE]:"$__serverMessage",[SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH]:"Transaction signature length mismatch",[SOLANA_ERROR__JSON_RPC__SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE]:"Transaction signature verification failure",[SOLANA_ERROR__JSON_RPC__SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION]:"$__serverMessage",[SOLANA_ERROR__KEYS__INVALID_KEY_PAIR_BYTE_LENGTH]:"Key pair bytes must be of length 64, got $byteLength.",[SOLANA_ERROR__KEYS__INVALID_PRIVATE_KEY_BYTE_LENGTH]:"Expected private key bytes with length 32. Actual length: $actualLength.",[SOLANA_ERROR__KEYS__INVALID_SIGNATURE_BYTE_LENGTH]:"Expected base58-encoded signature to decode to a byte array of length 64. Actual length: $actualLength.",[SOLANA_ERROR__KEYS__PUBLIC_KEY_MUST_MATCH_PRIVATE_KEY]:"The provided private key does not match the provided public key.",[SOLANA_ERROR__KEYS__SIGNATURE_STRING_LENGTH_OUT_OF_RANGE]:"Expected base58-encoded signature string of length in the range [64, 88]. Actual length: $actualLength.",[SOLANA_ERROR__LAMPORTS_OUT_OF_RANGE]:"Lamports value must be in the range [0, 2e64-1]",[SOLANA_ERROR__MALFORMED_BIGINT_STRING]:"`$value` cannot be parsed as a `BigInt`",[SOLANA_ERROR__MALFORMED_JSON_RPC_ERROR]:"$message",[SOLANA_ERROR__MALFORMED_NUMBER_STRING]:"`$value` cannot be parsed as a `Number`",[SOLANA_ERROR__NONCE_ACCOUNT_NOT_FOUND]:"No nonce account could be found at address `$nonceAccountAddress`",[SOLANA_ERROR__RPC_SUBSCRIPTIONS__CANNOT_CREATE_SUBSCRIPTION_PLAN]:"The notification name must end in 'Notifications' and the API must supply a subscription plan creator function for the notification '$notificationName'.",[SOLANA_ERROR__RPC_SUBSCRIPTIONS__CHANNEL_CLOSED_BEFORE_MESSAGE_BUFFERED]:"WebSocket was closed before payload could be added to the send buffer",[SOLANA_ERROR__RPC_SUBSCRIPTIONS__CHANNEL_CONNECTION_CLOSED]:"WebSocket connection closed",[SOLANA_ERROR__RPC_SUBSCRIPTIONS__CHANNEL_FAILED_TO_CONNECT]:"WebSocket failed to connect",[SOLANA_ERROR__RPC_SUBSCRIPTIONS__EXPECTED_SERVER_SUBSCRIPTION_ID]:"Failed to obtain a subscription id from the server",[SOLANA_ERROR__RPC__API_PLAN_MISSING_FOR_RPC_METHOD]:"Could not find an API plan for RPC method: `$method`",[SOLANA_ERROR__RPC__INTEGER_OVERFLOW]:"The $argumentLabel argument to the `$methodName` RPC method$optionalPathLabel was `$value`. This number is unsafe for use with the Solana JSON-RPC because it exceeds `Number.MAX_SAFE_INTEGER`.",[SOLANA_ERROR__RPC__TRANSPORT_HTTP_ERROR]:"HTTP error ($statusCode): $message",[SOLANA_ERROR__RPC__TRANSPORT_HTTP_HEADER_FORBIDDEN]:"HTTP header(s) forbidden: $headers. Learn more at https://developer.mozilla.org/en-US/docs/Glossary/Forbidden_header_name.",[SOLANA_ERROR__SIGNER__ADDRESS_CANNOT_HAVE_MULTIPLE_SIGNERS]:"Multiple distinct signers were identified for address `$address`. Please ensure that you are using the same signer instance for each address.",[SOLANA_ERROR__SIGNER__EXPECTED_KEY_PAIR_SIGNER]:"The provided value does not implement the `KeyPairSigner` interface",[SOLANA_ERROR__SIGNER__EXPECTED_MESSAGE_MODIFYING_SIGNER]:"The provided value does not implement the `MessageModifyingSigner` interface",[SOLANA_ERROR__SIGNER__EXPECTED_MESSAGE_PARTIAL_SIGNER]:"The provided value does not implement the `MessagePartialSigner` interface",[SOLANA_ERROR__SIGNER__EXPECTED_MESSAGE_SIGNER]:"The provided value does not implement any of the `MessageSigner` interfaces",[SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_MODIFYING_SIGNER]:"The provided value does not implement the `TransactionModifyingSigner` interface",[SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_PARTIAL_SIGNER]:"The provided value does not implement the `TransactionPartialSigner` interface",[SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_SENDING_SIGNER]:"The provided value does not implement the `TransactionSendingSigner` interface",[SOLANA_ERROR__SIGNER__EXPECTED_TRANSACTION_SIGNER]:"The provided value does not implement any of the `TransactionSigner` interfaces",[SOLANA_ERROR__SIGNER__TRANSACTION_CANNOT_HAVE_MULTIPLE_SENDING_SIGNERS]:"More than one `TransactionSendingSigner` was identified.",[SOLANA_ERROR__SIGNER__TRANSACTION_SENDING_SIGNER_MISSING]:"No `TransactionSendingSigner` was identified. Please provide a valid `ITransactionWithSingleSendingSigner` transaction.",[SOLANA_ERROR__SIGNER__WALLET_MULTISIGN_UNIMPLEMENTED]:"Wallet account signers do not support signing multiple messages/transactions in a single operation",[SOLANA_ERROR__SUBTLE_CRYPTO__CANNOT_EXPORT_NON_EXTRACTABLE_KEY]:"Cannot export a non-extractable key.",[SOLANA_ERROR__SUBTLE_CRYPTO__DIGEST_UNIMPLEMENTED]:"No digest implementation could be found.",[SOLANA_ERROR__SUBTLE_CRYPTO__DISALLOWED_IN_INSECURE_CONTEXT]:"Cryptographic operations are only allowed in secure browser contexts. Read more here: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts.",[SOLANA_ERROR__SUBTLE_CRYPTO__ED25519_ALGORITHM_UNIMPLEMENTED]:`This runtime does not support the generation of Ed25519 key pairs.

Install @solana/webcrypto-ed25519-polyfill and call its \`install\` function before generating keys in environments that do not support Ed25519.

For a list of runtimes that currently support Ed25519 operations, visit https://github.com/WICG/webcrypto-secure-curves/issues/20.`,[SOLANA_ERROR__SUBTLE_CRYPTO__EXPORT_FUNCTION_UNIMPLEMENTED]:"No signature verification implementation could be found.",[SOLANA_ERROR__SUBTLE_CRYPTO__GENERATE_FUNCTION_UNIMPLEMENTED]:"No key generation implementation could be found.",[SOLANA_ERROR__SUBTLE_CRYPTO__SIGN_FUNCTION_UNIMPLEMENTED]:"No signing implementation could be found.",[SOLANA_ERROR__SUBTLE_CRYPTO__VERIFY_FUNCTION_UNIMPLEMENTED]:"No key export implementation could be found.",[SOLANA_ERROR__TIMESTAMP_OUT_OF_RANGE]:"Timestamp value must be in the range [-(2n ** 63n), (2n ** 63n) - 1]. `$value` given",[SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_BORROW_OUTSTANDING]:"Transaction processing left an account with an outstanding borrowed reference",[SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_IN_USE]:"Account in use",[SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_LOADED_TWICE]:"Account loaded twice",[SOLANA_ERROR__TRANSACTION_ERROR__ACCOUNT_NOT_FOUND]:"Attempt to debit an account but found no record of a prior credit.",[SOLANA_ERROR__TRANSACTION_ERROR__ADDRESS_LOOKUP_TABLE_NOT_FOUND]:"Transaction loads an address table account that doesn't exist",[SOLANA_ERROR__TRANSACTION_ERROR__ALREADY_PROCESSED]:"This transaction has already been processed",[SOLANA_ERROR__TRANSACTION_ERROR__BLOCKHASH_NOT_FOUND]:"Blockhash not found",[SOLANA_ERROR__TRANSACTION_ERROR__CALL_CHAIN_TOO_DEEP]:"Loader call chain is too deep",[SOLANA_ERROR__TRANSACTION_ERROR__CLUSTER_MAINTENANCE]:"Transactions are currently disabled due to cluster maintenance",[SOLANA_ERROR__TRANSACTION_ERROR__DUPLICATE_INSTRUCTION]:"Transaction contains a duplicate instruction ($index) that is not allowed",[SOLANA_ERROR__TRANSACTION_ERROR__INSUFFICIENT_FUNDS_FOR_FEE]:"Insufficient funds for fee",[SOLANA_ERROR__TRANSACTION_ERROR__INSUFFICIENT_FUNDS_FOR_RENT]:"Transaction results in an account ($accountIndex) with insufficient funds for rent",[SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ACCOUNT_FOR_FEE]:"This account may not be used to pay transaction fees",[SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ACCOUNT_INDEX]:"Transaction contains an invalid account reference",[SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ADDRESS_LOOKUP_TABLE_DATA]:"Transaction loads an address table account with invalid data",[SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ADDRESS_LOOKUP_TABLE_INDEX]:"Transaction address table lookup uses an invalid index",[SOLANA_ERROR__TRANSACTION_ERROR__INVALID_ADDRESS_LOOKUP_TABLE_OWNER]:"Transaction loads an address table account with an invalid owner",[SOLANA_ERROR__TRANSACTION_ERROR__INVALID_LOADED_ACCOUNTS_DATA_SIZE_LIMIT]:"LoadedAccountsDataSizeLimit set for transaction must be greater than 0.",[SOLANA_ERROR__TRANSACTION_ERROR__INVALID_PROGRAM_FOR_EXECUTION]:"This program may not be used for executing instructions",[SOLANA_ERROR__TRANSACTION_ERROR__INVALID_RENT_PAYING_ACCOUNT]:"Transaction leaves an account with a lower balance than rent-exempt minimum",[SOLANA_ERROR__TRANSACTION_ERROR__INVALID_WRITABLE_ACCOUNT]:"Transaction loads a writable account that cannot be written",[SOLANA_ERROR__TRANSACTION_ERROR__MAX_LOADED_ACCOUNTS_DATA_SIZE_EXCEEDED]:"Transaction exceeded max loaded accounts data size cap",[SOLANA_ERROR__TRANSACTION_ERROR__MISSING_SIGNATURE_FOR_FEE]:"Transaction requires a fee but has no signature present",[SOLANA_ERROR__TRANSACTION_ERROR__PROGRAM_ACCOUNT_NOT_FOUND]:"Attempt to load a program that does not exist",[SOLANA_ERROR__TRANSACTION_ERROR__PROGRAM_EXECUTION_TEMPORARILY_RESTRICTED]:"Execution of the program referenced by account at index $accountIndex is temporarily restricted.",[SOLANA_ERROR__TRANSACTION_ERROR__RESANITIZATION_NEEDED]:"ResanitizationNeeded",[SOLANA_ERROR__TRANSACTION_ERROR__SANITIZE_FAILURE]:"Transaction failed to sanitize accounts offsets correctly",[SOLANA_ERROR__TRANSACTION_ERROR__SIGNATURE_FAILURE]:"Transaction did not pass signature verification",[SOLANA_ERROR__TRANSACTION_ERROR__TOO_MANY_ACCOUNT_LOCKS]:"Transaction locked too many accounts",[SOLANA_ERROR__TRANSACTION_ERROR__UNBALANCED_TRANSACTION]:"Sum of account balances before and after transaction do not match",[SOLANA_ERROR__TRANSACTION_ERROR__UNKNOWN]:"The transaction failed with the error `$errorName`",[SOLANA_ERROR__TRANSACTION_ERROR__UNSUPPORTED_VERSION]:"Transaction version is unsupported",[SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_ACCOUNT_DATA_BLOCK_LIMIT]:"Transaction would exceed account data limit within the block",[SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_ACCOUNT_DATA_TOTAL_LIMIT]:"Transaction would exceed total account data limit",[SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_MAX_ACCOUNT_COST_LIMIT]:"Transaction would exceed max account limit within the block",[SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_MAX_BLOCK_COST_LIMIT]:"Transaction would exceed max Block Cost Limit",[SOLANA_ERROR__TRANSACTION_ERROR__WOULD_EXCEED_MAX_VOTE_COST_LIMIT]:"Transaction would exceed max Vote Cost Limit",[SOLANA_ERROR__TRANSACTION__ADDRESSES_CANNOT_SIGN_TRANSACTION]:"Attempted to sign a transaction with an address that is not a signer for it",[SOLANA_ERROR__TRANSACTION__ADDRESS_MISSING]:"Transaction is missing an address at index: $index.",[SOLANA_ERROR__TRANSACTION__CANNOT_ENCODE_WITH_EMPTY_SIGNATURES]:"Transaction has no expected signers therefore it cannot be encoded",[SOLANA_ERROR__TRANSACTION__EXPECTED_BLOCKHASH_LIFETIME]:"Transaction does not have a blockhash lifetime",[SOLANA_ERROR__TRANSACTION__EXPECTED_NONCE_LIFETIME]:"Transaction is not a durable nonce transaction",[SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_ADDRESS_LOOKUP_TABLE_CONTENTS_MISSING]:"Contents of these address lookup tables unknown: $lookupTableAddresses",[SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_ADDRESS_LOOKUP_TABLE_INDEX_OUT_OF_RANGE]:"Lookup of address at index $highestRequestedIndex failed for lookup table `$lookupTableAddress`. Highest known index is $highestKnownIndex. The lookup table may have been extended since its contents were retrieved",[SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_FEE_PAYER_MISSING]:"No fee payer set in CompiledTransaction",[SOLANA_ERROR__TRANSACTION__FAILED_TO_DECOMPILE_INSTRUCTION_PROGRAM_ADDRESS_NOT_FOUND]:"Could not find program address at index $index",[SOLANA_ERROR__TRANSACTION__FAILED_TO_ESTIMATE_COMPUTE_LIMIT]:"Failed to estimate the compute unit consumption for this transaction message. This is likely because simulating the transaction failed. Inspect the `cause` property of this error to learn more",[SOLANA_ERROR__TRANSACTION__FAILED_WHEN_SIMULATING_TO_ESTIMATE_COMPUTE_LIMIT]:"Transaction failed when it was simulated in order to estimate the compute unit consumption. The compute unit estimate provided is for a transaction that failed when simulated and may not be representative of the compute units this transaction would consume if successful. Inspect the `cause` property of this error to learn more",[SOLANA_ERROR__TRANSACTION__FEE_PAYER_MISSING]:"Transaction is missing a fee payer.",[SOLANA_ERROR__TRANSACTION__FEE_PAYER_SIGNATURE_MISSING]:"Could not determine this transaction's signature. Make sure that the transaction has been signed by its fee payer.",[SOLANA_ERROR__TRANSACTION__INVALID_NONCE_TRANSACTION_FIRST_INSTRUCTION_MUST_BE_ADVANCE_NONCE]:"Transaction first instruction is not advance nonce account instruction.",[SOLANA_ERROR__TRANSACTION__INVALID_NONCE_TRANSACTION_INSTRUCTIONS_MISSING]:"Transaction with no instructions cannot be durable nonce transaction.",[SOLANA_ERROR__TRANSACTION__INVOKED_PROGRAMS_CANNOT_PAY_FEES]:"This transaction includes an address (`$programAddress`) which is both invoked and set as the fee payer. Program addresses may not pay fees",[SOLANA_ERROR__TRANSACTION__INVOKED_PROGRAMS_MUST_NOT_BE_WRITABLE]:"This transaction includes an address (`$programAddress`) which is both invoked and marked writable. Program addresses may not be writable",[SOLANA_ERROR__TRANSACTION__MESSAGE_SIGNATURES_MISMATCH]:"The transaction message expected the transaction to have $signerAddressesLength signatures, got $signaturesLength.",[SOLANA_ERROR__TRANSACTION__SIGNATURES_MISSING]:"Transaction is missing signatures for addresses: $addresses.",[SOLANA_ERROR__TRANSACTION__VERSION_NUMBER_OUT_OF_RANGE]:"Transaction version must be in the range [0, 127]. `$actualVersion` given"},START_INDEX="i",TYPE="t";function getHumanReadableErrorMessage(e0,r={}){const t0=SolanaErrorMessages[e0];if(t0.length===0)return"";let n0;function r0(o0){if(n0[TYPE]===2){const s0=t0.slice(n0[START_INDEX]+1,o0);i0.push(s0 in r?`${r[s0]}`:`$${s0}`)}else n0[TYPE]===1&&i0.push(t0.slice(n0[START_INDEX],o0))}const i0=[];return t0.split("").forEach((o0,s0)=>{if(s0===0){n0={[START_INDEX]:0,[TYPE]:t0[0]==="\\"?0:t0[0]==="$"?2:1};return}let a0;switch(n0[TYPE]){case 0:a0={[START_INDEX]:s0,[TYPE]:1};break;case 1:o0==="\\"?a0={[START_INDEX]:s0,[TYPE]:0}:o0==="$"&&(a0={[START_INDEX]:s0,[TYPE]:2});break;case 2:o0==="\\"?a0={[START_INDEX]:s0,[TYPE]:0}:o0==="$"?a0={[START_INDEX]:s0,[TYPE]:2}:o0.match(/\w/)||(a0={[START_INDEX]:s0,[TYPE]:1});break}a0&&(n0!==a0&&r0(s0),n0=a0)}),r0(),i0.join("")}function getErrorMessage(e0,r={}){if(process.env.NODE_ENV!=="production")return getHumanReadableErrorMessage(e0,r);{let t0=`Solana error #${e0}; Decode this error by running \`npx @solana/errors decode -- ${e0}`;return Object.keys(r).length&&(t0+=` '${encodeContextObject(r)}'`),`${t0}\``}}var SolanaError=class extends Error{constructor(...[r,t0]){let n0,r0;if(t0){const{cause:o0,...s0}=t0;o0&&(r0={cause:o0}),Object.keys(s0).length>0&&(n0=s0)}const i0=getErrorMessage(r,n0);super(i0,r0);$g(this,"cause",this.cause);$g(this,"context");this.context={__code:r,...n0},this.name="SolanaError"}};function getEncodedSize(e0,r){return"fixedSize"in r?r.fixedSize:r.getSizeFromValue(e0)}function createEncoder(e0){return Object.freeze({...e0,encode:r=>{const t0=new Uint8Array(getEncodedSize(r,e0));return e0.write(r,t0,0),t0}})}function createDecoder(e0){return Object.freeze({...e0,decode:(r,t0=0)=>e0.read(r,t0)[0]})}function isFixedSize(e0){return"fixedSize"in e0&&typeof e0.fixedSize=="number"}function combineCodec(e0,r){if(isFixedSize(e0)!==isFixedSize(r))throw new SolanaError(SOLANA_ERROR__CODECS__ENCODER_DECODER_SIZE_COMPATIBILITY_MISMATCH);if(isFixedSize(e0)&&isFixedSize(r)&&e0.fixedSize!==r.fixedSize)throw new SolanaError(SOLANA_ERROR__CODECS__ENCODER_DECODER_FIXED_SIZE_MISMATCH,{decoderFixedSize:r.fixedSize,encoderFixedSize:e0.fixedSize});if(!isFixedSize(e0)&&!isFixedSize(r)&&e0.maxSize!==r.maxSize)throw new SolanaError(SOLANA_ERROR__CODECS__ENCODER_DECODER_MAX_SIZE_MISMATCH,{decoderMaxSize:r.maxSize,encoderMaxSize:e0.maxSize});return{...r,...e0,decode:r.decode,encode:e0.encode,read:r.read,write:e0.write}}function assertByteArrayIsNotEmptyForCodec(e0,r,t0=0){if(r.length-t0<=0)throw new SolanaError(SOLANA_ERROR__CODECS__CANNOT_DECODE_EMPTY_BYTE_ARRAY,{codecDescription:e0})}function assertByteArrayHasEnoughBytesForCodec(e0,r,t0,n0=0){const r0=t0.length-n0;if(r0<r)throw new SolanaError(SOLANA_ERROR__CODECS__INVALID_BYTE_LENGTH,{bytesLength:r0,codecDescription:e0,expected:r})}function assertNumberIsBetweenForCodec(e0,r,t0,n0){if(n0<r||n0>t0)throw new SolanaError(SOLANA_ERROR__CODECS__NUMBER_OUT_OF_RANGE,{codecDescription:e0,max:t0,min:r,value:n0})}function isLittleEndian(e0){return e0?.endian!==1}function numberEncoderFactory(e0){return createEncoder({fixedSize:e0.size,write(r,t0,n0){e0.range&&assertNumberIsBetweenForCodec(e0.name,e0.range[0],e0.range[1],r);const r0=new ArrayBuffer(e0.size);return e0.set(new DataView(r0),r,isLittleEndian(e0.config)),t0.set(new Uint8Array(r0),n0),n0+e0.size}})}function numberDecoderFactory(e0){return createDecoder({fixedSize:e0.size,read(r,t0=0){assertByteArrayIsNotEmptyForCodec(e0.name,r,t0),assertByteArrayHasEnoughBytesForCodec(e0.name,e0.size,r,t0);const n0=new DataView(toArrayBuffer(r,t0,e0.size));return[e0.get(n0,isLittleEndian(e0.config)),t0+e0.size]}})}function toArrayBuffer(e0,r,t0){const n0=e0.byteOffset+(r??0),r0=t0??e0.byteLength;return e0.buffer.slice(n0,n0+r0)}var getU64Encoder=(e0={})=>numberEncoderFactory({config:e0,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(r,t0,n0)=>r.setBigUint64(0,BigInt(t0),n0),size:8}),getU64Decoder=(e0={})=>numberDecoderFactory({config:e0,get:(r,t0)=>r.getBigUint64(0,t0),name:"u64",size:8}),getU64Codec=(e0={})=>combineCodec(getU64Encoder(e0),getU64Decoder(e0));class StructError extends TypeError{constructor(r,t0){let n0;const{message:r0,explanation:i0,...o0}=r,{path:s0}=r,a0=s0.length===0?r0:`At path: ${s0.join(".")} -- ${r0}`;super(i0??a0),i0!=null&&(this.cause=a0),Object.assign(this,o0),this.name=this.constructor.name,this.failures=()=>n0??(n0=[r,...t0()])}}function isIterable(e0){return isObject(e0)&&typeof e0[Symbol.iterator]=="function"}function isObject(e0){return typeof e0=="object"&&e0!=null}function isNonArrayObject(e0){return isObject(e0)&&!Array.isArray(e0)}function print(e0){return typeof e0=="symbol"?e0.toString():typeof e0=="string"?JSON.stringify(e0):`${e0}`}function shiftIterator(e0){const{done:r,value:t0}=e0.next();return r?void 0:t0}function toFailure(e0,r,t0,n0){if(e0===!0)return;e0===!1?e0={}:typeof e0=="string"&&(e0={message:e0});const{path:r0,branch:i0}=r,{type:o0}=t0,{refinement:s0,message:a0=`Expected a value of type \`${o0}\`${s0?` with refinement \`${s0}\``:""}, but received: \`${print(n0)}\``}=e0;return{value:n0,type:o0,refinement:s0,key:r0[r0.length-1],path:r0,branch:i0,...e0,message:a0}}function*toFailures(e0,r,t0,n0){isIterable(e0)||(e0=[e0]);for(const r0 of e0){const i0=toFailure(r0,r,t0,n0);i0&&(yield i0)}}function*run(e0,r,t0={}){const{path:n0=[],branch:r0=[e0],coerce:i0=!1,mask:o0=!1}=t0,s0={path:n0,branch:r0,mask:o0};i0&&(e0=r.coercer(e0,s0));let a0="valid";for(const c0 of r.validator(e0,s0))c0.explanation=t0.message,a0="not_valid",yield[c0,void 0];for(let[c0,l0,u0]of r.entries(e0,s0)){const h0=run(l0,u0,{path:c0===void 0?n0:[...n0,c0],branch:c0===void 0?r0:[...r0,l0],coerce:i0,mask:o0,message:t0.message});for(const g0 of h0)g0[0]?(a0=g0[0].refinement!=null?"not_refined":"not_valid",yield[g0[0],void 0]):i0&&(l0=g0[1],c0===void 0?e0=l0:e0 instanceof Map?e0.set(c0,l0):e0 instanceof Set?e0.add(l0):isObject(e0)&&(l0!==void 0||c0 in e0)&&(e0[c0]=l0))}if(a0!=="not_valid")for(const c0 of r.refiner(e0,s0))c0.explanation=t0.message,a0="not_refined",yield[c0,void 0];a0==="valid"&&(yield[void 0,e0])}let Struct$1=class{constructor(r){const{type:t0,schema:n0,validator:r0,refiner:i0,coercer:o0=a0=>a0,entries:s0=function*(){}}=r;this.type=t0,this.schema=n0,this.entries=s0,this.coercer=o0,r0?this.validator=(a0,c0)=>{const l0=r0(a0,c0);return toFailures(l0,c0,this,a0)}:this.validator=()=>[],i0?this.refiner=(a0,c0)=>{const l0=i0(a0,c0);return toFailures(l0,c0,this,a0)}:this.refiner=()=>[]}assert(r,t0){return assert$1(r,this,t0)}create(r,t0){return create(r,this,t0)}is(r){return is(r,this)}mask(r,t0){return mask(r,this,t0)}validate(r,t0={}){return validate(r,this,t0)}};function assert$1(e0,r,t0){const n0=validate(e0,r,{message:t0});if(n0[0])throw n0[0]}function create(e0,r,t0){const n0=validate(e0,r,{coerce:!0,message:t0});if(n0[0])throw n0[0];return n0[1]}function mask(e0,r,t0){const n0=validate(e0,r,{coerce:!0,mask:!0,message:t0});if(n0[0])throw n0[0];return n0[1]}function is(e0,r){return!validate(e0,r)[0]}function validate(e0,r,t0={}){const n0=run(e0,r,t0),r0=shiftIterator(n0);return r0[0]?[new StructError(r0[0],function*(){for(const o0 of n0)o0[0]&&(yield o0[0])}),void 0]:[void 0,r0[1]]}function define(e0,r){return new Struct$1({type:e0,schema:null,validator:r})}function any(){return define("any",()=>!0)}function array(e0){return new Struct$1({type:"array",schema:e0,*entries(r){if(e0&&Array.isArray(r))for(const[t0,n0]of r.entries())yield[t0,n0,e0]},coercer(r){return Array.isArray(r)?r.slice():r},validator(r){return Array.isArray(r)||`Expected an array value, but received: ${print(r)}`}})}function boolean(){return define("boolean",e0=>typeof e0=="boolean")}function instance(e0){return define("instance",r=>r instanceof e0||`Expected a \`${e0.name}\` instance, but received: ${print(r)}`)}function literal(e0){const r=print(e0),t0=typeof e0;return new Struct$1({type:"literal",schema:t0==="string"||t0==="number"||t0==="boolean"?e0:null,validator(n0){return n0===e0||`Expected the literal \`${r}\`, but received: ${print(n0)}`}})}function never(){return define("never",()=>!1)}function nullable(e0){return new Struct$1({...e0,validator:(r,t0)=>r===null||e0.validator(r,t0),refiner:(r,t0)=>r===null||e0.refiner(r,t0)})}function number(){return define("number",e0=>typeof e0=="number"&&!isNaN(e0)||`Expected a number, but received: ${print(e0)}`)}function optional(e0){return new Struct$1({...e0,validator:(r,t0)=>r===void 0||e0.validator(r,t0),refiner:(r,t0)=>r===void 0||e0.refiner(r,t0)})}function record(e0,r){return new Struct$1({type:"record",schema:null,*entries(t0){if(isObject(t0))for(const n0 in t0){const r0=t0[n0];yield[n0,n0,e0],yield[n0,r0,r]}},validator(t0){return isNonArrayObject(t0)||`Expected an object, but received: ${print(t0)}`},coercer(t0){return isNonArrayObject(t0)?{...t0}:t0}})}function string(){return define("string",e0=>typeof e0=="string"||`Expected a string, but received: ${print(e0)}`)}function tuple(e0){const r=never();return new Struct$1({type:"tuple",schema:null,*entries(t0){if(Array.isArray(t0)){const n0=Math.max(e0.length,t0.length);for(let r0=0;r0<n0;r0++)yield[r0,t0[r0],e0[r0]||r]}},validator(t0){return Array.isArray(t0)||`Expected an array, but received: ${print(t0)}`},coercer(t0){return Array.isArray(t0)?t0.slice():t0}})}function type(e0){const r=Object.keys(e0);return new Struct$1({type:"type",schema:e0,*entries(t0){if(isObject(t0))for(const n0 of r)yield[n0,t0[n0],e0[n0]]},validator(t0){return isNonArrayObject(t0)||`Expected an object, but received: ${print(t0)}`},coercer(t0){return isNonArrayObject(t0)?{...t0}:t0}})}function union(e0){const r=e0.map(t0=>t0.type).join(" | ");return new Struct$1({type:"union",schema:null,coercer(t0,n0){for(const r0 of e0){const[i0,o0]=r0.validate(t0,{coerce:!0,mask:n0.mask});if(!i0)return o0}return t0},validator(t0,n0){const r0=[];for(const i0 of e0){const[...o0]=run(t0,i0,n0),[s0]=o0;if(s0[0])for(const[a0]of o0)a0&&r0.push(a0);else return[]}return[`Expected the value to satisfy a union of \`${r}\`, but received: ${print(t0)}`,...r0]}})}function unknown(){return define("unknown",()=>!0)}function coerce(e0,r,t0){return new Struct$1({...e0,coercer:(n0,r0)=>is(n0,r)?e0.coercer(t0(n0,r0),r0):e0.coercer(n0,r0)})}const require$$0=connector.getAugmentedNamespace(esmBrowser),uuid$1=require$$0.v4,generateRequest$1=function(e0,r,t0,n0){if(typeof e0!="string")throw new TypeError(e0+" must be a string");n0=n0||{};const r0=typeof n0.version=="number"?n0.version:2;if(r0!==1&&r0!==2)throw new TypeError(r0+" must be 1 or 2");const i0={method:e0};if(r0===2&&(i0.jsonrpc="2.0"),r){if(typeof r!="object"&&!Array.isArray(r))throw new TypeError(r+" must be an object, array or omitted");i0.params=r}if(typeof t0>"u"){const o0=typeof n0.generator=="function"?n0.generator:function(){return uuid$1()};i0.id=o0(i0,n0)}else r0===2&&t0===null?n0.notificationIdNull&&(i0.id=null):i0.id=t0;return i0};var generateRequest_1=generateRequest$1;const uuid=require$$0.v4,generateRequest=generateRequest_1,ClientBrowser=function(e0,r){if(!(this instanceof ClientBrowser))return new ClientBrowser(e0,r);r||(r={}),this.options={reviver:typeof r.reviver<"u"?r.reviver:null,replacer:typeof r.replacer<"u"?r.replacer:null,generator:typeof r.generator<"u"?r.generator:function(){return uuid()},version:typeof r.version<"u"?r.version:2,notificationIdNull:typeof r.notificationIdNull=="boolean"?r.notificationIdNull:!1},this.callServer=e0};ClientBrowser.prototype.request=function(e0,r,t0,n0){const r0=this;let i0=null;const o0=Array.isArray(e0)&&typeof r=="function";if(this.options.version===1&&o0)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o0||!o0&&e0&&typeof e0=="object"&&typeof r=="function")n0=r,i0=e0;else{typeof t0=="function"&&(n0=t0,t0=void 0);const c0=typeof n0=="function";try{i0=generateRequest(e0,r,t0,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(l0){if(c0)return n0(l0);throw l0}if(!c0)return i0}let a0;try{a0=JSON.stringify(i0,this.options.replacer)}catch(c0){return n0(c0)}return this.callServer(a0,function(c0,l0){r0._parseResponse(c0,l0,n0)}),i0};ClientBrowser.prototype._parseResponse=function(e0,r,t0){if(e0){t0(e0);return}if(!r)return t0();let n0;try{n0=JSON.parse(r,this.options.reviver)}catch(r0){return t0(r0)}if(t0.length===3)if(Array.isArray(n0)){const r0=function(o0){return typeof o0.error<"u"},i0=function(o0){return!r0(o0)};return t0(null,n0.filter(r0),n0.filter(i0))}else return t0(null,n0.error,n0.result);t0(null,n0)};class HMAC extends Hash{constructor(r,t0){super(),this.finished=!1,this.destroyed=!1,ahash(r);const n0=toBytes(t0);if(this.iHash=r.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r0=this.blockLen,i0=new Uint8Array(r0);i0.set(n0.length>r0?r.create().update(n0).digest():n0);for(let o0=0;o0<i0.length;o0++)i0[o0]^=54;this.iHash.update(i0),this.oHash=r.create();for(let o0=0;o0<i0.length;o0++)i0[o0]^=106;this.oHash.update(i0),clean(i0)}update(r){return aexists(this),this.iHash.update(r),this}digestInto(r){aexists(this),abytes$1(r,this.outputLen),this.finished=!0,this.iHash.digestInto(r),this.oHash.update(r),this.oHash.digestInto(r),this.destroy()}digest(){const r=new Uint8Array(this.oHash.outputLen);return this.digestInto(r),r}_cloneInto(r){r||(r=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t0,iHash:n0,finished:r0,destroyed:i0,blockLen:o0,outputLen:s0}=this;return r=r,r.finished=r0,r.destroyed=i0,r.blockLen=o0,r.outputLen=s0,r.oHash=t0._cloneInto(r.oHash),r.iHash=n0._cloneInto(r.iHash),r}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hmac=(e0,r,t0)=>new HMAC(e0,r).update(t0).digest();hmac.create=(e0,r)=>new HMAC(e0,r);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function validateSigVerOpts(e0){e0.lowS!==void 0&&abool("lowS",e0.lowS),e0.prehash!==void 0&&abool("prehash",e0.prehash)}function validatePointOpts(e0){const r=validateBasic(e0);validateObject(r,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:t0,Fp:n0,a:r0}=r;if(t0){if(!n0.eql(r0,n0.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof t0!="object"||typeof t0.beta!="bigint"||typeof t0.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...r})}class DERErr extends Error{constructor(r=""){super(r)}}const DER={Err:DERErr,_tlv:{encode:(e0,r)=>{const{Err:t0}=DER;if(e0<0||e0>256)throw new t0("tlv.encode: wrong tag");if(r.length&1)throw new t0("tlv.encode: unpadded data");const n0=r.length/2,r0=numberToHexUnpadded(n0);if(r0.length/2&128)throw new t0("tlv.encode: long form length too big");const i0=n0>127?numberToHexUnpadded(r0.length/2|128):"";return numberToHexUnpadded(e0)+i0+r0+r},decode(e0,r){const{Err:t0}=DER;let n0=0;if(e0<0||e0>256)throw new t0("tlv.encode: wrong tag");if(r.length<2||r[n0++]!==e0)throw new t0("tlv.decode: wrong tlv");const r0=r[n0++],i0=!!(r0&128);let o0=0;if(!i0)o0=r0;else{const a0=r0&127;if(!a0)throw new t0("tlv.decode(long): indefinite length not supported");if(a0>4)throw new t0("tlv.decode(long): byte length is too big");const c0=r.subarray(n0,n0+a0);if(c0.length!==a0)throw new t0("tlv.decode: length bytes not complete");if(c0[0]===0)throw new t0("tlv.decode(long): zero leftmost byte");for(const l0 of c0)o0=o0<<8|l0;if(n0+=a0,o0<128)throw new t0("tlv.decode(long): not minimal encoding")}const s0=r.subarray(n0,n0+o0);if(s0.length!==o0)throw new t0("tlv.decode: wrong value length");return{v:s0,l:r.subarray(n0+o0)}}},_int:{encode(e0){const{Err:r}=DER;if(e0<_0n$1)throw new r("integer: negative integers are not allowed");let t0=numberToHexUnpadded(e0);if(Number.parseInt(t0[0],16)&8&&(t0="00"+t0),t0.length&1)throw new r("unexpected DER parsing assertion: unpadded hex");return t0},decode(e0){const{Err:r}=DER;if(e0[0]&128)throw new r("invalid signature integer: negative");if(e0[0]===0&&!(e0[1]&128))throw new r("invalid signature integer: unnecessary leading zero");return bytesToNumberBE(e0)}},toSig(e0){const{Err:r,_int:t0,_tlv:n0}=DER,r0=ensureBytes("signature",e0),{v:i0,l:o0}=n0.decode(48,r0);if(o0.length)throw new r("invalid signature: left bytes after parsing");const{v:s0,l:a0}=n0.decode(2,i0),{v:c0,l:l0}=n0.decode(2,a0);if(l0.length)throw new r("invalid signature: left bytes after parsing");return{r:t0.decode(s0),s:t0.decode(c0)}},hexFromSig(e0){const{_tlv:r,_int:t0}=DER,n0=r.encode(2,t0.encode(e0.r)),r0=r.encode(2,t0.encode(e0.s)),i0=n0+r0;return r.encode(48,i0)}};function numToSizedHex(e0,r){return bytesToHex(numberToBytesBE(e0,r))}const _0n$1=BigInt(0),_1n$1=BigInt(1);BigInt(2);const _3n=BigInt(3),_4n=BigInt(4);function weierstrassPoints(e0){const r=validatePointOpts(e0),{Fp:t0}=r,n0=Field(r.n,r.nBitLength),r0=r.toBytes||((N0,x0,k0)=>{const B0=x0.toAffine();return concatBytes(Uint8Array.from([4]),t0.toBytes(B0.x),t0.toBytes(B0.y))}),i0=r.fromBytes||(N0=>{const x0=N0.subarray(1),k0=t0.fromBytes(x0.subarray(0,t0.BYTES)),B0=t0.fromBytes(x0.subarray(t0.BYTES,2*t0.BYTES));return{x:k0,y:B0}});function o0(N0){const{a:x0,b:k0}=r,B0=t0.sqr(N0),H0=t0.mul(B0,N0);return t0.add(t0.add(H0,t0.mul(N0,x0)),k0)}function s0(N0,x0){const k0=t0.sqr(x0),B0=o0(N0);return t0.eql(k0,B0)}if(!s0(r.Gx,r.Gy))throw new Error("bad curve params: generator point");const a0=t0.mul(t0.pow(r.a,_3n),_4n),c0=t0.mul(t0.sqr(r.b),BigInt(27));if(t0.is0(t0.add(a0,c0)))throw new Error("bad curve params: a or b");function l0(N0){return inRange$1(N0,_1n$1,r.n)}function u0(N0){const{allowedPrivateKeyLengths:x0,nByteLength:k0,wrapPrivateKey:B0,n:H0}=r;if(x0&&typeof N0!="bigint"){if(isBytes(N0)&&(N0=bytesToHex(N0)),typeof N0!="string"||!x0.includes(N0.length))throw new Error("invalid private key");N0=N0.padStart(k0*2,"0")}let G0;try{G0=typeof N0=="bigint"?N0:bytesToNumberBE(ensureBytes("private key",N0,k0))}catch{throw new Error("invalid private key, expected hex or "+k0+" bytes, got "+typeof N0)}return B0&&(G0=mod(G0,H0)),aInRange("private key",G0,_1n$1,H0),G0}function h0(N0){if(!(N0 instanceof m0))throw new Error("ProjectivePoint expected")}const g0=memoized((N0,x0)=>{const{px:k0,py:B0,pz:H0}=N0;if(t0.eql(H0,t0.ONE))return{x:k0,y:B0};const G0=N0.is0();x0==null&&(x0=G0?t0.ONE:t0.inv(H0));const V0=t0.mul(k0,x0),K0=t0.mul(B0,x0),W0=t0.mul(H0,x0);if(G0)return{x:t0.ZERO,y:t0.ZERO};if(!t0.eql(W0,t0.ONE))throw new Error("invZ was invalid");return{x:V0,y:K0}}),w0=memoized(N0=>{if(N0.is0()){if(r.allowInfinityPoint&&!t0.is0(N0.py))return;throw new Error("bad point: ZERO")}const{x:x0,y:k0}=N0.toAffine();if(!t0.isValid(x0)||!t0.isValid(k0))throw new Error("bad point: x or y not FE");if(!s0(x0,k0))throw new Error("bad point: equation left != right");if(!N0.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class m0{constructor(x0,k0,B0){if(x0==null||!t0.isValid(x0))throw new Error("x required");if(k0==null||!t0.isValid(k0)||t0.is0(k0))throw new Error("y required");if(B0==null||!t0.isValid(B0))throw new Error("z required");this.px=x0,this.py=k0,this.pz=B0,Object.freeze(this)}static fromAffine(x0){const{x:k0,y:B0}=x0||{};if(!x0||!t0.isValid(k0)||!t0.isValid(B0))throw new Error("invalid affine point");if(x0 instanceof m0)throw new Error("projective point not allowed");const H0=G0=>t0.eql(G0,t0.ZERO);return H0(k0)&&H0(B0)?m0.ZERO:new m0(k0,B0,t0.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(x0){const k0=FpInvertBatch(t0,x0.map(B0=>B0.pz));return x0.map((B0,H0)=>B0.toAffine(k0[H0])).map(m0.fromAffine)}static fromHex(x0){const k0=m0.fromAffine(i0(ensureBytes("pointHex",x0)));return k0.assertValidity(),k0}static fromPrivateKey(x0){return m0.BASE.multiply(u0(x0))}static msm(x0,k0){return pippenger(m0,n0,x0,k0)}_setWindowSize(x0){T0.setWindowSize(this,x0)}assertValidity(){w0(this)}hasEvenY(){const{y:x0}=this.toAffine();if(t0.isOdd)return!t0.isOdd(x0);throw new Error("Field doesn't support isOdd")}equals(x0){h0(x0);const{px:k0,py:B0,pz:H0}=this,{px:G0,py:V0,pz:K0}=x0,W0=t0.eql(t0.mul(k0,K0),t0.mul(G0,H0)),F0=t0.eql(t0.mul(B0,K0),t0.mul(V0,H0));return W0&&F0}negate(){return new m0(this.px,t0.neg(this.py),this.pz)}double(){const{a:x0,b:k0}=r,B0=t0.mul(k0,_3n),{px:H0,py:G0,pz:V0}=this;let K0=t0.ZERO,W0=t0.ZERO,F0=t0.ZERO,O0=t0.mul(H0,H0),f0=t0.mul(G0,G0),p0=t0.mul(V0,V0),A0=t0.mul(H0,G0);return A0=t0.add(A0,A0),F0=t0.mul(H0,V0),F0=t0.add(F0,F0),K0=t0.mul(x0,F0),W0=t0.mul(B0,p0),W0=t0.add(K0,W0),K0=t0.sub(f0,W0),W0=t0.add(f0,W0),W0=t0.mul(K0,W0),K0=t0.mul(A0,K0),F0=t0.mul(B0,F0),p0=t0.mul(x0,p0),A0=t0.sub(O0,p0),A0=t0.mul(x0,A0),A0=t0.add(A0,F0),F0=t0.add(O0,O0),O0=t0.add(F0,O0),O0=t0.add(O0,p0),O0=t0.mul(O0,A0),W0=t0.add(W0,O0),p0=t0.mul(G0,V0),p0=t0.add(p0,p0),O0=t0.mul(p0,A0),K0=t0.sub(K0,O0),F0=t0.mul(p0,f0),F0=t0.add(F0,F0),F0=t0.add(F0,F0),new m0(K0,W0,F0)}add(x0){h0(x0);const{px:k0,py:B0,pz:H0}=this,{px:G0,py:V0,pz:K0}=x0;let W0=t0.ZERO,F0=t0.ZERO,O0=t0.ZERO;const f0=r.a,p0=t0.mul(r.b,_3n);let A0=t0.mul(k0,G0),$0=t0.mul(B0,V0),y0=t0.mul(H0,K0),v0=t0.add(k0,B0),I0=t0.add(G0,V0);v0=t0.mul(v0,I0),I0=t0.add(A0,$0),v0=t0.sub(v0,I0),I0=t0.add(k0,H0);let E0=t0.add(G0,K0);return I0=t0.mul(I0,E0),E0=t0.add(A0,y0),I0=t0.sub(I0,E0),E0=t0.add(B0,H0),W0=t0.add(V0,K0),E0=t0.mul(E0,W0),W0=t0.add($0,y0),E0=t0.sub(E0,W0),O0=t0.mul(f0,I0),W0=t0.mul(p0,y0),O0=t0.add(W0,O0),W0=t0.sub($0,O0),O0=t0.add($0,O0),F0=t0.mul(W0,O0),$0=t0.add(A0,A0),$0=t0.add($0,A0),y0=t0.mul(f0,y0),I0=t0.mul(p0,I0),$0=t0.add($0,y0),y0=t0.sub(A0,y0),y0=t0.mul(f0,y0),I0=t0.add(I0,y0),A0=t0.mul($0,I0),F0=t0.add(F0,A0),A0=t0.mul(E0,I0),W0=t0.mul(v0,W0),W0=t0.sub(W0,A0),A0=t0.mul(v0,$0),O0=t0.mul(E0,O0),O0=t0.add(O0,A0),new m0(W0,F0,O0)}subtract(x0){return this.add(x0.negate())}is0(){return this.equals(m0.ZERO)}wNAF(x0){return T0.wNAFCached(this,x0,m0.normalizeZ)}multiplyUnsafe(x0){const{endo:k0,n:B0}=r;aInRange("scalar",x0,_0n$1,B0);const H0=m0.ZERO;if(x0===_0n$1)return H0;if(this.is0()||x0===_1n$1)return this;if(!k0||T0.hasPrecomputes(this))return T0.wNAFCachedUnsafe(this,x0,m0.normalizeZ);let{k1neg:G0,k1:V0,k2neg:K0,k2:W0}=k0.splitScalar(x0),F0=H0,O0=H0,f0=this;for(;V0>_0n$1||W0>_0n$1;)V0&_1n$1&&(F0=F0.add(f0)),W0&_1n$1&&(O0=O0.add(f0)),f0=f0.double(),V0>>=_1n$1,W0>>=_1n$1;return G0&&(F0=F0.negate()),K0&&(O0=O0.negate()),O0=new m0(t0.mul(O0.px,k0.beta),O0.py,O0.pz),F0.add(O0)}multiply(x0){const{endo:k0,n:B0}=r;aInRange("scalar",x0,_1n$1,B0);let H0,G0;if(k0){const{k1neg:V0,k1:K0,k2neg:W0,k2:F0}=k0.splitScalar(x0);let{p:O0,f:f0}=this.wNAF(K0),{p:p0,f:A0}=this.wNAF(F0);O0=T0.constTimeNegate(V0,O0),p0=T0.constTimeNegate(W0,p0),p0=new m0(t0.mul(p0.px,k0.beta),p0.py,p0.pz),H0=O0.add(p0),G0=f0.add(A0)}else{const{p:V0,f:K0}=this.wNAF(x0);H0=V0,G0=K0}return m0.normalizeZ([H0,G0])[0]}multiplyAndAddUnsafe(x0,k0,B0){const H0=m0.BASE,G0=(K0,W0)=>W0===_0n$1||W0===_1n$1||!K0.equals(H0)?K0.multiplyUnsafe(W0):K0.multiply(W0),V0=G0(this,k0).add(G0(x0,B0));return V0.is0()?void 0:V0}toAffine(x0){return g0(this,x0)}isTorsionFree(){const{h:x0,isTorsionFree:k0}=r;if(x0===_1n$1)return!0;if(k0)return k0(m0,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:x0,clearCofactor:k0}=r;return x0===_1n$1?this:k0?k0(m0,this):this.multiplyUnsafe(r.h)}toRawBytes(x0=!0){return abool("isCompressed",x0),this.assertValidity(),r0(m0,this,x0)}toHex(x0=!0){return abool("isCompressed",x0),bytesToHex(this.toRawBytes(x0))}}m0.BASE=new m0(r.Gx,r.Gy,t0.ONE),m0.ZERO=new m0(t0.ZERO,t0.ONE,t0.ZERO);const{endo:S0,nBitLength:b0}=r,T0=wNAF(m0,S0?Math.ceil(b0/2):b0);return{CURVE:r,ProjectivePoint:m0,normPrivateKeyToScalar:u0,weierstrassEquation:o0,isWithinCurveOrder:l0}}function validateOpts(e0){const r=validateBasic(e0);return validateObject(r,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...r})}function weierstrass(e0){const r=validateOpts(e0),{Fp:t0,n:n0,nByteLength:r0,nBitLength:i0}=r,o0=t0.BYTES+1,s0=2*t0.BYTES+1;function a0(p0){return mod(p0,n0)}function c0(p0){return invert(p0,n0)}const{ProjectivePoint:l0,normPrivateKeyToScalar:u0,weierstrassEquation:h0,isWithinCurveOrder:g0}=weierstrassPoints({...r,toBytes(p0,A0,$0){const y0=A0.toAffine(),v0=t0.toBytes(y0.x),I0=concatBytes;return abool("isCompressed",$0),$0?I0(Uint8Array.from([A0.hasEvenY()?2:3]),v0):I0(Uint8Array.from([4]),v0,t0.toBytes(y0.y))},fromBytes(p0){const A0=p0.length,$0=p0[0],y0=p0.subarray(1);if(A0===o0&&($0===2||$0===3)){const v0=bytesToNumberBE(y0);if(!inRange$1(v0,_1n$1,t0.ORDER))throw new Error("Point is not on curve");const I0=h0(v0);let E0;try{E0=t0.sqrt(I0)}catch(C0){const L0=C0 instanceof Error?": "+C0.message:"";throw new Error("Point is not on curve"+L0)}const d0=(E0&_1n$1)===_1n$1;return($0&1)===1!==d0&&(E0=t0.neg(E0)),{x:v0,y:E0}}else if(A0===s0&&$0===4){const v0=t0.fromBytes(y0.subarray(0,t0.BYTES)),I0=t0.fromBytes(y0.subarray(t0.BYTES,2*t0.BYTES));return{x:v0,y:I0}}else{const v0=o0,I0=s0;throw new Error("invalid Point, expected length of "+v0+", or uncompressed "+I0+", got "+A0)}}});function w0(p0){const A0=n0>>_1n$1;return p0>A0}function m0(p0){return w0(p0)?a0(-p0):p0}const S0=(p0,A0,$0)=>bytesToNumberBE(p0.slice(A0,$0));class b0{constructor(A0,$0,y0){aInRange("r",A0,_1n$1,n0),aInRange("s",$0,_1n$1,n0),this.r=A0,this.s=$0,y0!=null&&(this.recovery=y0),Object.freeze(this)}static fromCompact(A0){const $0=r0;return A0=ensureBytes("compactSignature",A0,$0*2),new b0(S0(A0,0,$0),S0(A0,$0,2*$0))}static fromDER(A0){const{r:$0,s:y0}=DER.toSig(ensureBytes("DER",A0));return new b0($0,y0)}assertValidity(){}addRecoveryBit(A0){return new b0(this.r,this.s,A0)}recoverPublicKey(A0){const{r:$0,s:y0,recovery:v0}=this,I0=H0(ensureBytes("msgHash",A0));if(v0==null||![0,1,2,3].includes(v0))throw new Error("recovery id invalid");const E0=v0===2||v0===3?$0+r.n:$0;if(E0>=t0.ORDER)throw new Error("recovery id 2 or 3 invalid");const d0=v0&1?"03":"02",_0=l0.fromHex(d0+numToSizedHex(E0,t0.BYTES)),C0=c0(E0),L0=a0(-I0*C0),D0=a0(y0*C0),j0=l0.BASE.multiplyAndAddUnsafe(_0,L0,D0);if(!j0)throw new Error("point at infinify");return j0.assertValidity(),j0}hasHighS(){return w0(this.s)}normalizeS(){return this.hasHighS()?new b0(this.r,a0(-this.s),this.recovery):this}toDERRawBytes(){return hexToBytes(this.toDERHex())}toDERHex(){return DER.hexFromSig(this)}toCompactRawBytes(){return hexToBytes(this.toCompactHex())}toCompactHex(){const A0=r0;return numToSizedHex(this.r,A0)+numToSizedHex(this.s,A0)}}const T0={isValidPrivateKey(p0){try{return u0(p0),!0}catch{return!1}},normPrivateKeyToScalar:u0,randomPrivateKey:()=>{const p0=getMinHashLength(r.n);return mapHashToField(r.randomBytes(p0),r.n)},precompute(p0=8,A0=l0.BASE){return A0._setWindowSize(p0),A0.multiply(BigInt(3)),A0}};function N0(p0,A0=!0){return l0.fromPrivateKey(p0).toRawBytes(A0)}function x0(p0){if(typeof p0=="bigint")return!1;if(p0 instanceof l0)return!0;const $0=ensureBytes("key",p0).length,y0=t0.BYTES,v0=y0+1,I0=2*y0+1;if(!(r.allowedPrivateKeyLengths||r0===v0))return $0===v0||$0===I0}function k0(p0,A0,$0=!0){if(x0(p0)===!0)throw new Error("first arg must be private key");if(x0(A0)===!1)throw new Error("second arg must be public key");return l0.fromHex(A0).multiply(u0(p0)).toRawBytes($0)}const B0=r.bits2int||function(p0){if(p0.length>8192)throw new Error("input is too large");const A0=bytesToNumberBE(p0),$0=p0.length*8-i0;return $0>0?A0>>BigInt($0):A0},H0=r.bits2int_modN||function(p0){return a0(B0(p0))},G0=bitMask(i0);function V0(p0){return aInRange("num < 2^"+i0,p0,_0n$1,G0),numberToBytesBE(p0,r0)}function K0(p0,A0,$0=W0){if(["recovered","canonical"].some(Y0=>Y0 in $0))throw new Error("sign() legacy options not supported");const{hash:y0,randomBytes:v0}=r;let{lowS:I0,prehash:E0,extraEntropy:d0}=$0;I0==null&&(I0=!0),p0=ensureBytes("msgHash",p0),validateSigVerOpts($0),E0&&(p0=ensureBytes("prehashed msgHash",y0(p0)));const _0=H0(p0),C0=u0(A0),L0=[V0(C0),V0(_0)];if(d0!=null&&d0!==!1){const Y0=d0===!0?v0(t0.BYTES):d0;L0.push(ensureBytes("extraEntropy",Y0))}const D0=concatBytes(...L0),j0=_0;function z0(Y0){const Z0=B0(Y0);if(!g0(Z0))return;const X0=c0(Z0),J0=l0.BASE.multiply(Z0).toAffine(),yg=a0(J0.x);if(yg===_0n$1)return;const _g=a0(X0*a0(j0+yg*C0));if(_g===_0n$1)return;let vg=(J0.x===yg?0:2)|Number(J0.y&_1n$1),bg=_g;return I0&&w0(_g)&&(bg=m0(_g),vg^=1),new b0(yg,bg,vg)}return{seed:D0,k2sig:z0}}const W0={lowS:r.lowS,prehash:!1},F0={lowS:r.lowS,prehash:!1};function O0(p0,A0,$0=W0){const{seed:y0,k2sig:v0}=K0(p0,A0,$0),I0=r;return createHmacDrbg(I0.hash.outputLen,I0.nByteLength,I0.hmac)(y0,v0)}l0.BASE._setWindowSize(8);function f0(p0,A0,$0,y0=F0){const v0=p0;A0=ensureBytes("msgHash",A0),$0=ensureBytes("publicKey",$0);const{lowS:I0,prehash:E0,format:d0}=y0;if(validateSigVerOpts(y0),"strict"in y0)throw new Error("options.strict was renamed to lowS");if(d0!==void 0&&d0!=="compact"&&d0!=="der")throw new Error("format must be compact or der");const _0=typeof v0=="string"||isBytes(v0),C0=!_0&&!d0&&typeof v0=="object"&&v0!==null&&typeof v0.r=="bigint"&&typeof v0.s=="bigint";if(!_0&&!C0)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let L0,D0;try{if(C0&&(L0=new b0(v0.r,v0.s)),_0){try{d0!=="compact"&&(L0=b0.fromDER(v0))}catch(vg){if(!(vg instanceof DER.Err))throw vg}!L0&&d0!=="der"&&(L0=b0.fromCompact(v0))}D0=l0.fromHex($0)}catch{return!1}if(!L0||I0&&L0.hasHighS())return!1;E0&&(A0=r.hash(A0));const{r:j0,s:z0}=L0,Y0=H0(A0),Z0=c0(z0),X0=a0(Y0*Z0),J0=a0(j0*Z0),yg=l0.BASE.multiplyAndAddUnsafe(D0,X0,J0)?.toAffine();return yg?a0(yg.x)===j0:!1}return{CURVE:r,getPublicKey:N0,getSharedSecret:k0,sign:O0,verify:f0,ProjectivePoint:l0,Signature:b0,utils:T0}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function getHash(e0){return{hash:e0,hmac:(r,...t0)=>hmac(e0,r,concatBytes$1(...t0)),randomBytes}}function createCurve(e0,r){const t0=n0=>weierstrass({...e0,...getHash(n0)});return{...t0(r),create:t0}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const secp256k1P=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),secp256k1N=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),_0n=BigInt(0),_1n=BigInt(1),_2n=BigInt(2),divNearest=(e0,r)=>(e0+r/_2n)/r;function sqrtMod(e0){const r=secp256k1P,t0=BigInt(3),n0=BigInt(6),r0=BigInt(11),i0=BigInt(22),o0=BigInt(23),s0=BigInt(44),a0=BigInt(88),c0=e0*e0*e0%r,l0=c0*c0*e0%r,u0=pow2(l0,t0,r)*l0%r,h0=pow2(u0,t0,r)*l0%r,g0=pow2(h0,_2n,r)*c0%r,w0=pow2(g0,r0,r)*g0%r,m0=pow2(w0,i0,r)*w0%r,S0=pow2(m0,s0,r)*m0%r,b0=pow2(S0,a0,r)*S0%r,T0=pow2(b0,s0,r)*m0%r,N0=pow2(T0,t0,r)*l0%r,x0=pow2(N0,o0,r)*w0%r,k0=pow2(x0,n0,r)*c0%r,B0=pow2(k0,_2n,r);if(!Fpk1.eql(Fpk1.sqr(B0),e0))throw new Error("Cannot find square root");return B0}const Fpk1=Field(secp256k1P,void 0,void 0,{sqrt:sqrtMod}),secp256k1=createCurve({a:_0n,b:BigInt(7),Fp:Fpk1,n:secp256k1N,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e0=>{const r=secp256k1N,t0=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n0=-_1n*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),r0=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i0=t0,o0=BigInt("0x100000000000000000000000000000000"),s0=divNearest(i0*e0,r),a0=divNearest(-n0*e0,r);let c0=mod(e0-s0*t0-a0*r0,r),l0=mod(-s0*n0-a0*i0,r);const u0=c0>o0,h0=l0>o0;if(u0&&(c0=r-c0),h0&&(l0=r-l0),c0>o0||l0>o0)throw new Error("splitScalar: Endomorphism failed, k="+e0);return{k1neg:u0,k1:c0,k2neg:h0,k2:l0}}}},sha256$1);ed25519.utils.randomPrivateKey;function isOnCurve(e0){try{return ed25519.ExtendedPoint.fromHex(e0),!0}catch{return!1}}const sign=(e0,r)=>ed25519.sign(e0,r.slice(0,32)),verify=ed25519.verify,toBuffer=e0=>buffer.Buffer.isBuffer(e0)?e0:e0 instanceof Uint8Array?buffer.Buffer.from(e0.buffer,e0.byteOffset,e0.byteLength):buffer.Buffer.from(e0);class Struct{constructor(r){Object.assign(this,r)}encode(){return buffer.Buffer.from(serialize_1(SOLANA_SCHEMA,this))}static decode(r){return deserialize_1(SOLANA_SCHEMA,this,r)}static decodeUnchecked(r){return deserializeUnchecked_1(SOLANA_SCHEMA,this,r)}}const SOLANA_SCHEMA=new Map;var _PublicKey;const MAX_SEED_LENGTH=32,PUBLIC_KEY_LENGTH=32;function isPublicKeyData(e0){return e0._bn!==void 0}let uniquePublicKeyCounter=1;class PublicKey extends Struct{constructor(r){if(super({}),this._bn=void 0,isPublicKeyData(r))this._bn=r._bn;else{if(typeof r=="string"){const t0=bs58$1.decode(r);if(t0.length!=PUBLIC_KEY_LENGTH)throw new Error("Invalid public key input");this._bn=new BN(t0)}else this._bn=new BN(r);if(this._bn.byteLength()>PUBLIC_KEY_LENGTH)throw new Error("Invalid public key input")}}static unique(){const r=new PublicKey(uniquePublicKeyCounter);return uniquePublicKeyCounter+=1,new PublicKey(r.toBuffer())}equals(r){return this._bn.eq(r._bn)}toBase58(){return bs58$1.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const r=this.toBuffer();return new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}toBuffer(){const r=this._bn.toArrayLike(buffer.Buffer);if(r.length===PUBLIC_KEY_LENGTH)return r;const t0=buffer.Buffer.alloc(32);return r.copy(t0,32-r.length),t0}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(r,t0,n0){const r0=buffer.Buffer.concat([r.toBuffer(),buffer.Buffer.from(t0),n0.toBuffer()]),i0=sha256(r0);return new PublicKey(i0)}static createProgramAddressSync(r,t0){let n0=buffer.Buffer.alloc(0);r.forEach(function(i0){if(i0.length>MAX_SEED_LENGTH)throw new TypeError("Max seed length exceeded");n0=buffer.Buffer.concat([n0,toBuffer(i0)])}),n0=buffer.Buffer.concat([n0,t0.toBuffer(),buffer.Buffer.from("ProgramDerivedAddress")]);const r0=sha256(n0);if(isOnCurve(r0))throw new Error("Invalid seeds, address must fall off the curve");return new PublicKey(r0)}static async createProgramAddress(r,t0){return this.createProgramAddressSync(r,t0)}static findProgramAddressSync(r,t0){let n0=255,r0;for(;n0!=0;){try{const i0=r.concat(buffer.Buffer.from([n0]));r0=this.createProgramAddressSync(i0,t0)}catch(i0){if(i0 instanceof TypeError)throw i0;n0--;continue}return[r0,n0]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(r,t0){return this.findProgramAddressSync(r,t0)}static isOnCurve(r){const t0=new PublicKey(r);return isOnCurve(t0.toBytes())}}_PublicKey=PublicKey;PublicKey.default=new _PublicKey("11111111111111111111111111111111");SOLANA_SCHEMA.set(PublicKey,{kind:"struct",fields:[["_bn","u256"]]});new PublicKey("BPFLoader1111111111111111111111111111111111");const PACKET_DATA_SIZE=1280-40-8,VERSION_PREFIX_MASK=127,SIGNATURE_LENGTH_IN_BYTES=64;class MessageAccountKeys{constructor(r,t0){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=r,this.accountKeysFromLookups=t0}keySegments(){const r=[this.staticAccountKeys];return this.accountKeysFromLookups&&(r.push(this.accountKeysFromLookups.writable),r.push(this.accountKeysFromLookups.readonly)),r}get(r){for(const t0 of this.keySegments()){if(r<t0.length)return t0[r];r-=t0.length}}get length(){return this.keySegments().flat().length}compileInstructions(r){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const n0=new Map;this.keySegments().flat().forEach((i0,o0)=>{n0.set(i0.toBase58(),o0)});const r0=i0=>{const o0=n0.get(i0.toBase58());if(o0===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o0};return r.map(i0=>({programIdIndex:r0(i0.programId),accountKeyIndexes:i0.keys.map(o0=>r0(o0.pubkey)),data:i0.data}))}}const publicKey=(e0="publicKey")=>blob(32,e0),rustString=(e0="string")=>{const r=struct([u32("length"),u32("lengthPadding"),blob(offset(u32(),-8),"chars")],e0),t0=r.decode.bind(r),n0=r.encode.bind(r),r0=r;return r0.decode=(i0,o0)=>t0(i0,o0).chars.toString(),r0.encode=(i0,o0,s0)=>{const a0={chars:buffer.Buffer.from(i0,"utf8")};return n0(a0,o0,s0)},r0.alloc=i0=>u32().span+u32().span+buffer.Buffer.from(i0,"utf8").length,r0},authorized=(e0="authorized")=>struct([publicKey("staker"),publicKey("withdrawer")],e0),lockup=(e0="lockup")=>struct([ns64("unixTimestamp"),ns64("epoch"),publicKey("custodian")],e0),voteInit=(e0="voteInit")=>struct([publicKey("nodePubkey"),publicKey("authorizedVoter"),publicKey("authorizedWithdrawer"),u8("commission")],e0),voteAuthorizeWithSeedArgs=(e0="voteAuthorizeWithSeedArgs")=>struct([u32("voteAuthorizationType"),publicKey("currentAuthorityDerivedKeyOwnerPubkey"),rustString("currentAuthorityDerivedKeySeed"),publicKey("newAuthorized")],e0);function decodeLength(e0){let r=0,t0=0;for(;;){let n0=e0.shift();if(r|=(n0&127)<<t0*7,t0+=1,!(n0&128))break}return r}function encodeLength(e0,r){let t0=r;for(;;){let n0=t0&127;if(t0>>=7,t0==0){e0.push(n0);break}else n0|=128,e0.push(n0)}}function assert(e0,r){if(!e0)throw new Error(r||"Assertion failed")}class CompiledKeys{constructor(r,t0){this.payer=void 0,this.keyMetaMap=void 0,this.payer=r,this.keyMetaMap=t0}static compile(r,t0){const n0=new Map,r0=o0=>{const s0=o0.toBase58();let a0=n0.get(s0);return a0===void 0&&(a0={isSigner:!1,isWritable:!1,isInvoked:!1},n0.set(s0,a0)),a0},i0=r0(t0);i0.isSigner=!0,i0.isWritable=!0;for(const o0 of r){r0(o0.programId).isInvoked=!0;for(const s0 of o0.keys){const a0=r0(s0.pubkey);a0.isSigner||(a0.isSigner=s0.isSigner),a0.isWritable||(a0.isWritable=s0.isWritable)}}return new CompiledKeys(t0,n0)}getMessageComponents(){const r=[...this.keyMetaMap.entries()];assert(r.length<=256,"Max static account keys length exceeded");const t0=r.filter(([,a0])=>a0.isSigner&&a0.isWritable),n0=r.filter(([,a0])=>a0.isSigner&&!a0.isWritable),r0=r.filter(([,a0])=>!a0.isSigner&&a0.isWritable),i0=r.filter(([,a0])=>!a0.isSigner&&!a0.isWritable),o0={numRequiredSignatures:t0.length+n0.length,numReadonlySignedAccounts:n0.length,numReadonlyUnsignedAccounts:i0.length};{assert(t0.length>0,"Expected at least one writable signer key");const[a0]=t0[0];assert(a0===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const s0=[...t0.map(([a0])=>new PublicKey(a0)),...n0.map(([a0])=>new PublicKey(a0)),...r0.map(([a0])=>new PublicKey(a0)),...i0.map(([a0])=>new PublicKey(a0))];return[o0,s0]}extractTableLookup(r){const[t0,n0]=this.drainKeysFoundInLookupTable(r.state.addresses,o0=>!o0.isSigner&&!o0.isInvoked&&o0.isWritable),[r0,i0]=this.drainKeysFoundInLookupTable(r.state.addresses,o0=>!o0.isSigner&&!o0.isInvoked&&!o0.isWritable);if(!(t0.length===0&&r0.length===0))return[{accountKey:r.key,writableIndexes:t0,readonlyIndexes:r0},{writable:n0,readonly:i0}]}drainKeysFoundInLookupTable(r,t0){const n0=new Array,r0=new Array;for(const[i0,o0]of this.keyMetaMap.entries())if(t0(o0)){const s0=new PublicKey(i0),a0=r.findIndex(c0=>c0.equals(s0));a0>=0&&(assert(a0<256,"Max lookup table index exceeded"),n0.push(a0),r0.push(s0),this.keyMetaMap.delete(i0))}return[n0,r0]}}const END_OF_BUFFER_ERROR_MESSAGE="Reached end of buffer unexpectedly";function guardedShift(e0){if(e0.length===0)throw new Error(END_OF_BUFFER_ERROR_MESSAGE);return e0.shift()}function guardedSplice(e0,...r){const[t0]=r;if(r.length===2?t0+(r[1]??0)>e0.length:t0>=e0.length)throw new Error(END_OF_BUFFER_ERROR_MESSAGE);return e0.splice(...r)}class Message{constructor(r){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=r.header,this.accountKeys=r.accountKeys.map(t0=>new PublicKey(t0)),this.recentBlockhash=r.recentBlockhash,this.instructions=r.instructions,this.instructions.forEach(t0=>this.indexToProgramIds.set(t0.programIdIndex,this.accountKeys[t0.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(r=>({programIdIndex:r.programIdIndex,accountKeyIndexes:r.accounts,data:bs58$1.decode(r.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new MessageAccountKeys(this.staticAccountKeys)}static compile(r){const t0=CompiledKeys.compile(r.instructions,r.payerKey),[n0,r0]=t0.getMessageComponents(),o0=new MessageAccountKeys(r0).compileInstructions(r.instructions).map(s0=>({programIdIndex:s0.programIdIndex,accounts:s0.accountKeyIndexes,data:bs58$1.encode(s0.data)}));return new Message({header:n0,accountKeys:r0,recentBlockhash:r.recentBlockhash,instructions:o0})}isAccountSigner(r){return r<this.header.numRequiredSignatures}isAccountWritable(r){const t0=this.header.numRequiredSignatures;if(r>=this.header.numRequiredSignatures){const n0=r-t0,i0=this.accountKeys.length-t0-this.header.numReadonlyUnsignedAccounts;return n0<i0}else{const n0=t0-this.header.numReadonlySignedAccounts;return r<n0}}isProgramId(r){return this.indexToProgramIds.has(r)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((r,t0)=>!this.isProgramId(t0))}serialize(){const r=this.accountKeys.length;let t0=[];encodeLength(t0,r);const n0=this.instructions.map(u0=>{const{accounts:h0,programIdIndex:g0}=u0,w0=Array.from(bs58$1.decode(u0.data));let m0=[];encodeLength(m0,h0.length);let S0=[];return encodeLength(S0,w0.length),{programIdIndex:g0,keyIndicesCount:buffer.Buffer.from(m0),keyIndices:h0,dataLength:buffer.Buffer.from(S0),data:w0}});let r0=[];encodeLength(r0,n0.length);let i0=buffer.Buffer.alloc(PACKET_DATA_SIZE);buffer.Buffer.from(r0).copy(i0);let o0=r0.length;n0.forEach(u0=>{const g0=struct([u8("programIdIndex"),blob(u0.keyIndicesCount.length,"keyIndicesCount"),seq(u8("keyIndex"),u0.keyIndices.length,"keyIndices"),blob(u0.dataLength.length,"dataLength"),seq(u8("userdatum"),u0.data.length,"data")]).encode(u0,i0,o0);o0+=g0}),i0=i0.slice(0,o0);const s0=struct([blob(1,"numRequiredSignatures"),blob(1,"numReadonlySignedAccounts"),blob(1,"numReadonlyUnsignedAccounts"),blob(t0.length,"keyCount"),seq(publicKey("key"),r,"keys"),publicKey("recentBlockhash")]),a0={numRequiredSignatures:buffer.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:buffer.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:buffer.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:buffer.Buffer.from(t0),keys:this.accountKeys.map(u0=>toBuffer(u0.toBytes())),recentBlockhash:bs58$1.decode(this.recentBlockhash)};let c0=buffer.Buffer.alloc(2048);const l0=s0.encode(a0,c0);return i0.copy(c0,l0),c0.slice(0,l0+i0.length)}static from(r){let t0=[...r];const n0=guardedShift(t0);if(n0!==(n0&VERSION_PREFIX_MASK))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const r0=guardedShift(t0),i0=guardedShift(t0),o0=decodeLength(t0);let s0=[];for(let h0=0;h0<o0;h0++){const g0=guardedSplice(t0,0,PUBLIC_KEY_LENGTH);s0.push(new PublicKey(buffer.Buffer.from(g0)))}const a0=guardedSplice(t0,0,PUBLIC_KEY_LENGTH),c0=decodeLength(t0);let l0=[];for(let h0=0;h0<c0;h0++){const g0=guardedShift(t0),w0=decodeLength(t0),m0=guardedSplice(t0,0,w0),S0=decodeLength(t0),b0=guardedSplice(t0,0,S0),T0=bs58$1.encode(buffer.Buffer.from(b0));l0.push({programIdIndex:g0,accounts:m0,data:T0})}const u0={header:{numRequiredSignatures:n0,numReadonlySignedAccounts:r0,numReadonlyUnsignedAccounts:i0},recentBlockhash:bs58$1.encode(buffer.Buffer.from(a0)),accountKeys:s0,instructions:l0};return new Message(u0)}}const DEFAULT_SIGNATURE=buffer.Buffer.alloc(SIGNATURE_LENGTH_IN_BYTES).fill(0);class TransactionInstruction{constructor(r){this.keys=void 0,this.programId=void 0,this.data=buffer.Buffer.alloc(0),this.programId=r.programId,this.keys=r.keys,r.data&&(this.data=r.data)}toJSON(){return{keys:this.keys.map(({pubkey:r,isSigner:t0,isWritable:n0})=>({pubkey:r.toJSON(),isSigner:t0,isWritable:n0})),programId:this.programId.toJSON(),data:[...this.data]}}}class Transaction{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(r){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!r)if(r.feePayer&&(this.feePayer=r.feePayer),r.signatures&&(this.signatures=r.signatures),Object.prototype.hasOwnProperty.call(r,"nonceInfo")){const{minContextSlot:t0,nonceInfo:n0}=r;this.minNonceContextSlot=t0,this.nonceInfo=n0}else if(Object.prototype.hasOwnProperty.call(r,"lastValidBlockHeight")){const{blockhash:t0,lastValidBlockHeight:n0}=r;this.recentBlockhash=t0,this.lastValidBlockHeight=n0}else{const{recentBlockhash:t0,nonceInfo:n0}=r;n0&&(this.nonceInfo=n0),this.recentBlockhash=t0}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(r=>r.toJSON()),signers:this.signatures.map(({publicKey:r})=>r.toJSON())}}add(...r){if(r.length===0)throw new Error("No instructions");return r.forEach(t0=>{"instructions"in t0?this.instructions=this.instructions.concat(t0.instructions):"data"in t0&&"programId"in t0&&"keys"in t0?this.instructions.push(t0):this.instructions.push(new TransactionInstruction(t0))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let r,t0;if(this.nonceInfo?(r=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?t0=[this.nonceInfo.nonceInstruction,...this.instructions]:t0=this.instructions):(r=this.recentBlockhash,t0=this.instructions),!r)throw new Error("Transaction recentBlockhash required");t0.length<1&&console.warn("No instructions provided");let n0;if(this.feePayer)n0=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n0=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let m0=0;m0<t0.length;m0++)if(t0[m0].programId===void 0)throw new Error(`Transaction instruction index ${m0} has undefined program id`);const r0=[],i0=[];t0.forEach(m0=>{m0.keys.forEach(b0=>{i0.push({...b0})});const S0=m0.programId.toString();r0.includes(S0)||r0.push(S0)}),r0.forEach(m0=>{i0.push({pubkey:new PublicKey(m0),isSigner:!1,isWritable:!1})});const o0=[];i0.forEach(m0=>{const S0=m0.pubkey.toString(),b0=o0.findIndex(T0=>T0.pubkey.toString()===S0);b0>-1?(o0[b0].isWritable=o0[b0].isWritable||m0.isWritable,o0[b0].isSigner=o0[b0].isSigner||m0.isSigner):o0.push(m0)}),o0.sort(function(m0,S0){if(m0.isSigner!==S0.isSigner)return m0.isSigner?-1:1;if(m0.isWritable!==S0.isWritable)return m0.isWritable?-1:1;const b0={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return m0.pubkey.toBase58().localeCompare(S0.pubkey.toBase58(),"en",b0)});const s0=o0.findIndex(m0=>m0.pubkey.equals(n0));if(s0>-1){const[m0]=o0.splice(s0,1);m0.isSigner=!0,m0.isWritable=!0,o0.unshift(m0)}else o0.unshift({pubkey:n0,isSigner:!0,isWritable:!0});for(const m0 of this.signatures){const S0=o0.findIndex(b0=>b0.pubkey.equals(m0.publicKey));if(S0>-1)o0[S0].isSigner||(o0[S0].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${m0.publicKey.toString()}`)}let a0=0,c0=0,l0=0;const u0=[],h0=[];o0.forEach(({pubkey:m0,isSigner:S0,isWritable:b0})=>{S0?(u0.push(m0.toString()),a0+=1,b0||(c0+=1)):(h0.push(m0.toString()),b0||(l0+=1))});const g0=u0.concat(h0),w0=t0.map(m0=>{const{data:S0,programId:b0}=m0;return{programIdIndex:g0.indexOf(b0.toString()),accounts:m0.keys.map(T0=>g0.indexOf(T0.pubkey.toString())),data:bs58$1.encode(S0)}});return w0.forEach(m0=>{assert(m0.programIdIndex>=0),m0.accounts.forEach(S0=>assert(S0>=0))}),new Message({header:{numRequiredSignatures:a0,numReadonlySignedAccounts:c0,numReadonlyUnsignedAccounts:l0},accountKeys:g0,recentBlockhash:r,instructions:w0})}_compile(){const r=this.compileMessage(),t0=r.accountKeys.slice(0,r.header.numRequiredSignatures);return this.signatures.length===t0.length&&this.signatures.every((r0,i0)=>t0[i0].equals(r0.publicKey))||(this.signatures=t0.map(n0=>({signature:null,publicKey:n0}))),r}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(r){return(await r.getFeeForMessage(this.compileMessage())).value}setSigners(...r){if(r.length===0)throw new Error("No signers");const t0=new Set;this.signatures=r.filter(n0=>{const r0=n0.toString();return t0.has(r0)?!1:(t0.add(r0),!0)}).map(n0=>({signature:null,publicKey:n0}))}sign(...r){if(r.length===0)throw new Error("No signers");const t0=new Set,n0=[];for(const i0 of r){const o0=i0.publicKey.toString();t0.has(o0)||(t0.add(o0),n0.push(i0))}this.signatures=n0.map(i0=>({signature:null,publicKey:i0.publicKey}));const r0=this._compile();this._partialSign(r0,...n0)}partialSign(...r){if(r.length===0)throw new Error("No signers");const t0=new Set,n0=[];for(const i0 of r){const o0=i0.publicKey.toString();t0.has(o0)||(t0.add(o0),n0.push(i0))}const r0=this._compile();this._partialSign(r0,...n0)}_partialSign(r,...t0){const n0=r.serialize();t0.forEach(r0=>{const i0=sign(n0,r0.secretKey);this._addSignature(r0.publicKey,toBuffer(i0))})}addSignature(r,t0){this._compile(),this._addSignature(r,t0)}_addSignature(r,t0){assert(t0.length===64);const n0=this.signatures.findIndex(r0=>r.equals(r0.publicKey));if(n0<0)throw new Error(`unknown signer: ${r.toString()}`);this.signatures[n0].signature=buffer.Buffer.from(t0)}verifySignatures(r=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),r)}_getMessageSignednessErrors(r,t0){const n0={};for(const{signature:r0,publicKey:i0}of this.signatures)r0===null?t0&&(n0.missing||(n0.missing=[])).push(i0):verify(r0,r,i0.toBytes())||(n0.invalid||(n0.invalid=[])).push(i0);return n0.invalid||n0.missing?n0:void 0}serialize(r){const{requireAllSignatures:t0,verifySignatures:n0}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},r),r0=this.serializeMessage();if(n0){const i0=this._getMessageSignednessErrors(r0,t0);if(i0){let o0="Signature verification failed.";throw i0.invalid&&(o0+=`
Invalid signature for public key${i0.invalid.length===1?"":"(s)"} [\`${i0.invalid.map(s0=>s0.toBase58()).join("`, `")}\`].`),i0.missing&&(o0+=`
Missing signature for public key${i0.missing.length===1?"":"(s)"} [\`${i0.missing.map(s0=>s0.toBase58()).join("`, `")}\`].`),new Error(o0)}}return this._serialize(r0)}_serialize(r){const{signatures:t0}=this,n0=[];encodeLength(n0,t0.length);const r0=n0.length+t0.length*64+r.length,i0=buffer.Buffer.alloc(r0);return assert(t0.length<256),buffer.Buffer.from(n0).copy(i0,0),t0.forEach(({signature:o0},s0)=>{o0!==null&&(assert(o0.length===64,"signature has invalid length"),buffer.Buffer.from(o0).copy(i0,n0.length+s0*64))}),r.copy(i0,n0.length+t0.length*64),assert(i0.length<=PACKET_DATA_SIZE,`Transaction too large: ${i0.length} > ${PACKET_DATA_SIZE}`),i0}get keys(){return assert(this.instructions.length===1),this.instructions[0].keys.map(r=>r.pubkey)}get programId(){return assert(this.instructions.length===1),this.instructions[0].programId}get data(){return assert(this.instructions.length===1),this.instructions[0].data}static from(r){let t0=[...r];const n0=decodeLength(t0);let r0=[];for(let i0=0;i0<n0;i0++){const o0=guardedSplice(t0,0,SIGNATURE_LENGTH_IN_BYTES);r0.push(bs58$1.encode(buffer.Buffer.from(o0)))}return Transaction.populate(Message.from(t0),r0)}static populate(r,t0=[]){const n0=new Transaction;return n0.recentBlockhash=r.recentBlockhash,r.header.numRequiredSignatures>0&&(n0.feePayer=r.accountKeys[0]),t0.forEach((r0,i0)=>{const o0={signature:r0==bs58$1.encode(DEFAULT_SIGNATURE)?null:bs58$1.decode(r0),publicKey:r.accountKeys[i0]};n0.signatures.push(o0)}),r.instructions.forEach(r0=>{const i0=r0.accounts.map(o0=>{const s0=r.accountKeys[o0];return{pubkey:s0,isSigner:n0.signatures.some(a0=>a0.publicKey.toString()===s0.toString())||r.isAccountSigner(o0),isWritable:r.isAccountWritable(o0)}});n0.instructions.push(new TransactionInstruction({keys:i0,programId:r.accountKeys[r0.programIdIndex],data:bs58$1.decode(r0.data)}))}),n0._message=r,n0._json=n0.toJSON(),n0}}new PublicKey("SysvarC1ock11111111111111111111111111111111");new PublicKey("SysvarEpochSchedu1e111111111111111111111111");new PublicKey("Sysvar1nstructions1111111111111111111111111");new PublicKey("SysvarRecentB1ockHashes11111111111111111111");new PublicKey("SysvarRent111111111111111111111111111111111");new PublicKey("SysvarRewards111111111111111111111111111111");new PublicKey("SysvarS1otHashes111111111111111111111111111");new PublicKey("SysvarS1otHistory11111111111111111111111111");new PublicKey("SysvarStakeHistory1111111111111111111111111");const FeeCalculatorLayout=nu64("lamportsPerSignature"),NonceAccountLayout=struct([u32("version"),u32("state"),publicKey("authorizedPubkey"),publicKey("nonce"),struct([FeeCalculatorLayout],"feeCalculator")]);NonceAccountLayout.span;function u64(e0){const r=blob(8,e0),t0=r.decode.bind(r),n0=r.encode.bind(r),r0=r,i0=getU64Codec();return r0.decode=(o0,s0)=>{const a0=t0(o0,s0);return i0.decode(a0)},r0.encode=(o0,s0,a0)=>{const c0=i0.encode(o0);return n0(c0,s0,a0)},r0}Object.freeze({Create:{index:0,layout:struct([u32("instruction"),ns64("lamports"),ns64("space"),publicKey("programId")])},Assign:{index:1,layout:struct([u32("instruction"),publicKey("programId")])},Transfer:{index:2,layout:struct([u32("instruction"),u64("lamports")])},CreateWithSeed:{index:3,layout:struct([u32("instruction"),publicKey("base"),rustString("seed"),ns64("lamports"),ns64("space"),publicKey("programId")])},AdvanceNonceAccount:{index:4,layout:struct([u32("instruction")])},WithdrawNonceAccount:{index:5,layout:struct([u32("instruction"),ns64("lamports")])},InitializeNonceAccount:{index:6,layout:struct([u32("instruction"),publicKey("authorized")])},AuthorizeNonceAccount:{index:7,layout:struct([u32("instruction"),publicKey("authorized")])},Allocate:{index:8,layout:struct([u32("instruction"),ns64("space")])},AllocateWithSeed:{index:9,layout:struct([u32("instruction"),publicKey("base"),rustString("seed"),ns64("space"),publicKey("programId")])},AssignWithSeed:{index:10,layout:struct([u32("instruction"),publicKey("base"),rustString("seed"),publicKey("programId")])},TransferWithSeed:{index:11,layout:struct([u32("instruction"),u64("lamports"),rustString("seed"),publicKey("programId")])},UpgradeNonceAccount:{index:12,layout:struct([u32("instruction")])}});new PublicKey("11111111111111111111111111111111");new PublicKey("BPFLoader2111111111111111111111111111111111");struct([u32("typeIndex"),u64("deactivationSlot"),nu64("lastExtendedSlot"),u8("lastExtendedStartIndex"),u8(),seq(publicKey(),offset(u8(),-1),"authority")]);const PublicKeyFromString=coerce(instance(PublicKey),string(),e0=>new PublicKey(e0)),RawAccountDataResult=tuple([string(),literal("base64")]),BufferFromRawAccountData=coerce(instance(buffer.Buffer),RawAccountDataResult,e0=>buffer.Buffer.from(e0[0],"base64"));function createRpcResult(e0){return union([type({jsonrpc:literal("2.0"),id:string(),result:e0}),type({jsonrpc:literal("2.0"),id:string(),error:type({code:unknown(),message:string(),data:optional(any())})})])}const UnknownRpcResult=createRpcResult(unknown());function jsonRpcResult(e0){return coerce(createRpcResult(e0),UnknownRpcResult,r=>"error"in r?r:{...r,result:create(r.result,e0)})}function jsonRpcResultAndContext(e0){return jsonRpcResult(type({context:type({slot:number()}),value:e0}))}function notificationResultAndContext(e0){return type({context:type({slot:number()}),value:e0})}const GetInflationGovernorResult=type({foundation:number(),foundationTerm:number(),initial:number(),taper:number(),terminal:number()});jsonRpcResult(array(nullable(type({epoch:number(),effectiveSlot:number(),amount:number(),postBalance:number(),commission:optional(nullable(number()))}))));const GetRecentPrioritizationFeesResult=array(type({slot:number(),prioritizationFee:number()})),GetInflationRateResult=type({total:number(),validator:number(),foundation:number(),epoch:number()}),GetEpochInfoResult=type({epoch:number(),slotIndex:number(),slotsInEpoch:number(),absoluteSlot:number(),blockHeight:optional(number()),transactionCount:optional(number())}),GetEpochScheduleResult=type({slotsPerEpoch:number(),leaderScheduleSlotOffset:number(),warmup:boolean(),firstNormalEpoch:number(),firstNormalSlot:number()}),GetLeaderScheduleResult=record(string(),array(number())),TransactionErrorResult=nullable(union([type({}),string()])),SignatureStatusResult=type({err:TransactionErrorResult}),SignatureReceivedResult=literal("receivedSignature");type({"solana-core":string(),"feature-set":optional(number())});const ParsedInstructionStruct=type({program:string(),programId:PublicKeyFromString,parsed:unknown()}),PartiallyDecodedInstructionStruct=type({programId:PublicKeyFromString,accounts:array(PublicKeyFromString),data:string()});jsonRpcResultAndContext(type({err:nullable(union([type({}),string()])),logs:nullable(array(string())),accounts:optional(nullable(array(nullable(type({executable:boolean(),owner:string(),lamports:number(),data:array(string()),rentEpoch:optional(number())}))))),unitsConsumed:optional(number()),returnData:optional(nullable(type({programId:string(),data:tuple([string(),literal("base64")])}))),innerInstructions:optional(nullable(array(type({index:number(),instructions:array(union([ParsedInstructionStruct,PartiallyDecodedInstructionStruct]))}))))}));jsonRpcResultAndContext(type({byIdentity:record(string(),array(number())),range:type({firstSlot:number(),lastSlot:number()})}));jsonRpcResult(GetInflationGovernorResult);jsonRpcResult(GetInflationRateResult);jsonRpcResult(GetRecentPrioritizationFeesResult);jsonRpcResult(GetEpochInfoResult);jsonRpcResult(GetEpochScheduleResult);jsonRpcResult(GetLeaderScheduleResult);jsonRpcResult(number());jsonRpcResultAndContext(type({total:number(),circulating:number(),nonCirculating:number(),nonCirculatingAccounts:array(PublicKeyFromString)}));const TokenAmountResult=type({amount:string(),uiAmount:nullable(number()),decimals:number(),uiAmountString:optional(string())});jsonRpcResultAndContext(array(type({address:PublicKeyFromString,amount:string(),uiAmount:nullable(number()),decimals:number(),uiAmountString:optional(string())})));jsonRpcResultAndContext(array(type({pubkey:PublicKeyFromString,account:type({executable:boolean(),owner:PublicKeyFromString,lamports:number(),data:BufferFromRawAccountData,rentEpoch:number()})})));const ParsedAccountDataResult=type({program:string(),parsed:unknown(),space:number()});jsonRpcResultAndContext(array(type({pubkey:PublicKeyFromString,account:type({executable:boolean(),owner:PublicKeyFromString,lamports:number(),data:ParsedAccountDataResult,rentEpoch:number()})})));jsonRpcResultAndContext(array(type({lamports:number(),address:PublicKeyFromString})));const AccountInfoResult=type({executable:boolean(),owner:PublicKeyFromString,lamports:number(),data:BufferFromRawAccountData,rentEpoch:number()});type({pubkey:PublicKeyFromString,account:AccountInfoResult});const ParsedOrRawAccountData=coerce(union([instance(buffer.Buffer),ParsedAccountDataResult]),union([RawAccountDataResult,ParsedAccountDataResult]),e0=>Array.isArray(e0)?create(e0,BufferFromRawAccountData):e0),ParsedAccountInfoResult=type({executable:boolean(),owner:PublicKeyFromString,lamports:number(),data:ParsedOrRawAccountData,rentEpoch:number()});type({pubkey:PublicKeyFromString,account:ParsedAccountInfoResult});type({state:union([literal("active"),literal("inactive"),literal("activating"),literal("deactivating")]),active:number(),inactive:number()});jsonRpcResult(array(type({signature:string(),slot:number(),err:TransactionErrorResult,memo:nullable(string()),blockTime:optional(nullable(number()))})));jsonRpcResult(array(type({signature:string(),slot:number(),err:TransactionErrorResult,memo:nullable(string()),blockTime:optional(nullable(number()))})));type({subscription:number(),result:notificationResultAndContext(AccountInfoResult)});const ProgramAccountInfoResult=type({pubkey:PublicKeyFromString,account:AccountInfoResult});type({subscription:number(),result:notificationResultAndContext(ProgramAccountInfoResult)});const SlotInfoResult=type({parent:number(),slot:number(),root:number()});type({subscription:number(),result:SlotInfoResult});const SlotUpdateResult=union([type({type:union([literal("firstShredReceived"),literal("completed"),literal("optimisticConfirmation"),literal("root")]),slot:number(),timestamp:number()}),type({type:literal("createdBank"),parent:number(),slot:number(),timestamp:number()}),type({type:literal("frozen"),slot:number(),timestamp:number(),stats:type({numTransactionEntries:number(),numSuccessfulTransactions:number(),numFailedTransactions:number(),maxTransactionsPerEntry:number()})}),type({type:literal("dead"),slot:number(),timestamp:number(),err:string()})]);type({subscription:number(),result:SlotUpdateResult});type({subscription:number(),result:notificationResultAndContext(union([SignatureStatusResult,SignatureReceivedResult]))});type({subscription:number(),result:number()});type({pubkey:string(),gossip:nullable(string()),tpu:nullable(string()),rpc:nullable(string()),version:nullable(string())});const VoteAccountInfoResult=type({votePubkey:string(),nodePubkey:string(),activatedStake:number(),epochVoteAccount:boolean(),epochCredits:array(tuple([number(),number(),number()])),commission:number(),lastVote:number(),rootSlot:nullable(number())});jsonRpcResult(type({current:array(VoteAccountInfoResult),delinquent:array(VoteAccountInfoResult)}));const ConfirmationStatus=union([literal("processed"),literal("confirmed"),literal("finalized")]),SignatureStatusResponse=type({slot:number(),confirmations:nullable(number()),err:TransactionErrorResult,confirmationStatus:optional(ConfirmationStatus)});jsonRpcResultAndContext(array(nullable(SignatureStatusResponse)));jsonRpcResult(number());const AddressTableLookupStruct=type({accountKey:PublicKeyFromString,writableIndexes:array(number()),readonlyIndexes:array(number())}),ConfirmedTransactionResult=type({signatures:array(string()),message:type({accountKeys:array(string()),header:type({numRequiredSignatures:number(),numReadonlySignedAccounts:number(),numReadonlyUnsignedAccounts:number()}),instructions:array(type({accounts:array(number()),data:string(),programIdIndex:number()})),recentBlockhash:string(),addressTableLookups:optional(array(AddressTableLookupStruct))})}),AnnotatedAccountKey=type({pubkey:PublicKeyFromString,signer:boolean(),writable:boolean(),source:optional(union([literal("transaction"),literal("lookupTable")]))}),ConfirmedTransactionAccountsModeResult=type({accountKeys:array(AnnotatedAccountKey),signatures:array(string())}),ParsedInstructionResult=type({parsed:unknown(),program:string(),programId:PublicKeyFromString}),RawInstructionResult=type({accounts:array(PublicKeyFromString),data:string(),programId:PublicKeyFromString}),InstructionResult=union([RawInstructionResult,ParsedInstructionResult]),UnknownInstructionResult=union([type({parsed:unknown(),program:string(),programId:string()}),type({accounts:array(string()),data:string(),programId:string()})]),ParsedOrRawInstruction=coerce(InstructionResult,UnknownInstructionResult,e0=>"accounts"in e0?create(e0,RawInstructionResult):create(e0,ParsedInstructionResult)),ParsedConfirmedTransactionResult=type({signatures:array(string()),message:type({accountKeys:array(AnnotatedAccountKey),instructions:array(ParsedOrRawInstruction),recentBlockhash:string(),addressTableLookups:optional(nullable(array(AddressTableLookupStruct)))})}),TokenBalanceResult=type({accountIndex:number(),mint:string(),owner:optional(string()),programId:optional(string()),uiTokenAmount:TokenAmountResult}),LoadedAddressesResult=type({writable:array(PublicKeyFromString),readonly:array(PublicKeyFromString)}),ConfirmedTransactionMetaResult=type({err:TransactionErrorResult,fee:number(),innerInstructions:optional(nullable(array(type({index:number(),instructions:array(type({accounts:array(number()),data:string(),programIdIndex:number()}))})))),preBalances:array(number()),postBalances:array(number()),logMessages:optional(nullable(array(string()))),preTokenBalances:optional(nullable(array(TokenBalanceResult))),postTokenBalances:optional(nullable(array(TokenBalanceResult))),loadedAddresses:optional(LoadedAddressesResult),computeUnitsConsumed:optional(number())}),ParsedConfirmedTransactionMetaResult=type({err:TransactionErrorResult,fee:number(),innerInstructions:optional(nullable(array(type({index:number(),instructions:array(ParsedOrRawInstruction)})))),preBalances:array(number()),postBalances:array(number()),logMessages:optional(nullable(array(string()))),preTokenBalances:optional(nullable(array(TokenBalanceResult))),postTokenBalances:optional(nullable(array(TokenBalanceResult))),loadedAddresses:optional(LoadedAddressesResult),computeUnitsConsumed:optional(number())}),TransactionVersionStruct=union([literal(0),literal("legacy")]),RewardsResult=type({pubkey:string(),lamports:number(),postBalance:nullable(number()),rewardType:nullable(string()),commission:optional(nullable(number()))});jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),transactions:array(type({transaction:ConfirmedTransactionResult,meta:nullable(ConfirmedTransactionMetaResult),version:optional(TransactionVersionStruct)})),rewards:optional(array(RewardsResult)),blockTime:nullable(number()),blockHeight:nullable(number())})));jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),rewards:optional(array(RewardsResult)),blockTime:nullable(number()),blockHeight:nullable(number())})));jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),transactions:array(type({transaction:ConfirmedTransactionAccountsModeResult,meta:nullable(ConfirmedTransactionMetaResult),version:optional(TransactionVersionStruct)})),rewards:optional(array(RewardsResult)),blockTime:nullable(number()),blockHeight:nullable(number())})));jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),transactions:array(type({transaction:ParsedConfirmedTransactionResult,meta:nullable(ParsedConfirmedTransactionMetaResult),version:optional(TransactionVersionStruct)})),rewards:optional(array(RewardsResult)),blockTime:nullable(number()),blockHeight:nullable(number())})));jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),transactions:array(type({transaction:ConfirmedTransactionAccountsModeResult,meta:nullable(ParsedConfirmedTransactionMetaResult),version:optional(TransactionVersionStruct)})),rewards:optional(array(RewardsResult)),blockTime:nullable(number()),blockHeight:nullable(number())})));jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),rewards:optional(array(RewardsResult)),blockTime:nullable(number()),blockHeight:nullable(number())})));jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),transactions:array(type({transaction:ConfirmedTransactionResult,meta:nullable(ConfirmedTransactionMetaResult)})),rewards:optional(array(RewardsResult)),blockTime:nullable(number())})));jsonRpcResult(nullable(type({blockhash:string(),previousBlockhash:string(),parentSlot:number(),signatures:array(string()),blockTime:nullable(number())})));jsonRpcResult(nullable(type({slot:number(),meta:nullable(ConfirmedTransactionMetaResult),blockTime:optional(nullable(number())),transaction:ConfirmedTransactionResult,version:optional(TransactionVersionStruct)})));jsonRpcResult(nullable(type({slot:number(),transaction:ParsedConfirmedTransactionResult,meta:nullable(ParsedConfirmedTransactionMetaResult),blockTime:optional(nullable(number())),version:optional(TransactionVersionStruct)})));jsonRpcResultAndContext(type({blockhash:string(),lastValidBlockHeight:number()}));jsonRpcResultAndContext(boolean());const PerfSampleResult=type({slot:number(),numTransactions:number(),numSlots:number(),samplePeriodSecs:number()});jsonRpcResult(array(PerfSampleResult));jsonRpcResultAndContext(nullable(type({feeCalculator:type({lamportsPerSignature:number()})})));jsonRpcResult(string());jsonRpcResult(string());const LogsResult=type({err:TransactionErrorResult,logs:array(string()),signature:string()});type({result:notificationResultAndContext(LogsResult),subscription:number()});Object.freeze({CreateLookupTable:{index:0,layout:struct([u32("instruction"),u64("recentSlot"),u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:struct([u32("instruction")])},ExtendLookupTable:{index:2,layout:struct([u32("instruction"),u64(),seq(publicKey(),offset(u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:struct([u32("instruction")])},CloseLookupTable:{index:4,layout:struct([u32("instruction")])}});new PublicKey("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:struct([u8("instruction"),u32("units"),u32("additionalFee")])},RequestHeapFrame:{index:1,layout:struct([u8("instruction"),u32("bytes")])},SetComputeUnitLimit:{index:2,layout:struct([u8("instruction"),u32("units")])},SetComputeUnitPrice:{index:3,layout:struct([u8("instruction"),u64("microLamports")])}});new PublicKey("ComputeBudget111111111111111111111111111111");struct([u8("numSignatures"),u8("padding"),u16("signatureOffset"),u16("signatureInstructionIndex"),u16("publicKeyOffset"),u16("publicKeyInstructionIndex"),u16("messageDataOffset"),u16("messageDataSize"),u16("messageInstructionIndex")]);new PublicKey("Ed25519SigVerify111111111111111111111111111");secp256k1.utils.isValidPrivateKey;struct([u8("numSignatures"),u16("signatureOffset"),u8("signatureInstructionIndex"),u16("ethAddressOffset"),u8("ethAddressInstructionIndex"),u16("messageDataOffset"),u16("messageDataSize"),u8("messageInstructionIndex"),blob(20,"ethAddress"),blob(64,"signature"),u8("recoveryId")]);new PublicKey("KeccakSecp256k11111111111111111111111111111");var _Lockup;new PublicKey("StakeConfig11111111111111111111111111111111");class Lockup{constructor(r,t0,n0){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=r,this.epoch=t0,this.custodian=n0}}_Lockup=Lockup;Lockup.default=new _Lockup(0,0,PublicKey.default);Object.freeze({Initialize:{index:0,layout:struct([u32("instruction"),authorized(),lockup()])},Authorize:{index:1,layout:struct([u32("instruction"),publicKey("newAuthorized"),u32("stakeAuthorizationType")])},Delegate:{index:2,layout:struct([u32("instruction")])},Split:{index:3,layout:struct([u32("instruction"),ns64("lamports")])},Withdraw:{index:4,layout:struct([u32("instruction"),ns64("lamports")])},Deactivate:{index:5,layout:struct([u32("instruction")])},Merge:{index:7,layout:struct([u32("instruction")])},AuthorizeWithSeed:{index:8,layout:struct([u32("instruction"),publicKey("newAuthorized"),u32("stakeAuthorizationType"),rustString("authoritySeed"),publicKey("authorityOwner")])}});new PublicKey("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:struct([u32("instruction"),voteInit()])},Authorize:{index:1,layout:struct([u32("instruction"),publicKey("newAuthorized"),u32("voteAuthorizationType")])},Withdraw:{index:3,layout:struct([u32("instruction"),ns64("lamports")])},UpdateValidatorIdentity:{index:4,layout:struct([u32("instruction")])},AuthorizeWithSeed:{index:10,layout:struct([u32("instruction"),voteAuthorizeWithSeedArgs()])}});new PublicKey("Vote111111111111111111111111111111111111111");new PublicKey("Va1idator1nfo111111111111111111111111111111");type({name:string(),website:optional(string()),details:optional(string()),iconUrl:optional(string()),keybaseUsername:optional(string())});new PublicKey("Vote111111111111111111111111111111111111111");struct([publicKey("nodePubkey"),publicKey("authorizedWithdrawer"),u8("commission"),nu64(),seq(struct([nu64("slot"),u32("confirmationCount")]),offset(u32(),-8),"votes"),u8("rootSlotValid"),nu64("rootSlot"),nu64(),seq(struct([nu64("epoch"),publicKey("authorizedVoter")]),offset(u32(),-8),"authorizedVoters"),struct([seq(struct([publicKey("authorizedPubkey"),nu64("epochOfLastAuthorizedSwitch"),nu64("targetEpoch")]),32,"buf"),nu64("idx"),u8("isEmpty")],"priorVoters"),nu64(),seq(struct([nu64("epoch"),nu64("credits"),nu64("prevCredits")]),offset(u32(),-8),"epochCredits"),struct([nu64("slot"),nu64("timestamp")],"lastTimestamp")]);class J extends starknet.WalletAccount{constructor(t0,n0,r0,i0,o0,s0){super({nodeUrl:n0},t0);$g(this,"address");$g(this,"keychain");$g(this,"modal");$g(this,"options");this.address=r0,this.keychain=i0,this.options=o0,this.modal=s0}async execute(t0){return t0=s(t0),new Promise(async(n0,r0)=>{const i0=await this.keychain.execute(t0,void 0,void 0,!1,this.options?.feeSource);if(i0.code===d$2.SUCCESS){n0(i0);return}if(this.options?.propagateSessionErrors&&i0.code!==d$2.USER_INTERACTION_REQUIRED){r0(i0.error);return}this.modal.open();const o0=await this.keychain.execute(t0,void 0,void 0,!0,i0.error);if(o0.code===d$2.SUCCESS){n0(o0),this.modal.close();return}r0(o0.error)})}async signMessage(t0){return new Promise(async(n0,r0)=>{const i0=await this.keychain.signMessage(t0,"",!0);if(!("code"in i0)){n0(i0);return}this.modal.open();const o0=await this.keychain.signMessage(t0,"",!1);"code"in o0?r0(o0.error):n0(o0),this.modal.close()})}}var A;(function(e0){e0.Call="call",e0.Reply="reply",e0.Syn="syn",e0.SynAck="synAck",e0.Ack="ack"})(A||(A={}));var R;(function(e0){e0.Fulfilled="fulfilled",e0.Rejected="rejected"})(R||(R={}));var T;(function(e0){e0.ConnectionDestroyed="ConnectionDestroyed",e0.ConnectionTimeout="ConnectionTimeout",e0.NoIframeSrc="NoIframeSrc"})(T||(T={}));var H;(function(e0){e0.DataCloneError="DataCloneError"})(H||(H={}));var I;(function(e0){e0.Message="message"})(I||(I={}));const Qe=(e0,r)=>{const t0=[];let n0=!1;return{destroy(r0){n0||(n0=!0,r(`${e0}: Destroying connection`),t0.forEach(i0=>{i0(r0)}))},onDestroy(r0){n0?r0():t0.push(r0)}}},We=e0=>(...r)=>{e0&&console.log("[Penpal]",...r)},$e={"http:":"80","https:":"443"},He=/^(https?:)?\/\/([^/:]+)?(:(\d+))?/,Ye=["file:","data:"],qe=e0=>{if(e0&&Ye.find(s0=>e0.startsWith(s0)))return"null";const r=document.location,t0=He.exec(e0);let n0,r0,i0;t0?(n0=t0[1]?t0[1]:r.protocol,r0=t0[2],i0=t0[4]):(n0=r.protocol,r0=r.hostname,i0=r.port);const o0=i0&&i0!==$e[n0]?`:${i0}`:"";return`${n0}//${r0}${o0}`},X=({name:e0,message:r,stack:t0})=>({name:e0,message:r,stack:t0}),Ke=e0=>{const r=new Error;return Object.keys(e0).forEach(t0=>r[t0]=e0[t0]),r},Ve=(e0,r,t0)=>{const{localName:n0,local:r0,remote:i0,originForSending:o0,originForReceiving:s0}=e0;let a0=!1;const c0=l0=>{if(l0.source!==i0||l0.data.penpal!==A.Call)return;if(s0!=="*"&&l0.origin!==s0){t0(`${n0} received message from origin ${l0.origin} which did not match expected origin ${s0}`);return}const u0=l0.data,{methodName:h0,args:g0,id:w0}=u0;t0(`${n0}: Received ${h0}() call`);const m0=S0=>b0=>{if(t0(`${n0}: Sending ${h0}() reply`),a0){t0(`${n0}: Unable to send ${h0}() reply due to destroyed connection`);return}const T0={penpal:A.Reply,id:w0,resolution:S0,returnValue:b0};S0===R.Rejected&&b0 instanceof Error&&(T0.returnValue=X(b0),T0.returnValueIsError=!0);try{i0.postMessage(T0,o0)}catch(N0){if(N0.name===H.DataCloneError){const x0={penpal:A.Reply,id:w0,resolution:R.Rejected,returnValue:X(N0),returnValueIsError:!0};i0.postMessage(x0,o0)}throw N0}};new Promise(S0=>S0(r[h0].call(r,l0.origin).apply(r,g0))).then(m0(R.Fulfilled),m0(R.Rejected))};return r0.addEventListener(I.Message,c0),()=>{a0=!0,r0.removeEventListener(I.Message,c0)}};let Ge=0;const Je=()=>++Ge,he=".",ue=e0=>e0?e0.split(he):[],Xe=e0=>e0.join(he),Ze=(e0,r)=>{const t0=ue(r||"");return t0.push(e0),Xe(t0)},et=(e0,r,t0)=>{const n0=ue(r);return n0.reduce((r0,i0,o0)=>(typeof r0[i0]>"u"&&(r0[i0]={}),o0===n0.length-1&&(r0[i0]=t0),r0[i0]),e0),e0},fe=(e0,r)=>{const t0={};return Object.keys(e0).forEach(n0=>{const r0=e0[n0],i0=Ze(n0,r);typeof r0=="object"&&Object.assign(t0,fe(r0,i0)),typeof r0=="function"&&(t0[i0]=r0)}),t0},tt=e0=>{const r={};for(const t0 in e0)et(r,t0,e0[t0]);return r},nt=(e0,r,t0,n0,r0)=>{const{localName:i0,local:o0,remote:s0,originForSending:a0,originForReceiving:c0}=r;let l0=!1;r0(`${i0}: Connecting call sender`);const u0=g0=>(...w0)=>{r0(`${i0}: Sending ${g0}() call`);let m0;try{s0.closed&&(m0=!0)}catch{m0=!0}if(m0&&n0(),l0){const S0=new Error(`Unable to send ${g0}() call due to destroyed connection`);throw S0.code=T.ConnectionDestroyed,S0}return new Promise((S0,b0)=>{const T0=Je(),N0=k0=>{if(k0.source!==s0||k0.data.penpal!==A.Reply||k0.data.id!==T0)return;if(c0!=="*"&&k0.origin!==c0){r0(`${i0} received message from origin ${k0.origin} which did not match expected origin ${c0}`);return}const B0=k0.data;r0(`${i0}: Received ${g0}() reply`),o0.removeEventListener(I.Message,N0);let H0=B0.returnValue;B0.returnValueIsError&&(H0=Ke(H0)),(B0.resolution===R.Fulfilled?S0:b0)(H0)};o0.addEventListener(I.Message,N0);const x0={penpal:A.Call,id:T0,methodName:g0,args:w0};s0.postMessage(x0,a0)})},h0=t0.reduce((g0,w0)=>(g0[w0]=u0(w0),g0),{});return Object.assign(e0,tt(h0)),()=>{l0=!0}},rt=(e0,r,t0,n0,r0)=>{const{destroy:i0,onDestroy:o0}=n0;let s0,a0;const c0={};return l0=>{if(r!=="*"&&l0.origin!==r){r0(`Parent: Handshake - Received ACK message from origin ${l0.origin} which did not match expected origin ${r}`);return}r0("Parent: Handshake - Received ACK");const u0={localName:"Parent",local:window,remote:l0.source,originForSending:t0,originForReceiving:r};s0&&s0(),s0=Ve(u0,e0,r0),o0(s0),a0&&a0.forEach(g0=>{delete c0[g0]}),a0=l0.data.methodNames;const h0=nt(c0,u0,a0,i0,r0);return o0(h0),c0}},ot=(e0,r,t0,n0)=>r0=>{if(!r0.source)return;if(t0!=="*"&&r0.origin!==t0){e0(`Parent: Handshake - Received SYN message from origin ${r0.origin} which did not match expected origin ${t0}`);return}e0("Parent: Handshake - Received SYN, responding with SYN-ACK");const i0={penpal:A.SynAck,methodNames:Object.keys(r)};r0.source.postMessage(i0,n0)},at=6e4,it=(e0,r)=>{const{destroy:t0,onDestroy:n0}=r,r0=setInterval(()=>{e0.isConnected||(clearInterval(r0),t0())},at);n0(()=>{clearInterval(r0)})},st=(e0,r)=>{let t0;return e0!==void 0&&(t0=window.setTimeout(()=>{const n0=new Error(`Connection timed out after ${e0}ms`);n0.code=T.ConnectionTimeout,r(n0)},e0)),()=>{clearTimeout(t0)}},ct=e0=>{if(!e0.src&&!e0.srcdoc){const r=new Error("Iframe must have src or srcdoc property defined.");throw r.code=T.NoIframeSrc,r}},dt=e0=>{let{iframe:r,methods:t0={},childOrigin:n0,timeout:r0,debug:i0=!1}=e0;const o0=We(i0),s0=Qe("Parent",o0),{onDestroy:a0,destroy:c0}=s0;n0||(ct(r),n0=qe(r.src));const l0=n0==="null"?"*":n0,u0=fe(t0),h0=ot(o0,u0,n0,l0),g0=rt(u0,n0,l0,s0,o0);return{promise:new Promise((w0,m0)=>{const S0=st(r0,c0),b0=T0=>{if(!(T0.source!==r.contentWindow||!T0.data)){if(T0.data.penpal===A.Syn){h0(T0);return}if(T0.data.penpal===A.Ack){const N0=g0(T0);N0&&(S0(),w0(N0));return}}};window.addEventListener(I.Message,b0),o0("Parent: Awaiting handshake"),it(r,s0),a0(T0=>{window.removeEventListener(I.Message,b0),T0&&m0(T0)})}),destroy(){c0()}}};class be{constructor({id:r,url:t0,preset:n0,onClose:r0,onConnect:i0,methods:o0={}}){$g(this,"url");$g(this,"iframe");$g(this,"container");$g(this,"onClose");if(typeof document>"u")return;n0&&t0.searchParams.set("preset",n0),this.url=t0;const s0=document.createElement("iframe");s0.src=t0.toString(),s0.id=r,s0.style.border="none",s0.sandbox.add("allow-forms"),s0.sandbox.add("allow-popups"),s0.sandbox.add("allow-popups-to-escape-sandbox"),s0.sandbox.add("allow-scripts"),s0.sandbox.add("allow-same-origin"),s0.allow="publickey-credentials-create *; publickey-credentials-get *; clipboard-write",document.hasStorageAccess&&s0.sandbox.add("allow-storage-access-by-user-activation");const a0=document.createElement("div");a0.id="controller",a0.style.position="fixed",a0.style.height="100%",a0.style.width="100%",a0.style.top="0",a0.style.left="0",a0.style.zIndex="10000",a0.style.backgroundColor="rgba(0,0,0,0.6)",a0.style.display="flex",a0.style.alignItems="center",a0.style.justifyContent="center",a0.style.visibility="hidden",a0.style.opacity="0",a0.style.transition="opacity 0.2s ease",a0.style.pointerEvents="auto",a0.appendChild(s0),this.iframe=s0,this.container=a0,dt({iframe:this.iframe,methods:{close:u0=>()=>this.close(),closeAll:u0=>()=>{document.querySelectorAll('iframe[id^="controller-"]').forEach(h0=>{const g0=h0.parentElement;g0&&(g0.style.visibility="hidden",g0.style.opacity="0")}),document.body.style.overflow="auto"},reload:u0=>()=>window.location.reload(),...o0}}).promise.then(i0),this.resize(),window.addEventListener("resize",()=>this.resize());const c0=new MutationObserver(()=>{const u0=document.getElementById("controller");document.body&&(r==="controller-keychain"&&!u0||r==="controller-profile")&&(document.body.appendChild(a0),c0.disconnect())});c0.observe(document.documentElement,{childList:!0,subtree:!0});const l0=document.getElementById("controller");document.body&&(r==="controller-keychain"&&!l0||r==="controller-profile")&&document.body.appendChild(a0),this.onClose=r0}open(){this.container&&(document.body.style.overflow="hidden",this.container.style.visibility="visible",this.container.style.opacity="1")}close(){this.container&&(this.onClose?.(),document.body.style.overflow="auto",this.container.style.visibility="hidden",this.container.style.opacity="0")}sendBackward(){this.container&&(this.container.style.zIndex="9999")}sendForward(){this.container&&(this.container.style.zIndex="10000")}resize(){if(this.iframe){if(this.iframe.style.userSelect="none",window.innerWidth<768){this.iframe.style.height="100%",this.iframe.style.width="100%",this.iframe.style.borderRadius="0";return}this.iframe.style.height="600px",this.iframe.style.width="432px",this.iframe.style.borderRadius="8px"}}}class pt{constructor(){$g(this,"type","argent");$g(this,"platform","starknet");$g(this,"wallet");$g(this,"account");$g(this,"connectedAccounts",[])}isAvailable(){return typeof window<"u"&&!!window.starknet_argentX}getInfo(){const r=this.isAvailable();return{type:this.type,available:r,version:r?window.starknet_argentX?.version||"Unknown":void 0,chainId:r?window.starknet_argentX?.chainId:void 0,name:"Argent",platform:this.platform}}async connect(){if(this.account)return{success:!0,wallet:this.type,account:this.account};try{if(!this.isAvailable())throw new Error("Argent is not available");const{wallet:r,connectorData:t0}=await It$1({connectors:[new T$3({options:{id:"argentX"}})]});if(!r)throw new Error("No wallet found");return this.wallet=r,this.account=t0?.account,{success:!0,wallet:this.type,account:this.account}}catch(r){return console.error("Error connecting to Argent:",r),{success:!1,wallet:this.type,error:r.message||"Unknown error"}}}getConnectedAccounts(){return this.connectedAccounts}async signTypedData(r){try{if(!this.isAvailable()||!this.wallet)throw new Error("Argent is not connected");const t0=await this.wallet.request({type:"wallet_signTypedData",params:r});return{success:!0,wallet:this.type,result:t0}}catch(t0){return console.error("Error signing typed data with Argent:",t0),{success:!1,wallet:this.type,error:t0.message||"Unknown error"}}}async sendTransaction(r){return{success:!1,wallet:this.type,error:"Not implemented"}}async switchChain(r){return console.warn("Chain switching for Argent may require custom implementation"),!1}async getBalance(r){try{if(!this.isAvailable()||!this.wallet)throw new Error("Argent is not connected");return{success:!0,wallet:this.type,result:"Implement based on Argent API"}}catch(t0){return console.error("Error getting balance from Argent:",t0),{success:!1,wallet:this.type,error:t0.message||"Unknown error"}}}}function lt(e0){if(typeof window>"u")return;const r=t0=>e0(t0.detail);return window.addEventListener("eip6963:announceProvider",r),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",r)}function ye(){const e0=new Set;let r=[];const t0=()=>lt(r0=>{r.some(({info:i0})=>i0.uuid===r0.info.uuid)||(r=[...r,r0],e0.forEach(i0=>i0(r,{added:[r0]})))});let n0=t0();return{_listeners(){return e0},clear(){e0.forEach(r0=>r0([],{removed:[...r]})),r=[]},destroy(){this.clear(),e0.clear(),n0?.()},findProvider({rdns:r0}){return r.find(i0=>i0.info.rdns===r0)},getProviders(){return r},reset(){this.clear(),n0?.(),n0=t0()},subscribe(r0,{emitImmediately:i0}={}){return e0.add(r0),i0&&r0(r,{added:r}),()=>e0.delete(r0)}}}class gt{constructor(){$g(this,"type","metamask");$g(this,"platform","ethereum");$g(this,"MMSDK");$g(this,"store",ye());$g(this,"account");$g(this,"connectedAccounts",[]);this.MMSDK=new tf({dappMetadata:{name:"Cartridge Controller",url:window.location.href}}),this.isAvailable()&&this.MMSDK.sdkInitPromise?.then(()=>{this.MMSDK.getProvider()?.request({method:"eth_accounts"}).then(r=>{r&&r.length>0&&(this.account=r[0],this.connectedAccounts=r)}),this.MMSDK.getProvider()?.on("accountsChanged",r=>{Array.isArray(r)&&(this.account=r?.[0],this.connectedAccounts=r)})})}isAvailable(){return typeof window<"u"&&this.store.getProviders().some(r=>r.info.rdns==="io.metamask")}getInfo(){const r=this.isAvailable();return{type:this.type,available:r,version:r?window.ethereum?.version||"Unknown":void 0,chainId:r?window.ethereum?.chainId:void 0,name:"MetaMask",platform:this.platform,connectedAccounts:this.connectedAccounts}}async connect(r){if(r&&this.connectedAccounts.includes(r)&&(this.account=r),this.account)return{success:!0,wallet:this.type,account:this.account};try{if(!this.isAvailable())throw new Error("MetaMask is not available");const t0=await this.MMSDK.connect();if(t0&&t0.length>0)return this.account=t0[0],this.connectedAccounts=t0,{success:!0,wallet:this.type,account:this.account};throw new Error("No accounts found")}catch(t0){return console.error("Error connecting to MetaMask:",t0),{success:!1,wallet:this.type,error:t0.message||"Unknown error"}}}getConnectedAccounts(){return this.connectedAccounts}async signTransaction(r){try{if(!this.isAvailable()||!this.account)throw new Error("MetaMask is not connected");const t0=this.MMSDK.getProvider();if(!t0)throw new Error("MetaMask is not connected");const n0=await t0.request({method:"eth_sendTransaction",params:[r]});return{success:!0,wallet:this.type,result:n0}}catch(t0){return console.error("Error signing transaction with MetaMask:",t0),{success:!1,wallet:this.type,error:t0.message||"Unknown error"}}}async signMessage(r){try{if(!this.isAvailable()||!this.account)throw new Error("MetaMask is not connected");const t0=await this.MMSDK.getProvider()?.request({method:"personal_sign",params:[this.account,r]});return{success:!0,wallet:this.type,result:t0}}catch(t0){return console.error("Error signing message with MetaMask:",t0),{success:!1,wallet:this.type,error:t0.message||"Unknown error"}}}async signTypedData(r){try{if(!this.isAvailable()||!this.account)throw new Error("MetaMask is not connected");const t0=this.MMSDK.getProvider();if(!t0)throw new Error("MetaMask is not connected");const n0=await t0.request({method:"eth_signTypedData_v4",params:[this.account,JSON.stringify(r)]});return{success:!0,wallet:this.type,result:n0}}catch(t0){return console.error("Error signing typed data with MetaMask:",t0),{success:!1,wallet:this.type,error:t0.message||"Unknown error"}}}async sendTransaction(r){return{success:!1,wallet:this.type,error:"Not implemented"}}async switchChain(r){try{if(!this.isAvailable())throw new Error("MetaMask is not available");const t0=this.MMSDK.getProvider();if(!t0)throw new Error("MetaMask is not connected");try{return await t0.request({method:"wallet_switchEthereumChain",params:[{chainId:r}]}),!0}catch(n0){throw n0.code===4902&&console.warn("Chain not added to MetaMask"),n0}}catch(t0){return console.error("Error switching chain for MetaMask:",t0),!1}}async getBalance(r){try{if(!this.isAvailable()||!this.account)throw new Error("MetaMask is not connected");if(r)return{success:!1,wallet:this.type,error:"Not implemented for ERC20"};{const t0=this.MMSDK.getProvider();if(!t0)throw new Error("MetaMask is not connected");const n0=await t0.request({method:"eth_getBalance",params:[this.account,"latest"]});return{success:!0,wallet:this.type,result:n0}}}catch(t0){return console.error("Error getting balance from MetaMask:",t0),{success:!1,wallet:this.type,error:t0.message||"Unknown error"}}}}class mt{constructor(){$g(this,"type","phantom");$g(this,"platform","solana");$g(this,"account");$g(this,"connectedAccounts",[])}getProvider(){if(typeof window>"u")throw new Error("Not ready");const r=window.solana;if(!r?.isPhantom)throw new Error("Phantom is not available");return r}isAvailable(){return typeof window<"u"&&!!window.solana?.isPhantom}getInfo(){const r=this.isAvailable();return{type:this.type,available:r,version:"Unknown",name:"Phantom",platform:this.platform}}async connect(){if(this.account)return{success:!0,wallet:this.type,account:this.account};try{if(!this.isAvailable())throw new Error("Phantom is not available");const r=await this.getProvider().connect();if(r.publicKey)return this.account=r.publicKey.toString(),{success:!0,wallet:this.type,account:this.account};throw new Error("No accounts found")}catch(r){return console.error("Error connecting to Phantom:",r),{success:!1,wallet:this.type,error:r.message||"Unknown error"}}}getConnectedAccounts(){return this.connectedAccounts}async signMessage(r){try{if(!this.isAvailable()||!this.account)throw new Error("Phantom is not connected");const t0=new TextEncoder().encode(r),n0=await this.getProvider().signMessage(t0,"utf8");return{success:!0,wallet:this.type,result:n0}}catch(t0){return console.error("Error signing message with Phantom:",t0),{success:!1,wallet:this.type,error:t0.message||"Unknown error"}}}async sendTransaction(r){if(!this.isAvailable()||!this.account)throw new Error("Phantom is not connected");try{const t0=Transaction.from(r),n0=await this.getProvider().signAndSendTransaction(t0);return{success:!0,wallet:this.type,result:n0}}catch(t0){return console.error("Error sending transaction with Phantom:",t0),{success:!1,wallet:this.type,error:t0.message||"Unknown error"}}}async switchChain(r){return console.warn("Chain switching not supported for Phantom"),!1}async getBalance(r){try{if(!this.isAvailable()||!this.account)throw new Error("Phantom is not connected");return{success:!0,wallet:this.type,result:"Implement based on Phantom API"}}catch(t0){return console.error("Error getting balance from Phantom:",t0),{success:!1,wallet:this.type,error:t0.message||"Unknown error"}}}}const ht="io.rabby";class ut{constructor(){$g(this,"type","rabby");$g(this,"platform","ethereum");$g(this,"account");$g(this,"store",ye());$g(this,"provider");$g(this,"connectedAccounts",[]);this.provider=this.store.getProviders().find(r=>r.info.rdns===ht),this.provider?.provider.request({method:"eth_accounts"}).then(r=>{this.connectedAccounts=r}),this.provider?.provider?.on("accountsChanged",r=>{r&&(this.connectedAccounts=r.map(t0=>t0.toLowerCase()),this.account=r?.[0]?.toLowerCase())})}isAvailable(){return!!this.provider}getInfo(){const r=this.isAvailable();return{type:this.type,available:r,version:r?window.ethereum?.version||"Unknown":void 0,chainId:r?window.ethereum?.chainId:void 0,name:"Rabby",platform:this.platform,connectedAccounts:this.connectedAccounts}}async connect(r){if(r&&this.connectedAccounts.includes(r.toLowerCase())&&(this.account=r.toLowerCase()),this.account)return{success:!0,wallet:this.type,account:this.account};try{if(!this.isAvailable())throw new Error("Rabby is not available");const t0=await this.provider?.provider.request({method:"eth_requestAccounts"});if(t0&&t0.length>0)return this.account=t0[0],this.connectedAccounts=t0,{success:!0,wallet:this.type,account:this.account};throw new Error("No accounts found")}catch(t0){return console.error("Error connecting to Rabby:",t0),{success:!1,wallet:this.type,error:t0.message||"Unknown error"}}}getConnectedAccounts(){return this.connectedAccounts}async signTransaction(r){try{if(!this.isAvailable()||!this.account)throw new Error("Rabby is not connected");const t0=this.provider?.provider;if(!t0)throw new Error("Rabby is not connected");const n0=await t0.request({method:"eth_sendTransaction",params:[r]});return{success:!0,wallet:this.type,result:n0}}catch(t0){return console.error("Error signing transaction with Rabby:",t0),{success:!1,wallet:this.type,error:t0.message||"Unknown error"}}}async signMessage(r){try{if(!this.isAvailable()||!this.account)throw new Error("Rabby is not connected");const t0=await this.provider?.provider.request({method:"personal_sign",params:[this.account,r]});return{success:!0,wallet:this.type,result:t0}}catch(t0){return console.error("Error signing message with Rabby:",t0),{success:!1,wallet:this.type,error:t0.message||"Unknown error"}}}async signTypedData(r){try{if(!this.isAvailable()||!this.account)throw new Error("Rabby is not connected");const t0=this.provider?.provider;if(!t0)throw new Error("Rabby is not connected");const n0=await t0.request({method:"eth_signTypedData_v4",params:[this.account,JSON.stringify(r)]});return{success:!0,wallet:this.type,result:n0}}catch(t0){return console.error("Error signing typed data with Rabby:",t0),{success:!1,wallet:this.type,error:t0.message||"Unknown error"}}}async sendTransaction(r){return{success:!1,wallet:this.type,error:"Not implemented"}}async switchChain(r){try{if(!this.isAvailable())throw new Error("Rabby is not available");const t0=this.provider?.provider;if(!t0)throw new Error("Rabby is not connected");try{return await t0.request({method:"wallet_switchEthereumChain",params:[{chainId:r}]}),!0}catch(n0){throw n0.code===4902&&console.warn("Chain not added to Rabby"),n0}}catch(t0){return console.error("Error switching chain for Rabby:",t0),!1}}async getBalance(r){try{if(!this.isAvailable()||!this.account)throw new Error("Rabby is not connected");if(r)return{success:!1,wallet:this.type,error:"Not implemented for ERC20"};{const t0=this.provider?.provider;if(!t0)throw new Error("Rabby is not connected");const n0=await t0.request({method:"eth_getBalance",params:[this.account,"latest"]});return{success:!0,wallet:this.type,result:n0}}}catch(t0){return console.error("Error getting balance from Rabby:",t0),{success:!1,wallet:this.type,error:t0.message||"Unknown error"}}}}class ft{constructor(){$g(this,"walletAdapters");this.walletAdapters=new Map;const r=new gt;r.isAvailable()&&this.walletAdapters.set("metamask",r);const t0=new mt;t0.isAvailable()&&this.walletAdapters.set("phantom",t0);const n0=new pt;n0.isAvailable()&&this.walletAdapters.set("argent",n0);const r0=new ut;r0.isAvailable()&&this.walletAdapters.set("rabby",r0),typeof window<"u"&&(window.wallet_bridge=this)}getIFrameMethods(){return{externalDetectWallets:r=>()=>this.detectWallets(),externalConnectWallet:r=>(t0,n0)=>this.connectWallet(t0,n0),externalSignMessage:r=>(t0,n0)=>this.signMessage(t0,n0),externalSignTypedData:r=>(t0,n0)=>this.signTypedData(t0,n0),externalSendTransaction:r=>(t0,n0)=>this.sendTransaction(t0,n0),externalGetBalance:r=>(t0,n0)=>this.getBalance(t0,n0)}}async detectWallets(){return Array.from(this.walletAdapters.values()).map(r=>r.getInfo())}getWalletAdapterByType(r){const t0=this.walletAdapters.get(r);if(!t0)throw new Error(`Unsupported wallet type: ${r}`);return t0}handleError(r,t0,n0,r0){const i0=t0 instanceof Error?t0.message:"Unknown error";let o0="unknown";if(typeof r=="string"){const s0=this.getConnectedWalletAdapter(r);o0=r0??s0?.type??r}else o0=r;return console.error(`Error ${n0} with ${r} wallet:`,t0),{success:!1,wallet:o0,error:i0}}async connectWallet(r,t0){try{const n0=await this.getWalletAdapterByType(r).connect(t0);if(n0.success&&n0.account)console.log(`Wallet ${r} connected with address ${n0.account}`);else if(n0.success&&!n0.account)return console.error(`Wallet ${r} connected successfully but did not provide an address.`),{...n0,success:!1,error:"Wallet connected but address not found."};return n0}catch(n0){return this.handleError(r,n0,"connecting to")}}getConnectedWalletAdapter(r){let t0;if(typeof r=="string"?t0=this.walletAdapters.values().find(n0=>n0.getConnectedAccounts().includes(r.toLowerCase())):t0=this.walletAdapters.get(r),!t0&&typeof r=="string"&&(t0=this.walletAdapters.values().find(n0=>n0.getConnectedAccounts().includes(r.toLowerCase()))),!t0)throw new Error(`Wallet with identifier ${r} is not connected or supported`);return t0}async signMessage(r,t0){let n0;try{if(n0=this.getConnectedWalletAdapter(r),!n0.signMessage)throw new Error(`Wallet type ${n0.type} (identifier: ${r}) does not support signing messages`);return await n0.signMessage(t0)}catch(r0){return this.handleError(r,r0,"signing message with",n0?.type)}}async signTypedData(r,t0){let n0;try{if(n0=this.getConnectedWalletAdapter(r),!n0.signTypedData)throw new Error(`Wallet type ${n0.type} (identifier: ${r}) does not support signing typed data`);return await n0.signTypedData(t0)}catch(r0){return this.handleError(r,r0,"signing typed data with",n0?.type)}}async sendTransaction(r,t0){let n0;try{return n0=this.getConnectedWalletAdapter(r),await n0.sendTransaction(t0)}catch(r0){return this.handleError(r,r0,"sending transaction with",n0?.type)}}async getBalance(r,t0){let n0;try{return n0=this.getConnectedWalletAdapter(r),await n0.getBalance(t0)}catch(r0){return this.handleError(r,r0,"getting balance from",n0?.type)}}}class bt extends be{constructor({url:t0,policies:n0,...r0}){const i0=new URL(t0??Z$4),o0=new ft;n0&&i0.searchParams.set("policies",encodeURIComponent(JSON.stringify(n0)));super({...r0,id:"controller-keychain",url:i0,methods:o0.getIFrameMethods()});$g(this,"walletBridge");this.walletBridge=o0,typeof window<"u"&&(window.external_wallets=this.walletBridge)}getWalletBridge(){return this.walletBridge}}class yt extends be{constructor({profileUrl:r,rpcUrl:t0,version:n0,username:r0,slot:i0,namespace:o0,tokens:s0,policies:a0,...c0}){const l0=(r||f$3).replace(/\/$/,"");let u0=new URL(i0?`${l0}/account/${r0}/slot/${i0}`:`${l0}/account/${r0}`);if(i0&&u0.searchParams.set("ps",encodeURIComponent(i0)),o0&&u0.searchParams.set("ns",encodeURIComponent(o0)),n0&&u0.searchParams.set("v",encodeURIComponent(n0)),u0.searchParams.set("rpcUrl",encodeURIComponent(t0)),s0?.erc20&&u0.searchParams.set("erc20",encodeURIComponent(s0.erc20.toString())),a0?.contracts){const h0=Object.values(a0.contracts).flatMap(g0=>g0.methods);u0.searchParams.set("methods",encodeURIComponent(JSON.stringify(h0)))}super({...c0,id:"controller-profile",url:u0})}}class an extends _$6{constructor(t0){super();$g(this,"keychain");$g(this,"profile");$g(this,"options");$g(this,"iframes");$g(this,"selectedChain");$g(this,"chains");this.selectedChain=t0.defaultChainId,this.chains=new Map,this.iframes={keychain:new bt({...t0,onClose:this.keychain?.reset,onConnect:n0=>{this.keychain=n0}})},this.options=t0,this.validateChains(t0.chains),typeof window<"u"&&(window.starknet_controller=this)}async probe(){try{if(await this.waitForKeychain(),!this.keychain){console.error(new o$1().message);return}const t0=await this.keychain.probe(this.rpcUrl());let n0=t0?.rpcUrl||this.rpcUrl();this.account=new J(this,n0,t0.address,this.keychain,this.options,this.iframes.keychain)}catch(t0){console.error(t0);return}if(!this.iframes.profile){const t0=await this.keychain.username();this.iframes.profile=new yt({...this.options,onConnect:n0=>{this.profile=n0},methods:{openSettings:()=>this.openSettings.bind(this),openPurchaseCredits:()=>this.openPurchaseCredits.bind(this),openExecute:()=>this.openExecute.bind(this)},rpcUrl:this.rpcUrl(),username:t0,version:this.version})}return this.account}async connect(){if(this.account)return this.account;if(!this.keychain||!this.iframes.keychain){console.error(new o$1().message);return}document.hasStorageAccess&&(await document.hasStorageAccess()||await document.requestStorageAccess()),this.iframes.keychain.open();try{let t0=await this.keychain.connect(this.options.policies||{},this.rpcUrl());if(t0.code!==d$2.SUCCESS)throw new Error(t0.message);return t0=t0,this.account=new J(this,this.rpcUrl(),t0.address,this.keychain,this.options,this.iframes.keychain),this.account}catch(t0){console.log(t0)}finally{this.iframes.keychain.close()}}async switchStarknetChain(t0){if(!this.keychain||!this.iframes.keychain)return console.error(new o$1().message),!1;try{if(this.selectedChain=t0,(await this.keychain.probe(this.rpcUrl())).rpcUrl===this.rpcUrl())return!0;await this.keychain.switchChain(this.rpcUrl()),await this.profile?.switchChain(this.rpcUrl())}catch(n0){return console.error(n0),!1}return this.emitNetworkChanged(t0),!0}addStarknetChain(t0){return Promise.resolve(!0)}async disconnect(){if(!this.keychain){console.error(new o$1().message);return}return document.hasStorageAccess&&(await document.hasStorageAccess()||await document.requestStorageAccess()),this.account=void 0,this.keychain.disconnect()}async openProfile(t0="inventory"){if(!this.profile||!this.iframes.profile?.url){console.error("Profile is not ready");return}if(!this.account){console.error("Account is not ready");return}this.profile.navigate(`${this.iframes.profile.url?.pathname}/${t0}`),this.iframes.profile.open()}async openProfileTo(t0){if(!this.profile||!this.iframes.profile?.url){console.error("Profile is not ready");return}if(!this.account){console.error("Account is not ready");return}this.profile.navigate(`${this.iframes.profile.url?.pathname}/${t0}`),this.iframes.profile.open()}async openProfileAt(t0){if(!this.profile||!this.iframes.profile?.url){console.error("Profile is not ready");return}if(!this.account){console.error("Account is not ready");return}this.profile.navigate(t0),this.iframes.profile.open()}async openSettings(){if(!this.keychain||!this.iframes.keychain)return console.error(new o$1().message),null;this.iframes.profile?.sendBackward?this.iframes.profile?.sendBackward():this.iframes.profile?.close(),this.iframes.keychain.open();const t0=await this.keychain.openSettings();return this.iframes.keychain.close(),this.iframes.profile?.sendForward?.(),!(t0&&t0.code===d$2.NOT_CONNECTED)}revoke(t0,n0){return this.keychain?this.keychain.revoke(t0):(console.error(new o$1().message),null)}rpcUrl(){const t0=this.chains.get(this.selectedChain);if(!t0){const n0=Array.from(this.chains.keys()).map(r0=>starknet.shortString.decodeShortString(r0));throw new Error(`Chain not found: ${starknet.shortString.decodeShortString(this.selectedChain)}. Available chains: ${n0.join(", ")}`)}return t0.rpcUrl}username(){if(!this.keychain){console.error(new o$1().message);return}return this.keychain.username()}openPurchaseCredits(){if(!this.keychain||!this.iframes.keychain){console.error(new o$1().message);return}if(!this.iframes.profile){console.error("Profile is not ready");return}this.iframes.profile.close(),this.iframes.keychain.open(),this.keychain.openPurchaseCredits()}openStarterPack(t0){if(!this.keychain||!this.iframes.keychain){console.error(new o$1().message);return}if(!this.iframes.profile){console.error("Profile is not ready");return}this.iframes.profile.close(),this.iframes.keychain.open(),this.keychain.openStarterPack(t0)}async openExecute(t0,n0){if(!this.keychain||!this.iframes.keychain){console.error(new o$1().message);return}if(!this.iframes.profile){console.error("Profile is not ready");return}let r0=this.selectedChain;n0&&this.switchStarknetChain(n0),this.iframes.profile?.sendBackward(),this.iframes.keychain.open(),this.iframes.profile?.close();const i0=await this.keychain.execute(t0,void 0,void 0,!0);return this.iframes.profile?.open(),this.iframes.keychain.close(),this.iframes.profile?.sendForward(),n0&&this.switchStarknetChain(r0),{status:!(i0&&(i0.code===d$2.NOT_CONNECTED||i0.code===d$2.CANCELED)),transactionHash:i0?.transaction_hash}}async delegateAccount(){return this.keychain?await this.keychain.delegateAccount():(console.error(new o$1().message),null)}async validateChains(t0){for(const n0 of t0)try{const r0=new URL(n0.rpcUrl),i0=await b$2(r0);this.chains.set(i0,n0)}catch(r0){console.error(`Failed to parse chainId for ${n0.rpcUrl}:`,r0)}this.chains.has(this.selectedChain)||console.warn(`Selected chain ${this.selectedChain} not found in configured chains. Available chains: ${Array.from(this.chains.keys()).join(", ")}`)}waitForKeychain({timeout:t0=5e4,interval:n0=100}={}){return new Promise((r0,i0)=>{const o0=Date.now(),s0=setInterval(()=>{if(Date.now()-o0>t0){clearInterval(s0),i0(new Error("Timeout waiting for keychain"));return}this.keychain&&(clearInterval(s0),r0())},n0)})}}const wt="6.13.7";function Z(e0,r,t0){for(let n0 in r){let r0=r[n0];Object.defineProperty(e0,n0,{enumerable:!0,value:r0,writable:!1})}}function N(e0){if(e0==null)return"null";if(Array.isArray(e0))return"[ "+e0.map(N).join(", ")+" ]";if(e0 instanceof Uint8Array){const r="0123456789abcdef";let t0="0x";for(let n0=0;n0<e0.length;n0++)t0+=r[e0[n0]>>4],t0+=r[e0[n0]&15];return t0}if(typeof e0=="object"&&typeof e0.toJSON=="function")return N(e0.toJSON());switch(typeof e0){case"boolean":case"symbol":return e0.toString();case"bigint":return BigInt(e0).toString();case"number":return e0.toString();case"string":return JSON.stringify(e0);case"object":{const r=Object.keys(e0);return r.sort(),"{ "+r.map(t0=>`${N(t0)}: ${N(e0[t0])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function vt(e0,r,t0){let n0=e0;{const i0=[];if(t0){if("message"in t0||"code"in t0||"name"in t0)throw new Error(`value will overwrite populated values: ${N(t0)}`);for(const o0 in t0){if(o0==="shortMessage")continue;const s0=t0[o0];i0.push(o0+"="+N(s0))}}i0.push(`code=${r}`),i0.push(`version=${wt}`),i0.length&&(e0+=" ("+i0.join(", ")+")")}let r0;switch(r){case"INVALID_ARGUMENT":r0=new TypeError(e0);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":r0=new RangeError(e0);break;default:r0=new Error(e0)}return Z(r0,{code:r}),t0&&Object.assign(r0,t0),r0.shortMessage==null&&Z(r0,{shortMessage:n0}),r0}function F(e0,r,t0,n0){if(!e0)throw vt(r,t0,n0)}function h(e0,r,t0,n0){F(e0,r,"INVALID_ARGUMENT",{argument:t0,value:n0})}["NFD","NFC","NFKD","NFKC"].reduce((e0,r)=>{try{if("test".normalize(r)!=="test")throw new Error("bad");if(r==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");e0.push(r)}catch{}return e0},[]);function At(e0,r,t0){if(e0 instanceof Uint8Array)return e0;if(typeof e0=="string"&&e0.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const n0=new Uint8Array((e0.length-2)/2);let r0=2;for(let i0=0;i0<n0.length;i0++)n0[i0]=parseInt(e0.substring(r0,r0+2),16),r0+=2;return n0}h(!1,"invalid BytesLike value",r||"value",e0)}function _(e0,r){return At(e0,r)}const ee="0123456789abcdef";function v(e0){const r=_(e0);let t0="0x";for(let n0=0;n0<r.length;n0++){const r0=r[n0];t0+=ee[(r0&240)>>4]+ee[r0&15]}return t0}BigInt(0);BigInt(1);function ne(e0){if(!Number.isSafeInteger(e0)||e0<0)throw new Error(`Wrong positive integer: ${e0}`)}function _e(e0,...r){if(!(e0 instanceof Uint8Array))throw new Error("Expected Uint8Array");if(r.length>0&&!r.includes(e0.length))throw new Error(`Expected Uint8Array of length ${r}, not of length=${e0.length}`)}function re(e0,r=!0){if(e0.destroyed)throw new Error("Hash instance has been destroyed");if(r&&e0.finished)throw new Error("Hash#digest() has already been called")}function Et(e0,r){_e(e0);const t0=r.outputLen;if(e0.length<t0)throw new Error(`digestInto() expects output buffer of length at least ${t0}`)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Rt=e0=>e0 instanceof Uint8Array,St=e0=>new Uint32Array(e0.buffer,e0.byteOffset,Math.floor(e0.byteLength/4)),Pt=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Pt)throw new Error("Non little-endian hardware is not supported");function Mt(e0){if(typeof e0!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e0}`);return new Uint8Array(new TextEncoder().encode(e0))}function Ae(e0){if(typeof e0=="string"&&(e0=Mt(e0)),!Rt(e0))throw new Error(`expected Uint8Array, got ${typeof e0}`);return e0}class Nt{clone(){return this._cloneInto()}}function Dt(e0){const r=n0=>e0().update(Ae(n0)).digest(),t0=e0();return r.outputLen=t0.outputLen,r.blockLen=t0.blockLen,r.create=()=>e0(),r}const U=BigInt(2**32-1),oe=BigInt(32);function Bt(e0,r=!1){return r?{h:Number(e0&U),l:Number(e0>>oe&U)}:{h:Number(e0>>oe&U)|0,l:Number(e0&U)|0}}function zt(e0,r=!1){let t0=new Uint32Array(e0.length),n0=new Uint32Array(e0.length);for(let r0=0;r0<e0.length;r0++){const{h:i0,l:o0}=Bt(e0[r0],r);[t0[r0],n0[r0]]=[i0,o0]}return[t0,n0]}const Tt=(e0,r,t0)=>e0<<t0|r>>>32-t0,jt=(e0,r,t0)=>r<<t0|e0>>>32-t0,Ut=(e0,r,t0)=>r<<t0-32|e0>>>64-t0,Lt=(e0,r,t0)=>e0<<t0-32|r>>>64-t0,[ke,Ce,Ie]=[[],[],[]],Ot=BigInt(0),B=BigInt(1),Ft=BigInt(2),Qt=BigInt(7),Wt=BigInt(256),$t=BigInt(113);for(let e0=0,r=B,t0=1,n0=0;e0<24;e0++){[t0,n0]=[n0,(2*t0+3*n0)%5],ke.push(2*(5*n0+t0)),Ce.push((e0+1)*(e0+2)/2%64);let r0=Ot;for(let i0=0;i0<7;i0++)r=(r<<B^(r>>Qt)*$t)%Wt,r&Ft&&(r0^=B<<(B<<BigInt(i0))-B);Ie.push(r0)}const[Ht,Yt]=zt(Ie,!0),ae=(e0,r,t0)=>t0>32?Ut(e0,r,t0):Tt(e0,r,t0),ie=(e0,r,t0)=>t0>32?Lt(e0,r,t0):jt(e0,r,t0);function qt(e0,r=24){const t0=new Uint32Array(10);for(let n0=24-r;n0<24;n0++){for(let o0=0;o0<10;o0++)t0[o0]=e0[o0]^e0[o0+10]^e0[o0+20]^e0[o0+30]^e0[o0+40];for(let o0=0;o0<10;o0+=2){const s0=(o0+8)%10,a0=(o0+2)%10,c0=t0[a0],l0=t0[a0+1],u0=ae(c0,l0,1)^t0[s0],h0=ie(c0,l0,1)^t0[s0+1];for(let g0=0;g0<50;g0+=10)e0[o0+g0]^=u0,e0[o0+g0+1]^=h0}let r0=e0[2],i0=e0[3];for(let o0=0;o0<24;o0++){const s0=Ce[o0],a0=ae(r0,i0,s0),c0=ie(r0,i0,s0),l0=ke[o0];r0=e0[l0],i0=e0[l0+1],e0[l0]=a0,e0[l0+1]=c0}for(let o0=0;o0<50;o0+=10){for(let s0=0;s0<10;s0++)t0[s0]=e0[o0+s0];for(let s0=0;s0<10;s0++)e0[o0+s0]^=~t0[(s0+2)%10]&t0[(s0+4)%10]}e0[0]^=Ht[n0],e0[1]^=Yt[n0]}t0.fill(0)}class V extends Nt{constructor(r,t0,n0,r0=!1,i0=24){if(super(),this.blockLen=r,this.suffix=t0,this.outputLen=n0,this.enableXOF=r0,this.rounds=i0,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,ne(n0),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=St(this.state)}keccak(){qt(this.state32,this.rounds),this.posOut=0,this.pos=0}update(r){re(this);const{blockLen:t0,state:n0}=this;r=Ae(r);const r0=r.length;for(let i0=0;i0<r0;){const o0=Math.min(t0-this.pos,r0-i0);for(let s0=0;s0<o0;s0++)n0[this.pos++]^=r[i0++];this.pos===t0&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:r,suffix:t0,pos:n0,blockLen:r0}=this;r[n0]^=t0,t0&128&&n0===r0-1&&this.keccak(),r[r0-1]^=128,this.keccak()}writeInto(r){re(this,!1),_e(r),this.finish();const t0=this.state,{blockLen:n0}=this;for(let r0=0,i0=r.length;r0<i0;){this.posOut>=n0&&this.keccak();const o0=Math.min(n0-this.posOut,i0-r0);r.set(t0.subarray(this.posOut,this.posOut+o0),r0),this.posOut+=o0,r0+=o0}return r}xofInto(r){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(r)}xof(r){return ne(r),this.xofInto(new Uint8Array(r))}digestInto(r){if(Et(r,this),this.finished)throw new Error("digest() was already called");return this.writeInto(r),this.destroy(),r}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(r){const{blockLen:t0,suffix:n0,outputLen:r0,rounds:i0,enableXOF:o0}=this;return r||(r=new V(t0,n0,r0,o0,i0)),r.state32.set(this.state32),r.pos=this.pos,r.posOut=this.posOut,r.finished=this.finished,r.rounds=i0,r.suffix=n0,r.outputLen=r0,r.enableXOF=o0,r.destroyed=this.destroyed,r}}const Kt=(e0,r,t0)=>Dt(()=>new V(r,e0,t0)),Vt=Kt(1,136,256/8);let xe=!1;const Ee=function(e0){return Vt(e0)};let Re=Ee;function j(e0){const r=_(e0,"data");return v(Re(r))}j._=Ee;j.lock=function(){xe=!0};j.register=function(e0){if(xe)throw new TypeError("keccak256 is locked");Re=e0};Object.freeze(j);BigInt(0);BigInt(1);BigInt(2);BigInt(27);BigInt(28);BigInt(35);const CONTROLLER_ICON="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAwIiBoZWlnaHQ9IjgwMCIgdmlld0JveD0iMCAwIDgwMCA4MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxnIGZpbHRlcj0idXJsKCNmaWx0ZXIwX2RfNTExMl83ODIpIj4KPHBhdGggZD0iTTQ2OS4yMzYgNzBDNDgyLjM5IDcwIDQ5My4wNTMgODAuNjYzIDQ5My4wNTMgOTMuODE2NFYxNDcuMTQ3TDUxNS4zMzggMTQ3LjE0N0w1MTUuNDI4IDE0Ny4xNDdMNTE1LjU1NCAxNDcuMTQ3TDUxNS44MjYgMTQ3LjE0OUM1MTYuMDE2IDE0Ny4xNTEgNTE2LjIyNSAxNDcuMTUzIDUxNi40NTEgMTQ3LjE1N0M1MTYuOTA0IDE0Ny4xNjQgNTE3LjQyOCAxNDcuMTc2IDUxOC4wMiAxNDcuMTk1QzUxOS4yMDEgMTQ3LjIzNCA1MjAuNjYgMTQ3LjMwNCA1MjIuMzYxIDE0Ny40MjRDNTI1Ljc0MSAxNDcuNjYzIDUzMC4xODUgMTQ4LjExNCA1MzUuMzYzIDE0OC45NjlDNTQ1LjAwMSAxNTAuNTYyIDU1OC41NTYgMTUzLjc4IDU3Mi45MTggMTYwLjYwM0w3MzAuNDIgMjI2LjY3MUw3MzIuMTAxIDIyNy41MDVDNzcxLjc4NyAyNDcuMTc3IDc4OS45OTMgMjg2LjI5NiA3ODkuOTkzIDMyMi4wMzZWNTg1Ljg2NUM3ODkuOTkzIDU4Ni4wNTQgNzg5Ljk5NCA1ODYuMjU0IDc4OS45OTQgNTg2LjQ2M0w3ODkuOTk2IDU4Ni45MTNDNzkwLjAzOCA1OTcuMDk2IDc5MC4xNjEgNjI2Ljk5NiA3NjQuMjMxIDY1Mi44MjNMNzE0Ljc2IDcwMi4wOTVMNzE0LjY0MSA3MDIuMjE1QzcwNC42MDEgNzEyLjI3NSA2OTIuMTIzIDcyMC42NTIgNjc2LjI4NCA3MjQuODc5QzY2NC4zOSA3MjguMDU0IDY1Mi44MjcgNzI3Ljk2NiA2NDguNjM3IDcyNy45MzRMNjQ4LjYxOSA3MjcuOTMzQzY0OC40MDkgNzI3LjkzMiA2NDguMjE5IDcyNy45MyA2NDguMDQ3IDcyNy45M0w2NDcuNzUyIDcyNy45MjlINDgwLjcyMUM0NzQuMDk0IDcyNy45MjkgNDY4LjcyMSA3MjIuNTU2IDQ2OC43MjEgNzE1LjkyOVY2NjguMzg4SDMyOC41ODZDMzI4LjU4NiA2NzIuNjI5IDMyOC41NzIgNjk4LjA1MiAzMjguNTYxIDcxNS45NDRDMzI4LjU1NyA3MjIuNTY5IDMyMy4xODYgNzI3LjkyOSAzMTYuNTYxIDcyNy45MjlIMTUyLjI0NkMxNTIuMTA0IDcyNy45MjkgMTUxLjk0MiA3MjcuOTI5IDE1MS43NjIgNzI3LjkzMUwxNTEuMzYyIDcyNy45MzRDMTQ3LjE3MiA3MjcuOTY2IDEzNS42MDkgNzI4LjA1NCAxMjMuNzE0IDcyNC44NzlDMTA3Ljg3MyA3MjAuNjUxIDk1LjM5MzggNzEyLjI3MiA4NS4zNTI5IDcwMi4yMUw4NS4yMzg2IDcwMi4wOTVMMzUuNjcgNjUyLjcyNUwzNS41NzIzIDY1Mi42MjdDOS44NjI0MiA2MjYuNzggOS45NjY3IDU5Ny4xODUgMTAuMDAzIDU4Ni44NzRDMTAuMDA0MyA1ODYuNTEzIDEwLjAwNTUgNTg2LjE3NyAxMC4wMDU1IDU4NS44NjVWMzIyLjAzNkMxMC4wMDU1IDI4Ni40MyAyOC4xNjYyIDI0Ny4xOTkgNjcuODk3NyAyMjcuNTA1TDY5LjU3OSAyMjYuNjcxTDIyNy4wODEgMTYwLjYwM0MyNDEuNDQzIDE1My43OCAyNTQuOTk4IDE1MC41NjIgMjY0LjYzNiAxNDguOTY5QzI2OS44MTQgMTQ4LjExNCAyNzQuMjU4IDE0Ny42NjMgMjc3LjYzOCAxNDcuNDI0QzI3OS4zMzggMTQ3LjMwNCAyODAuNzk4IDE0Ny4yMzQgMjgxLjk3OSAxNDcuMTk1QzI4Mi41NzEgMTQ3LjE3NiAyODMuMDk1IDE0Ny4xNjQgMjgzLjU0NyAxNDcuMTU3TDI4My45MTcgMTQ3LjE1MkwyODQuMTczIDE0Ny4xNDlMMjg0LjQ0NSAxNDcuMTQ3TDI4NC41NzEgMTQ3LjE0N0wyODQuNjYgMTQ3LjE0N0wzMDYuOTQyIDE0Ny4xNDdWOTMuODE2NEMzMDYuOTQyIDgwLjY2MyAzMTcuNjA1IDcwIDMzMC43NTggNzBINDY5LjIzNloiIGZpbGw9IiMxOTFBMUEiLz4KPHBhdGggZD0iTTM2Ni40ODMgMTI5LjU0SDQzMy41MTJWMjA2LjY4N0gzNjYuNDgzVjEyOS41NFoiIGZpbGw9IiNGQkNCNEEiLz4KPHBhdGggZD0iTTI2OS4wMSA2MDIuNDI5SDE0NC4wMDhDMTM1Ljc2OCA2MDIuNDI5IDEzNS43NjggNTk0LjE0NiAxMzUuNzY4IDU5NC4xNDZWMjgwLjg1QzEzNS43NjggMjgwLjg1IDEzNS43NjggMjcyLjY0NCAxNDQuMDA4IDI3Mi42NDRIMzY2LjQ4M0wzNjYuNDgzIDIwNi42ODdIMjg0LjY5QzI4NC42OSAyMDYuNjg3IDI2OC4xMzQgMjA2LjY4NyAyNTEuNTc5IDIxNC44OTNMOTQuMzQxNCAyODAuODVDNzcuNzg2MSAyODkuMDU3IDY5LjU0NjkgMzA1LjYyMyA2OS41NDY5IDMyMi4wMzVWNTg1Ljg2M0M2OS41NDY5IDU5NC4xNDcgNjkuNTQ2OSA2MDIuMzUzIDc3Ljc4NjEgNjEwLjYzNkwxMjcuNDUyIDY2MC4xMDRDMTM1LjY5MSA2NjguMzg3IDE0MS45MjggNjY4LjM4NyAxNTIuMjQ3IDY2OC4zODdIMjY5LjAyOUMyNjkuMDM3IDY0OC4zNCAyNjkuMDQ2IDYyNC42NTUgMjY5LjA1NCA2MDIuODg3SDUyOC4wMTNWNjY4LjM4N0g2NDcuNzUzQzY1OC4wNzEgNjY4LjM4NyA2NjQuMzA4IDY2OC4zODcgNjcyLjU0NyA2NjAuMTA0TDcyMi4yMTMgNjEwLjYzNkM3MzAuNDUzIDYwMi40MjkgNzMwLjQ1MyA1OTQuMTQ3IDczMC40NTMgNTg1Ljg2M1YzMjIuMDM1QzczMC40NTMgMzA1LjU0NiA3MjIuMjEzIDI4OS4wNTcgNzA1LjY1OCAyODAuODVMNTQ4LjQyMSAyMTQuODkzQzUzMS44NjUgMjA2LjY4NyA1MTUuMzEgMjA2LjY4NyA1MTUuMzEgMjA2LjY4N0g0MzMuNTEyTDQzMy41MTIgMjcyLjY0NEg2NTYuMDY5QzY2NC4zMDggMjcyLjY0NCA2NjQuMzA4IDI4MC44NSA2NjQuMzA4IDI4MC44NVY1OTQuMTQ2QzY2NC4zMDggNTk0LjE0NiA2NjQuMzA4IDYwMi40MjkgNjU2LjA2OSA2MDIuNDI5SDUyOC4yNjJWNTM3LjM5NkgyNjkuMDc1QzI2OS4wNzUgNTQzLjcwNyAyNjkuMDE3IDU5Ni45MTIgMjY5LjAxIDYwMi40MjlaIiBmaWxsPSIjRkJDQjRBIi8+CjxwYXRoIGQ9Ik0yNjkuMDA5IDQzNi4xNzJINTI4LjI2MlYzNzAuNjgxSDI2OS4wNzVDMjY5LjA3NSAzNzcuMzczIDI2OS4wMDkgNDM2Ljc4OCAyNjkuMDA5IDQzNi4xNzJaIiBmaWxsPSIjRkJDQjRBIi8+CjwvZz4KPGRlZnM+CjxmaWx0ZXIgaWQ9ImZpbHRlcjBfZF81MTEyXzc4MiIgeD0iLTQiIHk9IjAiIHdpZHRoPSI4MDgiIGhlaWdodD0iODA4IiBmaWx0ZXJVbml0cz0idXNlclNwYWNlT25Vc2UiIGNvbG9yLWludGVycG9sYXRpb24tZmlsdGVycz0ic1JHQiI+CjxmZUZsb29kIGZsb29kLW9wYWNpdHk9IjAiIHJlc3VsdD0iQmFja2dyb3VuZEltYWdlRml4Ii8+CjxmZUNvbG9yTWF0cml4IGluPSJTb3VyY2VBbHBoYSIgdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDEyNyAwIiByZXN1bHQ9ImhhcmRBbHBoYSIvPgo8ZmVPZmZzZXQgZHk9IjQiLz4KPGZlR2F1c3NpYW5CbHVyIHN0ZERldmlhdGlvbj0iMiIvPgo8ZmVDb21wb3NpdGUgaW4yPSJoYXJkQWxwaGEiIG9wZXJhdG9yPSJvdXQiLz4KPGZlQ29sb3JNYXRyaXggdHlwZT0ibWF0cml4IiB2YWx1ZXM9IjAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAgMCAwIDAuMjUgMCIvPgo8ZmVCbGVuZCBtb2RlPSJub3JtYWwiIGluMj0iQmFja2dyb3VuZEltYWdlRml4IiByZXN1bHQ9ImVmZmVjdDFfZHJvcFNoYWRvd181MTEyXzc4MiIvPgo8ZmVCbGVuZCBtb2RlPSJub3JtYWwiIGluPSJTb3VyY2VHcmFwaGljIiBpbjI9ImVmZmVjdDFfZHJvcFNoYWRvd181MTEyXzc4MiIgcmVzdWx0PSJzaGFwZSIvPgo8L2ZpbHRlcj4KPC9kZWZzPgo8L3N2Zz4K",RPC_SEPOLIA="https://api.cartridge.gg/x/starknet/sepolia",RPC_MAINNET="https://api.cartridge.gg/x/starknet/mainnet",RPC_URLS={[starknet.constants.StarknetChainId.SN_SEPOLIA]:RPC_SEPOLIA,[starknet.constants.StarknetChainId.SN_MAIN]:RPC_MAINNET};class ControllerConnector extends connector.Connector{constructor(t0={}){super();$g(this,"controller");t0.defaultChainId=t0.defaultChainId||starknet.constants.StarknetChainId.SN_MAIN,t0.chains=t0.chains||[{rpcUrl:RPC_URLS[t0.defaultChainId]}],this.controller=this.available()?new an(t0):null}get id(){return"cartridgeController"}get name(){return"Cartridge Controller"}get icon(){return{light:CONTROLLER_ICON,dark:CONTROLLER_ICON}}available(){return typeof window<"u"}async ready(){return this.controller?await this.controller.probe()!==null:!1}async connect(t0){if(!this.controller)throw new connector.ConnectorNotConnectedError;const n0=await this.controller.connect();if(!n0)throw new connector.UserNotConnectedError;const r0=await this.chainId();return this.emit("connect",{account:n0.address,chainId:r0}),{account:n0.address,chainId:r0}}async disconnect(){if(!this.controller)throw new connector.ConnectorNotConnectedError;return this.emit("disconnect"),this.controller.disconnect()}async account(t0){if(!this.controller)throw new connector.ConnectorNotConnectedError;const n0=await this.controller.probe();if(!n0)throw new connector.UserNotConnectedError;return n0}async chainId(){if(!this.controller)throw new connector.ConnectorNotConnectedError;const t0=await this.controller.probe();if(!t0)throw new connector.UserNotConnectedError;return BigInt(await t0.getChainId())}async request(t0){if(!this.controller)throw new connector.ConnectorNotConnectedError;if(t0.type==="wallet_signTypedData"&&!t0.params.types.StarknetDomain)throw new Error("Controller requires a SNIP-12 version 1 domain separator. See: https://github.com/starknet-io/SNIPs/blob/main/SNIPS/snip-12.md#domain-separator");try{return await this.controller.request(t0)}catch{throw new connector.UserRejectedRequestError}}get wallet(){if(!this.controller)throw new connector.ConnectorNotConnectedError;return this.controller}}exports.A=A$2;exports.ControllerConnector=ControllerConnector;exports.L=L$5;exports.S=S$3;exports.p=p$2;
